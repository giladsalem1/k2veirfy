var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
function _mergeNamespaces(n2, m2) {
  m2.forEach(function(e) {
    e && typeof e !== "string" && !Array.isArray(e) && Object.keys(e).forEach(function(k3) {
      if (k3 !== "default" && !(k3 in n2)) {
        var d2 = Object.getOwnPropertyDescriptor(e, k3);
        Object.defineProperty(n2, k3, d2.get ? d2 : {
          enumerable: true,
          get: function() {
            return e[k3];
          }
        });
      }
    });
  });
  return Object.freeze(Object.defineProperty(n2, Symbol.toStringTag, { value: "Module" }));
}
const p$4 = function polyfill() {
  const relList = document.createElement("link").relList;
  if (relList && relList.supports && relList.supports("modulepreload")) {
    return;
  }
  for (const link of document.querySelectorAll('link[rel="modulepreload"]')) {
    processPreload(link);
  }
  new MutationObserver((mutations) => {
    for (const mutation of mutations) {
      if (mutation.type !== "childList") {
        continue;
      }
      for (const node of mutation.addedNodes) {
        if (node.tagName === "LINK" && node.rel === "modulepreload")
          processPreload(node);
      }
    }
  }).observe(document, { childList: true, subtree: true });
  function getFetchOpts(script) {
    const fetchOpts = {};
    if (script.integrity)
      fetchOpts.integrity = script.integrity;
    if (script.referrerpolicy)
      fetchOpts.referrerPolicy = script.referrerpolicy;
    if (script.crossorigin === "use-credentials")
      fetchOpts.credentials = "include";
    else if (script.crossorigin === "anonymous")
      fetchOpts.credentials = "omit";
    else
      fetchOpts.credentials = "same-origin";
    return fetchOpts;
  }
  function processPreload(link) {
    if (link.ep)
      return;
    link.ep = true;
    const fetchOpts = getFetchOpts(link);
    fetch(link.href, fetchOpts);
  }
};
p$4();
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
function getDefaultExportFromCjs(x2) {
  return x2 && x2.__esModule && Object.prototype.hasOwnProperty.call(x2, "default") ? x2["default"] : x2;
}
function getDefaultExportFromNamespaceIfPresent(n2) {
  return n2 && Object.prototype.hasOwnProperty.call(n2, "default") ? n2["default"] : n2;
}
function getDefaultExportFromNamespaceIfNotNamed(n2) {
  return n2 && Object.prototype.hasOwnProperty.call(n2, "default") && Object.keys(n2).length === 1 ? n2["default"] : n2;
}
function getAugmentedNamespace(n2) {
  if (n2.__esModule)
    return n2;
  var a2 = Object.defineProperty({}, "__esModule", { value: true });
  Object.keys(n2).forEach(function(k3) {
    var d2 = Object.getOwnPropertyDescriptor(n2, k3);
    Object.defineProperty(a2, k3, d2.get ? d2 : {
      enumerable: true,
      get: function() {
        return n2[k3];
      }
    });
  });
  return a2;
}
function commonjsRequire(path) {
  throw new Error('Could not dynamically require "' + path + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var react = { exports: {} };
var react_production_min = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";
var l$2 = Symbol.for("react.element"), n$1 = Symbol.for("react.portal"), p$3 = Symbol.for("react.fragment"), q$2 = Symbol.for("react.strict_mode"), r$1 = Symbol.for("react.profiler"), t = Symbol.for("react.provider"), u$1 = Symbol.for("react.context"), v$2 = Symbol.for("react.forward_ref"), w$1 = Symbol.for("react.suspense"), x$2 = Symbol.for("react.memo"), y$1 = Symbol.for("react.lazy"), z$2 = Symbol.iterator;
function A$2(a2) {
  if (null === a2 || "object" !== typeof a2)
    return null;
  a2 = z$2 && a2[z$2] || a2["@@iterator"];
  return "function" === typeof a2 ? a2 : null;
}
var B$2 = { isMounted: function() {
  return false;
}, enqueueForceUpdate: function() {
}, enqueueReplaceState: function() {
}, enqueueSetState: function() {
} }, C$2 = Object.assign, D$2 = {};
function E$2(a2, b3, e) {
  this.props = a2;
  this.context = b3;
  this.refs = D$2;
  this.updater = e || B$2;
}
E$2.prototype.isReactComponent = {};
E$2.prototype.setState = function(a2, b3) {
  if ("object" !== typeof a2 && "function" !== typeof a2 && null != a2)
    throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
  this.updater.enqueueSetState(this, a2, b3, "setState");
};
E$2.prototype.forceUpdate = function(a2) {
  this.updater.enqueueForceUpdate(this, a2, "forceUpdate");
};
function F$1() {
}
F$1.prototype = E$2.prototype;
function G$2(a2, b3, e) {
  this.props = a2;
  this.context = b3;
  this.refs = D$2;
  this.updater = e || B$2;
}
var H$2 = G$2.prototype = new F$1();
H$2.constructor = G$2;
C$2(H$2, E$2.prototype);
H$2.isPureReactComponent = true;
var I$2 = Array.isArray, J$1 = Object.prototype.hasOwnProperty, K$2 = { current: null }, L$2 = { key: true, ref: true, __self: true, __source: true };
function M$2(a2, b3, e) {
  var d2, c2 = {}, k3 = null, h2 = null;
  if (null != b3)
    for (d2 in void 0 !== b3.ref && (h2 = b3.ref), void 0 !== b3.key && (k3 = "" + b3.key), b3)
      J$1.call(b3, d2) && !L$2.hasOwnProperty(d2) && (c2[d2] = b3[d2]);
  var g2 = arguments.length - 2;
  if (1 === g2)
    c2.children = e;
  else if (1 < g2) {
    for (var f2 = Array(g2), m2 = 0; m2 < g2; m2++)
      f2[m2] = arguments[m2 + 2];
    c2.children = f2;
  }
  if (a2 && a2.defaultProps)
    for (d2 in g2 = a2.defaultProps, g2)
      void 0 === c2[d2] && (c2[d2] = g2[d2]);
  return { $$typeof: l$2, type: a2, key: k3, ref: h2, props: c2, _owner: K$2.current };
}
function N$2(a2, b3) {
  return { $$typeof: l$2, type: a2.type, key: b3, ref: a2.ref, props: a2.props, _owner: a2._owner };
}
function O$2(a2) {
  return "object" === typeof a2 && null !== a2 && a2.$$typeof === l$2;
}
function escape(a2) {
  var b3 = { "=": "=0", ":": "=2" };
  return "$" + a2.replace(/[=:]/g, function(a3) {
    return b3[a3];
  });
}
var P$2 = /\/+/g;
function Q$2(a2, b3) {
  return "object" === typeof a2 && null !== a2 && null != a2.key ? escape("" + a2.key) : b3.toString(36);
}
function R$2(a2, b3, e, d2, c2) {
  var k3 = typeof a2;
  if ("undefined" === k3 || "boolean" === k3)
    a2 = null;
  var h2 = false;
  if (null === a2)
    h2 = true;
  else
    switch (k3) {
      case "string":
      case "number":
        h2 = true;
        break;
      case "object":
        switch (a2.$$typeof) {
          case l$2:
          case n$1:
            h2 = true;
        }
    }
  if (h2)
    return h2 = a2, c2 = c2(h2), a2 = "" === d2 ? "." + Q$2(h2, 0) : d2, I$2(c2) ? (e = "", null != a2 && (e = a2.replace(P$2, "$&/") + "/"), R$2(c2, b3, e, "", function(a3) {
      return a3;
    })) : null != c2 && (O$2(c2) && (c2 = N$2(c2, e + (!c2.key || h2 && h2.key === c2.key ? "" : ("" + c2.key).replace(P$2, "$&/") + "/") + a2)), b3.push(c2)), 1;
  h2 = 0;
  d2 = "" === d2 ? "." : d2 + ":";
  if (I$2(a2))
    for (var g2 = 0; g2 < a2.length; g2++) {
      k3 = a2[g2];
      var f2 = d2 + Q$2(k3, g2);
      h2 += R$2(k3, b3, e, f2, c2);
    }
  else if (f2 = A$2(a2), "function" === typeof f2)
    for (a2 = f2.call(a2), g2 = 0; !(k3 = a2.next()).done; )
      k3 = k3.value, f2 = d2 + Q$2(k3, g2++), h2 += R$2(k3, b3, e, f2, c2);
  else if ("object" === k3)
    throw b3 = String(a2), Error("Objects are not valid as a React child (found: " + ("[object Object]" === b3 ? "object with keys {" + Object.keys(a2).join(", ") + "}" : b3) + "). If you meant to render a collection of children, use an array instead.");
  return h2;
}
function S$2(a2, b3, e) {
  if (null == a2)
    return a2;
  var d2 = [], c2 = 0;
  R$2(a2, d2, "", "", function(a3) {
    return b3.call(e, a3, c2++);
  });
  return d2;
}
function T$2(a2) {
  if (-1 === a2._status) {
    var b3 = a2._result;
    b3 = b3();
    b3.then(function(b5) {
      if (0 === a2._status || -1 === a2._status)
        a2._status = 1, a2._result = b5;
    }, function(b5) {
      if (0 === a2._status || -1 === a2._status)
        a2._status = 2, a2._result = b5;
    });
    -1 === a2._status && (a2._status = 0, a2._result = b3);
  }
  if (1 === a2._status)
    return a2._result.default;
  throw a2._result;
}
var U$2 = { current: null }, V$2 = { transition: null }, W$2 = { ReactCurrentDispatcher: U$2, ReactCurrentBatchConfig: V$2, ReactCurrentOwner: K$2 };
function X$2() {
  throw Error("act(...) is not supported in production builds of React.");
}
var Children = react_production_min.Children = { map: S$2, forEach: function(a2, b3, e) {
  S$2(a2, function() {
    b3.apply(this, arguments);
  }, e);
}, count: function(a2) {
  var b3 = 0;
  S$2(a2, function() {
    b3++;
  });
  return b3;
}, toArray: function(a2) {
  return S$2(a2, function(a3) {
    return a3;
  }) || [];
}, only: function(a2) {
  if (!O$2(a2))
    throw Error("React.Children.only expected to receive a single React element child.");
  return a2;
} };
var Component = react_production_min.Component = E$2;
var Fragment$2 = react_production_min.Fragment = p$3;
var Profiler = react_production_min.Profiler = r$1;
var PureComponent = react_production_min.PureComponent = G$2;
var StrictMode = react_production_min.StrictMode = q$2;
var Suspense = react_production_min.Suspense = w$1;
var __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED$1 = react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = W$2;
var act = react_production_min.act = X$2;
var cloneElement = react_production_min.cloneElement = function(a2, b3, e) {
  if (null === a2 || void 0 === a2)
    throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + a2 + ".");
  var d2 = C$2({}, a2.props), c2 = a2.key, k3 = a2.ref, h2 = a2._owner;
  if (null != b3) {
    void 0 !== b3.ref && (k3 = b3.ref, h2 = K$2.current);
    void 0 !== b3.key && (c2 = "" + b3.key);
    if (a2.type && a2.type.defaultProps)
      var g2 = a2.type.defaultProps;
    for (f2 in b3)
      J$1.call(b3, f2) && !L$2.hasOwnProperty(f2) && (d2[f2] = void 0 === b3[f2] && void 0 !== g2 ? g2[f2] : b3[f2]);
  }
  var f2 = arguments.length - 2;
  if (1 === f2)
    d2.children = e;
  else if (1 < f2) {
    g2 = Array(f2);
    for (var m2 = 0; m2 < f2; m2++)
      g2[m2] = arguments[m2 + 2];
    d2.children = g2;
  }
  return { $$typeof: l$2, type: a2.type, key: c2, ref: k3, props: d2, _owner: h2 };
};
var createContext = react_production_min.createContext = function(a2) {
  a2 = { $$typeof: u$1, _currentValue: a2, _currentValue2: a2, _threadCount: 0, Provider: null, Consumer: null, _defaultValue: null, _globalName: null };
  a2.Provider = { $$typeof: t, _context: a2 };
  return a2.Consumer = a2;
};
var createElement = react_production_min.createElement = M$2;
var createFactory = react_production_min.createFactory = function(a2) {
  var b3 = M$2.bind(null, a2);
  b3.type = a2;
  return b3;
};
var createRef = react_production_min.createRef = function() {
  return { current: null };
};
var forwardRef = react_production_min.forwardRef = function(a2) {
  return { $$typeof: v$2, render: a2 };
};
var isValidElement = react_production_min.isValidElement = O$2;
var lazy$1 = react_production_min.lazy = function(a2) {
  return { $$typeof: y$1, _payload: { _status: -1, _result: a2 }, _init: T$2 };
};
var memo = react_production_min.memo = function(a2, b3) {
  return { $$typeof: x$2, type: a2, compare: void 0 === b3 ? null : b3 };
};
var startTransition = react_production_min.startTransition = function(a2) {
  var b3 = V$2.transition;
  V$2.transition = {};
  try {
    a2();
  } finally {
    V$2.transition = b3;
  }
};
var unstable_act = react_production_min.unstable_act = X$2;
var useCallback = react_production_min.useCallback = function(a2, b3) {
  return U$2.current.useCallback(a2, b3);
};
var useContext = react_production_min.useContext = function(a2) {
  return U$2.current.useContext(a2);
};
var useDebugValue = react_production_min.useDebugValue = function() {
};
var useDeferredValue = react_production_min.useDeferredValue = function(a2) {
  return U$2.current.useDeferredValue(a2);
};
var useEffect = react_production_min.useEffect = function(a2, b3) {
  return U$2.current.useEffect(a2, b3);
};
var useId = react_production_min.useId = function() {
  return U$2.current.useId();
};
var useImperativeHandle = react_production_min.useImperativeHandle = function(a2, b3, e) {
  return U$2.current.useImperativeHandle(a2, b3, e);
};
var useInsertionEffect = react_production_min.useInsertionEffect = function(a2, b3) {
  return U$2.current.useInsertionEffect(a2, b3);
};
var useLayoutEffect = react_production_min.useLayoutEffect = function(a2, b3) {
  return U$2.current.useLayoutEffect(a2, b3);
};
var useMemo = react_production_min.useMemo = function(a2, b3) {
  return U$2.current.useMemo(a2, b3);
};
var useReducer = react_production_min.useReducer = function(a2, b3, e) {
  return U$2.current.useReducer(a2, b3, e);
};
var useRef = react_production_min.useRef = function(a2) {
  return U$2.current.useRef(a2);
};
var useState = react_production_min.useState = function(a2) {
  return U$2.current.useState(a2);
};
var useSyncExternalStore = react_production_min.useSyncExternalStore = function(a2, b3, e) {
  return U$2.current.useSyncExternalStore(a2, b3, e);
};
var useTransition = react_production_min.useTransition = function() {
  return U$2.current.useTransition();
};
var version$1 = react_production_min.version = "18.3.1";
"use strict";
if (true) {
  react.exports = react_production_min;
} else {
  module.exports = require("./cjs/react.development.js");
}
var React = react.exports;
var React$1 = /* @__PURE__ */ _mergeNamespaces({
  __proto__: null,
  "default": React
}, [react.exports]);
var client = {};
var reactDom$1 = { exports: {} };
var reactDom_production_min = {};
var scheduler$1 = { exports: {} };
var scheduler_production_min = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
(function(exports2) {
  "use strict";
  function f2(a2, b3) {
    var c2 = a2.length;
    a2.push(b3);
    a:
      for (; 0 < c2; ) {
        var d2 = c2 - 1 >>> 1, e = a2[d2];
        if (0 < g2(e, b3))
          a2[d2] = b3, a2[c2] = e, c2 = d2;
        else
          break a;
      }
  }
  function h2(a2) {
    return 0 === a2.length ? null : a2[0];
  }
  function k3(a2) {
    if (0 === a2.length)
      return null;
    var b3 = a2[0], c2 = a2.pop();
    if (c2 !== b3) {
      a2[0] = c2;
      a:
        for (var d2 = 0, e = a2.length, w2 = e >>> 1; d2 < w2; ) {
          var m2 = 2 * (d2 + 1) - 1, C2 = a2[m2], n2 = m2 + 1, x2 = a2[n2];
          if (0 > g2(C2, c2))
            n2 < e && 0 > g2(x2, C2) ? (a2[d2] = x2, a2[n2] = c2, d2 = n2) : (a2[d2] = C2, a2[m2] = c2, d2 = m2);
          else if (n2 < e && 0 > g2(x2, c2))
            a2[d2] = x2, a2[n2] = c2, d2 = n2;
          else
            break a;
        }
    }
    return b3;
  }
  function g2(a2, b3) {
    var c2 = a2.sortIndex - b3.sortIndex;
    return 0 !== c2 ? c2 : a2.id - b3.id;
  }
  if ("object" === typeof performance && "function" === typeof performance.now) {
    var l2 = performance;
    exports2.unstable_now = function() {
      return l2.now();
    };
  } else {
    var p2 = Date, q2 = p2.now();
    exports2.unstable_now = function() {
      return p2.now() - q2;
    };
  }
  var r2 = [], t3 = [], u2 = 1, v2 = null, y2 = 3, z2 = false, A2 = false, B2 = false, D2 = "function" === typeof setTimeout ? setTimeout : null, E2 = "function" === typeof clearTimeout ? clearTimeout : null, F2 = "undefined" !== typeof setImmediate ? setImmediate : null;
  "undefined" !== typeof navigator && void 0 !== navigator.scheduling && void 0 !== navigator.scheduling.isInputPending && navigator.scheduling.isInputPending.bind(navigator.scheduling);
  function G2(a2) {
    for (var b3 = h2(t3); null !== b3; ) {
      if (null === b3.callback)
        k3(t3);
      else if (b3.startTime <= a2)
        k3(t3), b3.sortIndex = b3.expirationTime, f2(r2, b3);
      else
        break;
      b3 = h2(t3);
    }
  }
  function H2(a2) {
    B2 = false;
    G2(a2);
    if (!A2)
      if (null !== h2(r2))
        A2 = true, I2(J2);
      else {
        var b3 = h2(t3);
        null !== b3 && K2(H2, b3.startTime - a2);
      }
  }
  function J2(a2, b3) {
    A2 = false;
    B2 && (B2 = false, E2(L2), L2 = -1);
    z2 = true;
    var c2 = y2;
    try {
      G2(b3);
      for (v2 = h2(r2); null !== v2 && (!(v2.expirationTime > b3) || a2 && !M2()); ) {
        var d2 = v2.callback;
        if ("function" === typeof d2) {
          v2.callback = null;
          y2 = v2.priorityLevel;
          var e = d2(v2.expirationTime <= b3);
          b3 = exports2.unstable_now();
          "function" === typeof e ? v2.callback = e : v2 === h2(r2) && k3(r2);
          G2(b3);
        } else
          k3(r2);
        v2 = h2(r2);
      }
      if (null !== v2)
        var w2 = true;
      else {
        var m2 = h2(t3);
        null !== m2 && K2(H2, m2.startTime - b3);
        w2 = false;
      }
      return w2;
    } finally {
      v2 = null, y2 = c2, z2 = false;
    }
  }
  var N2 = false, O2 = null, L2 = -1, P2 = 5, Q2 = -1;
  function M2() {
    return exports2.unstable_now() - Q2 < P2 ? false : true;
  }
  function R2() {
    if (null !== O2) {
      var a2 = exports2.unstable_now();
      Q2 = a2;
      var b3 = true;
      try {
        b3 = O2(true, a2);
      } finally {
        b3 ? S2() : (N2 = false, O2 = null);
      }
    } else
      N2 = false;
  }
  var S2;
  if ("function" === typeof F2)
    S2 = function() {
      F2(R2);
    };
  else if ("undefined" !== typeof MessageChannel) {
    var T2 = new MessageChannel(), U2 = T2.port2;
    T2.port1.onmessage = R2;
    S2 = function() {
      U2.postMessage(null);
    };
  } else
    S2 = function() {
      D2(R2, 0);
    };
  function I2(a2) {
    O2 = a2;
    N2 || (N2 = true, S2());
  }
  function K2(a2, b3) {
    L2 = D2(function() {
      a2(exports2.unstable_now());
    }, b3);
  }
  exports2.unstable_IdlePriority = 5;
  exports2.unstable_ImmediatePriority = 1;
  exports2.unstable_LowPriority = 4;
  exports2.unstable_NormalPriority = 3;
  exports2.unstable_Profiling = null;
  exports2.unstable_UserBlockingPriority = 2;
  exports2.unstable_cancelCallback = function(a2) {
    a2.callback = null;
  };
  exports2.unstable_continueExecution = function() {
    A2 || z2 || (A2 = true, I2(J2));
  };
  exports2.unstable_forceFrameRate = function(a2) {
    0 > a2 || 125 < a2 ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : P2 = 0 < a2 ? Math.floor(1e3 / a2) : 5;
  };
  exports2.unstable_getCurrentPriorityLevel = function() {
    return y2;
  };
  exports2.unstable_getFirstCallbackNode = function() {
    return h2(r2);
  };
  exports2.unstable_next = function(a2) {
    switch (y2) {
      case 1:
      case 2:
      case 3:
        var b3 = 3;
        break;
      default:
        b3 = y2;
    }
    var c2 = y2;
    y2 = b3;
    try {
      return a2();
    } finally {
      y2 = c2;
    }
  };
  exports2.unstable_pauseExecution = function() {
  };
  exports2.unstable_requestPaint = function() {
  };
  exports2.unstable_runWithPriority = function(a2, b3) {
    switch (a2) {
      case 1:
      case 2:
      case 3:
      case 4:
      case 5:
        break;
      default:
        a2 = 3;
    }
    var c2 = y2;
    y2 = a2;
    try {
      return b3();
    } finally {
      y2 = c2;
    }
  };
  exports2.unstable_scheduleCallback = function(a2, b3, c2) {
    var d2 = exports2.unstable_now();
    "object" === typeof c2 && null !== c2 ? (c2 = c2.delay, c2 = "number" === typeof c2 && 0 < c2 ? d2 + c2 : d2) : c2 = d2;
    switch (a2) {
      case 1:
        var e = -1;
        break;
      case 2:
        e = 250;
        break;
      case 5:
        e = 1073741823;
        break;
      case 4:
        e = 1e4;
        break;
      default:
        e = 5e3;
    }
    e = c2 + e;
    a2 = { id: u2++, callback: b3, priorityLevel: a2, startTime: c2, expirationTime: e, sortIndex: -1 };
    c2 > d2 ? (a2.sortIndex = c2, f2(t3, a2), null === h2(r2) && a2 === h2(t3) && (B2 ? (E2(L2), L2 = -1) : B2 = true, K2(H2, c2 - d2))) : (a2.sortIndex = e, f2(r2, a2), A2 || z2 || (A2 = true, I2(J2)));
    return a2;
  };
  exports2.unstable_shouldYield = M2;
  exports2.unstable_wrapCallback = function(a2) {
    var b3 = y2;
    return function() {
      var c2 = y2;
      y2 = b3;
      try {
        return a2.apply(this, arguments);
      } finally {
        y2 = c2;
      }
    };
  };
})(scheduler_production_min);
"use strict";
if (true) {
  scheduler$1.exports = scheduler_production_min;
} else {
  module.exports = require("./cjs/scheduler.development.js");
}
var scheduler = scheduler$1.exports;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";
var aa = react.exports, ca = scheduler$1.exports;
function p$2(a2) {
  for (var b3 = "https://reactjs.org/docs/error-decoder.html?invariant=" + a2, c2 = 1; c2 < arguments.length; c2++)
    b3 += "&args[]=" + encodeURIComponent(arguments[c2]);
  return "Minified React error #" + a2 + "; visit " + b3 + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";
}
var da = /* @__PURE__ */ new Set(), ea = {};
function fa(a2, b3) {
  ha(a2, b3);
  ha(a2 + "Capture", b3);
}
function ha(a2, b3) {
  ea[a2] = b3;
  for (a2 = 0; a2 < b3.length; a2++)
    da.add(b3[a2]);
}
var ia = !("undefined" === typeof window || "undefined" === typeof window.document || "undefined" === typeof window.document.createElement), ja = Object.prototype.hasOwnProperty, ka = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/, la = {}, ma = {};
function oa(a2) {
  if (ja.call(ma, a2))
    return true;
  if (ja.call(la, a2))
    return false;
  if (ka.test(a2))
    return ma[a2] = true;
  la[a2] = true;
  return false;
}
function pa(a2, b3, c2, d2) {
  if (null !== c2 && 0 === c2.type)
    return false;
  switch (typeof b3) {
    case "function":
    case "symbol":
      return true;
    case "boolean":
      if (d2)
        return false;
      if (null !== c2)
        return !c2.acceptsBooleans;
      a2 = a2.toLowerCase().slice(0, 5);
      return "data-" !== a2 && "aria-" !== a2;
    default:
      return false;
  }
}
function qa(a2, b3, c2, d2) {
  if (null === b3 || "undefined" === typeof b3 || pa(a2, b3, c2, d2))
    return true;
  if (d2)
    return false;
  if (null !== c2)
    switch (c2.type) {
      case 3:
        return !b3;
      case 4:
        return false === b3;
      case 5:
        return isNaN(b3);
      case 6:
        return isNaN(b3) || 1 > b3;
    }
  return false;
}
function v$1(a2, b3, c2, d2, e, f2, g2) {
  this.acceptsBooleans = 2 === b3 || 3 === b3 || 4 === b3;
  this.attributeName = d2;
  this.attributeNamespace = e;
  this.mustUseProperty = c2;
  this.propertyName = a2;
  this.type = b3;
  this.sanitizeURL = f2;
  this.removeEmptyString = g2;
}
var z$1 = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a2) {
  z$1[a2] = new v$1(a2, 0, false, a2, null, false, false);
});
[["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(a2) {
  var b3 = a2[0];
  z$1[b3] = new v$1(b3, 1, false, a2[1], null, false, false);
});
["contentEditable", "draggable", "spellCheck", "value"].forEach(function(a2) {
  z$1[a2] = new v$1(a2, 2, false, a2.toLowerCase(), null, false, false);
});
["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(a2) {
  z$1[a2] = new v$1(a2, 2, false, a2, null, false, false);
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a2) {
  z$1[a2] = new v$1(a2, 3, false, a2.toLowerCase(), null, false, false);
});
["checked", "multiple", "muted", "selected"].forEach(function(a2) {
  z$1[a2] = new v$1(a2, 3, true, a2, null, false, false);
});
["capture", "download"].forEach(function(a2) {
  z$1[a2] = new v$1(a2, 4, false, a2, null, false, false);
});
["cols", "rows", "size", "span"].forEach(function(a2) {
  z$1[a2] = new v$1(a2, 6, false, a2, null, false, false);
});
["rowSpan", "start"].forEach(function(a2) {
  z$1[a2] = new v$1(a2, 5, false, a2.toLowerCase(), null, false, false);
});
var ra = /[\-:]([a-z])/g;
function sa(a2) {
  return a2[1].toUpperCase();
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a2) {
  var b3 = a2.replace(
    ra,
    sa
  );
  z$1[b3] = new v$1(b3, 1, false, a2, null, false, false);
});
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a2) {
  var b3 = a2.replace(ra, sa);
  z$1[b3] = new v$1(b3, 1, false, a2, "http://www.w3.org/1999/xlink", false, false);
});
["xml:base", "xml:lang", "xml:space"].forEach(function(a2) {
  var b3 = a2.replace(ra, sa);
  z$1[b3] = new v$1(b3, 1, false, a2, "http://www.w3.org/XML/1998/namespace", false, false);
});
["tabIndex", "crossOrigin"].forEach(function(a2) {
  z$1[a2] = new v$1(a2, 1, false, a2.toLowerCase(), null, false, false);
});
z$1.xlinkHref = new v$1("xlinkHref", 1, false, "xlink:href", "http://www.w3.org/1999/xlink", true, false);
["src", "href", "action", "formAction"].forEach(function(a2) {
  z$1[a2] = new v$1(a2, 1, false, a2.toLowerCase(), null, true, true);
});
function ta(a2, b3, c2, d2) {
  var e = z$1.hasOwnProperty(b3) ? z$1[b3] : null;
  if (null !== e ? 0 !== e.type : d2 || !(2 < b3.length) || "o" !== b3[0] && "O" !== b3[0] || "n" !== b3[1] && "N" !== b3[1])
    qa(b3, c2, e, d2) && (c2 = null), d2 || null === e ? oa(b3) && (null === c2 ? a2.removeAttribute(b3) : a2.setAttribute(b3, "" + c2)) : e.mustUseProperty ? a2[e.propertyName] = null === c2 ? 3 === e.type ? false : "" : c2 : (b3 = e.attributeName, d2 = e.attributeNamespace, null === c2 ? a2.removeAttribute(b3) : (e = e.type, c2 = 3 === e || 4 === e && true === c2 ? "" : "" + c2, d2 ? a2.setAttributeNS(d2, b3, c2) : a2.setAttribute(b3, c2)));
}
var ua = aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, va = Symbol.for("react.element"), wa = Symbol.for("react.portal"), ya = Symbol.for("react.fragment"), za = Symbol.for("react.strict_mode"), Aa = Symbol.for("react.profiler"), Ba = Symbol.for("react.provider"), Ca = Symbol.for("react.context"), Da = Symbol.for("react.forward_ref"), Ea = Symbol.for("react.suspense"), Fa = Symbol.for("react.suspense_list"), Ga = Symbol.for("react.memo"), Ha = Symbol.for("react.lazy");
Symbol.for("react.scope");
Symbol.for("react.debug_trace_mode");
var Ia = Symbol.for("react.offscreen");
Symbol.for("react.legacy_hidden");
Symbol.for("react.cache");
Symbol.for("react.tracing_marker");
var Ja = Symbol.iterator;
function Ka(a2) {
  if (null === a2 || "object" !== typeof a2)
    return null;
  a2 = Ja && a2[Ja] || a2["@@iterator"];
  return "function" === typeof a2 ? a2 : null;
}
var A$1 = Object.assign, La;
function Ma(a2) {
  if (void 0 === La)
    try {
      throw Error();
    } catch (c2) {
      var b3 = c2.stack.trim().match(/\n( *(at )?)/);
      La = b3 && b3[1] || "";
    }
  return "\n" + La + a2;
}
var Na = false;
function Oa(a2, b3) {
  if (!a2 || Na)
    return "";
  Na = true;
  var c2 = Error.prepareStackTrace;
  Error.prepareStackTrace = void 0;
  try {
    if (b3)
      if (b3 = function() {
        throw Error();
      }, Object.defineProperty(b3.prototype, "props", { set: function() {
        throw Error();
      } }), "object" === typeof Reflect && Reflect.construct) {
        try {
          Reflect.construct(b3, []);
        } catch (l2) {
          var d2 = l2;
        }
        Reflect.construct(a2, [], b3);
      } else {
        try {
          b3.call();
        } catch (l2) {
          d2 = l2;
        }
        a2.call(b3.prototype);
      }
    else {
      try {
        throw Error();
      } catch (l2) {
        d2 = l2;
      }
      a2();
    }
  } catch (l2) {
    if (l2 && d2 && "string" === typeof l2.stack) {
      for (var e = l2.stack.split("\n"), f2 = d2.stack.split("\n"), g2 = e.length - 1, h2 = f2.length - 1; 1 <= g2 && 0 <= h2 && e[g2] !== f2[h2]; )
        h2--;
      for (; 1 <= g2 && 0 <= h2; g2--, h2--)
        if (e[g2] !== f2[h2]) {
          if (1 !== g2 || 1 !== h2) {
            do
              if (g2--, h2--, 0 > h2 || e[g2] !== f2[h2]) {
                var k3 = "\n" + e[g2].replace(" at new ", " at ");
                a2.displayName && k3.includes("<anonymous>") && (k3 = k3.replace("<anonymous>", a2.displayName));
                return k3;
              }
            while (1 <= g2 && 0 <= h2);
          }
          break;
        }
    }
  } finally {
    Na = false, Error.prepareStackTrace = c2;
  }
  return (a2 = a2 ? a2.displayName || a2.name : "") ? Ma(a2) : "";
}
function Pa(a2) {
  switch (a2.tag) {
    case 5:
      return Ma(a2.type);
    case 16:
      return Ma("Lazy");
    case 13:
      return Ma("Suspense");
    case 19:
      return Ma("SuspenseList");
    case 0:
    case 2:
    case 15:
      return a2 = Oa(a2.type, false), a2;
    case 11:
      return a2 = Oa(a2.type.render, false), a2;
    case 1:
      return a2 = Oa(a2.type, true), a2;
    default:
      return "";
  }
}
function Qa(a2) {
  if (null == a2)
    return null;
  if ("function" === typeof a2)
    return a2.displayName || a2.name || null;
  if ("string" === typeof a2)
    return a2;
  switch (a2) {
    case ya:
      return "Fragment";
    case wa:
      return "Portal";
    case Aa:
      return "Profiler";
    case za:
      return "StrictMode";
    case Ea:
      return "Suspense";
    case Fa:
      return "SuspenseList";
  }
  if ("object" === typeof a2)
    switch (a2.$$typeof) {
      case Ca:
        return (a2.displayName || "Context") + ".Consumer";
      case Ba:
        return (a2._context.displayName || "Context") + ".Provider";
      case Da:
        var b3 = a2.render;
        a2 = a2.displayName;
        a2 || (a2 = b3.displayName || b3.name || "", a2 = "" !== a2 ? "ForwardRef(" + a2 + ")" : "ForwardRef");
        return a2;
      case Ga:
        return b3 = a2.displayName || null, null !== b3 ? b3 : Qa(a2.type) || "Memo";
      case Ha:
        b3 = a2._payload;
        a2 = a2._init;
        try {
          return Qa(a2(b3));
        } catch (c2) {
        }
    }
  return null;
}
function Ra(a2) {
  var b3 = a2.type;
  switch (a2.tag) {
    case 24:
      return "Cache";
    case 9:
      return (b3.displayName || "Context") + ".Consumer";
    case 10:
      return (b3._context.displayName || "Context") + ".Provider";
    case 18:
      return "DehydratedFragment";
    case 11:
      return a2 = b3.render, a2 = a2.displayName || a2.name || "", b3.displayName || ("" !== a2 ? "ForwardRef(" + a2 + ")" : "ForwardRef");
    case 7:
      return "Fragment";
    case 5:
      return b3;
    case 4:
      return "Portal";
    case 3:
      return "Root";
    case 6:
      return "Text";
    case 16:
      return Qa(b3);
    case 8:
      return b3 === za ? "StrictMode" : "Mode";
    case 22:
      return "Offscreen";
    case 12:
      return "Profiler";
    case 21:
      return "Scope";
    case 13:
      return "Suspense";
    case 19:
      return "SuspenseList";
    case 25:
      return "TracingMarker";
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
      if ("function" === typeof b3)
        return b3.displayName || b3.name || null;
      if ("string" === typeof b3)
        return b3;
  }
  return null;
}
function Sa(a2) {
  switch (typeof a2) {
    case "boolean":
    case "number":
    case "string":
    case "undefined":
      return a2;
    case "object":
      return a2;
    default:
      return "";
  }
}
function Ta(a2) {
  var b3 = a2.type;
  return (a2 = a2.nodeName) && "input" === a2.toLowerCase() && ("checkbox" === b3 || "radio" === b3);
}
function Ua(a2) {
  var b3 = Ta(a2) ? "checked" : "value", c2 = Object.getOwnPropertyDescriptor(a2.constructor.prototype, b3), d2 = "" + a2[b3];
  if (!a2.hasOwnProperty(b3) && "undefined" !== typeof c2 && "function" === typeof c2.get && "function" === typeof c2.set) {
    var e = c2.get, f2 = c2.set;
    Object.defineProperty(a2, b3, { configurable: true, get: function() {
      return e.call(this);
    }, set: function(a3) {
      d2 = "" + a3;
      f2.call(this, a3);
    } });
    Object.defineProperty(a2, b3, { enumerable: c2.enumerable });
    return { getValue: function() {
      return d2;
    }, setValue: function(a3) {
      d2 = "" + a3;
    }, stopTracking: function() {
      a2._valueTracker = null;
      delete a2[b3];
    } };
  }
}
function Va(a2) {
  a2._valueTracker || (a2._valueTracker = Ua(a2));
}
function Wa(a2) {
  if (!a2)
    return false;
  var b3 = a2._valueTracker;
  if (!b3)
    return true;
  var c2 = b3.getValue();
  var d2 = "";
  a2 && (d2 = Ta(a2) ? a2.checked ? "true" : "false" : a2.value);
  a2 = d2;
  return a2 !== c2 ? (b3.setValue(a2), true) : false;
}
function Xa(a2) {
  a2 = a2 || ("undefined" !== typeof document ? document : void 0);
  if ("undefined" === typeof a2)
    return null;
  try {
    return a2.activeElement || a2.body;
  } catch (b3) {
    return a2.body;
  }
}
function Ya(a2, b3) {
  var c2 = b3.checked;
  return A$1({}, b3, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: null != c2 ? c2 : a2._wrapperState.initialChecked });
}
function Za(a2, b3) {
  var c2 = null == b3.defaultValue ? "" : b3.defaultValue, d2 = null != b3.checked ? b3.checked : b3.defaultChecked;
  c2 = Sa(null != b3.value ? b3.value : c2);
  a2._wrapperState = { initialChecked: d2, initialValue: c2, controlled: "checkbox" === b3.type || "radio" === b3.type ? null != b3.checked : null != b3.value };
}
function ab(a2, b3) {
  b3 = b3.checked;
  null != b3 && ta(a2, "checked", b3, false);
}
function bb(a2, b3) {
  ab(a2, b3);
  var c2 = Sa(b3.value), d2 = b3.type;
  if (null != c2)
    if ("number" === d2) {
      if (0 === c2 && "" === a2.value || a2.value != c2)
        a2.value = "" + c2;
    } else
      a2.value !== "" + c2 && (a2.value = "" + c2);
  else if ("submit" === d2 || "reset" === d2) {
    a2.removeAttribute("value");
    return;
  }
  b3.hasOwnProperty("value") ? cb(a2, b3.type, c2) : b3.hasOwnProperty("defaultValue") && cb(a2, b3.type, Sa(b3.defaultValue));
  null == b3.checked && null != b3.defaultChecked && (a2.defaultChecked = !!b3.defaultChecked);
}
function db(a2, b3, c2) {
  if (b3.hasOwnProperty("value") || b3.hasOwnProperty("defaultValue")) {
    var d2 = b3.type;
    if (!("submit" !== d2 && "reset" !== d2 || void 0 !== b3.value && null !== b3.value))
      return;
    b3 = "" + a2._wrapperState.initialValue;
    c2 || b3 === a2.value || (a2.value = b3);
    a2.defaultValue = b3;
  }
  c2 = a2.name;
  "" !== c2 && (a2.name = "");
  a2.defaultChecked = !!a2._wrapperState.initialChecked;
  "" !== c2 && (a2.name = c2);
}
function cb(a2, b3, c2) {
  if ("number" !== b3 || Xa(a2.ownerDocument) !== a2)
    null == c2 ? a2.defaultValue = "" + a2._wrapperState.initialValue : a2.defaultValue !== "" + c2 && (a2.defaultValue = "" + c2);
}
var eb = Array.isArray;
function fb(a2, b3, c2, d2) {
  a2 = a2.options;
  if (b3) {
    b3 = {};
    for (var e = 0; e < c2.length; e++)
      b3["$" + c2[e]] = true;
    for (c2 = 0; c2 < a2.length; c2++)
      e = b3.hasOwnProperty("$" + a2[c2].value), a2[c2].selected !== e && (a2[c2].selected = e), e && d2 && (a2[c2].defaultSelected = true);
  } else {
    c2 = "" + Sa(c2);
    b3 = null;
    for (e = 0; e < a2.length; e++) {
      if (a2[e].value === c2) {
        a2[e].selected = true;
        d2 && (a2[e].defaultSelected = true);
        return;
      }
      null !== b3 || a2[e].disabled || (b3 = a2[e]);
    }
    null !== b3 && (b3.selected = true);
  }
}
function gb(a2, b3) {
  if (null != b3.dangerouslySetInnerHTML)
    throw Error(p$2(91));
  return A$1({}, b3, { value: void 0, defaultValue: void 0, children: "" + a2._wrapperState.initialValue });
}
function hb(a2, b3) {
  var c2 = b3.value;
  if (null == c2) {
    c2 = b3.children;
    b3 = b3.defaultValue;
    if (null != c2) {
      if (null != b3)
        throw Error(p$2(92));
      if (eb(c2)) {
        if (1 < c2.length)
          throw Error(p$2(93));
        c2 = c2[0];
      }
      b3 = c2;
    }
    null == b3 && (b3 = "");
    c2 = b3;
  }
  a2._wrapperState = { initialValue: Sa(c2) };
}
function ib(a2, b3) {
  var c2 = Sa(b3.value), d2 = Sa(b3.defaultValue);
  null != c2 && (c2 = "" + c2, c2 !== a2.value && (a2.value = c2), null == b3.defaultValue && a2.defaultValue !== c2 && (a2.defaultValue = c2));
  null != d2 && (a2.defaultValue = "" + d2);
}
function jb(a2) {
  var b3 = a2.textContent;
  b3 === a2._wrapperState.initialValue && "" !== b3 && null !== b3 && (a2.value = b3);
}
function kb(a2) {
  switch (a2) {
    case "svg":
      return "http://www.w3.org/2000/svg";
    case "math":
      return "http://www.w3.org/1998/Math/MathML";
    default:
      return "http://www.w3.org/1999/xhtml";
  }
}
function lb(a2, b3) {
  return null == a2 || "http://www.w3.org/1999/xhtml" === a2 ? kb(b3) : "http://www.w3.org/2000/svg" === a2 && "foreignObject" === b3 ? "http://www.w3.org/1999/xhtml" : a2;
}
var mb, nb = function(a2) {
  return "undefined" !== typeof MSApp && MSApp.execUnsafeLocalFunction ? function(b3, c2, d2, e) {
    MSApp.execUnsafeLocalFunction(function() {
      return a2(b3, c2, d2, e);
    });
  } : a2;
}(function(a2, b3) {
  if ("http://www.w3.org/2000/svg" !== a2.namespaceURI || "innerHTML" in a2)
    a2.innerHTML = b3;
  else {
    mb = mb || document.createElement("div");
    mb.innerHTML = "<svg>" + b3.valueOf().toString() + "</svg>";
    for (b3 = mb.firstChild; a2.firstChild; )
      a2.removeChild(a2.firstChild);
    for (; b3.firstChild; )
      a2.appendChild(b3.firstChild);
  }
});
function ob(a2, b3) {
  if (b3) {
    var c2 = a2.firstChild;
    if (c2 && c2 === a2.lastChild && 3 === c2.nodeType) {
      c2.nodeValue = b3;
      return;
    }
  }
  a2.textContent = b3;
}
var pb = {
  animationIterationCount: true,
  aspectRatio: true,
  borderImageOutset: true,
  borderImageSlice: true,
  borderImageWidth: true,
  boxFlex: true,
  boxFlexGroup: true,
  boxOrdinalGroup: true,
  columnCount: true,
  columns: true,
  flex: true,
  flexGrow: true,
  flexPositive: true,
  flexShrink: true,
  flexNegative: true,
  flexOrder: true,
  gridArea: true,
  gridRow: true,
  gridRowEnd: true,
  gridRowSpan: true,
  gridRowStart: true,
  gridColumn: true,
  gridColumnEnd: true,
  gridColumnSpan: true,
  gridColumnStart: true,
  fontWeight: true,
  lineClamp: true,
  lineHeight: true,
  opacity: true,
  order: true,
  orphans: true,
  tabSize: true,
  widows: true,
  zIndex: true,
  zoom: true,
  fillOpacity: true,
  floodOpacity: true,
  stopOpacity: true,
  strokeDasharray: true,
  strokeDashoffset: true,
  strokeMiterlimit: true,
  strokeOpacity: true,
  strokeWidth: true
}, qb = ["Webkit", "ms", "Moz", "O"];
Object.keys(pb).forEach(function(a2) {
  qb.forEach(function(b3) {
    b3 = b3 + a2.charAt(0).toUpperCase() + a2.substring(1);
    pb[b3] = pb[a2];
  });
});
function rb(a2, b3, c2) {
  return null == b3 || "boolean" === typeof b3 || "" === b3 ? "" : c2 || "number" !== typeof b3 || 0 === b3 || pb.hasOwnProperty(a2) && pb[a2] ? ("" + b3).trim() : b3 + "px";
}
function sb(a2, b3) {
  a2 = a2.style;
  for (var c2 in b3)
    if (b3.hasOwnProperty(c2)) {
      var d2 = 0 === c2.indexOf("--"), e = rb(c2, b3[c2], d2);
      "float" === c2 && (c2 = "cssFloat");
      d2 ? a2.setProperty(c2, e) : a2[c2] = e;
    }
}
var tb = A$1({ menuitem: true }, { area: true, base: true, br: true, col: true, embed: true, hr: true, img: true, input: true, keygen: true, link: true, meta: true, param: true, source: true, track: true, wbr: true });
function ub(a2, b3) {
  if (b3) {
    if (tb[a2] && (null != b3.children || null != b3.dangerouslySetInnerHTML))
      throw Error(p$2(137, a2));
    if (null != b3.dangerouslySetInnerHTML) {
      if (null != b3.children)
        throw Error(p$2(60));
      if ("object" !== typeof b3.dangerouslySetInnerHTML || !("__html" in b3.dangerouslySetInnerHTML))
        throw Error(p$2(61));
    }
    if (null != b3.style && "object" !== typeof b3.style)
      throw Error(p$2(62));
  }
}
function vb(a2, b3) {
  if (-1 === a2.indexOf("-"))
    return "string" === typeof b3.is;
  switch (a2) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
      return false;
    default:
      return true;
  }
}
var wb = null;
function xb(a2) {
  a2 = a2.target || a2.srcElement || window;
  a2.correspondingUseElement && (a2 = a2.correspondingUseElement);
  return 3 === a2.nodeType ? a2.parentNode : a2;
}
var yb = null, zb = null, Ab = null;
function Bb(a2) {
  if (a2 = Cb(a2)) {
    if ("function" !== typeof yb)
      throw Error(p$2(280));
    var b3 = a2.stateNode;
    b3 && (b3 = Db(b3), yb(a2.stateNode, a2.type, b3));
  }
}
function Eb(a2) {
  zb ? Ab ? Ab.push(a2) : Ab = [a2] : zb = a2;
}
function Fb() {
  if (zb) {
    var a2 = zb, b3 = Ab;
    Ab = zb = null;
    Bb(a2);
    if (b3)
      for (a2 = 0; a2 < b3.length; a2++)
        Bb(b3[a2]);
  }
}
function Gb(a2, b3) {
  return a2(b3);
}
function Hb() {
}
var Ib = false;
function Jb(a2, b3, c2) {
  if (Ib)
    return a2(b3, c2);
  Ib = true;
  try {
    return Gb(a2, b3, c2);
  } finally {
    if (Ib = false, null !== zb || null !== Ab)
      Hb(), Fb();
  }
}
function Kb(a2, b3) {
  var c2 = a2.stateNode;
  if (null === c2)
    return null;
  var d2 = Db(c2);
  if (null === d2)
    return null;
  c2 = d2[b3];
  a:
    switch (b3) {
      case "onClick":
      case "onClickCapture":
      case "onDoubleClick":
      case "onDoubleClickCapture":
      case "onMouseDown":
      case "onMouseDownCapture":
      case "onMouseMove":
      case "onMouseMoveCapture":
      case "onMouseUp":
      case "onMouseUpCapture":
      case "onMouseEnter":
        (d2 = !d2.disabled) || (a2 = a2.type, d2 = !("button" === a2 || "input" === a2 || "select" === a2 || "textarea" === a2));
        a2 = !d2;
        break a;
      default:
        a2 = false;
    }
  if (a2)
    return null;
  if (c2 && "function" !== typeof c2)
    throw Error(p$2(231, b3, typeof c2));
  return c2;
}
var Lb = false;
if (ia)
  try {
    var Mb = {};
    Object.defineProperty(Mb, "passive", { get: function() {
      Lb = true;
    } });
    window.addEventListener("test", Mb, Mb);
    window.removeEventListener("test", Mb, Mb);
  } catch (a2) {
    Lb = false;
  }
function Nb(a2, b3, c2, d2, e, f2, g2, h2, k3) {
  var l2 = Array.prototype.slice.call(arguments, 3);
  try {
    b3.apply(c2, l2);
  } catch (m2) {
    this.onError(m2);
  }
}
var Ob = false, Pb = null, Qb = false, Rb = null, Sb = { onError: function(a2) {
  Ob = true;
  Pb = a2;
} };
function Tb(a2, b3, c2, d2, e, f2, g2, h2, k3) {
  Ob = false;
  Pb = null;
  Nb.apply(Sb, arguments);
}
function Ub(a2, b3, c2, d2, e, f2, g2, h2, k3) {
  Tb.apply(this, arguments);
  if (Ob) {
    if (Ob) {
      var l2 = Pb;
      Ob = false;
      Pb = null;
    } else
      throw Error(p$2(198));
    Qb || (Qb = true, Rb = l2);
  }
}
function Vb(a2) {
  var b3 = a2, c2 = a2;
  if (a2.alternate)
    for (; b3.return; )
      b3 = b3.return;
  else {
    a2 = b3;
    do
      b3 = a2, 0 !== (b3.flags & 4098) && (c2 = b3.return), a2 = b3.return;
    while (a2);
  }
  return 3 === b3.tag ? c2 : null;
}
function Wb(a2) {
  if (13 === a2.tag) {
    var b3 = a2.memoizedState;
    null === b3 && (a2 = a2.alternate, null !== a2 && (b3 = a2.memoizedState));
    if (null !== b3)
      return b3.dehydrated;
  }
  return null;
}
function Xb(a2) {
  if (Vb(a2) !== a2)
    throw Error(p$2(188));
}
function Yb(a2) {
  var b3 = a2.alternate;
  if (!b3) {
    b3 = Vb(a2);
    if (null === b3)
      throw Error(p$2(188));
    return b3 !== a2 ? null : a2;
  }
  for (var c2 = a2, d2 = b3; ; ) {
    var e = c2.return;
    if (null === e)
      break;
    var f2 = e.alternate;
    if (null === f2) {
      d2 = e.return;
      if (null !== d2) {
        c2 = d2;
        continue;
      }
      break;
    }
    if (e.child === f2.child) {
      for (f2 = e.child; f2; ) {
        if (f2 === c2)
          return Xb(e), a2;
        if (f2 === d2)
          return Xb(e), b3;
        f2 = f2.sibling;
      }
      throw Error(p$2(188));
    }
    if (c2.return !== d2.return)
      c2 = e, d2 = f2;
    else {
      for (var g2 = false, h2 = e.child; h2; ) {
        if (h2 === c2) {
          g2 = true;
          c2 = e;
          d2 = f2;
          break;
        }
        if (h2 === d2) {
          g2 = true;
          d2 = e;
          c2 = f2;
          break;
        }
        h2 = h2.sibling;
      }
      if (!g2) {
        for (h2 = f2.child; h2; ) {
          if (h2 === c2) {
            g2 = true;
            c2 = f2;
            d2 = e;
            break;
          }
          if (h2 === d2) {
            g2 = true;
            d2 = f2;
            c2 = e;
            break;
          }
          h2 = h2.sibling;
        }
        if (!g2)
          throw Error(p$2(189));
      }
    }
    if (c2.alternate !== d2)
      throw Error(p$2(190));
  }
  if (3 !== c2.tag)
    throw Error(p$2(188));
  return c2.stateNode.current === c2 ? a2 : b3;
}
function Zb(a2) {
  a2 = Yb(a2);
  return null !== a2 ? $b(a2) : null;
}
function $b(a2) {
  if (5 === a2.tag || 6 === a2.tag)
    return a2;
  for (a2 = a2.child; null !== a2; ) {
    var b3 = $b(a2);
    if (null !== b3)
      return b3;
    a2 = a2.sibling;
  }
  return null;
}
var ac = ca.unstable_scheduleCallback, bc = ca.unstable_cancelCallback, cc = ca.unstable_shouldYield, dc = ca.unstable_requestPaint, B$1 = ca.unstable_now, ec$1 = ca.unstable_getCurrentPriorityLevel, fc = ca.unstable_ImmediatePriority, gc = ca.unstable_UserBlockingPriority, hc = ca.unstable_NormalPriority, ic = ca.unstable_LowPriority, jc = ca.unstable_IdlePriority, kc = null, lc$1 = null;
function mc(a2) {
  if (lc$1 && "function" === typeof lc$1.onCommitFiberRoot)
    try {
      lc$1.onCommitFiberRoot(kc, a2, void 0, 128 === (a2.current.flags & 128));
    } catch (b3) {
    }
}
var oc = Math.clz32 ? Math.clz32 : nc, pc = Math.log, qc = Math.LN2;
function nc(a2) {
  a2 >>>= 0;
  return 0 === a2 ? 32 : 31 - (pc(a2) / qc | 0) | 0;
}
var rc = 64, sc = 4194304;
function tc(a2) {
  switch (a2 & -a2) {
    case 1:
      return 1;
    case 2:
      return 2;
    case 4:
      return 4;
    case 8:
      return 8;
    case 16:
      return 16;
    case 32:
      return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return a2 & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return a2 & 130023424;
    case 134217728:
      return 134217728;
    case 268435456:
      return 268435456;
    case 536870912:
      return 536870912;
    case 1073741824:
      return 1073741824;
    default:
      return a2;
  }
}
function uc(a2, b3) {
  var c2 = a2.pendingLanes;
  if (0 === c2)
    return 0;
  var d2 = 0, e = a2.suspendedLanes, f2 = a2.pingedLanes, g2 = c2 & 268435455;
  if (0 !== g2) {
    var h2 = g2 & ~e;
    0 !== h2 ? d2 = tc(h2) : (f2 &= g2, 0 !== f2 && (d2 = tc(f2)));
  } else
    g2 = c2 & ~e, 0 !== g2 ? d2 = tc(g2) : 0 !== f2 && (d2 = tc(f2));
  if (0 === d2)
    return 0;
  if (0 !== b3 && b3 !== d2 && 0 === (b3 & e) && (e = d2 & -d2, f2 = b3 & -b3, e >= f2 || 16 === e && 0 !== (f2 & 4194240)))
    return b3;
  0 !== (d2 & 4) && (d2 |= c2 & 16);
  b3 = a2.entangledLanes;
  if (0 !== b3)
    for (a2 = a2.entanglements, b3 &= d2; 0 < b3; )
      c2 = 31 - oc(b3), e = 1 << c2, d2 |= a2[c2], b3 &= ~e;
  return d2;
}
function vc(a2, b3) {
  switch (a2) {
    case 1:
    case 2:
    case 4:
      return b3 + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return b3 + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
      return -1;
    default:
      return -1;
  }
}
function wc(a2, b3) {
  for (var c2 = a2.suspendedLanes, d2 = a2.pingedLanes, e = a2.expirationTimes, f2 = a2.pendingLanes; 0 < f2; ) {
    var g2 = 31 - oc(f2), h2 = 1 << g2, k3 = e[g2];
    if (-1 === k3) {
      if (0 === (h2 & c2) || 0 !== (h2 & d2))
        e[g2] = vc(h2, b3);
    } else
      k3 <= b3 && (a2.expiredLanes |= h2);
    f2 &= ~h2;
  }
}
function xc(a2) {
  a2 = a2.pendingLanes & -1073741825;
  return 0 !== a2 ? a2 : a2 & 1073741824 ? 1073741824 : 0;
}
function yc() {
  var a2 = rc;
  rc <<= 1;
  0 === (rc & 4194240) && (rc = 64);
  return a2;
}
function zc(a2) {
  for (var b3 = [], c2 = 0; 31 > c2; c2++)
    b3.push(a2);
  return b3;
}
function Ac(a2, b3, c2) {
  a2.pendingLanes |= b3;
  536870912 !== b3 && (a2.suspendedLanes = 0, a2.pingedLanes = 0);
  a2 = a2.eventTimes;
  b3 = 31 - oc(b3);
  a2[b3] = c2;
}
function Bc(a2, b3) {
  var c2 = a2.pendingLanes & ~b3;
  a2.pendingLanes = b3;
  a2.suspendedLanes = 0;
  a2.pingedLanes = 0;
  a2.expiredLanes &= b3;
  a2.mutableReadLanes &= b3;
  a2.entangledLanes &= b3;
  b3 = a2.entanglements;
  var d2 = a2.eventTimes;
  for (a2 = a2.expirationTimes; 0 < c2; ) {
    var e = 31 - oc(c2), f2 = 1 << e;
    b3[e] = 0;
    d2[e] = -1;
    a2[e] = -1;
    c2 &= ~f2;
  }
}
function Cc(a2, b3) {
  var c2 = a2.entangledLanes |= b3;
  for (a2 = a2.entanglements; c2; ) {
    var d2 = 31 - oc(c2), e = 1 << d2;
    e & b3 | a2[d2] & b3 && (a2[d2] |= b3);
    c2 &= ~e;
  }
}
var C$1 = 0;
function Dc(a2) {
  a2 &= -a2;
  return 1 < a2 ? 4 < a2 ? 0 !== (a2 & 268435455) ? 16 : 536870912 : 4 : 1;
}
var Ec, Fc, Gc, Hc, Ic, Jc = false, Kc = [], Lc = null, Mc = null, Nc = null, Oc = /* @__PURE__ */ new Map(), Pc = /* @__PURE__ */ new Map(), Qc = [], Rc = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
function Sc(a2, b3) {
  switch (a2) {
    case "focusin":
    case "focusout":
      Lc = null;
      break;
    case "dragenter":
    case "dragleave":
      Mc = null;
      break;
    case "mouseover":
    case "mouseout":
      Nc = null;
      break;
    case "pointerover":
    case "pointerout":
      Oc.delete(b3.pointerId);
      break;
    case "gotpointercapture":
    case "lostpointercapture":
      Pc.delete(b3.pointerId);
  }
}
function Tc(a2, b3, c2, d2, e, f2) {
  if (null === a2 || a2.nativeEvent !== f2)
    return a2 = { blockedOn: b3, domEventName: c2, eventSystemFlags: d2, nativeEvent: f2, targetContainers: [e] }, null !== b3 && (b3 = Cb(b3), null !== b3 && Fc(b3)), a2;
  a2.eventSystemFlags |= d2;
  b3 = a2.targetContainers;
  null !== e && -1 === b3.indexOf(e) && b3.push(e);
  return a2;
}
function Uc(a2, b3, c2, d2, e) {
  switch (b3) {
    case "focusin":
      return Lc = Tc(Lc, a2, b3, c2, d2, e), true;
    case "dragenter":
      return Mc = Tc(Mc, a2, b3, c2, d2, e), true;
    case "mouseover":
      return Nc = Tc(Nc, a2, b3, c2, d2, e), true;
    case "pointerover":
      var f2 = e.pointerId;
      Oc.set(f2, Tc(Oc.get(f2) || null, a2, b3, c2, d2, e));
      return true;
    case "gotpointercapture":
      return f2 = e.pointerId, Pc.set(f2, Tc(Pc.get(f2) || null, a2, b3, c2, d2, e)), true;
  }
  return false;
}
function Vc(a2) {
  var b3 = Wc(a2.target);
  if (null !== b3) {
    var c2 = Vb(b3);
    if (null !== c2) {
      if (b3 = c2.tag, 13 === b3) {
        if (b3 = Wb(c2), null !== b3) {
          a2.blockedOn = b3;
          Ic(a2.priority, function() {
            Gc(c2);
          });
          return;
        }
      } else if (3 === b3 && c2.stateNode.current.memoizedState.isDehydrated) {
        a2.blockedOn = 3 === c2.tag ? c2.stateNode.containerInfo : null;
        return;
      }
    }
  }
  a2.blockedOn = null;
}
function Xc(a2) {
  if (null !== a2.blockedOn)
    return false;
  for (var b3 = a2.targetContainers; 0 < b3.length; ) {
    var c2 = Yc(a2.domEventName, a2.eventSystemFlags, b3[0], a2.nativeEvent);
    if (null === c2) {
      c2 = a2.nativeEvent;
      var d2 = new c2.constructor(c2.type, c2);
      wb = d2;
      c2.target.dispatchEvent(d2);
      wb = null;
    } else
      return b3 = Cb(c2), null !== b3 && Fc(b3), a2.blockedOn = c2, false;
    b3.shift();
  }
  return true;
}
function Zc(a2, b3, c2) {
  Xc(a2) && c2.delete(b3);
}
function $c() {
  Jc = false;
  null !== Lc && Xc(Lc) && (Lc = null);
  null !== Mc && Xc(Mc) && (Mc = null);
  null !== Nc && Xc(Nc) && (Nc = null);
  Oc.forEach(Zc);
  Pc.forEach(Zc);
}
function ad(a2, b3) {
  a2.blockedOn === b3 && (a2.blockedOn = null, Jc || (Jc = true, ca.unstable_scheduleCallback(ca.unstable_NormalPriority, $c)));
}
function bd(a2) {
  function b3(b5) {
    return ad(b5, a2);
  }
  if (0 < Kc.length) {
    ad(Kc[0], a2);
    for (var c2 = 1; c2 < Kc.length; c2++) {
      var d2 = Kc[c2];
      d2.blockedOn === a2 && (d2.blockedOn = null);
    }
  }
  null !== Lc && ad(Lc, a2);
  null !== Mc && ad(Mc, a2);
  null !== Nc && ad(Nc, a2);
  Oc.forEach(b3);
  Pc.forEach(b3);
  for (c2 = 0; c2 < Qc.length; c2++)
    d2 = Qc[c2], d2.blockedOn === a2 && (d2.blockedOn = null);
  for (; 0 < Qc.length && (c2 = Qc[0], null === c2.blockedOn); )
    Vc(c2), null === c2.blockedOn && Qc.shift();
}
var cd = ua.ReactCurrentBatchConfig, dd = true;
function ed(a2, b3, c2, d2) {
  var e = C$1, f2 = cd.transition;
  cd.transition = null;
  try {
    C$1 = 1, fd$1(a2, b3, c2, d2);
  } finally {
    C$1 = e, cd.transition = f2;
  }
}
function gd(a2, b3, c2, d2) {
  var e = C$1, f2 = cd.transition;
  cd.transition = null;
  try {
    C$1 = 4, fd$1(a2, b3, c2, d2);
  } finally {
    C$1 = e, cd.transition = f2;
  }
}
function fd$1(a2, b3, c2, d2) {
  if (dd) {
    var e = Yc(a2, b3, c2, d2);
    if (null === e)
      hd(a2, b3, d2, id, c2), Sc(a2, d2);
    else if (Uc(e, a2, b3, c2, d2))
      d2.stopPropagation();
    else if (Sc(a2, d2), b3 & 4 && -1 < Rc.indexOf(a2)) {
      for (; null !== e; ) {
        var f2 = Cb(e);
        null !== f2 && Ec(f2);
        f2 = Yc(a2, b3, c2, d2);
        null === f2 && hd(a2, b3, d2, id, c2);
        if (f2 === e)
          break;
        e = f2;
      }
      null !== e && d2.stopPropagation();
    } else
      hd(a2, b3, d2, null, c2);
  }
}
var id = null;
function Yc(a2, b3, c2, d2) {
  id = null;
  a2 = xb(d2);
  a2 = Wc(a2);
  if (null !== a2)
    if (b3 = Vb(a2), null === b3)
      a2 = null;
    else if (c2 = b3.tag, 13 === c2) {
      a2 = Wb(b3);
      if (null !== a2)
        return a2;
      a2 = null;
    } else if (3 === c2) {
      if (b3.stateNode.current.memoizedState.isDehydrated)
        return 3 === b3.tag ? b3.stateNode.containerInfo : null;
      a2 = null;
    } else
      b3 !== a2 && (a2 = null);
  id = a2;
  return null;
}
function jd(a2) {
  switch (a2) {
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
      return 1;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "toggle":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
      return 4;
    case "message":
      switch (ec$1()) {
        case fc:
          return 1;
        case gc:
          return 4;
        case hc:
        case ic:
          return 16;
        case jc:
          return 536870912;
        default:
          return 16;
      }
    default:
      return 16;
  }
}
var kd = null, ld = null, md = null;
function nd() {
  if (md)
    return md;
  var a2, b3 = ld, c2 = b3.length, d2, e = "value" in kd ? kd.value : kd.textContent, f2 = e.length;
  for (a2 = 0; a2 < c2 && b3[a2] === e[a2]; a2++)
    ;
  var g2 = c2 - a2;
  for (d2 = 1; d2 <= g2 && b3[c2 - d2] === e[f2 - d2]; d2++)
    ;
  return md = e.slice(a2, 1 < d2 ? 1 - d2 : void 0);
}
function od(a2) {
  var b3 = a2.keyCode;
  "charCode" in a2 ? (a2 = a2.charCode, 0 === a2 && 13 === b3 && (a2 = 13)) : a2 = b3;
  10 === a2 && (a2 = 13);
  return 32 <= a2 || 13 === a2 ? a2 : 0;
}
function pd() {
  return true;
}
function qd() {
  return false;
}
function rd(a2) {
  function b3(b5, d2, e, f2, g2) {
    this._reactName = b5;
    this._targetInst = e;
    this.type = d2;
    this.nativeEvent = f2;
    this.target = g2;
    this.currentTarget = null;
    for (var c2 in a2)
      a2.hasOwnProperty(c2) && (b5 = a2[c2], this[c2] = b5 ? b5(f2) : f2[c2]);
    this.isDefaultPrevented = (null != f2.defaultPrevented ? f2.defaultPrevented : false === f2.returnValue) ? pd : qd;
    this.isPropagationStopped = qd;
    return this;
  }
  A$1(b3.prototype, { preventDefault: function() {
    this.defaultPrevented = true;
    var a3 = this.nativeEvent;
    a3 && (a3.preventDefault ? a3.preventDefault() : "unknown" !== typeof a3.returnValue && (a3.returnValue = false), this.isDefaultPrevented = pd);
  }, stopPropagation: function() {
    var a3 = this.nativeEvent;
    a3 && (a3.stopPropagation ? a3.stopPropagation() : "unknown" !== typeof a3.cancelBubble && (a3.cancelBubble = true), this.isPropagationStopped = pd);
  }, persist: function() {
  }, isPersistent: pd });
  return b3;
}
var sd = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function(a2) {
  return a2.timeStamp || Date.now();
}, defaultPrevented: 0, isTrusted: 0 }, td$1 = rd(sd), ud = A$1({}, sd, { view: 0, detail: 0 }), vd = rd(ud), wd, xd, yd, Ad = A$1({}, ud, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: zd, button: 0, buttons: 0, relatedTarget: function(a2) {
  return void 0 === a2.relatedTarget ? a2.fromElement === a2.srcElement ? a2.toElement : a2.fromElement : a2.relatedTarget;
}, movementX: function(a2) {
  if ("movementX" in a2)
    return a2.movementX;
  a2 !== yd && (yd && "mousemove" === a2.type ? (wd = a2.screenX - yd.screenX, xd = a2.screenY - yd.screenY) : xd = wd = 0, yd = a2);
  return wd;
}, movementY: function(a2) {
  return "movementY" in a2 ? a2.movementY : xd;
} }), Bd = rd(Ad), Cd = A$1({}, Ad, { dataTransfer: 0 }), Dd = rd(Cd), Ed = A$1({}, ud, { relatedTarget: 0 }), Fd = rd(Ed), Gd = A$1({}, sd, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), Hd = rd(Gd), Id = A$1({}, sd, { clipboardData: function(a2) {
  return "clipboardData" in a2 ? a2.clipboardData : window.clipboardData;
} }), Jd = rd(Id), Kd = A$1({}, sd, { data: 0 }), Ld = rd(Kd), Md = {
  Esc: "Escape",
  Spacebar: " ",
  Left: "ArrowLeft",
  Up: "ArrowUp",
  Right: "ArrowRight",
  Down: "ArrowDown",
  Del: "Delete",
  Win: "OS",
  Menu: "ContextMenu",
  Apps: "ContextMenu",
  Scroll: "ScrollLock",
  MozPrintableKey: "Unidentified"
}, Nd = {
  8: "Backspace",
  9: "Tab",
  12: "Clear",
  13: "Enter",
  16: "Shift",
  17: "Control",
  18: "Alt",
  19: "Pause",
  20: "CapsLock",
  27: "Escape",
  32: " ",
  33: "PageUp",
  34: "PageDown",
  35: "End",
  36: "Home",
  37: "ArrowLeft",
  38: "ArrowUp",
  39: "ArrowRight",
  40: "ArrowDown",
  45: "Insert",
  46: "Delete",
  112: "F1",
  113: "F2",
  114: "F3",
  115: "F4",
  116: "F5",
  117: "F6",
  118: "F7",
  119: "F8",
  120: "F9",
  121: "F10",
  122: "F11",
  123: "F12",
  144: "NumLock",
  145: "ScrollLock",
  224: "Meta"
}, Od = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" };
function Pd(a2) {
  var b3 = this.nativeEvent;
  return b3.getModifierState ? b3.getModifierState(a2) : (a2 = Od[a2]) ? !!b3[a2] : false;
}
function zd() {
  return Pd;
}
var Qd = A$1({}, ud, { key: function(a2) {
  if (a2.key) {
    var b3 = Md[a2.key] || a2.key;
    if ("Unidentified" !== b3)
      return b3;
  }
  return "keypress" === a2.type ? (a2 = od(a2), 13 === a2 ? "Enter" : String.fromCharCode(a2)) : "keydown" === a2.type || "keyup" === a2.type ? Nd[a2.keyCode] || "Unidentified" : "";
}, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: zd, charCode: function(a2) {
  return "keypress" === a2.type ? od(a2) : 0;
}, keyCode: function(a2) {
  return "keydown" === a2.type || "keyup" === a2.type ? a2.keyCode : 0;
}, which: function(a2) {
  return "keypress" === a2.type ? od(a2) : "keydown" === a2.type || "keyup" === a2.type ? a2.keyCode : 0;
} }), Rd = rd(Qd), Sd = A$1({}, Ad, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), Td = rd(Sd), Ud = A$1({}, ud, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: zd }), Vd = rd(Ud), Wd = A$1({}, sd, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), Xd = rd(Wd), Yd = A$1({}, Ad, {
  deltaX: function(a2) {
    return "deltaX" in a2 ? a2.deltaX : "wheelDeltaX" in a2 ? -a2.wheelDeltaX : 0;
  },
  deltaY: function(a2) {
    return "deltaY" in a2 ? a2.deltaY : "wheelDeltaY" in a2 ? -a2.wheelDeltaY : "wheelDelta" in a2 ? -a2.wheelDelta : 0;
  },
  deltaZ: 0,
  deltaMode: 0
}), Zd = rd(Yd), $d = [9, 13, 27, 32], ae$1 = ia && "CompositionEvent" in window, be$1 = null;
ia && "documentMode" in document && (be$1 = document.documentMode);
var ce$1 = ia && "TextEvent" in window && !be$1, de$1 = ia && (!ae$1 || be$1 && 8 < be$1 && 11 >= be$1), ee$1 = String.fromCharCode(32), fe$1 = false;
function ge$1(a2, b3) {
  switch (a2) {
    case "keyup":
      return -1 !== $d.indexOf(b3.keyCode);
    case "keydown":
      return 229 !== b3.keyCode;
    case "keypress":
    case "mousedown":
    case "focusout":
      return true;
    default:
      return false;
  }
}
function he$1(a2) {
  a2 = a2.detail;
  return "object" === typeof a2 && "data" in a2 ? a2.data : null;
}
var ie$1 = false;
function je$1(a2, b3) {
  switch (a2) {
    case "compositionend":
      return he$1(b3);
    case "keypress":
      if (32 !== b3.which)
        return null;
      fe$1 = true;
      return ee$1;
    case "textInput":
      return a2 = b3.data, a2 === ee$1 && fe$1 ? null : a2;
    default:
      return null;
  }
}
function ke$1(a2, b3) {
  if (ie$1)
    return "compositionend" === a2 || !ae$1 && ge$1(a2, b3) ? (a2 = nd(), md = ld = kd = null, ie$1 = false, a2) : null;
  switch (a2) {
    case "paste":
      return null;
    case "keypress":
      if (!(b3.ctrlKey || b3.altKey || b3.metaKey) || b3.ctrlKey && b3.altKey) {
        if (b3.char && 1 < b3.char.length)
          return b3.char;
        if (b3.which)
          return String.fromCharCode(b3.which);
      }
      return null;
    case "compositionend":
      return de$1 && "ko" !== b3.locale ? null : b3.data;
    default:
      return null;
  }
}
var le$1 = { color: true, date: true, datetime: true, "datetime-local": true, email: true, month: true, number: true, password: true, range: true, search: true, tel: true, text: true, time: true, url: true, week: true };
function me$1(a2) {
  var b3 = a2 && a2.nodeName && a2.nodeName.toLowerCase();
  return "input" === b3 ? !!le$1[a2.type] : "textarea" === b3 ? true : false;
}
function ne$1(a2, b3, c2, d2) {
  Eb(d2);
  b3 = oe$1(b3, "onChange");
  0 < b3.length && (c2 = new td$1("onChange", "change", null, c2, d2), a2.push({ event: c2, listeners: b3 }));
}
var pe$1 = null, qe = null;
function re$1(a2) {
  se$1(a2, 0);
}
function te$2(a2) {
  var b3 = ue$1(a2);
  if (Wa(b3))
    return a2;
}
function ve$1(a2, b3) {
  if ("change" === a2)
    return b3;
}
var we$1 = false;
if (ia) {
  var xe$1;
  if (ia) {
    var ye$1 = "oninput" in document;
    if (!ye$1) {
      var ze = document.createElement("div");
      ze.setAttribute("oninput", "return;");
      ye$1 = "function" === typeof ze.oninput;
    }
    xe$1 = ye$1;
  } else
    xe$1 = false;
  we$1 = xe$1 && (!document.documentMode || 9 < document.documentMode);
}
function Ae$1() {
  pe$1 && (pe$1.detachEvent("onpropertychange", Be), qe = pe$1 = null);
}
function Be(a2) {
  if ("value" === a2.propertyName && te$2(qe)) {
    var b3 = [];
    ne$1(b3, qe, a2, xb(a2));
    Jb(re$1, b3);
  }
}
function Ce(a2, b3, c2) {
  "focusin" === a2 ? (Ae$1(), pe$1 = b3, qe = c2, pe$1.attachEvent("onpropertychange", Be)) : "focusout" === a2 && Ae$1();
}
function De(a2) {
  if ("selectionchange" === a2 || "keyup" === a2 || "keydown" === a2)
    return te$2(qe);
}
function Ee(a2, b3) {
  if ("click" === a2)
    return te$2(b3);
}
function Fe$1(a2, b3) {
  if ("input" === a2 || "change" === a2)
    return te$2(b3);
}
function Ge(a2, b3) {
  return a2 === b3 && (0 !== a2 || 1 / a2 === 1 / b3) || a2 !== a2 && b3 !== b3;
}
var He = "function" === typeof Object.is ? Object.is : Ge;
function Ie$1(a2, b3) {
  if (He(a2, b3))
    return true;
  if ("object" !== typeof a2 || null === a2 || "object" !== typeof b3 || null === b3)
    return false;
  var c2 = Object.keys(a2), d2 = Object.keys(b3);
  if (c2.length !== d2.length)
    return false;
  for (d2 = 0; d2 < c2.length; d2++) {
    var e = c2[d2];
    if (!ja.call(b3, e) || !He(a2[e], b3[e]))
      return false;
  }
  return true;
}
function Je(a2) {
  for (; a2 && a2.firstChild; )
    a2 = a2.firstChild;
  return a2;
}
function Ke(a2, b3) {
  var c2 = Je(a2);
  a2 = 0;
  for (var d2; c2; ) {
    if (3 === c2.nodeType) {
      d2 = a2 + c2.textContent.length;
      if (a2 <= b3 && d2 >= b3)
        return { node: c2, offset: b3 - a2 };
      a2 = d2;
    }
    a: {
      for (; c2; ) {
        if (c2.nextSibling) {
          c2 = c2.nextSibling;
          break a;
        }
        c2 = c2.parentNode;
      }
      c2 = void 0;
    }
    c2 = Je(c2);
  }
}
function Le$1(a2, b3) {
  return a2 && b3 ? a2 === b3 ? true : a2 && 3 === a2.nodeType ? false : b3 && 3 === b3.nodeType ? Le$1(a2, b3.parentNode) : "contains" in a2 ? a2.contains(b3) : a2.compareDocumentPosition ? !!(a2.compareDocumentPosition(b3) & 16) : false : false;
}
function Me() {
  for (var a2 = window, b3 = Xa(); b3 instanceof a2.HTMLIFrameElement; ) {
    try {
      var c2 = "string" === typeof b3.contentWindow.location.href;
    } catch (d2) {
      c2 = false;
    }
    if (c2)
      a2 = b3.contentWindow;
    else
      break;
    b3 = Xa(a2.document);
  }
  return b3;
}
function Ne$1(a2) {
  var b3 = a2 && a2.nodeName && a2.nodeName.toLowerCase();
  return b3 && ("input" === b3 && ("text" === a2.type || "search" === a2.type || "tel" === a2.type || "url" === a2.type || "password" === a2.type) || "textarea" === b3 || "true" === a2.contentEditable);
}
function Oe(a2) {
  var b3 = Me(), c2 = a2.focusedElem, d2 = a2.selectionRange;
  if (b3 !== c2 && c2 && c2.ownerDocument && Le$1(c2.ownerDocument.documentElement, c2)) {
    if (null !== d2 && Ne$1(c2)) {
      if (b3 = d2.start, a2 = d2.end, void 0 === a2 && (a2 = b3), "selectionStart" in c2)
        c2.selectionStart = b3, c2.selectionEnd = Math.min(a2, c2.value.length);
      else if (a2 = (b3 = c2.ownerDocument || document) && b3.defaultView || window, a2.getSelection) {
        a2 = a2.getSelection();
        var e = c2.textContent.length, f2 = Math.min(d2.start, e);
        d2 = void 0 === d2.end ? f2 : Math.min(d2.end, e);
        !a2.extend && f2 > d2 && (e = d2, d2 = f2, f2 = e);
        e = Ke(c2, f2);
        var g2 = Ke(
          c2,
          d2
        );
        e && g2 && (1 !== a2.rangeCount || a2.anchorNode !== e.node || a2.anchorOffset !== e.offset || a2.focusNode !== g2.node || a2.focusOffset !== g2.offset) && (b3 = b3.createRange(), b3.setStart(e.node, e.offset), a2.removeAllRanges(), f2 > d2 ? (a2.addRange(b3), a2.extend(g2.node, g2.offset)) : (b3.setEnd(g2.node, g2.offset), a2.addRange(b3)));
      }
    }
    b3 = [];
    for (a2 = c2; a2 = a2.parentNode; )
      1 === a2.nodeType && b3.push({ element: a2, left: a2.scrollLeft, top: a2.scrollTop });
    "function" === typeof c2.focus && c2.focus();
    for (c2 = 0; c2 < b3.length; c2++)
      a2 = b3[c2], a2.element.scrollLeft = a2.left, a2.element.scrollTop = a2.top;
  }
}
var Pe$1 = ia && "documentMode" in document && 11 >= document.documentMode, Qe = null, Re = null, Se$1 = null, Te = false;
function Ue(a2, b3, c2) {
  var d2 = c2.window === c2 ? c2.document : 9 === c2.nodeType ? c2 : c2.ownerDocument;
  Te || null == Qe || Qe !== Xa(d2) || (d2 = Qe, "selectionStart" in d2 && Ne$1(d2) ? d2 = { start: d2.selectionStart, end: d2.selectionEnd } : (d2 = (d2.ownerDocument && d2.ownerDocument.defaultView || window).getSelection(), d2 = { anchorNode: d2.anchorNode, anchorOffset: d2.anchorOffset, focusNode: d2.focusNode, focusOffset: d2.focusOffset }), Se$1 && Ie$1(Se$1, d2) || (Se$1 = d2, d2 = oe$1(Re, "onSelect"), 0 < d2.length && (b3 = new td$1("onSelect", "select", null, b3, c2), a2.push({ event: b3, listeners: d2 }), b3.target = Qe)));
}
function Ve(a2, b3) {
  var c2 = {};
  c2[a2.toLowerCase()] = b3.toLowerCase();
  c2["Webkit" + a2] = "webkit" + b3;
  c2["Moz" + a2] = "moz" + b3;
  return c2;
}
var We = { animationend: Ve("Animation", "AnimationEnd"), animationiteration: Ve("Animation", "AnimationIteration"), animationstart: Ve("Animation", "AnimationStart"), transitionend: Ve("Transition", "TransitionEnd") }, Xe = {}, Ye = {};
ia && (Ye = document.createElement("div").style, "AnimationEvent" in window || (delete We.animationend.animation, delete We.animationiteration.animation, delete We.animationstart.animation), "TransitionEvent" in window || delete We.transitionend.transition);
function Ze(a2) {
  if (Xe[a2])
    return Xe[a2];
  if (!We[a2])
    return a2;
  var b3 = We[a2], c2;
  for (c2 in b3)
    if (b3.hasOwnProperty(c2) && c2 in Ye)
      return Xe[a2] = b3[c2];
  return a2;
}
var $e = Ze("animationend"), af = Ze("animationiteration"), bf = Ze("animationstart"), cf = Ze("transitionend"), df = /* @__PURE__ */ new Map(), ef = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
function ff(a2, b3) {
  df.set(a2, b3);
  fa(b3, [a2]);
}
for (var gf = 0; gf < ef.length; gf++) {
  var hf = ef[gf], jf = hf.toLowerCase(), kf = hf[0].toUpperCase() + hf.slice(1);
  ff(jf, "on" + kf);
}
ff($e, "onAnimationEnd");
ff(af, "onAnimationIteration");
ff(bf, "onAnimationStart");
ff("dblclick", "onDoubleClick");
ff("focusin", "onFocus");
ff("focusout", "onBlur");
ff(cf, "onTransitionEnd");
ha("onMouseEnter", ["mouseout", "mouseover"]);
ha("onMouseLeave", ["mouseout", "mouseover"]);
ha("onPointerEnter", ["pointerout", "pointerover"]);
ha("onPointerLeave", ["pointerout", "pointerover"]);
fa("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" "));
fa("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));
fa("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
fa("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" "));
fa("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" "));
fa("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
var lf = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), mf = new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));
function nf(a2, b3, c2) {
  var d2 = a2.type || "unknown-event";
  a2.currentTarget = c2;
  Ub(d2, b3, void 0, a2);
  a2.currentTarget = null;
}
function se$1(a2, b3) {
  b3 = 0 !== (b3 & 4);
  for (var c2 = 0; c2 < a2.length; c2++) {
    var d2 = a2[c2], e = d2.event;
    d2 = d2.listeners;
    a: {
      var f2 = void 0;
      if (b3)
        for (var g2 = d2.length - 1; 0 <= g2; g2--) {
          var h2 = d2[g2], k3 = h2.instance, l2 = h2.currentTarget;
          h2 = h2.listener;
          if (k3 !== f2 && e.isPropagationStopped())
            break a;
          nf(e, h2, l2);
          f2 = k3;
        }
      else
        for (g2 = 0; g2 < d2.length; g2++) {
          h2 = d2[g2];
          k3 = h2.instance;
          l2 = h2.currentTarget;
          h2 = h2.listener;
          if (k3 !== f2 && e.isPropagationStopped())
            break a;
          nf(e, h2, l2);
          f2 = k3;
        }
    }
  }
  if (Qb)
    throw a2 = Rb, Qb = false, Rb = null, a2;
}
function D$1(a2, b3) {
  var c2 = b3[of];
  void 0 === c2 && (c2 = b3[of] = /* @__PURE__ */ new Set());
  var d2 = a2 + "__bubble";
  c2.has(d2) || (pf(b3, a2, 2, false), c2.add(d2));
}
function qf(a2, b3, c2) {
  var d2 = 0;
  b3 && (d2 |= 4);
  pf(c2, a2, d2, b3);
}
var rf = "_reactListening" + Math.random().toString(36).slice(2);
function sf(a2) {
  if (!a2[rf]) {
    a2[rf] = true;
    da.forEach(function(b5) {
      "selectionchange" !== b5 && (mf.has(b5) || qf(b5, false, a2), qf(b5, true, a2));
    });
    var b3 = 9 === a2.nodeType ? a2 : a2.ownerDocument;
    null === b3 || b3[rf] || (b3[rf] = true, qf("selectionchange", false, b3));
  }
}
function pf(a2, b3, c2, d2) {
  switch (jd(b3)) {
    case 1:
      var e = ed;
      break;
    case 4:
      e = gd;
      break;
    default:
      e = fd$1;
  }
  c2 = e.bind(null, b3, c2, a2);
  e = void 0;
  !Lb || "touchstart" !== b3 && "touchmove" !== b3 && "wheel" !== b3 || (e = true);
  d2 ? void 0 !== e ? a2.addEventListener(b3, c2, { capture: true, passive: e }) : a2.addEventListener(b3, c2, true) : void 0 !== e ? a2.addEventListener(b3, c2, { passive: e }) : a2.addEventListener(b3, c2, false);
}
function hd(a2, b3, c2, d2, e) {
  var f2 = d2;
  if (0 === (b3 & 1) && 0 === (b3 & 2) && null !== d2)
    a:
      for (; ; ) {
        if (null === d2)
          return;
        var g2 = d2.tag;
        if (3 === g2 || 4 === g2) {
          var h2 = d2.stateNode.containerInfo;
          if (h2 === e || 8 === h2.nodeType && h2.parentNode === e)
            break;
          if (4 === g2)
            for (g2 = d2.return; null !== g2; ) {
              var k3 = g2.tag;
              if (3 === k3 || 4 === k3) {
                if (k3 = g2.stateNode.containerInfo, k3 === e || 8 === k3.nodeType && k3.parentNode === e)
                  return;
              }
              g2 = g2.return;
            }
          for (; null !== h2; ) {
            g2 = Wc(h2);
            if (null === g2)
              return;
            k3 = g2.tag;
            if (5 === k3 || 6 === k3) {
              d2 = f2 = g2;
              continue a;
            }
            h2 = h2.parentNode;
          }
        }
        d2 = d2.return;
      }
  Jb(function() {
    var d3 = f2, e2 = xb(c2), g3 = [];
    a: {
      var h3 = df.get(a2);
      if (void 0 !== h3) {
        var k4 = td$1, n2 = a2;
        switch (a2) {
          case "keypress":
            if (0 === od(c2))
              break a;
          case "keydown":
          case "keyup":
            k4 = Rd;
            break;
          case "focusin":
            n2 = "focus";
            k4 = Fd;
            break;
          case "focusout":
            n2 = "blur";
            k4 = Fd;
            break;
          case "beforeblur":
          case "afterblur":
            k4 = Fd;
            break;
          case "click":
            if (2 === c2.button)
              break a;
          case "auxclick":
          case "dblclick":
          case "mousedown":
          case "mousemove":
          case "mouseup":
          case "mouseout":
          case "mouseover":
          case "contextmenu":
            k4 = Bd;
            break;
          case "drag":
          case "dragend":
          case "dragenter":
          case "dragexit":
          case "dragleave":
          case "dragover":
          case "dragstart":
          case "drop":
            k4 = Dd;
            break;
          case "touchcancel":
          case "touchend":
          case "touchmove":
          case "touchstart":
            k4 = Vd;
            break;
          case $e:
          case af:
          case bf:
            k4 = Hd;
            break;
          case cf:
            k4 = Xd;
            break;
          case "scroll":
            k4 = vd;
            break;
          case "wheel":
            k4 = Zd;
            break;
          case "copy":
          case "cut":
          case "paste":
            k4 = Jd;
            break;
          case "gotpointercapture":
          case "lostpointercapture":
          case "pointercancel":
          case "pointerdown":
          case "pointermove":
          case "pointerout":
          case "pointerover":
          case "pointerup":
            k4 = Td;
        }
        var t3 = 0 !== (b3 & 4), J2 = !t3 && "scroll" === a2, x2 = t3 ? null !== h3 ? h3 + "Capture" : null : h3;
        t3 = [];
        for (var w2 = d3, u2; null !== w2; ) {
          u2 = w2;
          var F2 = u2.stateNode;
          5 === u2.tag && null !== F2 && (u2 = F2, null !== x2 && (F2 = Kb(w2, x2), null != F2 && t3.push(tf(w2, F2, u2))));
          if (J2)
            break;
          w2 = w2.return;
        }
        0 < t3.length && (h3 = new k4(h3, n2, null, c2, e2), g3.push({ event: h3, listeners: t3 }));
      }
    }
    if (0 === (b3 & 7)) {
      a: {
        h3 = "mouseover" === a2 || "pointerover" === a2;
        k4 = "mouseout" === a2 || "pointerout" === a2;
        if (h3 && c2 !== wb && (n2 = c2.relatedTarget || c2.fromElement) && (Wc(n2) || n2[uf]))
          break a;
        if (k4 || h3) {
          h3 = e2.window === e2 ? e2 : (h3 = e2.ownerDocument) ? h3.defaultView || h3.parentWindow : window;
          if (k4) {
            if (n2 = c2.relatedTarget || c2.toElement, k4 = d3, n2 = n2 ? Wc(n2) : null, null !== n2 && (J2 = Vb(n2), n2 !== J2 || 5 !== n2.tag && 6 !== n2.tag))
              n2 = null;
          } else
            k4 = null, n2 = d3;
          if (k4 !== n2) {
            t3 = Bd;
            F2 = "onMouseLeave";
            x2 = "onMouseEnter";
            w2 = "mouse";
            if ("pointerout" === a2 || "pointerover" === a2)
              t3 = Td, F2 = "onPointerLeave", x2 = "onPointerEnter", w2 = "pointer";
            J2 = null == k4 ? h3 : ue$1(k4);
            u2 = null == n2 ? h3 : ue$1(n2);
            h3 = new t3(F2, w2 + "leave", k4, c2, e2);
            h3.target = J2;
            h3.relatedTarget = u2;
            F2 = null;
            Wc(e2) === d3 && (t3 = new t3(x2, w2 + "enter", n2, c2, e2), t3.target = u2, t3.relatedTarget = J2, F2 = t3);
            J2 = F2;
            if (k4 && n2)
              b: {
                t3 = k4;
                x2 = n2;
                w2 = 0;
                for (u2 = t3; u2; u2 = vf(u2))
                  w2++;
                u2 = 0;
                for (F2 = x2; F2; F2 = vf(F2))
                  u2++;
                for (; 0 < w2 - u2; )
                  t3 = vf(t3), w2--;
                for (; 0 < u2 - w2; )
                  x2 = vf(x2), u2--;
                for (; w2--; ) {
                  if (t3 === x2 || null !== x2 && t3 === x2.alternate)
                    break b;
                  t3 = vf(t3);
                  x2 = vf(x2);
                }
                t3 = null;
              }
            else
              t3 = null;
            null !== k4 && wf(g3, h3, k4, t3, false);
            null !== n2 && null !== J2 && wf(g3, J2, n2, t3, true);
          }
        }
      }
      a: {
        h3 = d3 ? ue$1(d3) : window;
        k4 = h3.nodeName && h3.nodeName.toLowerCase();
        if ("select" === k4 || "input" === k4 && "file" === h3.type)
          var na = ve$1;
        else if (me$1(h3))
          if (we$1)
            na = Fe$1;
          else {
            na = De;
            var xa = Ce;
          }
        else
          (k4 = h3.nodeName) && "input" === k4.toLowerCase() && ("checkbox" === h3.type || "radio" === h3.type) && (na = Ee);
        if (na && (na = na(a2, d3))) {
          ne$1(g3, na, c2, e2);
          break a;
        }
        xa && xa(a2, h3, d3);
        "focusout" === a2 && (xa = h3._wrapperState) && xa.controlled && "number" === h3.type && cb(h3, "number", h3.value);
      }
      xa = d3 ? ue$1(d3) : window;
      switch (a2) {
        case "focusin":
          if (me$1(xa) || "true" === xa.contentEditable)
            Qe = xa, Re = d3, Se$1 = null;
          break;
        case "focusout":
          Se$1 = Re = Qe = null;
          break;
        case "mousedown":
          Te = true;
          break;
        case "contextmenu":
        case "mouseup":
        case "dragend":
          Te = false;
          Ue(g3, c2, e2);
          break;
        case "selectionchange":
          if (Pe$1)
            break;
        case "keydown":
        case "keyup":
          Ue(g3, c2, e2);
      }
      var $a;
      if (ae$1)
        b: {
          switch (a2) {
            case "compositionstart":
              var ba = "onCompositionStart";
              break b;
            case "compositionend":
              ba = "onCompositionEnd";
              break b;
            case "compositionupdate":
              ba = "onCompositionUpdate";
              break b;
          }
          ba = void 0;
        }
      else
        ie$1 ? ge$1(a2, c2) && (ba = "onCompositionEnd") : "keydown" === a2 && 229 === c2.keyCode && (ba = "onCompositionStart");
      ba && (de$1 && "ko" !== c2.locale && (ie$1 || "onCompositionStart" !== ba ? "onCompositionEnd" === ba && ie$1 && ($a = nd()) : (kd = e2, ld = "value" in kd ? kd.value : kd.textContent, ie$1 = true)), xa = oe$1(d3, ba), 0 < xa.length && (ba = new Ld(ba, a2, null, c2, e2), g3.push({ event: ba, listeners: xa }), $a ? ba.data = $a : ($a = he$1(c2), null !== $a && (ba.data = $a))));
      if ($a = ce$1 ? je$1(a2, c2) : ke$1(a2, c2))
        d3 = oe$1(d3, "onBeforeInput"), 0 < d3.length && (e2 = new Ld("onBeforeInput", "beforeinput", null, c2, e2), g3.push({ event: e2, listeners: d3 }), e2.data = $a);
    }
    se$1(g3, b3);
  });
}
function tf(a2, b3, c2) {
  return { instance: a2, listener: b3, currentTarget: c2 };
}
function oe$1(a2, b3) {
  for (var c2 = b3 + "Capture", d2 = []; null !== a2; ) {
    var e = a2, f2 = e.stateNode;
    5 === e.tag && null !== f2 && (e = f2, f2 = Kb(a2, c2), null != f2 && d2.unshift(tf(a2, f2, e)), f2 = Kb(a2, b3), null != f2 && d2.push(tf(a2, f2, e)));
    a2 = a2.return;
  }
  return d2;
}
function vf(a2) {
  if (null === a2)
    return null;
  do
    a2 = a2.return;
  while (a2 && 5 !== a2.tag);
  return a2 ? a2 : null;
}
function wf(a2, b3, c2, d2, e) {
  for (var f2 = b3._reactName, g2 = []; null !== c2 && c2 !== d2; ) {
    var h2 = c2, k3 = h2.alternate, l2 = h2.stateNode;
    if (null !== k3 && k3 === d2)
      break;
    5 === h2.tag && null !== l2 && (h2 = l2, e ? (k3 = Kb(c2, f2), null != k3 && g2.unshift(tf(c2, k3, h2))) : e || (k3 = Kb(c2, f2), null != k3 && g2.push(tf(c2, k3, h2))));
    c2 = c2.return;
  }
  0 !== g2.length && a2.push({ event: b3, listeners: g2 });
}
var xf = /\r\n?/g, yf = /\u0000|\uFFFD/g;
function zf(a2) {
  return ("string" === typeof a2 ? a2 : "" + a2).replace(xf, "\n").replace(yf, "");
}
function Af(a2, b3, c2) {
  b3 = zf(b3);
  if (zf(a2) !== b3 && c2)
    throw Error(p$2(425));
}
function Bf() {
}
var Cf = null, Df = null;
function Ef(a2, b3) {
  return "textarea" === a2 || "noscript" === a2 || "string" === typeof b3.children || "number" === typeof b3.children || "object" === typeof b3.dangerouslySetInnerHTML && null !== b3.dangerouslySetInnerHTML && null != b3.dangerouslySetInnerHTML.__html;
}
var Ff = "function" === typeof setTimeout ? setTimeout : void 0, Gf = "function" === typeof clearTimeout ? clearTimeout : void 0, Hf = "function" === typeof Promise ? Promise : void 0, Jf = "function" === typeof queueMicrotask ? queueMicrotask : "undefined" !== typeof Hf ? function(a2) {
  return Hf.resolve(null).then(a2).catch(If);
} : Ff;
function If(a2) {
  setTimeout(function() {
    throw a2;
  });
}
function Kf(a2, b3) {
  var c2 = b3, d2 = 0;
  do {
    var e = c2.nextSibling;
    a2.removeChild(c2);
    if (e && 8 === e.nodeType)
      if (c2 = e.data, "/$" === c2) {
        if (0 === d2) {
          a2.removeChild(e);
          bd(b3);
          return;
        }
        d2--;
      } else
        "$" !== c2 && "$?" !== c2 && "$!" !== c2 || d2++;
    c2 = e;
  } while (c2);
  bd(b3);
}
function Lf(a2) {
  for (; null != a2; a2 = a2.nextSibling) {
    var b3 = a2.nodeType;
    if (1 === b3 || 3 === b3)
      break;
    if (8 === b3) {
      b3 = a2.data;
      if ("$" === b3 || "$!" === b3 || "$?" === b3)
        break;
      if ("/$" === b3)
        return null;
    }
  }
  return a2;
}
function Mf(a2) {
  a2 = a2.previousSibling;
  for (var b3 = 0; a2; ) {
    if (8 === a2.nodeType) {
      var c2 = a2.data;
      if ("$" === c2 || "$!" === c2 || "$?" === c2) {
        if (0 === b3)
          return a2;
        b3--;
      } else
        "/$" === c2 && b3++;
    }
    a2 = a2.previousSibling;
  }
  return null;
}
var Nf = Math.random().toString(36).slice(2), Of = "__reactFiber$" + Nf, Pf = "__reactProps$" + Nf, uf = "__reactContainer$" + Nf, of = "__reactEvents$" + Nf, Qf = "__reactListeners$" + Nf, Rf = "__reactHandles$" + Nf;
function Wc(a2) {
  var b3 = a2[Of];
  if (b3)
    return b3;
  for (var c2 = a2.parentNode; c2; ) {
    if (b3 = c2[uf] || c2[Of]) {
      c2 = b3.alternate;
      if (null !== b3.child || null !== c2 && null !== c2.child)
        for (a2 = Mf(a2); null !== a2; ) {
          if (c2 = a2[Of])
            return c2;
          a2 = Mf(a2);
        }
      return b3;
    }
    a2 = c2;
    c2 = a2.parentNode;
  }
  return null;
}
function Cb(a2) {
  a2 = a2[Of] || a2[uf];
  return !a2 || 5 !== a2.tag && 6 !== a2.tag && 13 !== a2.tag && 3 !== a2.tag ? null : a2;
}
function ue$1(a2) {
  if (5 === a2.tag || 6 === a2.tag)
    return a2.stateNode;
  throw Error(p$2(33));
}
function Db(a2) {
  return a2[Pf] || null;
}
var Sf = [], Tf = -1;
function Uf(a2) {
  return { current: a2 };
}
function E$1(a2) {
  0 > Tf || (a2.current = Sf[Tf], Sf[Tf] = null, Tf--);
}
function G$1(a2, b3) {
  Tf++;
  Sf[Tf] = a2.current;
  a2.current = b3;
}
var Vf = {}, H$1 = Uf(Vf), Wf = Uf(false), Xf = Vf;
function Yf(a2, b3) {
  var c2 = a2.type.contextTypes;
  if (!c2)
    return Vf;
  var d2 = a2.stateNode;
  if (d2 && d2.__reactInternalMemoizedUnmaskedChildContext === b3)
    return d2.__reactInternalMemoizedMaskedChildContext;
  var e = {}, f2;
  for (f2 in c2)
    e[f2] = b3[f2];
  d2 && (a2 = a2.stateNode, a2.__reactInternalMemoizedUnmaskedChildContext = b3, a2.__reactInternalMemoizedMaskedChildContext = e);
  return e;
}
function Zf(a2) {
  a2 = a2.childContextTypes;
  return null !== a2 && void 0 !== a2;
}
function $f() {
  E$1(Wf);
  E$1(H$1);
}
function ag(a2, b3, c2) {
  if (H$1.current !== Vf)
    throw Error(p$2(168));
  G$1(H$1, b3);
  G$1(Wf, c2);
}
function bg(a2, b3, c2) {
  var d2 = a2.stateNode;
  b3 = b3.childContextTypes;
  if ("function" !== typeof d2.getChildContext)
    return c2;
  d2 = d2.getChildContext();
  for (var e in d2)
    if (!(e in b3))
      throw Error(p$2(108, Ra(a2) || "Unknown", e));
  return A$1({}, c2, d2);
}
function cg(a2) {
  a2 = (a2 = a2.stateNode) && a2.__reactInternalMemoizedMergedChildContext || Vf;
  Xf = H$1.current;
  G$1(H$1, a2);
  G$1(Wf, Wf.current);
  return true;
}
function dg(a2, b3, c2) {
  var d2 = a2.stateNode;
  if (!d2)
    throw Error(p$2(169));
  c2 ? (a2 = bg(a2, b3, Xf), d2.__reactInternalMemoizedMergedChildContext = a2, E$1(Wf), E$1(H$1), G$1(H$1, a2)) : E$1(Wf);
  G$1(Wf, c2);
}
var eg = null, fg = false, gg = false;
function hg(a2) {
  null === eg ? eg = [a2] : eg.push(a2);
}
function ig(a2) {
  fg = true;
  hg(a2);
}
function jg() {
  if (!gg && null !== eg) {
    gg = true;
    var a2 = 0, b3 = C$1;
    try {
      var c2 = eg;
      for (C$1 = 1; a2 < c2.length; a2++) {
        var d2 = c2[a2];
        do
          d2 = d2(true);
        while (null !== d2);
      }
      eg = null;
      fg = false;
    } catch (e) {
      throw null !== eg && (eg = eg.slice(a2 + 1)), ac(fc, jg), e;
    } finally {
      C$1 = b3, gg = false;
    }
  }
  return null;
}
var kg = [], lg = 0, mg = null, ng = 0, og = [], pg = 0, qg = null, rg = 1, sg = "";
function tg(a2, b3) {
  kg[lg++] = ng;
  kg[lg++] = mg;
  mg = a2;
  ng = b3;
}
function ug(a2, b3, c2) {
  og[pg++] = rg;
  og[pg++] = sg;
  og[pg++] = qg;
  qg = a2;
  var d2 = rg;
  a2 = sg;
  var e = 32 - oc(d2) - 1;
  d2 &= ~(1 << e);
  c2 += 1;
  var f2 = 32 - oc(b3) + e;
  if (30 < f2) {
    var g2 = e - e % 5;
    f2 = (d2 & (1 << g2) - 1).toString(32);
    d2 >>= g2;
    e -= g2;
    rg = 1 << 32 - oc(b3) + e | c2 << e | d2;
    sg = f2 + a2;
  } else
    rg = 1 << f2 | c2 << e | d2, sg = a2;
}
function vg(a2) {
  null !== a2.return && (tg(a2, 1), ug(a2, 1, 0));
}
function wg(a2) {
  for (; a2 === mg; )
    mg = kg[--lg], kg[lg] = null, ng = kg[--lg], kg[lg] = null;
  for (; a2 === qg; )
    qg = og[--pg], og[pg] = null, sg = og[--pg], og[pg] = null, rg = og[--pg], og[pg] = null;
}
var xg = null, yg = null, I$1 = false, zg = null;
function Ag(a2, b3) {
  var c2 = Bg(5, null, null, 0);
  c2.elementType = "DELETED";
  c2.stateNode = b3;
  c2.return = a2;
  b3 = a2.deletions;
  null === b3 ? (a2.deletions = [c2], a2.flags |= 16) : b3.push(c2);
}
function Cg(a2, b3) {
  switch (a2.tag) {
    case 5:
      var c2 = a2.type;
      b3 = 1 !== b3.nodeType || c2.toLowerCase() !== b3.nodeName.toLowerCase() ? null : b3;
      return null !== b3 ? (a2.stateNode = b3, xg = a2, yg = Lf(b3.firstChild), true) : false;
    case 6:
      return b3 = "" === a2.pendingProps || 3 !== b3.nodeType ? null : b3, null !== b3 ? (a2.stateNode = b3, xg = a2, yg = null, true) : false;
    case 13:
      return b3 = 8 !== b3.nodeType ? null : b3, null !== b3 ? (c2 = null !== qg ? { id: rg, overflow: sg } : null, a2.memoizedState = { dehydrated: b3, treeContext: c2, retryLane: 1073741824 }, c2 = Bg(18, null, null, 0), c2.stateNode = b3, c2.return = a2, a2.child = c2, xg = a2, yg = null, true) : false;
    default:
      return false;
  }
}
function Dg(a2) {
  return 0 !== (a2.mode & 1) && 0 === (a2.flags & 128);
}
function Eg(a2) {
  if (I$1) {
    var b3 = yg;
    if (b3) {
      var c2 = b3;
      if (!Cg(a2, b3)) {
        if (Dg(a2))
          throw Error(p$2(418));
        b3 = Lf(c2.nextSibling);
        var d2 = xg;
        b3 && Cg(a2, b3) ? Ag(d2, c2) : (a2.flags = a2.flags & -4097 | 2, I$1 = false, xg = a2);
      }
    } else {
      if (Dg(a2))
        throw Error(p$2(418));
      a2.flags = a2.flags & -4097 | 2;
      I$1 = false;
      xg = a2;
    }
  }
}
function Fg(a2) {
  for (a2 = a2.return; null !== a2 && 5 !== a2.tag && 3 !== a2.tag && 13 !== a2.tag; )
    a2 = a2.return;
  xg = a2;
}
function Gg(a2) {
  if (a2 !== xg)
    return false;
  if (!I$1)
    return Fg(a2), I$1 = true, false;
  var b3;
  (b3 = 3 !== a2.tag) && !(b3 = 5 !== a2.tag) && (b3 = a2.type, b3 = "head" !== b3 && "body" !== b3 && !Ef(a2.type, a2.memoizedProps));
  if (b3 && (b3 = yg)) {
    if (Dg(a2))
      throw Hg(), Error(p$2(418));
    for (; b3; )
      Ag(a2, b3), b3 = Lf(b3.nextSibling);
  }
  Fg(a2);
  if (13 === a2.tag) {
    a2 = a2.memoizedState;
    a2 = null !== a2 ? a2.dehydrated : null;
    if (!a2)
      throw Error(p$2(317));
    a: {
      a2 = a2.nextSibling;
      for (b3 = 0; a2; ) {
        if (8 === a2.nodeType) {
          var c2 = a2.data;
          if ("/$" === c2) {
            if (0 === b3) {
              yg = Lf(a2.nextSibling);
              break a;
            }
            b3--;
          } else
            "$" !== c2 && "$!" !== c2 && "$?" !== c2 || b3++;
        }
        a2 = a2.nextSibling;
      }
      yg = null;
    }
  } else
    yg = xg ? Lf(a2.stateNode.nextSibling) : null;
  return true;
}
function Hg() {
  for (var a2 = yg; a2; )
    a2 = Lf(a2.nextSibling);
}
function Ig() {
  yg = xg = null;
  I$1 = false;
}
function Jg(a2) {
  null === zg ? zg = [a2] : zg.push(a2);
}
var Kg = ua.ReactCurrentBatchConfig;
function Lg(a2, b3, c2) {
  a2 = c2.ref;
  if (null !== a2 && "function" !== typeof a2 && "object" !== typeof a2) {
    if (c2._owner) {
      c2 = c2._owner;
      if (c2) {
        if (1 !== c2.tag)
          throw Error(p$2(309));
        var d2 = c2.stateNode;
      }
      if (!d2)
        throw Error(p$2(147, a2));
      var e = d2, f2 = "" + a2;
      if (null !== b3 && null !== b3.ref && "function" === typeof b3.ref && b3.ref._stringRef === f2)
        return b3.ref;
      b3 = function(a3) {
        var b5 = e.refs;
        null === a3 ? delete b5[f2] : b5[f2] = a3;
      };
      b3._stringRef = f2;
      return b3;
    }
    if ("string" !== typeof a2)
      throw Error(p$2(284));
    if (!c2._owner)
      throw Error(p$2(290, a2));
  }
  return a2;
}
function Mg(a2, b3) {
  a2 = Object.prototype.toString.call(b3);
  throw Error(p$2(31, "[object Object]" === a2 ? "object with keys {" + Object.keys(b3).join(", ") + "}" : a2));
}
function Ng(a2) {
  var b3 = a2._init;
  return b3(a2._payload);
}
function Og(a2) {
  function b3(b5, c3) {
    if (a2) {
      var d3 = b5.deletions;
      null === d3 ? (b5.deletions = [c3], b5.flags |= 16) : d3.push(c3);
    }
  }
  function c2(c3, d3) {
    if (!a2)
      return null;
    for (; null !== d3; )
      b3(c3, d3), d3 = d3.sibling;
    return null;
  }
  function d2(a3, b5) {
    for (a3 = /* @__PURE__ */ new Map(); null !== b5; )
      null !== b5.key ? a3.set(b5.key, b5) : a3.set(b5.index, b5), b5 = b5.sibling;
    return a3;
  }
  function e(a3, b5) {
    a3 = Pg(a3, b5);
    a3.index = 0;
    a3.sibling = null;
    return a3;
  }
  function f2(b5, c3, d3) {
    b5.index = d3;
    if (!a2)
      return b5.flags |= 1048576, c3;
    d3 = b5.alternate;
    if (null !== d3)
      return d3 = d3.index, d3 < c3 ? (b5.flags |= 2, c3) : d3;
    b5.flags |= 2;
    return c3;
  }
  function g2(b5) {
    a2 && null === b5.alternate && (b5.flags |= 2);
    return b5;
  }
  function h2(a3, b5, c3, d3) {
    if (null === b5 || 6 !== b5.tag)
      return b5 = Qg(c3, a3.mode, d3), b5.return = a3, b5;
    b5 = e(b5, c3);
    b5.return = a3;
    return b5;
  }
  function k3(a3, b5, c3, d3) {
    var f3 = c3.type;
    if (f3 === ya)
      return m2(a3, b5, c3.props.children, d3, c3.key);
    if (null !== b5 && (b5.elementType === f3 || "object" === typeof f3 && null !== f3 && f3.$$typeof === Ha && Ng(f3) === b5.type))
      return d3 = e(b5, c3.props), d3.ref = Lg(a3, b5, c3), d3.return = a3, d3;
    d3 = Rg(c3.type, c3.key, c3.props, null, a3.mode, d3);
    d3.ref = Lg(a3, b5, c3);
    d3.return = a3;
    return d3;
  }
  function l2(a3, b5, c3, d3) {
    if (null === b5 || 4 !== b5.tag || b5.stateNode.containerInfo !== c3.containerInfo || b5.stateNode.implementation !== c3.implementation)
      return b5 = Sg(c3, a3.mode, d3), b5.return = a3, b5;
    b5 = e(b5, c3.children || []);
    b5.return = a3;
    return b5;
  }
  function m2(a3, b5, c3, d3, f3) {
    if (null === b5 || 7 !== b5.tag)
      return b5 = Tg(c3, a3.mode, d3, f3), b5.return = a3, b5;
    b5 = e(b5, c3);
    b5.return = a3;
    return b5;
  }
  function q2(a3, b5, c3) {
    if ("string" === typeof b5 && "" !== b5 || "number" === typeof b5)
      return b5 = Qg("" + b5, a3.mode, c3), b5.return = a3, b5;
    if ("object" === typeof b5 && null !== b5) {
      switch (b5.$$typeof) {
        case va:
          return c3 = Rg(b5.type, b5.key, b5.props, null, a3.mode, c3), c3.ref = Lg(a3, null, b5), c3.return = a3, c3;
        case wa:
          return b5 = Sg(b5, a3.mode, c3), b5.return = a3, b5;
        case Ha:
          var d3 = b5._init;
          return q2(a3, d3(b5._payload), c3);
      }
      if (eb(b5) || Ka(b5))
        return b5 = Tg(b5, a3.mode, c3, null), b5.return = a3, b5;
      Mg(a3, b5);
    }
    return null;
  }
  function r2(a3, b5, c3, d3) {
    var e2 = null !== b5 ? b5.key : null;
    if ("string" === typeof c3 && "" !== c3 || "number" === typeof c3)
      return null !== e2 ? null : h2(a3, b5, "" + c3, d3);
    if ("object" === typeof c3 && null !== c3) {
      switch (c3.$$typeof) {
        case va:
          return c3.key === e2 ? k3(a3, b5, c3, d3) : null;
        case wa:
          return c3.key === e2 ? l2(a3, b5, c3, d3) : null;
        case Ha:
          return e2 = c3._init, r2(
            a3,
            b5,
            e2(c3._payload),
            d3
          );
      }
      if (eb(c3) || Ka(c3))
        return null !== e2 ? null : m2(a3, b5, c3, d3, null);
      Mg(a3, c3);
    }
    return null;
  }
  function y2(a3, b5, c3, d3, e2) {
    if ("string" === typeof d3 && "" !== d3 || "number" === typeof d3)
      return a3 = a3.get(c3) || null, h2(b5, a3, "" + d3, e2);
    if ("object" === typeof d3 && null !== d3) {
      switch (d3.$$typeof) {
        case va:
          return a3 = a3.get(null === d3.key ? c3 : d3.key) || null, k3(b5, a3, d3, e2);
        case wa:
          return a3 = a3.get(null === d3.key ? c3 : d3.key) || null, l2(b5, a3, d3, e2);
        case Ha:
          var f3 = d3._init;
          return y2(a3, b5, c3, f3(d3._payload), e2);
      }
      if (eb(d3) || Ka(d3))
        return a3 = a3.get(c3) || null, m2(b5, a3, d3, e2, null);
      Mg(b5, d3);
    }
    return null;
  }
  function n2(e2, g3, h3, k4) {
    for (var l3 = null, m3 = null, u2 = g3, w2 = g3 = 0, x2 = null; null !== u2 && w2 < h3.length; w2++) {
      u2.index > w2 ? (x2 = u2, u2 = null) : x2 = u2.sibling;
      var n3 = r2(e2, u2, h3[w2], k4);
      if (null === n3) {
        null === u2 && (u2 = x2);
        break;
      }
      a2 && u2 && null === n3.alternate && b3(e2, u2);
      g3 = f2(n3, g3, w2);
      null === m3 ? l3 = n3 : m3.sibling = n3;
      m3 = n3;
      u2 = x2;
    }
    if (w2 === h3.length)
      return c2(e2, u2), I$1 && tg(e2, w2), l3;
    if (null === u2) {
      for (; w2 < h3.length; w2++)
        u2 = q2(e2, h3[w2], k4), null !== u2 && (g3 = f2(u2, g3, w2), null === m3 ? l3 = u2 : m3.sibling = u2, m3 = u2);
      I$1 && tg(e2, w2);
      return l3;
    }
    for (u2 = d2(e2, u2); w2 < h3.length; w2++)
      x2 = y2(u2, e2, w2, h3[w2], k4), null !== x2 && (a2 && null !== x2.alternate && u2.delete(null === x2.key ? w2 : x2.key), g3 = f2(x2, g3, w2), null === m3 ? l3 = x2 : m3.sibling = x2, m3 = x2);
    a2 && u2.forEach(function(a3) {
      return b3(e2, a3);
    });
    I$1 && tg(e2, w2);
    return l3;
  }
  function t3(e2, g3, h3, k4) {
    var l3 = Ka(h3);
    if ("function" !== typeof l3)
      throw Error(p$2(150));
    h3 = l3.call(h3);
    if (null == h3)
      throw Error(p$2(151));
    for (var u2 = l3 = null, m3 = g3, w2 = g3 = 0, x2 = null, n3 = h3.next(); null !== m3 && !n3.done; w2++, n3 = h3.next()) {
      m3.index > w2 ? (x2 = m3, m3 = null) : x2 = m3.sibling;
      var t4 = r2(e2, m3, n3.value, k4);
      if (null === t4) {
        null === m3 && (m3 = x2);
        break;
      }
      a2 && m3 && null === t4.alternate && b3(e2, m3);
      g3 = f2(t4, g3, w2);
      null === u2 ? l3 = t4 : u2.sibling = t4;
      u2 = t4;
      m3 = x2;
    }
    if (n3.done)
      return c2(
        e2,
        m3
      ), I$1 && tg(e2, w2), l3;
    if (null === m3) {
      for (; !n3.done; w2++, n3 = h3.next())
        n3 = q2(e2, n3.value, k4), null !== n3 && (g3 = f2(n3, g3, w2), null === u2 ? l3 = n3 : u2.sibling = n3, u2 = n3);
      I$1 && tg(e2, w2);
      return l3;
    }
    for (m3 = d2(e2, m3); !n3.done; w2++, n3 = h3.next())
      n3 = y2(m3, e2, w2, n3.value, k4), null !== n3 && (a2 && null !== n3.alternate && m3.delete(null === n3.key ? w2 : n3.key), g3 = f2(n3, g3, w2), null === u2 ? l3 = n3 : u2.sibling = n3, u2 = n3);
    a2 && m3.forEach(function(a3) {
      return b3(e2, a3);
    });
    I$1 && tg(e2, w2);
    return l3;
  }
  function J2(a3, d3, f3, h3) {
    "object" === typeof f3 && null !== f3 && f3.type === ya && null === f3.key && (f3 = f3.props.children);
    if ("object" === typeof f3 && null !== f3) {
      switch (f3.$$typeof) {
        case va:
          a: {
            for (var k4 = f3.key, l3 = d3; null !== l3; ) {
              if (l3.key === k4) {
                k4 = f3.type;
                if (k4 === ya) {
                  if (7 === l3.tag) {
                    c2(a3, l3.sibling);
                    d3 = e(l3, f3.props.children);
                    d3.return = a3;
                    a3 = d3;
                    break a;
                  }
                } else if (l3.elementType === k4 || "object" === typeof k4 && null !== k4 && k4.$$typeof === Ha && Ng(k4) === l3.type) {
                  c2(a3, l3.sibling);
                  d3 = e(l3, f3.props);
                  d3.ref = Lg(a3, l3, f3);
                  d3.return = a3;
                  a3 = d3;
                  break a;
                }
                c2(a3, l3);
                break;
              } else
                b3(a3, l3);
              l3 = l3.sibling;
            }
            f3.type === ya ? (d3 = Tg(f3.props.children, a3.mode, h3, f3.key), d3.return = a3, a3 = d3) : (h3 = Rg(f3.type, f3.key, f3.props, null, a3.mode, h3), h3.ref = Lg(a3, d3, f3), h3.return = a3, a3 = h3);
          }
          return g2(a3);
        case wa:
          a: {
            for (l3 = f3.key; null !== d3; ) {
              if (d3.key === l3)
                if (4 === d3.tag && d3.stateNode.containerInfo === f3.containerInfo && d3.stateNode.implementation === f3.implementation) {
                  c2(a3, d3.sibling);
                  d3 = e(d3, f3.children || []);
                  d3.return = a3;
                  a3 = d3;
                  break a;
                } else {
                  c2(a3, d3);
                  break;
                }
              else
                b3(a3, d3);
              d3 = d3.sibling;
            }
            d3 = Sg(f3, a3.mode, h3);
            d3.return = a3;
            a3 = d3;
          }
          return g2(a3);
        case Ha:
          return l3 = f3._init, J2(a3, d3, l3(f3._payload), h3);
      }
      if (eb(f3))
        return n2(a3, d3, f3, h3);
      if (Ka(f3))
        return t3(a3, d3, f3, h3);
      Mg(a3, f3);
    }
    return "string" === typeof f3 && "" !== f3 || "number" === typeof f3 ? (f3 = "" + f3, null !== d3 && 6 === d3.tag ? (c2(a3, d3.sibling), d3 = e(d3, f3), d3.return = a3, a3 = d3) : (c2(a3, d3), d3 = Qg(f3, a3.mode, h3), d3.return = a3, a3 = d3), g2(a3)) : c2(a3, d3);
  }
  return J2;
}
var Ug = Og(true), Vg = Og(false), Wg = Uf(null), Xg = null, Yg = null, Zg = null;
function $g() {
  Zg = Yg = Xg = null;
}
function ah(a2) {
  var b3 = Wg.current;
  E$1(Wg);
  a2._currentValue = b3;
}
function bh(a2, b3, c2) {
  for (; null !== a2; ) {
    var d2 = a2.alternate;
    (a2.childLanes & b3) !== b3 ? (a2.childLanes |= b3, null !== d2 && (d2.childLanes |= b3)) : null !== d2 && (d2.childLanes & b3) !== b3 && (d2.childLanes |= b3);
    if (a2 === c2)
      break;
    a2 = a2.return;
  }
}
function ch$1(a2, b3) {
  Xg = a2;
  Zg = Yg = null;
  a2 = a2.dependencies;
  null !== a2 && null !== a2.firstContext && (0 !== (a2.lanes & b3) && (dh = true), a2.firstContext = null);
}
function eh(a2) {
  var b3 = a2._currentValue;
  if (Zg !== a2)
    if (a2 = { context: a2, memoizedValue: b3, next: null }, null === Yg) {
      if (null === Xg)
        throw Error(p$2(308));
      Yg = a2;
      Xg.dependencies = { lanes: 0, firstContext: a2 };
    } else
      Yg = Yg.next = a2;
  return b3;
}
var fh = null;
function gh(a2) {
  null === fh ? fh = [a2] : fh.push(a2);
}
function hh(a2, b3, c2, d2) {
  var e = b3.interleaved;
  null === e ? (c2.next = c2, gh(b3)) : (c2.next = e.next, e.next = c2);
  b3.interleaved = c2;
  return ih(a2, d2);
}
function ih(a2, b3) {
  a2.lanes |= b3;
  var c2 = a2.alternate;
  null !== c2 && (c2.lanes |= b3);
  c2 = a2;
  for (a2 = a2.return; null !== a2; )
    a2.childLanes |= b3, c2 = a2.alternate, null !== c2 && (c2.childLanes |= b3), c2 = a2, a2 = a2.return;
  return 3 === c2.tag ? c2.stateNode : null;
}
var jh = false;
function kh(a2) {
  a2.updateQueue = { baseState: a2.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: 0 }, effects: null };
}
function lh(a2, b3) {
  a2 = a2.updateQueue;
  b3.updateQueue === a2 && (b3.updateQueue = { baseState: a2.baseState, firstBaseUpdate: a2.firstBaseUpdate, lastBaseUpdate: a2.lastBaseUpdate, shared: a2.shared, effects: a2.effects });
}
function mh(a2, b3) {
  return { eventTime: a2, lane: b3, tag: 0, payload: null, callback: null, next: null };
}
function nh(a2, b3, c2) {
  var d2 = a2.updateQueue;
  if (null === d2)
    return null;
  d2 = d2.shared;
  if (0 !== (K$1 & 2)) {
    var e = d2.pending;
    null === e ? b3.next = b3 : (b3.next = e.next, e.next = b3);
    d2.pending = b3;
    return ih(a2, c2);
  }
  e = d2.interleaved;
  null === e ? (b3.next = b3, gh(d2)) : (b3.next = e.next, e.next = b3);
  d2.interleaved = b3;
  return ih(a2, c2);
}
function oh(a2, b3, c2) {
  b3 = b3.updateQueue;
  if (null !== b3 && (b3 = b3.shared, 0 !== (c2 & 4194240))) {
    var d2 = b3.lanes;
    d2 &= a2.pendingLanes;
    c2 |= d2;
    b3.lanes = c2;
    Cc(a2, c2);
  }
}
function ph(a2, b3) {
  var c2 = a2.updateQueue, d2 = a2.alternate;
  if (null !== d2 && (d2 = d2.updateQueue, c2 === d2)) {
    var e = null, f2 = null;
    c2 = c2.firstBaseUpdate;
    if (null !== c2) {
      do {
        var g2 = { eventTime: c2.eventTime, lane: c2.lane, tag: c2.tag, payload: c2.payload, callback: c2.callback, next: null };
        null === f2 ? e = f2 = g2 : f2 = f2.next = g2;
        c2 = c2.next;
      } while (null !== c2);
      null === f2 ? e = f2 = b3 : f2 = f2.next = b3;
    } else
      e = f2 = b3;
    c2 = { baseState: d2.baseState, firstBaseUpdate: e, lastBaseUpdate: f2, shared: d2.shared, effects: d2.effects };
    a2.updateQueue = c2;
    return;
  }
  a2 = c2.lastBaseUpdate;
  null === a2 ? c2.firstBaseUpdate = b3 : a2.next = b3;
  c2.lastBaseUpdate = b3;
}
function qh(a2, b3, c2, d2) {
  var e = a2.updateQueue;
  jh = false;
  var f2 = e.firstBaseUpdate, g2 = e.lastBaseUpdate, h2 = e.shared.pending;
  if (null !== h2) {
    e.shared.pending = null;
    var k3 = h2, l2 = k3.next;
    k3.next = null;
    null === g2 ? f2 = l2 : g2.next = l2;
    g2 = k3;
    var m2 = a2.alternate;
    null !== m2 && (m2 = m2.updateQueue, h2 = m2.lastBaseUpdate, h2 !== g2 && (null === h2 ? m2.firstBaseUpdate = l2 : h2.next = l2, m2.lastBaseUpdate = k3));
  }
  if (null !== f2) {
    var q2 = e.baseState;
    g2 = 0;
    m2 = l2 = k3 = null;
    h2 = f2;
    do {
      var r2 = h2.lane, y2 = h2.eventTime;
      if ((d2 & r2) === r2) {
        null !== m2 && (m2 = m2.next = {
          eventTime: y2,
          lane: 0,
          tag: h2.tag,
          payload: h2.payload,
          callback: h2.callback,
          next: null
        });
        a: {
          var n2 = a2, t3 = h2;
          r2 = b3;
          y2 = c2;
          switch (t3.tag) {
            case 1:
              n2 = t3.payload;
              if ("function" === typeof n2) {
                q2 = n2.call(y2, q2, r2);
                break a;
              }
              q2 = n2;
              break a;
            case 3:
              n2.flags = n2.flags & -65537 | 128;
            case 0:
              n2 = t3.payload;
              r2 = "function" === typeof n2 ? n2.call(y2, q2, r2) : n2;
              if (null === r2 || void 0 === r2)
                break a;
              q2 = A$1({}, q2, r2);
              break a;
            case 2:
              jh = true;
          }
        }
        null !== h2.callback && 0 !== h2.lane && (a2.flags |= 64, r2 = e.effects, null === r2 ? e.effects = [h2] : r2.push(h2));
      } else
        y2 = { eventTime: y2, lane: r2, tag: h2.tag, payload: h2.payload, callback: h2.callback, next: null }, null === m2 ? (l2 = m2 = y2, k3 = q2) : m2 = m2.next = y2, g2 |= r2;
      h2 = h2.next;
      if (null === h2)
        if (h2 = e.shared.pending, null === h2)
          break;
        else
          r2 = h2, h2 = r2.next, r2.next = null, e.lastBaseUpdate = r2, e.shared.pending = null;
    } while (1);
    null === m2 && (k3 = q2);
    e.baseState = k3;
    e.firstBaseUpdate = l2;
    e.lastBaseUpdate = m2;
    b3 = e.shared.interleaved;
    if (null !== b3) {
      e = b3;
      do
        g2 |= e.lane, e = e.next;
      while (e !== b3);
    } else
      null === f2 && (e.shared.lanes = 0);
    rh |= g2;
    a2.lanes = g2;
    a2.memoizedState = q2;
  }
}
function sh(a2, b3, c2) {
  a2 = b3.effects;
  b3.effects = null;
  if (null !== a2)
    for (b3 = 0; b3 < a2.length; b3++) {
      var d2 = a2[b3], e = d2.callback;
      if (null !== e) {
        d2.callback = null;
        d2 = c2;
        if ("function" !== typeof e)
          throw Error(p$2(191, e));
        e.call(d2);
      }
    }
}
var th = {}, uh = Uf(th), vh = Uf(th), wh = Uf(th);
function xh(a2) {
  if (a2 === th)
    throw Error(p$2(174));
  return a2;
}
function yh(a2, b3) {
  G$1(wh, b3);
  G$1(vh, a2);
  G$1(uh, th);
  a2 = b3.nodeType;
  switch (a2) {
    case 9:
    case 11:
      b3 = (b3 = b3.documentElement) ? b3.namespaceURI : lb(null, "");
      break;
    default:
      a2 = 8 === a2 ? b3.parentNode : b3, b3 = a2.namespaceURI || null, a2 = a2.tagName, b3 = lb(b3, a2);
  }
  E$1(uh);
  G$1(uh, b3);
}
function zh$1() {
  E$1(uh);
  E$1(vh);
  E$1(wh);
}
function Ah(a2) {
  xh(wh.current);
  var b3 = xh(uh.current);
  var c2 = lb(b3, a2.type);
  b3 !== c2 && (G$1(vh, a2), G$1(uh, c2));
}
function Bh(a2) {
  vh.current === a2 && (E$1(uh), E$1(vh));
}
var L$1 = Uf(0);
function Ch(a2) {
  for (var b3 = a2; null !== b3; ) {
    if (13 === b3.tag) {
      var c2 = b3.memoizedState;
      if (null !== c2 && (c2 = c2.dehydrated, null === c2 || "$?" === c2.data || "$!" === c2.data))
        return b3;
    } else if (19 === b3.tag && void 0 !== b3.memoizedProps.revealOrder) {
      if (0 !== (b3.flags & 128))
        return b3;
    } else if (null !== b3.child) {
      b3.child.return = b3;
      b3 = b3.child;
      continue;
    }
    if (b3 === a2)
      break;
    for (; null === b3.sibling; ) {
      if (null === b3.return || b3.return === a2)
        return null;
      b3 = b3.return;
    }
    b3.sibling.return = b3.return;
    b3 = b3.sibling;
  }
  return null;
}
var Dh = [];
function Eh() {
  for (var a2 = 0; a2 < Dh.length; a2++)
    Dh[a2]._workInProgressVersionPrimary = null;
  Dh.length = 0;
}
var Fh = ua.ReactCurrentDispatcher, Gh = ua.ReactCurrentBatchConfig, Hh = 0, M$1 = null, N$1 = null, O$1 = null, Ih = false, Jh = false, Kh = 0, Lh = 0;
function P$1() {
  throw Error(p$2(321));
}
function Mh(a2, b3) {
  if (null === b3)
    return false;
  for (var c2 = 0; c2 < b3.length && c2 < a2.length; c2++)
    if (!He(a2[c2], b3[c2]))
      return false;
  return true;
}
function Nh(a2, b3, c2, d2, e, f2) {
  Hh = f2;
  M$1 = b3;
  b3.memoizedState = null;
  b3.updateQueue = null;
  b3.lanes = 0;
  Fh.current = null === a2 || null === a2.memoizedState ? Oh : Ph;
  a2 = c2(d2, e);
  if (Jh) {
    f2 = 0;
    do {
      Jh = false;
      Kh = 0;
      if (25 <= f2)
        throw Error(p$2(301));
      f2 += 1;
      O$1 = N$1 = null;
      b3.updateQueue = null;
      Fh.current = Qh;
      a2 = c2(d2, e);
    } while (Jh);
  }
  Fh.current = Rh;
  b3 = null !== N$1 && null !== N$1.next;
  Hh = 0;
  O$1 = N$1 = M$1 = null;
  Ih = false;
  if (b3)
    throw Error(p$2(300));
  return a2;
}
function Sh() {
  var a2 = 0 !== Kh;
  Kh = 0;
  return a2;
}
function Th() {
  var a2 = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null };
  null === O$1 ? M$1.memoizedState = O$1 = a2 : O$1 = O$1.next = a2;
  return O$1;
}
function Uh() {
  if (null === N$1) {
    var a2 = M$1.alternate;
    a2 = null !== a2 ? a2.memoizedState : null;
  } else
    a2 = N$1.next;
  var b3 = null === O$1 ? M$1.memoizedState : O$1.next;
  if (null !== b3)
    O$1 = b3, N$1 = a2;
  else {
    if (null === a2)
      throw Error(p$2(310));
    N$1 = a2;
    a2 = { memoizedState: N$1.memoizedState, baseState: N$1.baseState, baseQueue: N$1.baseQueue, queue: N$1.queue, next: null };
    null === O$1 ? M$1.memoizedState = O$1 = a2 : O$1 = O$1.next = a2;
  }
  return O$1;
}
function Vh(a2, b3) {
  return "function" === typeof b3 ? b3(a2) : b3;
}
function Wh(a2) {
  var b3 = Uh(), c2 = b3.queue;
  if (null === c2)
    throw Error(p$2(311));
  c2.lastRenderedReducer = a2;
  var d2 = N$1, e = d2.baseQueue, f2 = c2.pending;
  if (null !== f2) {
    if (null !== e) {
      var g2 = e.next;
      e.next = f2.next;
      f2.next = g2;
    }
    d2.baseQueue = e = f2;
    c2.pending = null;
  }
  if (null !== e) {
    f2 = e.next;
    d2 = d2.baseState;
    var h2 = g2 = null, k3 = null, l2 = f2;
    do {
      var m2 = l2.lane;
      if ((Hh & m2) === m2)
        null !== k3 && (k3 = k3.next = { lane: 0, action: l2.action, hasEagerState: l2.hasEagerState, eagerState: l2.eagerState, next: null }), d2 = l2.hasEagerState ? l2.eagerState : a2(d2, l2.action);
      else {
        var q2 = {
          lane: m2,
          action: l2.action,
          hasEagerState: l2.hasEagerState,
          eagerState: l2.eagerState,
          next: null
        };
        null === k3 ? (h2 = k3 = q2, g2 = d2) : k3 = k3.next = q2;
        M$1.lanes |= m2;
        rh |= m2;
      }
      l2 = l2.next;
    } while (null !== l2 && l2 !== f2);
    null === k3 ? g2 = d2 : k3.next = h2;
    He(d2, b3.memoizedState) || (dh = true);
    b3.memoizedState = d2;
    b3.baseState = g2;
    b3.baseQueue = k3;
    c2.lastRenderedState = d2;
  }
  a2 = c2.interleaved;
  if (null !== a2) {
    e = a2;
    do
      f2 = e.lane, M$1.lanes |= f2, rh |= f2, e = e.next;
    while (e !== a2);
  } else
    null === e && (c2.lanes = 0);
  return [b3.memoizedState, c2.dispatch];
}
function Xh(a2) {
  var b3 = Uh(), c2 = b3.queue;
  if (null === c2)
    throw Error(p$2(311));
  c2.lastRenderedReducer = a2;
  var d2 = c2.dispatch, e = c2.pending, f2 = b3.memoizedState;
  if (null !== e) {
    c2.pending = null;
    var g2 = e = e.next;
    do
      f2 = a2(f2, g2.action), g2 = g2.next;
    while (g2 !== e);
    He(f2, b3.memoizedState) || (dh = true);
    b3.memoizedState = f2;
    null === b3.baseQueue && (b3.baseState = f2);
    c2.lastRenderedState = f2;
  }
  return [f2, d2];
}
function Yh() {
}
function Zh(a2, b3) {
  var c2 = M$1, d2 = Uh(), e = b3(), f2 = !He(d2.memoizedState, e);
  f2 && (d2.memoizedState = e, dh = true);
  d2 = d2.queue;
  $h(ai.bind(null, c2, d2, a2), [a2]);
  if (d2.getSnapshot !== b3 || f2 || null !== O$1 && O$1.memoizedState.tag & 1) {
    c2.flags |= 2048;
    bi(9, ci.bind(null, c2, d2, e, b3), void 0, null);
    if (null === Q$1)
      throw Error(p$2(349));
    0 !== (Hh & 30) || di(c2, b3, e);
  }
  return e;
}
function di(a2, b3, c2) {
  a2.flags |= 16384;
  a2 = { getSnapshot: b3, value: c2 };
  b3 = M$1.updateQueue;
  null === b3 ? (b3 = { lastEffect: null, stores: null }, M$1.updateQueue = b3, b3.stores = [a2]) : (c2 = b3.stores, null === c2 ? b3.stores = [a2] : c2.push(a2));
}
function ci(a2, b3, c2, d2) {
  b3.value = c2;
  b3.getSnapshot = d2;
  ei(b3) && fi(a2);
}
function ai(a2, b3, c2) {
  return c2(function() {
    ei(b3) && fi(a2);
  });
}
function ei(a2) {
  var b3 = a2.getSnapshot;
  a2 = a2.value;
  try {
    var c2 = b3();
    return !He(a2, c2);
  } catch (d2) {
    return true;
  }
}
function fi(a2) {
  var b3 = ih(a2, 1);
  null !== b3 && gi(b3, a2, 1, -1);
}
function hi(a2) {
  var b3 = Th();
  "function" === typeof a2 && (a2 = a2());
  b3.memoizedState = b3.baseState = a2;
  a2 = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: Vh, lastRenderedState: a2 };
  b3.queue = a2;
  a2 = a2.dispatch = ii.bind(null, M$1, a2);
  return [b3.memoizedState, a2];
}
function bi(a2, b3, c2, d2) {
  a2 = { tag: a2, create: b3, destroy: c2, deps: d2, next: null };
  b3 = M$1.updateQueue;
  null === b3 ? (b3 = { lastEffect: null, stores: null }, M$1.updateQueue = b3, b3.lastEffect = a2.next = a2) : (c2 = b3.lastEffect, null === c2 ? b3.lastEffect = a2.next = a2 : (d2 = c2.next, c2.next = a2, a2.next = d2, b3.lastEffect = a2));
  return a2;
}
function ji() {
  return Uh().memoizedState;
}
function ki(a2, b3, c2, d2) {
  var e = Th();
  M$1.flags |= a2;
  e.memoizedState = bi(1 | b3, c2, void 0, void 0 === d2 ? null : d2);
}
function li(a2, b3, c2, d2) {
  var e = Uh();
  d2 = void 0 === d2 ? null : d2;
  var f2 = void 0;
  if (null !== N$1) {
    var g2 = N$1.memoizedState;
    f2 = g2.destroy;
    if (null !== d2 && Mh(d2, g2.deps)) {
      e.memoizedState = bi(b3, c2, f2, d2);
      return;
    }
  }
  M$1.flags |= a2;
  e.memoizedState = bi(1 | b3, c2, f2, d2);
}
function mi(a2, b3) {
  return ki(8390656, 8, a2, b3);
}
function $h(a2, b3) {
  return li(2048, 8, a2, b3);
}
function ni(a2, b3) {
  return li(4, 2, a2, b3);
}
function oi(a2, b3) {
  return li(4, 4, a2, b3);
}
function pi(a2, b3) {
  if ("function" === typeof b3)
    return a2 = a2(), b3(a2), function() {
      b3(null);
    };
  if (null !== b3 && void 0 !== b3)
    return a2 = a2(), b3.current = a2, function() {
      b3.current = null;
    };
}
function qi(a2, b3, c2) {
  c2 = null !== c2 && void 0 !== c2 ? c2.concat([a2]) : null;
  return li(4, 4, pi.bind(null, b3, a2), c2);
}
function ri() {
}
function si(a2, b3) {
  var c2 = Uh();
  b3 = void 0 === b3 ? null : b3;
  var d2 = c2.memoizedState;
  if (null !== d2 && null !== b3 && Mh(b3, d2[1]))
    return d2[0];
  c2.memoizedState = [a2, b3];
  return a2;
}
function ti(a2, b3) {
  var c2 = Uh();
  b3 = void 0 === b3 ? null : b3;
  var d2 = c2.memoizedState;
  if (null !== d2 && null !== b3 && Mh(b3, d2[1]))
    return d2[0];
  a2 = a2();
  c2.memoizedState = [a2, b3];
  return a2;
}
function ui(a2, b3, c2) {
  if (0 === (Hh & 21))
    return a2.baseState && (a2.baseState = false, dh = true), a2.memoizedState = c2;
  He(c2, b3) || (c2 = yc(), M$1.lanes |= c2, rh |= c2, a2.baseState = true);
  return b3;
}
function vi(a2, b3) {
  var c2 = C$1;
  C$1 = 0 !== c2 && 4 > c2 ? c2 : 4;
  a2(true);
  var d2 = Gh.transition;
  Gh.transition = {};
  try {
    a2(false), b3();
  } finally {
    C$1 = c2, Gh.transition = d2;
  }
}
function wi() {
  return Uh().memoizedState;
}
function xi(a2, b3, c2) {
  var d2 = yi(a2);
  c2 = { lane: d2, action: c2, hasEagerState: false, eagerState: null, next: null };
  if (zi(a2))
    Ai(b3, c2);
  else if (c2 = hh(a2, b3, c2, d2), null !== c2) {
    var e = R$1();
    gi(c2, a2, d2, e);
    Bi(c2, b3, d2);
  }
}
function ii(a2, b3, c2) {
  var d2 = yi(a2), e = { lane: d2, action: c2, hasEagerState: false, eagerState: null, next: null };
  if (zi(a2))
    Ai(b3, e);
  else {
    var f2 = a2.alternate;
    if (0 === a2.lanes && (null === f2 || 0 === f2.lanes) && (f2 = b3.lastRenderedReducer, null !== f2))
      try {
        var g2 = b3.lastRenderedState, h2 = f2(g2, c2);
        e.hasEagerState = true;
        e.eagerState = h2;
        if (He(h2, g2)) {
          var k3 = b3.interleaved;
          null === k3 ? (e.next = e, gh(b3)) : (e.next = k3.next, k3.next = e);
          b3.interleaved = e;
          return;
        }
      } catch (l2) {
      } finally {
      }
    c2 = hh(a2, b3, e, d2);
    null !== c2 && (e = R$1(), gi(c2, a2, d2, e), Bi(c2, b3, d2));
  }
}
function zi(a2) {
  var b3 = a2.alternate;
  return a2 === M$1 || null !== b3 && b3 === M$1;
}
function Ai(a2, b3) {
  Jh = Ih = true;
  var c2 = a2.pending;
  null === c2 ? b3.next = b3 : (b3.next = c2.next, c2.next = b3);
  a2.pending = b3;
}
function Bi(a2, b3, c2) {
  if (0 !== (c2 & 4194240)) {
    var d2 = b3.lanes;
    d2 &= a2.pendingLanes;
    c2 |= d2;
    b3.lanes = c2;
    Cc(a2, c2);
  }
}
var Rh = { readContext: eh, useCallback: P$1, useContext: P$1, useEffect: P$1, useImperativeHandle: P$1, useInsertionEffect: P$1, useLayoutEffect: P$1, useMemo: P$1, useReducer: P$1, useRef: P$1, useState: P$1, useDebugValue: P$1, useDeferredValue: P$1, useTransition: P$1, useMutableSource: P$1, useSyncExternalStore: P$1, useId: P$1, unstable_isNewReconciler: false }, Oh = { readContext: eh, useCallback: function(a2, b3) {
  Th().memoizedState = [a2, void 0 === b3 ? null : b3];
  return a2;
}, useContext: eh, useEffect: mi, useImperativeHandle: function(a2, b3, c2) {
  c2 = null !== c2 && void 0 !== c2 ? c2.concat([a2]) : null;
  return ki(
    4194308,
    4,
    pi.bind(null, b3, a2),
    c2
  );
}, useLayoutEffect: function(a2, b3) {
  return ki(4194308, 4, a2, b3);
}, useInsertionEffect: function(a2, b3) {
  return ki(4, 2, a2, b3);
}, useMemo: function(a2, b3) {
  var c2 = Th();
  b3 = void 0 === b3 ? null : b3;
  a2 = a2();
  c2.memoizedState = [a2, b3];
  return a2;
}, useReducer: function(a2, b3, c2) {
  var d2 = Th();
  b3 = void 0 !== c2 ? c2(b3) : b3;
  d2.memoizedState = d2.baseState = b3;
  a2 = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: a2, lastRenderedState: b3 };
  d2.queue = a2;
  a2 = a2.dispatch = xi.bind(null, M$1, a2);
  return [d2.memoizedState, a2];
}, useRef: function(a2) {
  var b3 = Th();
  a2 = { current: a2 };
  return b3.memoizedState = a2;
}, useState: hi, useDebugValue: ri, useDeferredValue: function(a2) {
  return Th().memoizedState = a2;
}, useTransition: function() {
  var a2 = hi(false), b3 = a2[0];
  a2 = vi.bind(null, a2[1]);
  Th().memoizedState = a2;
  return [b3, a2];
}, useMutableSource: function() {
}, useSyncExternalStore: function(a2, b3, c2) {
  var d2 = M$1, e = Th();
  if (I$1) {
    if (void 0 === c2)
      throw Error(p$2(407));
    c2 = c2();
  } else {
    c2 = b3();
    if (null === Q$1)
      throw Error(p$2(349));
    0 !== (Hh & 30) || di(d2, b3, c2);
  }
  e.memoizedState = c2;
  var f2 = { value: c2, getSnapshot: b3 };
  e.queue = f2;
  mi(ai.bind(
    null,
    d2,
    f2,
    a2
  ), [a2]);
  d2.flags |= 2048;
  bi(9, ci.bind(null, d2, f2, c2, b3), void 0, null);
  return c2;
}, useId: function() {
  var a2 = Th(), b3 = Q$1.identifierPrefix;
  if (I$1) {
    var c2 = sg;
    var d2 = rg;
    c2 = (d2 & ~(1 << 32 - oc(d2) - 1)).toString(32) + c2;
    b3 = ":" + b3 + "R" + c2;
    c2 = Kh++;
    0 < c2 && (b3 += "H" + c2.toString(32));
    b3 += ":";
  } else
    c2 = Lh++, b3 = ":" + b3 + "r" + c2.toString(32) + ":";
  return a2.memoizedState = b3;
}, unstable_isNewReconciler: false }, Ph = {
  readContext: eh,
  useCallback: si,
  useContext: eh,
  useEffect: $h,
  useImperativeHandle: qi,
  useInsertionEffect: ni,
  useLayoutEffect: oi,
  useMemo: ti,
  useReducer: Wh,
  useRef: ji,
  useState: function() {
    return Wh(Vh);
  },
  useDebugValue: ri,
  useDeferredValue: function(a2) {
    var b3 = Uh();
    return ui(b3, N$1.memoizedState, a2);
  },
  useTransition: function() {
    var a2 = Wh(Vh)[0], b3 = Uh().memoizedState;
    return [a2, b3];
  },
  useMutableSource: Yh,
  useSyncExternalStore: Zh,
  useId: wi,
  unstable_isNewReconciler: false
}, Qh = { readContext: eh, useCallback: si, useContext: eh, useEffect: $h, useImperativeHandle: qi, useInsertionEffect: ni, useLayoutEffect: oi, useMemo: ti, useReducer: Xh, useRef: ji, useState: function() {
  return Xh(Vh);
}, useDebugValue: ri, useDeferredValue: function(a2) {
  var b3 = Uh();
  return null === N$1 ? b3.memoizedState = a2 : ui(b3, N$1.memoizedState, a2);
}, useTransition: function() {
  var a2 = Xh(Vh)[0], b3 = Uh().memoizedState;
  return [a2, b3];
}, useMutableSource: Yh, useSyncExternalStore: Zh, useId: wi, unstable_isNewReconciler: false };
function Ci(a2, b3) {
  if (a2 && a2.defaultProps) {
    b3 = A$1({}, b3);
    a2 = a2.defaultProps;
    for (var c2 in a2)
      void 0 === b3[c2] && (b3[c2] = a2[c2]);
    return b3;
  }
  return b3;
}
function Di(a2, b3, c2, d2) {
  b3 = a2.memoizedState;
  c2 = c2(d2, b3);
  c2 = null === c2 || void 0 === c2 ? b3 : A$1({}, b3, c2);
  a2.memoizedState = c2;
  0 === a2.lanes && (a2.updateQueue.baseState = c2);
}
var Ei = { isMounted: function(a2) {
  return (a2 = a2._reactInternals) ? Vb(a2) === a2 : false;
}, enqueueSetState: function(a2, b3, c2) {
  a2 = a2._reactInternals;
  var d2 = R$1(), e = yi(a2), f2 = mh(d2, e);
  f2.payload = b3;
  void 0 !== c2 && null !== c2 && (f2.callback = c2);
  b3 = nh(a2, f2, e);
  null !== b3 && (gi(b3, a2, e, d2), oh(b3, a2, e));
}, enqueueReplaceState: function(a2, b3, c2) {
  a2 = a2._reactInternals;
  var d2 = R$1(), e = yi(a2), f2 = mh(d2, e);
  f2.tag = 1;
  f2.payload = b3;
  void 0 !== c2 && null !== c2 && (f2.callback = c2);
  b3 = nh(a2, f2, e);
  null !== b3 && (gi(b3, a2, e, d2), oh(b3, a2, e));
}, enqueueForceUpdate: function(a2, b3) {
  a2 = a2._reactInternals;
  var c2 = R$1(), d2 = yi(a2), e = mh(c2, d2);
  e.tag = 2;
  void 0 !== b3 && null !== b3 && (e.callback = b3);
  b3 = nh(a2, e, d2);
  null !== b3 && (gi(b3, a2, d2, c2), oh(b3, a2, d2));
} };
function Fi(a2, b3, c2, d2, e, f2, g2) {
  a2 = a2.stateNode;
  return "function" === typeof a2.shouldComponentUpdate ? a2.shouldComponentUpdate(d2, f2, g2) : b3.prototype && b3.prototype.isPureReactComponent ? !Ie$1(c2, d2) || !Ie$1(e, f2) : true;
}
function Gi(a2, b3, c2) {
  var d2 = false, e = Vf;
  var f2 = b3.contextType;
  "object" === typeof f2 && null !== f2 ? f2 = eh(f2) : (e = Zf(b3) ? Xf : H$1.current, d2 = b3.contextTypes, f2 = (d2 = null !== d2 && void 0 !== d2) ? Yf(a2, e) : Vf);
  b3 = new b3(c2, f2);
  a2.memoizedState = null !== b3.state && void 0 !== b3.state ? b3.state : null;
  b3.updater = Ei;
  a2.stateNode = b3;
  b3._reactInternals = a2;
  d2 && (a2 = a2.stateNode, a2.__reactInternalMemoizedUnmaskedChildContext = e, a2.__reactInternalMemoizedMaskedChildContext = f2);
  return b3;
}
function Hi(a2, b3, c2, d2) {
  a2 = b3.state;
  "function" === typeof b3.componentWillReceiveProps && b3.componentWillReceiveProps(c2, d2);
  "function" === typeof b3.UNSAFE_componentWillReceiveProps && b3.UNSAFE_componentWillReceiveProps(c2, d2);
  b3.state !== a2 && Ei.enqueueReplaceState(b3, b3.state, null);
}
function Ii(a2, b3, c2, d2) {
  var e = a2.stateNode;
  e.props = c2;
  e.state = a2.memoizedState;
  e.refs = {};
  kh(a2);
  var f2 = b3.contextType;
  "object" === typeof f2 && null !== f2 ? e.context = eh(f2) : (f2 = Zf(b3) ? Xf : H$1.current, e.context = Yf(a2, f2));
  e.state = a2.memoizedState;
  f2 = b3.getDerivedStateFromProps;
  "function" === typeof f2 && (Di(a2, b3, f2, c2), e.state = a2.memoizedState);
  "function" === typeof b3.getDerivedStateFromProps || "function" === typeof e.getSnapshotBeforeUpdate || "function" !== typeof e.UNSAFE_componentWillMount && "function" !== typeof e.componentWillMount || (b3 = e.state, "function" === typeof e.componentWillMount && e.componentWillMount(), "function" === typeof e.UNSAFE_componentWillMount && e.UNSAFE_componentWillMount(), b3 !== e.state && Ei.enqueueReplaceState(e, e.state, null), qh(a2, c2, e, d2), e.state = a2.memoizedState);
  "function" === typeof e.componentDidMount && (a2.flags |= 4194308);
}
function Ji(a2, b3) {
  try {
    var c2 = "", d2 = b3;
    do
      c2 += Pa(d2), d2 = d2.return;
    while (d2);
    var e = c2;
  } catch (f2) {
    e = "\nError generating stack: " + f2.message + "\n" + f2.stack;
  }
  return { value: a2, source: b3, stack: e, digest: null };
}
function Ki(a2, b3, c2) {
  return { value: a2, source: null, stack: null != c2 ? c2 : null, digest: null != b3 ? b3 : null };
}
function Li(a2, b3) {
  try {
    console.error(b3.value);
  } catch (c2) {
    setTimeout(function() {
      throw c2;
    });
  }
}
var Mi = "function" === typeof WeakMap ? WeakMap : Map;
function Ni(a2, b3, c2) {
  c2 = mh(-1, c2);
  c2.tag = 3;
  c2.payload = { element: null };
  var d2 = b3.value;
  c2.callback = function() {
    Oi || (Oi = true, Pi = d2);
    Li(a2, b3);
  };
  return c2;
}
function Qi(a2, b3, c2) {
  c2 = mh(-1, c2);
  c2.tag = 3;
  var d2 = a2.type.getDerivedStateFromError;
  if ("function" === typeof d2) {
    var e = b3.value;
    c2.payload = function() {
      return d2(e);
    };
    c2.callback = function() {
      Li(a2, b3);
    };
  }
  var f2 = a2.stateNode;
  null !== f2 && "function" === typeof f2.componentDidCatch && (c2.callback = function() {
    Li(a2, b3);
    "function" !== typeof d2 && (null === Ri ? Ri = /* @__PURE__ */ new Set([this]) : Ri.add(this));
    var c3 = b3.stack;
    this.componentDidCatch(b3.value, { componentStack: null !== c3 ? c3 : "" });
  });
  return c2;
}
function Si(a2, b3, c2) {
  var d2 = a2.pingCache;
  if (null === d2) {
    d2 = a2.pingCache = new Mi();
    var e = /* @__PURE__ */ new Set();
    d2.set(b3, e);
  } else
    e = d2.get(b3), void 0 === e && (e = /* @__PURE__ */ new Set(), d2.set(b3, e));
  e.has(c2) || (e.add(c2), a2 = Ti.bind(null, a2, b3, c2), b3.then(a2, a2));
}
function Ui(a2) {
  do {
    var b3;
    if (b3 = 13 === a2.tag)
      b3 = a2.memoizedState, b3 = null !== b3 ? null !== b3.dehydrated ? true : false : true;
    if (b3)
      return a2;
    a2 = a2.return;
  } while (null !== a2);
  return null;
}
function Vi(a2, b3, c2, d2, e) {
  if (0 === (a2.mode & 1))
    return a2 === b3 ? a2.flags |= 65536 : (a2.flags |= 128, c2.flags |= 131072, c2.flags &= -52805, 1 === c2.tag && (null === c2.alternate ? c2.tag = 17 : (b3 = mh(-1, 1), b3.tag = 2, nh(c2, b3, 1))), c2.lanes |= 1), a2;
  a2.flags |= 65536;
  a2.lanes = e;
  return a2;
}
var Wi = ua.ReactCurrentOwner, dh = false;
function Xi(a2, b3, c2, d2) {
  b3.child = null === a2 ? Vg(b3, null, c2, d2) : Ug(b3, a2.child, c2, d2);
}
function Yi(a2, b3, c2, d2, e) {
  c2 = c2.render;
  var f2 = b3.ref;
  ch$1(b3, e);
  d2 = Nh(a2, b3, c2, d2, f2, e);
  c2 = Sh();
  if (null !== a2 && !dh)
    return b3.updateQueue = a2.updateQueue, b3.flags &= -2053, a2.lanes &= ~e, Zi(a2, b3, e);
  I$1 && c2 && vg(b3);
  b3.flags |= 1;
  Xi(a2, b3, d2, e);
  return b3.child;
}
function $i(a2, b3, c2, d2, e) {
  if (null === a2) {
    var f2 = c2.type;
    if ("function" === typeof f2 && !aj(f2) && void 0 === f2.defaultProps && null === c2.compare && void 0 === c2.defaultProps)
      return b3.tag = 15, b3.type = f2, bj(a2, b3, f2, d2, e);
    a2 = Rg(c2.type, null, d2, b3, b3.mode, e);
    a2.ref = b3.ref;
    a2.return = b3;
    return b3.child = a2;
  }
  f2 = a2.child;
  if (0 === (a2.lanes & e)) {
    var g2 = f2.memoizedProps;
    c2 = c2.compare;
    c2 = null !== c2 ? c2 : Ie$1;
    if (c2(g2, d2) && a2.ref === b3.ref)
      return Zi(a2, b3, e);
  }
  b3.flags |= 1;
  a2 = Pg(f2, d2);
  a2.ref = b3.ref;
  a2.return = b3;
  return b3.child = a2;
}
function bj(a2, b3, c2, d2, e) {
  if (null !== a2) {
    var f2 = a2.memoizedProps;
    if (Ie$1(f2, d2) && a2.ref === b3.ref)
      if (dh = false, b3.pendingProps = d2 = f2, 0 !== (a2.lanes & e))
        0 !== (a2.flags & 131072) && (dh = true);
      else
        return b3.lanes = a2.lanes, Zi(a2, b3, e);
  }
  return cj(a2, b3, c2, d2, e);
}
function dj(a2, b3, c2) {
  var d2 = b3.pendingProps, e = d2.children, f2 = null !== a2 ? a2.memoizedState : null;
  if ("hidden" === d2.mode)
    if (0 === (b3.mode & 1))
      b3.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, G$1(ej, fj), fj |= c2;
    else {
      if (0 === (c2 & 1073741824))
        return a2 = null !== f2 ? f2.baseLanes | c2 : c2, b3.lanes = b3.childLanes = 1073741824, b3.memoizedState = { baseLanes: a2, cachePool: null, transitions: null }, b3.updateQueue = null, G$1(ej, fj), fj |= a2, null;
      b3.memoizedState = { baseLanes: 0, cachePool: null, transitions: null };
      d2 = null !== f2 ? f2.baseLanes : c2;
      G$1(ej, fj);
      fj |= d2;
    }
  else
    null !== f2 ? (d2 = f2.baseLanes | c2, b3.memoizedState = null) : d2 = c2, G$1(ej, fj), fj |= d2;
  Xi(a2, b3, e, c2);
  return b3.child;
}
function gj(a2, b3) {
  var c2 = b3.ref;
  if (null === a2 && null !== c2 || null !== a2 && a2.ref !== c2)
    b3.flags |= 512, b3.flags |= 2097152;
}
function cj(a2, b3, c2, d2, e) {
  var f2 = Zf(c2) ? Xf : H$1.current;
  f2 = Yf(b3, f2);
  ch$1(b3, e);
  c2 = Nh(a2, b3, c2, d2, f2, e);
  d2 = Sh();
  if (null !== a2 && !dh)
    return b3.updateQueue = a2.updateQueue, b3.flags &= -2053, a2.lanes &= ~e, Zi(a2, b3, e);
  I$1 && d2 && vg(b3);
  b3.flags |= 1;
  Xi(a2, b3, c2, e);
  return b3.child;
}
function hj(a2, b3, c2, d2, e) {
  if (Zf(c2)) {
    var f2 = true;
    cg(b3);
  } else
    f2 = false;
  ch$1(b3, e);
  if (null === b3.stateNode)
    ij(a2, b3), Gi(b3, c2, d2), Ii(b3, c2, d2, e), d2 = true;
  else if (null === a2) {
    var g2 = b3.stateNode, h2 = b3.memoizedProps;
    g2.props = h2;
    var k3 = g2.context, l2 = c2.contextType;
    "object" === typeof l2 && null !== l2 ? l2 = eh(l2) : (l2 = Zf(c2) ? Xf : H$1.current, l2 = Yf(b3, l2));
    var m2 = c2.getDerivedStateFromProps, q2 = "function" === typeof m2 || "function" === typeof g2.getSnapshotBeforeUpdate;
    q2 || "function" !== typeof g2.UNSAFE_componentWillReceiveProps && "function" !== typeof g2.componentWillReceiveProps || (h2 !== d2 || k3 !== l2) && Hi(b3, g2, d2, l2);
    jh = false;
    var r2 = b3.memoizedState;
    g2.state = r2;
    qh(b3, d2, g2, e);
    k3 = b3.memoizedState;
    h2 !== d2 || r2 !== k3 || Wf.current || jh ? ("function" === typeof m2 && (Di(b3, c2, m2, d2), k3 = b3.memoizedState), (h2 = jh || Fi(b3, c2, h2, d2, r2, k3, l2)) ? (q2 || "function" !== typeof g2.UNSAFE_componentWillMount && "function" !== typeof g2.componentWillMount || ("function" === typeof g2.componentWillMount && g2.componentWillMount(), "function" === typeof g2.UNSAFE_componentWillMount && g2.UNSAFE_componentWillMount()), "function" === typeof g2.componentDidMount && (b3.flags |= 4194308)) : ("function" === typeof g2.componentDidMount && (b3.flags |= 4194308), b3.memoizedProps = d2, b3.memoizedState = k3), g2.props = d2, g2.state = k3, g2.context = l2, d2 = h2) : ("function" === typeof g2.componentDidMount && (b3.flags |= 4194308), d2 = false);
  } else {
    g2 = b3.stateNode;
    lh(a2, b3);
    h2 = b3.memoizedProps;
    l2 = b3.type === b3.elementType ? h2 : Ci(b3.type, h2);
    g2.props = l2;
    q2 = b3.pendingProps;
    r2 = g2.context;
    k3 = c2.contextType;
    "object" === typeof k3 && null !== k3 ? k3 = eh(k3) : (k3 = Zf(c2) ? Xf : H$1.current, k3 = Yf(b3, k3));
    var y2 = c2.getDerivedStateFromProps;
    (m2 = "function" === typeof y2 || "function" === typeof g2.getSnapshotBeforeUpdate) || "function" !== typeof g2.UNSAFE_componentWillReceiveProps && "function" !== typeof g2.componentWillReceiveProps || (h2 !== q2 || r2 !== k3) && Hi(b3, g2, d2, k3);
    jh = false;
    r2 = b3.memoizedState;
    g2.state = r2;
    qh(b3, d2, g2, e);
    var n2 = b3.memoizedState;
    h2 !== q2 || r2 !== n2 || Wf.current || jh ? ("function" === typeof y2 && (Di(b3, c2, y2, d2), n2 = b3.memoizedState), (l2 = jh || Fi(b3, c2, l2, d2, r2, n2, k3) || false) ? (m2 || "function" !== typeof g2.UNSAFE_componentWillUpdate && "function" !== typeof g2.componentWillUpdate || ("function" === typeof g2.componentWillUpdate && g2.componentWillUpdate(d2, n2, k3), "function" === typeof g2.UNSAFE_componentWillUpdate && g2.UNSAFE_componentWillUpdate(d2, n2, k3)), "function" === typeof g2.componentDidUpdate && (b3.flags |= 4), "function" === typeof g2.getSnapshotBeforeUpdate && (b3.flags |= 1024)) : ("function" !== typeof g2.componentDidUpdate || h2 === a2.memoizedProps && r2 === a2.memoizedState || (b3.flags |= 4), "function" !== typeof g2.getSnapshotBeforeUpdate || h2 === a2.memoizedProps && r2 === a2.memoizedState || (b3.flags |= 1024), b3.memoizedProps = d2, b3.memoizedState = n2), g2.props = d2, g2.state = n2, g2.context = k3, d2 = l2) : ("function" !== typeof g2.componentDidUpdate || h2 === a2.memoizedProps && r2 === a2.memoizedState || (b3.flags |= 4), "function" !== typeof g2.getSnapshotBeforeUpdate || h2 === a2.memoizedProps && r2 === a2.memoizedState || (b3.flags |= 1024), d2 = false);
  }
  return jj(a2, b3, c2, d2, f2, e);
}
function jj(a2, b3, c2, d2, e, f2) {
  gj(a2, b3);
  var g2 = 0 !== (b3.flags & 128);
  if (!d2 && !g2)
    return e && dg(b3, c2, false), Zi(a2, b3, f2);
  d2 = b3.stateNode;
  Wi.current = b3;
  var h2 = g2 && "function" !== typeof c2.getDerivedStateFromError ? null : d2.render();
  b3.flags |= 1;
  null !== a2 && g2 ? (b3.child = Ug(b3, a2.child, null, f2), b3.child = Ug(b3, null, h2, f2)) : Xi(a2, b3, h2, f2);
  b3.memoizedState = d2.state;
  e && dg(b3, c2, true);
  return b3.child;
}
function kj(a2) {
  var b3 = a2.stateNode;
  b3.pendingContext ? ag(a2, b3.pendingContext, b3.pendingContext !== b3.context) : b3.context && ag(a2, b3.context, false);
  yh(a2, b3.containerInfo);
}
function lj(a2, b3, c2, d2, e) {
  Ig();
  Jg(e);
  b3.flags |= 256;
  Xi(a2, b3, c2, d2);
  return b3.child;
}
var mj = { dehydrated: null, treeContext: null, retryLane: 0 };
function nj(a2) {
  return { baseLanes: a2, cachePool: null, transitions: null };
}
function oj(a2, b3, c2) {
  var d2 = b3.pendingProps, e = L$1.current, f2 = false, g2 = 0 !== (b3.flags & 128), h2;
  (h2 = g2) || (h2 = null !== a2 && null === a2.memoizedState ? false : 0 !== (e & 2));
  if (h2)
    f2 = true, b3.flags &= -129;
  else if (null === a2 || null !== a2.memoizedState)
    e |= 1;
  G$1(L$1, e & 1);
  if (null === a2) {
    Eg(b3);
    a2 = b3.memoizedState;
    if (null !== a2 && (a2 = a2.dehydrated, null !== a2))
      return 0 === (b3.mode & 1) ? b3.lanes = 1 : "$!" === a2.data ? b3.lanes = 8 : b3.lanes = 1073741824, null;
    g2 = d2.children;
    a2 = d2.fallback;
    return f2 ? (d2 = b3.mode, f2 = b3.child, g2 = { mode: "hidden", children: g2 }, 0 === (d2 & 1) && null !== f2 ? (f2.childLanes = 0, f2.pendingProps = g2) : f2 = pj(g2, d2, 0, null), a2 = Tg(a2, d2, c2, null), f2.return = b3, a2.return = b3, f2.sibling = a2, b3.child = f2, b3.child.memoizedState = nj(c2), b3.memoizedState = mj, a2) : qj(b3, g2);
  }
  e = a2.memoizedState;
  if (null !== e && (h2 = e.dehydrated, null !== h2))
    return rj(a2, b3, g2, d2, h2, e, c2);
  if (f2) {
    f2 = d2.fallback;
    g2 = b3.mode;
    e = a2.child;
    h2 = e.sibling;
    var k3 = { mode: "hidden", children: d2.children };
    0 === (g2 & 1) && b3.child !== e ? (d2 = b3.child, d2.childLanes = 0, d2.pendingProps = k3, b3.deletions = null) : (d2 = Pg(e, k3), d2.subtreeFlags = e.subtreeFlags & 14680064);
    null !== h2 ? f2 = Pg(h2, f2) : (f2 = Tg(f2, g2, c2, null), f2.flags |= 2);
    f2.return = b3;
    d2.return = b3;
    d2.sibling = f2;
    b3.child = d2;
    d2 = f2;
    f2 = b3.child;
    g2 = a2.child.memoizedState;
    g2 = null === g2 ? nj(c2) : { baseLanes: g2.baseLanes | c2, cachePool: null, transitions: g2.transitions };
    f2.memoizedState = g2;
    f2.childLanes = a2.childLanes & ~c2;
    b3.memoizedState = mj;
    return d2;
  }
  f2 = a2.child;
  a2 = f2.sibling;
  d2 = Pg(f2, { mode: "visible", children: d2.children });
  0 === (b3.mode & 1) && (d2.lanes = c2);
  d2.return = b3;
  d2.sibling = null;
  null !== a2 && (c2 = b3.deletions, null === c2 ? (b3.deletions = [a2], b3.flags |= 16) : c2.push(a2));
  b3.child = d2;
  b3.memoizedState = null;
  return d2;
}
function qj(a2, b3) {
  b3 = pj({ mode: "visible", children: b3 }, a2.mode, 0, null);
  b3.return = a2;
  return a2.child = b3;
}
function sj(a2, b3, c2, d2) {
  null !== d2 && Jg(d2);
  Ug(b3, a2.child, null, c2);
  a2 = qj(b3, b3.pendingProps.children);
  a2.flags |= 2;
  b3.memoizedState = null;
  return a2;
}
function rj(a2, b3, c2, d2, e, f2, g2) {
  if (c2) {
    if (b3.flags & 256)
      return b3.flags &= -257, d2 = Ki(Error(p$2(422))), sj(a2, b3, g2, d2);
    if (null !== b3.memoizedState)
      return b3.child = a2.child, b3.flags |= 128, null;
    f2 = d2.fallback;
    e = b3.mode;
    d2 = pj({ mode: "visible", children: d2.children }, e, 0, null);
    f2 = Tg(f2, e, g2, null);
    f2.flags |= 2;
    d2.return = b3;
    f2.return = b3;
    d2.sibling = f2;
    b3.child = d2;
    0 !== (b3.mode & 1) && Ug(b3, a2.child, null, g2);
    b3.child.memoizedState = nj(g2);
    b3.memoizedState = mj;
    return f2;
  }
  if (0 === (b3.mode & 1))
    return sj(a2, b3, g2, null);
  if ("$!" === e.data) {
    d2 = e.nextSibling && e.nextSibling.dataset;
    if (d2)
      var h2 = d2.dgst;
    d2 = h2;
    f2 = Error(p$2(419));
    d2 = Ki(f2, d2, void 0);
    return sj(a2, b3, g2, d2);
  }
  h2 = 0 !== (g2 & a2.childLanes);
  if (dh || h2) {
    d2 = Q$1;
    if (null !== d2) {
      switch (g2 & -g2) {
        case 4:
          e = 2;
          break;
        case 16:
          e = 8;
          break;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          e = 32;
          break;
        case 536870912:
          e = 268435456;
          break;
        default:
          e = 0;
      }
      e = 0 !== (e & (d2.suspendedLanes | g2)) ? 0 : e;
      0 !== e && e !== f2.retryLane && (f2.retryLane = e, ih(a2, e), gi(d2, a2, e, -1));
    }
    tj();
    d2 = Ki(Error(p$2(421)));
    return sj(a2, b3, g2, d2);
  }
  if ("$?" === e.data)
    return b3.flags |= 128, b3.child = a2.child, b3 = uj.bind(null, a2), e._reactRetry = b3, null;
  a2 = f2.treeContext;
  yg = Lf(e.nextSibling);
  xg = b3;
  I$1 = true;
  zg = null;
  null !== a2 && (og[pg++] = rg, og[pg++] = sg, og[pg++] = qg, rg = a2.id, sg = a2.overflow, qg = b3);
  b3 = qj(b3, d2.children);
  b3.flags |= 4096;
  return b3;
}
function vj(a2, b3, c2) {
  a2.lanes |= b3;
  var d2 = a2.alternate;
  null !== d2 && (d2.lanes |= b3);
  bh(a2.return, b3, c2);
}
function wj(a2, b3, c2, d2, e) {
  var f2 = a2.memoizedState;
  null === f2 ? a2.memoizedState = { isBackwards: b3, rendering: null, renderingStartTime: 0, last: d2, tail: c2, tailMode: e } : (f2.isBackwards = b3, f2.rendering = null, f2.renderingStartTime = 0, f2.last = d2, f2.tail = c2, f2.tailMode = e);
}
function xj(a2, b3, c2) {
  var d2 = b3.pendingProps, e = d2.revealOrder, f2 = d2.tail;
  Xi(a2, b3, d2.children, c2);
  d2 = L$1.current;
  if (0 !== (d2 & 2))
    d2 = d2 & 1 | 2, b3.flags |= 128;
  else {
    if (null !== a2 && 0 !== (a2.flags & 128))
      a:
        for (a2 = b3.child; null !== a2; ) {
          if (13 === a2.tag)
            null !== a2.memoizedState && vj(a2, c2, b3);
          else if (19 === a2.tag)
            vj(a2, c2, b3);
          else if (null !== a2.child) {
            a2.child.return = a2;
            a2 = a2.child;
            continue;
          }
          if (a2 === b3)
            break a;
          for (; null === a2.sibling; ) {
            if (null === a2.return || a2.return === b3)
              break a;
            a2 = a2.return;
          }
          a2.sibling.return = a2.return;
          a2 = a2.sibling;
        }
    d2 &= 1;
  }
  G$1(L$1, d2);
  if (0 === (b3.mode & 1))
    b3.memoizedState = null;
  else
    switch (e) {
      case "forwards":
        c2 = b3.child;
        for (e = null; null !== c2; )
          a2 = c2.alternate, null !== a2 && null === Ch(a2) && (e = c2), c2 = c2.sibling;
        c2 = e;
        null === c2 ? (e = b3.child, b3.child = null) : (e = c2.sibling, c2.sibling = null);
        wj(b3, false, e, c2, f2);
        break;
      case "backwards":
        c2 = null;
        e = b3.child;
        for (b3.child = null; null !== e; ) {
          a2 = e.alternate;
          if (null !== a2 && null === Ch(a2)) {
            b3.child = e;
            break;
          }
          a2 = e.sibling;
          e.sibling = c2;
          c2 = e;
          e = a2;
        }
        wj(b3, true, c2, null, f2);
        break;
      case "together":
        wj(b3, false, null, null, void 0);
        break;
      default:
        b3.memoizedState = null;
    }
  return b3.child;
}
function ij(a2, b3) {
  0 === (b3.mode & 1) && null !== a2 && (a2.alternate = null, b3.alternate = null, b3.flags |= 2);
}
function Zi(a2, b3, c2) {
  null !== a2 && (b3.dependencies = a2.dependencies);
  rh |= b3.lanes;
  if (0 === (c2 & b3.childLanes))
    return null;
  if (null !== a2 && b3.child !== a2.child)
    throw Error(p$2(153));
  if (null !== b3.child) {
    a2 = b3.child;
    c2 = Pg(a2, a2.pendingProps);
    b3.child = c2;
    for (c2.return = b3; null !== a2.sibling; )
      a2 = a2.sibling, c2 = c2.sibling = Pg(a2, a2.pendingProps), c2.return = b3;
    c2.sibling = null;
  }
  return b3.child;
}
function yj(a2, b3, c2) {
  switch (b3.tag) {
    case 3:
      kj(b3);
      Ig();
      break;
    case 5:
      Ah(b3);
      break;
    case 1:
      Zf(b3.type) && cg(b3);
      break;
    case 4:
      yh(b3, b3.stateNode.containerInfo);
      break;
    case 10:
      var d2 = b3.type._context, e = b3.memoizedProps.value;
      G$1(Wg, d2._currentValue);
      d2._currentValue = e;
      break;
    case 13:
      d2 = b3.memoizedState;
      if (null !== d2) {
        if (null !== d2.dehydrated)
          return G$1(L$1, L$1.current & 1), b3.flags |= 128, null;
        if (0 !== (c2 & b3.child.childLanes))
          return oj(a2, b3, c2);
        G$1(L$1, L$1.current & 1);
        a2 = Zi(a2, b3, c2);
        return null !== a2 ? a2.sibling : null;
      }
      G$1(L$1, L$1.current & 1);
      break;
    case 19:
      d2 = 0 !== (c2 & b3.childLanes);
      if (0 !== (a2.flags & 128)) {
        if (d2)
          return xj(a2, b3, c2);
        b3.flags |= 128;
      }
      e = b3.memoizedState;
      null !== e && (e.rendering = null, e.tail = null, e.lastEffect = null);
      G$1(L$1, L$1.current);
      if (d2)
        break;
      else
        return null;
    case 22:
    case 23:
      return b3.lanes = 0, dj(a2, b3, c2);
  }
  return Zi(a2, b3, c2);
}
var zj, Aj, Bj, Cj;
zj = function(a2, b3) {
  for (var c2 = b3.child; null !== c2; ) {
    if (5 === c2.tag || 6 === c2.tag)
      a2.appendChild(c2.stateNode);
    else if (4 !== c2.tag && null !== c2.child) {
      c2.child.return = c2;
      c2 = c2.child;
      continue;
    }
    if (c2 === b3)
      break;
    for (; null === c2.sibling; ) {
      if (null === c2.return || c2.return === b3)
        return;
      c2 = c2.return;
    }
    c2.sibling.return = c2.return;
    c2 = c2.sibling;
  }
};
Aj = function() {
};
Bj = function(a2, b3, c2, d2) {
  var e = a2.memoizedProps;
  if (e !== d2) {
    a2 = b3.stateNode;
    xh(uh.current);
    var f2 = null;
    switch (c2) {
      case "input":
        e = Ya(a2, e);
        d2 = Ya(a2, d2);
        f2 = [];
        break;
      case "select":
        e = A$1({}, e, { value: void 0 });
        d2 = A$1({}, d2, { value: void 0 });
        f2 = [];
        break;
      case "textarea":
        e = gb(a2, e);
        d2 = gb(a2, d2);
        f2 = [];
        break;
      default:
        "function" !== typeof e.onClick && "function" === typeof d2.onClick && (a2.onclick = Bf);
    }
    ub(c2, d2);
    var g2;
    c2 = null;
    for (l2 in e)
      if (!d2.hasOwnProperty(l2) && e.hasOwnProperty(l2) && null != e[l2])
        if ("style" === l2) {
          var h2 = e[l2];
          for (g2 in h2)
            h2.hasOwnProperty(g2) && (c2 || (c2 = {}), c2[g2] = "");
        } else
          "dangerouslySetInnerHTML" !== l2 && "children" !== l2 && "suppressContentEditableWarning" !== l2 && "suppressHydrationWarning" !== l2 && "autoFocus" !== l2 && (ea.hasOwnProperty(l2) ? f2 || (f2 = []) : (f2 = f2 || []).push(l2, null));
    for (l2 in d2) {
      var k3 = d2[l2];
      h2 = null != e ? e[l2] : void 0;
      if (d2.hasOwnProperty(l2) && k3 !== h2 && (null != k3 || null != h2))
        if ("style" === l2)
          if (h2) {
            for (g2 in h2)
              !h2.hasOwnProperty(g2) || k3 && k3.hasOwnProperty(g2) || (c2 || (c2 = {}), c2[g2] = "");
            for (g2 in k3)
              k3.hasOwnProperty(g2) && h2[g2] !== k3[g2] && (c2 || (c2 = {}), c2[g2] = k3[g2]);
          } else
            c2 || (f2 || (f2 = []), f2.push(
              l2,
              c2
            )), c2 = k3;
        else
          "dangerouslySetInnerHTML" === l2 ? (k3 = k3 ? k3.__html : void 0, h2 = h2 ? h2.__html : void 0, null != k3 && h2 !== k3 && (f2 = f2 || []).push(l2, k3)) : "children" === l2 ? "string" !== typeof k3 && "number" !== typeof k3 || (f2 = f2 || []).push(l2, "" + k3) : "suppressContentEditableWarning" !== l2 && "suppressHydrationWarning" !== l2 && (ea.hasOwnProperty(l2) ? (null != k3 && "onScroll" === l2 && D$1("scroll", a2), f2 || h2 === k3 || (f2 = [])) : (f2 = f2 || []).push(l2, k3));
    }
    c2 && (f2 = f2 || []).push("style", c2);
    var l2 = f2;
    if (b3.updateQueue = l2)
      b3.flags |= 4;
  }
};
Cj = function(a2, b3, c2, d2) {
  c2 !== d2 && (b3.flags |= 4);
};
function Dj(a2, b3) {
  if (!I$1)
    switch (a2.tailMode) {
      case "hidden":
        b3 = a2.tail;
        for (var c2 = null; null !== b3; )
          null !== b3.alternate && (c2 = b3), b3 = b3.sibling;
        null === c2 ? a2.tail = null : c2.sibling = null;
        break;
      case "collapsed":
        c2 = a2.tail;
        for (var d2 = null; null !== c2; )
          null !== c2.alternate && (d2 = c2), c2 = c2.sibling;
        null === d2 ? b3 || null === a2.tail ? a2.tail = null : a2.tail.sibling = null : d2.sibling = null;
    }
}
function S$1(a2) {
  var b3 = null !== a2.alternate && a2.alternate.child === a2.child, c2 = 0, d2 = 0;
  if (b3)
    for (var e = a2.child; null !== e; )
      c2 |= e.lanes | e.childLanes, d2 |= e.subtreeFlags & 14680064, d2 |= e.flags & 14680064, e.return = a2, e = e.sibling;
  else
    for (e = a2.child; null !== e; )
      c2 |= e.lanes | e.childLanes, d2 |= e.subtreeFlags, d2 |= e.flags, e.return = a2, e = e.sibling;
  a2.subtreeFlags |= d2;
  a2.childLanes = c2;
  return b3;
}
function Ej(a2, b3, c2) {
  var d2 = b3.pendingProps;
  wg(b3);
  switch (b3.tag) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
      return S$1(b3), null;
    case 1:
      return Zf(b3.type) && $f(), S$1(b3), null;
    case 3:
      d2 = b3.stateNode;
      zh$1();
      E$1(Wf);
      E$1(H$1);
      Eh();
      d2.pendingContext && (d2.context = d2.pendingContext, d2.pendingContext = null);
      if (null === a2 || null === a2.child)
        Gg(b3) ? b3.flags |= 4 : null === a2 || a2.memoizedState.isDehydrated && 0 === (b3.flags & 256) || (b3.flags |= 1024, null !== zg && (Fj(zg), zg = null));
      Aj(a2, b3);
      S$1(b3);
      return null;
    case 5:
      Bh(b3);
      var e = xh(wh.current);
      c2 = b3.type;
      if (null !== a2 && null != b3.stateNode)
        Bj(a2, b3, c2, d2, e), a2.ref !== b3.ref && (b3.flags |= 512, b3.flags |= 2097152);
      else {
        if (!d2) {
          if (null === b3.stateNode)
            throw Error(p$2(166));
          S$1(b3);
          return null;
        }
        a2 = xh(uh.current);
        if (Gg(b3)) {
          d2 = b3.stateNode;
          c2 = b3.type;
          var f2 = b3.memoizedProps;
          d2[Of] = b3;
          d2[Pf] = f2;
          a2 = 0 !== (b3.mode & 1);
          switch (c2) {
            case "dialog":
              D$1("cancel", d2);
              D$1("close", d2);
              break;
            case "iframe":
            case "object":
            case "embed":
              D$1("load", d2);
              break;
            case "video":
            case "audio":
              for (e = 0; e < lf.length; e++)
                D$1(lf[e], d2);
              break;
            case "source":
              D$1("error", d2);
              break;
            case "img":
            case "image":
            case "link":
              D$1(
                "error",
                d2
              );
              D$1("load", d2);
              break;
            case "details":
              D$1("toggle", d2);
              break;
            case "input":
              Za(d2, f2);
              D$1("invalid", d2);
              break;
            case "select":
              d2._wrapperState = { wasMultiple: !!f2.multiple };
              D$1("invalid", d2);
              break;
            case "textarea":
              hb(d2, f2), D$1("invalid", d2);
          }
          ub(c2, f2);
          e = null;
          for (var g2 in f2)
            if (f2.hasOwnProperty(g2)) {
              var h2 = f2[g2];
              "children" === g2 ? "string" === typeof h2 ? d2.textContent !== h2 && (true !== f2.suppressHydrationWarning && Af(d2.textContent, h2, a2), e = ["children", h2]) : "number" === typeof h2 && d2.textContent !== "" + h2 && (true !== f2.suppressHydrationWarning && Af(
                d2.textContent,
                h2,
                a2
              ), e = ["children", "" + h2]) : ea.hasOwnProperty(g2) && null != h2 && "onScroll" === g2 && D$1("scroll", d2);
            }
          switch (c2) {
            case "input":
              Va(d2);
              db(d2, f2, true);
              break;
            case "textarea":
              Va(d2);
              jb(d2);
              break;
            case "select":
            case "option":
              break;
            default:
              "function" === typeof f2.onClick && (d2.onclick = Bf);
          }
          d2 = e;
          b3.updateQueue = d2;
          null !== d2 && (b3.flags |= 4);
        } else {
          g2 = 9 === e.nodeType ? e : e.ownerDocument;
          "http://www.w3.org/1999/xhtml" === a2 && (a2 = kb(c2));
          "http://www.w3.org/1999/xhtml" === a2 ? "script" === c2 ? (a2 = g2.createElement("div"), a2.innerHTML = "<script><\/script>", a2 = a2.removeChild(a2.firstChild)) : "string" === typeof d2.is ? a2 = g2.createElement(c2, { is: d2.is }) : (a2 = g2.createElement(c2), "select" === c2 && (g2 = a2, d2.multiple ? g2.multiple = true : d2.size && (g2.size = d2.size))) : a2 = g2.createElementNS(a2, c2);
          a2[Of] = b3;
          a2[Pf] = d2;
          zj(a2, b3, false, false);
          b3.stateNode = a2;
          a: {
            g2 = vb(c2, d2);
            switch (c2) {
              case "dialog":
                D$1("cancel", a2);
                D$1("close", a2);
                e = d2;
                break;
              case "iframe":
              case "object":
              case "embed":
                D$1("load", a2);
                e = d2;
                break;
              case "video":
              case "audio":
                for (e = 0; e < lf.length; e++)
                  D$1(lf[e], a2);
                e = d2;
                break;
              case "source":
                D$1("error", a2);
                e = d2;
                break;
              case "img":
              case "image":
              case "link":
                D$1(
                  "error",
                  a2
                );
                D$1("load", a2);
                e = d2;
                break;
              case "details":
                D$1("toggle", a2);
                e = d2;
                break;
              case "input":
                Za(a2, d2);
                e = Ya(a2, d2);
                D$1("invalid", a2);
                break;
              case "option":
                e = d2;
                break;
              case "select":
                a2._wrapperState = { wasMultiple: !!d2.multiple };
                e = A$1({}, d2, { value: void 0 });
                D$1("invalid", a2);
                break;
              case "textarea":
                hb(a2, d2);
                e = gb(a2, d2);
                D$1("invalid", a2);
                break;
              default:
                e = d2;
            }
            ub(c2, e);
            h2 = e;
            for (f2 in h2)
              if (h2.hasOwnProperty(f2)) {
                var k3 = h2[f2];
                "style" === f2 ? sb(a2, k3) : "dangerouslySetInnerHTML" === f2 ? (k3 = k3 ? k3.__html : void 0, null != k3 && nb(a2, k3)) : "children" === f2 ? "string" === typeof k3 ? ("textarea" !== c2 || "" !== k3) && ob(a2, k3) : "number" === typeof k3 && ob(a2, "" + k3) : "suppressContentEditableWarning" !== f2 && "suppressHydrationWarning" !== f2 && "autoFocus" !== f2 && (ea.hasOwnProperty(f2) ? null != k3 && "onScroll" === f2 && D$1("scroll", a2) : null != k3 && ta(a2, f2, k3, g2));
              }
            switch (c2) {
              case "input":
                Va(a2);
                db(a2, d2, false);
                break;
              case "textarea":
                Va(a2);
                jb(a2);
                break;
              case "option":
                null != d2.value && a2.setAttribute("value", "" + Sa(d2.value));
                break;
              case "select":
                a2.multiple = !!d2.multiple;
                f2 = d2.value;
                null != f2 ? fb(a2, !!d2.multiple, f2, false) : null != d2.defaultValue && fb(
                  a2,
                  !!d2.multiple,
                  d2.defaultValue,
                  true
                );
                break;
              default:
                "function" === typeof e.onClick && (a2.onclick = Bf);
            }
            switch (c2) {
              case "button":
              case "input":
              case "select":
              case "textarea":
                d2 = !!d2.autoFocus;
                break a;
              case "img":
                d2 = true;
                break a;
              default:
                d2 = false;
            }
          }
          d2 && (b3.flags |= 4);
        }
        null !== b3.ref && (b3.flags |= 512, b3.flags |= 2097152);
      }
      S$1(b3);
      return null;
    case 6:
      if (a2 && null != b3.stateNode)
        Cj(a2, b3, a2.memoizedProps, d2);
      else {
        if ("string" !== typeof d2 && null === b3.stateNode)
          throw Error(p$2(166));
        c2 = xh(wh.current);
        xh(uh.current);
        if (Gg(b3)) {
          d2 = b3.stateNode;
          c2 = b3.memoizedProps;
          d2[Of] = b3;
          if (f2 = d2.nodeValue !== c2) {
            if (a2 = xg, null !== a2)
              switch (a2.tag) {
                case 3:
                  Af(d2.nodeValue, c2, 0 !== (a2.mode & 1));
                  break;
                case 5:
                  true !== a2.memoizedProps.suppressHydrationWarning && Af(d2.nodeValue, c2, 0 !== (a2.mode & 1));
              }
          }
          f2 && (b3.flags |= 4);
        } else
          d2 = (9 === c2.nodeType ? c2 : c2.ownerDocument).createTextNode(d2), d2[Of] = b3, b3.stateNode = d2;
      }
      S$1(b3);
      return null;
    case 13:
      E$1(L$1);
      d2 = b3.memoizedState;
      if (null === a2 || null !== a2.memoizedState && null !== a2.memoizedState.dehydrated) {
        if (I$1 && null !== yg && 0 !== (b3.mode & 1) && 0 === (b3.flags & 128))
          Hg(), Ig(), b3.flags |= 98560, f2 = false;
        else if (f2 = Gg(b3), null !== d2 && null !== d2.dehydrated) {
          if (null === a2) {
            if (!f2)
              throw Error(p$2(318));
            f2 = b3.memoizedState;
            f2 = null !== f2 ? f2.dehydrated : null;
            if (!f2)
              throw Error(p$2(317));
            f2[Of] = b3;
          } else
            Ig(), 0 === (b3.flags & 128) && (b3.memoizedState = null), b3.flags |= 4;
          S$1(b3);
          f2 = false;
        } else
          null !== zg && (Fj(zg), zg = null), f2 = true;
        if (!f2)
          return b3.flags & 65536 ? b3 : null;
      }
      if (0 !== (b3.flags & 128))
        return b3.lanes = c2, b3;
      d2 = null !== d2;
      d2 !== (null !== a2 && null !== a2.memoizedState) && d2 && (b3.child.flags |= 8192, 0 !== (b3.mode & 1) && (null === a2 || 0 !== (L$1.current & 1) ? 0 === T$1 && (T$1 = 3) : tj()));
      null !== b3.updateQueue && (b3.flags |= 4);
      S$1(b3);
      return null;
    case 4:
      return zh$1(), Aj(a2, b3), null === a2 && sf(b3.stateNode.containerInfo), S$1(b3), null;
    case 10:
      return ah(b3.type._context), S$1(b3), null;
    case 17:
      return Zf(b3.type) && $f(), S$1(b3), null;
    case 19:
      E$1(L$1);
      f2 = b3.memoizedState;
      if (null === f2)
        return S$1(b3), null;
      d2 = 0 !== (b3.flags & 128);
      g2 = f2.rendering;
      if (null === g2)
        if (d2)
          Dj(f2, false);
        else {
          if (0 !== T$1 || null !== a2 && 0 !== (a2.flags & 128))
            for (a2 = b3.child; null !== a2; ) {
              g2 = Ch(a2);
              if (null !== g2) {
                b3.flags |= 128;
                Dj(f2, false);
                d2 = g2.updateQueue;
                null !== d2 && (b3.updateQueue = d2, b3.flags |= 4);
                b3.subtreeFlags = 0;
                d2 = c2;
                for (c2 = b3.child; null !== c2; )
                  f2 = c2, a2 = d2, f2.flags &= 14680066, g2 = f2.alternate, null === g2 ? (f2.childLanes = 0, f2.lanes = a2, f2.child = null, f2.subtreeFlags = 0, f2.memoizedProps = null, f2.memoizedState = null, f2.updateQueue = null, f2.dependencies = null, f2.stateNode = null) : (f2.childLanes = g2.childLanes, f2.lanes = g2.lanes, f2.child = g2.child, f2.subtreeFlags = 0, f2.deletions = null, f2.memoizedProps = g2.memoizedProps, f2.memoizedState = g2.memoizedState, f2.updateQueue = g2.updateQueue, f2.type = g2.type, a2 = g2.dependencies, f2.dependencies = null === a2 ? null : { lanes: a2.lanes, firstContext: a2.firstContext }), c2 = c2.sibling;
                G$1(L$1, L$1.current & 1 | 2);
                return b3.child;
              }
              a2 = a2.sibling;
            }
          null !== f2.tail && B$1() > Gj && (b3.flags |= 128, d2 = true, Dj(f2, false), b3.lanes = 4194304);
        }
      else {
        if (!d2)
          if (a2 = Ch(g2), null !== a2) {
            if (b3.flags |= 128, d2 = true, c2 = a2.updateQueue, null !== c2 && (b3.updateQueue = c2, b3.flags |= 4), Dj(f2, true), null === f2.tail && "hidden" === f2.tailMode && !g2.alternate && !I$1)
              return S$1(b3), null;
          } else
            2 * B$1() - f2.renderingStartTime > Gj && 1073741824 !== c2 && (b3.flags |= 128, d2 = true, Dj(f2, false), b3.lanes = 4194304);
        f2.isBackwards ? (g2.sibling = b3.child, b3.child = g2) : (c2 = f2.last, null !== c2 ? c2.sibling = g2 : b3.child = g2, f2.last = g2);
      }
      if (null !== f2.tail)
        return b3 = f2.tail, f2.rendering = b3, f2.tail = b3.sibling, f2.renderingStartTime = B$1(), b3.sibling = null, c2 = L$1.current, G$1(L$1, d2 ? c2 & 1 | 2 : c2 & 1), b3;
      S$1(b3);
      return null;
    case 22:
    case 23:
      return Hj(), d2 = null !== b3.memoizedState, null !== a2 && null !== a2.memoizedState !== d2 && (b3.flags |= 8192), d2 && 0 !== (b3.mode & 1) ? 0 !== (fj & 1073741824) && (S$1(b3), b3.subtreeFlags & 6 && (b3.flags |= 8192)) : S$1(b3), null;
    case 24:
      return null;
    case 25:
      return null;
  }
  throw Error(p$2(156, b3.tag));
}
function Ij(a2, b3) {
  wg(b3);
  switch (b3.tag) {
    case 1:
      return Zf(b3.type) && $f(), a2 = b3.flags, a2 & 65536 ? (b3.flags = a2 & -65537 | 128, b3) : null;
    case 3:
      return zh$1(), E$1(Wf), E$1(H$1), Eh(), a2 = b3.flags, 0 !== (a2 & 65536) && 0 === (a2 & 128) ? (b3.flags = a2 & -65537 | 128, b3) : null;
    case 5:
      return Bh(b3), null;
    case 13:
      E$1(L$1);
      a2 = b3.memoizedState;
      if (null !== a2 && null !== a2.dehydrated) {
        if (null === b3.alternate)
          throw Error(p$2(340));
        Ig();
      }
      a2 = b3.flags;
      return a2 & 65536 ? (b3.flags = a2 & -65537 | 128, b3) : null;
    case 19:
      return E$1(L$1), null;
    case 4:
      return zh$1(), null;
    case 10:
      return ah(b3.type._context), null;
    case 22:
    case 23:
      return Hj(), null;
    case 24:
      return null;
    default:
      return null;
  }
}
var Jj = false, U$1 = false, Kj = "function" === typeof WeakSet ? WeakSet : Set, V$1 = null;
function Lj(a2, b3) {
  var c2 = a2.ref;
  if (null !== c2)
    if ("function" === typeof c2)
      try {
        c2(null);
      } catch (d2) {
        W$1(a2, b3, d2);
      }
    else
      c2.current = null;
}
function Mj(a2, b3, c2) {
  try {
    c2();
  } catch (d2) {
    W$1(a2, b3, d2);
  }
}
var Nj = false;
function Oj(a2, b3) {
  Cf = dd;
  a2 = Me();
  if (Ne$1(a2)) {
    if ("selectionStart" in a2)
      var c2 = { start: a2.selectionStart, end: a2.selectionEnd };
    else
      a: {
        c2 = (c2 = a2.ownerDocument) && c2.defaultView || window;
        var d2 = c2.getSelection && c2.getSelection();
        if (d2 && 0 !== d2.rangeCount) {
          c2 = d2.anchorNode;
          var e = d2.anchorOffset, f2 = d2.focusNode;
          d2 = d2.focusOffset;
          try {
            c2.nodeType, f2.nodeType;
          } catch (F2) {
            c2 = null;
            break a;
          }
          var g2 = 0, h2 = -1, k3 = -1, l2 = 0, m2 = 0, q2 = a2, r2 = null;
          b:
            for (; ; ) {
              for (var y2; ; ) {
                q2 !== c2 || 0 !== e && 3 !== q2.nodeType || (h2 = g2 + e);
                q2 !== f2 || 0 !== d2 && 3 !== q2.nodeType || (k3 = g2 + d2);
                3 === q2.nodeType && (g2 += q2.nodeValue.length);
                if (null === (y2 = q2.firstChild))
                  break;
                r2 = q2;
                q2 = y2;
              }
              for (; ; ) {
                if (q2 === a2)
                  break b;
                r2 === c2 && ++l2 === e && (h2 = g2);
                r2 === f2 && ++m2 === d2 && (k3 = g2);
                if (null !== (y2 = q2.nextSibling))
                  break;
                q2 = r2;
                r2 = q2.parentNode;
              }
              q2 = y2;
            }
          c2 = -1 === h2 || -1 === k3 ? null : { start: h2, end: k3 };
        } else
          c2 = null;
      }
    c2 = c2 || { start: 0, end: 0 };
  } else
    c2 = null;
  Df = { focusedElem: a2, selectionRange: c2 };
  dd = false;
  for (V$1 = b3; null !== V$1; )
    if (b3 = V$1, a2 = b3.child, 0 !== (b3.subtreeFlags & 1028) && null !== a2)
      a2.return = b3, V$1 = a2;
    else
      for (; null !== V$1; ) {
        b3 = V$1;
        try {
          var n2 = b3.alternate;
          if (0 !== (b3.flags & 1024))
            switch (b3.tag) {
              case 0:
              case 11:
              case 15:
                break;
              case 1:
                if (null !== n2) {
                  var t3 = n2.memoizedProps, J2 = n2.memoizedState, x2 = b3.stateNode, w2 = x2.getSnapshotBeforeUpdate(b3.elementType === b3.type ? t3 : Ci(b3.type, t3), J2);
                  x2.__reactInternalSnapshotBeforeUpdate = w2;
                }
                break;
              case 3:
                var u2 = b3.stateNode.containerInfo;
                1 === u2.nodeType ? u2.textContent = "" : 9 === u2.nodeType && u2.documentElement && u2.removeChild(u2.documentElement);
                break;
              case 5:
              case 6:
              case 4:
              case 17:
                break;
              default:
                throw Error(p$2(163));
            }
        } catch (F2) {
          W$1(b3, b3.return, F2);
        }
        a2 = b3.sibling;
        if (null !== a2) {
          a2.return = b3.return;
          V$1 = a2;
          break;
        }
        V$1 = b3.return;
      }
  n2 = Nj;
  Nj = false;
  return n2;
}
function Pj(a2, b3, c2) {
  var d2 = b3.updateQueue;
  d2 = null !== d2 ? d2.lastEffect : null;
  if (null !== d2) {
    var e = d2 = d2.next;
    do {
      if ((e.tag & a2) === a2) {
        var f2 = e.destroy;
        e.destroy = void 0;
        void 0 !== f2 && Mj(b3, c2, f2);
      }
      e = e.next;
    } while (e !== d2);
  }
}
function Qj(a2, b3) {
  b3 = b3.updateQueue;
  b3 = null !== b3 ? b3.lastEffect : null;
  if (null !== b3) {
    var c2 = b3 = b3.next;
    do {
      if ((c2.tag & a2) === a2) {
        var d2 = c2.create;
        c2.destroy = d2();
      }
      c2 = c2.next;
    } while (c2 !== b3);
  }
}
function Rj(a2) {
  var b3 = a2.ref;
  if (null !== b3) {
    var c2 = a2.stateNode;
    switch (a2.tag) {
      case 5:
        a2 = c2;
        break;
      default:
        a2 = c2;
    }
    "function" === typeof b3 ? b3(a2) : b3.current = a2;
  }
}
function Sj(a2) {
  var b3 = a2.alternate;
  null !== b3 && (a2.alternate = null, Sj(b3));
  a2.child = null;
  a2.deletions = null;
  a2.sibling = null;
  5 === a2.tag && (b3 = a2.stateNode, null !== b3 && (delete b3[Of], delete b3[Pf], delete b3[of], delete b3[Qf], delete b3[Rf]));
  a2.stateNode = null;
  a2.return = null;
  a2.dependencies = null;
  a2.memoizedProps = null;
  a2.memoizedState = null;
  a2.pendingProps = null;
  a2.stateNode = null;
  a2.updateQueue = null;
}
function Tj(a2) {
  return 5 === a2.tag || 3 === a2.tag || 4 === a2.tag;
}
function Uj(a2) {
  a:
    for (; ; ) {
      for (; null === a2.sibling; ) {
        if (null === a2.return || Tj(a2.return))
          return null;
        a2 = a2.return;
      }
      a2.sibling.return = a2.return;
      for (a2 = a2.sibling; 5 !== a2.tag && 6 !== a2.tag && 18 !== a2.tag; ) {
        if (a2.flags & 2)
          continue a;
        if (null === a2.child || 4 === a2.tag)
          continue a;
        else
          a2.child.return = a2, a2 = a2.child;
      }
      if (!(a2.flags & 2))
        return a2.stateNode;
    }
}
function Vj(a2, b3, c2) {
  var d2 = a2.tag;
  if (5 === d2 || 6 === d2)
    a2 = a2.stateNode, b3 ? 8 === c2.nodeType ? c2.parentNode.insertBefore(a2, b3) : c2.insertBefore(a2, b3) : (8 === c2.nodeType ? (b3 = c2.parentNode, b3.insertBefore(a2, c2)) : (b3 = c2, b3.appendChild(a2)), c2 = c2._reactRootContainer, null !== c2 && void 0 !== c2 || null !== b3.onclick || (b3.onclick = Bf));
  else if (4 !== d2 && (a2 = a2.child, null !== a2))
    for (Vj(a2, b3, c2), a2 = a2.sibling; null !== a2; )
      Vj(a2, b3, c2), a2 = a2.sibling;
}
function Wj(a2, b3, c2) {
  var d2 = a2.tag;
  if (5 === d2 || 6 === d2)
    a2 = a2.stateNode, b3 ? c2.insertBefore(a2, b3) : c2.appendChild(a2);
  else if (4 !== d2 && (a2 = a2.child, null !== a2))
    for (Wj(a2, b3, c2), a2 = a2.sibling; null !== a2; )
      Wj(a2, b3, c2), a2 = a2.sibling;
}
var X$1 = null, Xj = false;
function Yj(a2, b3, c2) {
  for (c2 = c2.child; null !== c2; )
    Zj(a2, b3, c2), c2 = c2.sibling;
}
function Zj(a2, b3, c2) {
  if (lc$1 && "function" === typeof lc$1.onCommitFiberUnmount)
    try {
      lc$1.onCommitFiberUnmount(kc, c2);
    } catch (h2) {
    }
  switch (c2.tag) {
    case 5:
      U$1 || Lj(c2, b3);
    case 6:
      var d2 = X$1, e = Xj;
      X$1 = null;
      Yj(a2, b3, c2);
      X$1 = d2;
      Xj = e;
      null !== X$1 && (Xj ? (a2 = X$1, c2 = c2.stateNode, 8 === a2.nodeType ? a2.parentNode.removeChild(c2) : a2.removeChild(c2)) : X$1.removeChild(c2.stateNode));
      break;
    case 18:
      null !== X$1 && (Xj ? (a2 = X$1, c2 = c2.stateNode, 8 === a2.nodeType ? Kf(a2.parentNode, c2) : 1 === a2.nodeType && Kf(a2, c2), bd(a2)) : Kf(X$1, c2.stateNode));
      break;
    case 4:
      d2 = X$1;
      e = Xj;
      X$1 = c2.stateNode.containerInfo;
      Xj = true;
      Yj(a2, b3, c2);
      X$1 = d2;
      Xj = e;
      break;
    case 0:
    case 11:
    case 14:
    case 15:
      if (!U$1 && (d2 = c2.updateQueue, null !== d2 && (d2 = d2.lastEffect, null !== d2))) {
        e = d2 = d2.next;
        do {
          var f2 = e, g2 = f2.destroy;
          f2 = f2.tag;
          void 0 !== g2 && (0 !== (f2 & 2) ? Mj(c2, b3, g2) : 0 !== (f2 & 4) && Mj(c2, b3, g2));
          e = e.next;
        } while (e !== d2);
      }
      Yj(a2, b3, c2);
      break;
    case 1:
      if (!U$1 && (Lj(c2, b3), d2 = c2.stateNode, "function" === typeof d2.componentWillUnmount))
        try {
          d2.props = c2.memoizedProps, d2.state = c2.memoizedState, d2.componentWillUnmount();
        } catch (h2) {
          W$1(c2, b3, h2);
        }
      Yj(a2, b3, c2);
      break;
    case 21:
      Yj(a2, b3, c2);
      break;
    case 22:
      c2.mode & 1 ? (U$1 = (d2 = U$1) || null !== c2.memoizedState, Yj(a2, b3, c2), U$1 = d2) : Yj(a2, b3, c2);
      break;
    default:
      Yj(a2, b3, c2);
  }
}
function ak(a2) {
  var b3 = a2.updateQueue;
  if (null !== b3) {
    a2.updateQueue = null;
    var c2 = a2.stateNode;
    null === c2 && (c2 = a2.stateNode = new Kj());
    b3.forEach(function(b5) {
      var d2 = bk.bind(null, a2, b5);
      c2.has(b5) || (c2.add(b5), b5.then(d2, d2));
    });
  }
}
function ck(a2, b3) {
  var c2 = b3.deletions;
  if (null !== c2)
    for (var d2 = 0; d2 < c2.length; d2++) {
      var e = c2[d2];
      try {
        var f2 = a2, g2 = b3, h2 = g2;
        a:
          for (; null !== h2; ) {
            switch (h2.tag) {
              case 5:
                X$1 = h2.stateNode;
                Xj = false;
                break a;
              case 3:
                X$1 = h2.stateNode.containerInfo;
                Xj = true;
                break a;
              case 4:
                X$1 = h2.stateNode.containerInfo;
                Xj = true;
                break a;
            }
            h2 = h2.return;
          }
        if (null === X$1)
          throw Error(p$2(160));
        Zj(f2, g2, e);
        X$1 = null;
        Xj = false;
        var k3 = e.alternate;
        null !== k3 && (k3.return = null);
        e.return = null;
      } catch (l2) {
        W$1(e, b3, l2);
      }
    }
  if (b3.subtreeFlags & 12854)
    for (b3 = b3.child; null !== b3; )
      dk(b3, a2), b3 = b3.sibling;
}
function dk(a2, b3) {
  var c2 = a2.alternate, d2 = a2.flags;
  switch (a2.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
      ck(b3, a2);
      ek(a2);
      if (d2 & 4) {
        try {
          Pj(3, a2, a2.return), Qj(3, a2);
        } catch (t3) {
          W$1(a2, a2.return, t3);
        }
        try {
          Pj(5, a2, a2.return);
        } catch (t3) {
          W$1(a2, a2.return, t3);
        }
      }
      break;
    case 1:
      ck(b3, a2);
      ek(a2);
      d2 & 512 && null !== c2 && Lj(c2, c2.return);
      break;
    case 5:
      ck(b3, a2);
      ek(a2);
      d2 & 512 && null !== c2 && Lj(c2, c2.return);
      if (a2.flags & 32) {
        var e = a2.stateNode;
        try {
          ob(e, "");
        } catch (t3) {
          W$1(a2, a2.return, t3);
        }
      }
      if (d2 & 4 && (e = a2.stateNode, null != e)) {
        var f2 = a2.memoizedProps, g2 = null !== c2 ? c2.memoizedProps : f2, h2 = a2.type, k3 = a2.updateQueue;
        a2.updateQueue = null;
        if (null !== k3)
          try {
            "input" === h2 && "radio" === f2.type && null != f2.name && ab(e, f2);
            vb(h2, g2);
            var l2 = vb(h2, f2);
            for (g2 = 0; g2 < k3.length; g2 += 2) {
              var m2 = k3[g2], q2 = k3[g2 + 1];
              "style" === m2 ? sb(e, q2) : "dangerouslySetInnerHTML" === m2 ? nb(e, q2) : "children" === m2 ? ob(e, q2) : ta(e, m2, q2, l2);
            }
            switch (h2) {
              case "input":
                bb(e, f2);
                break;
              case "textarea":
                ib(e, f2);
                break;
              case "select":
                var r2 = e._wrapperState.wasMultiple;
                e._wrapperState.wasMultiple = !!f2.multiple;
                var y2 = f2.value;
                null != y2 ? fb(e, !!f2.multiple, y2, false) : r2 !== !!f2.multiple && (null != f2.defaultValue ? fb(
                  e,
                  !!f2.multiple,
                  f2.defaultValue,
                  true
                ) : fb(e, !!f2.multiple, f2.multiple ? [] : "", false));
            }
            e[Pf] = f2;
          } catch (t3) {
            W$1(a2, a2.return, t3);
          }
      }
      break;
    case 6:
      ck(b3, a2);
      ek(a2);
      if (d2 & 4) {
        if (null === a2.stateNode)
          throw Error(p$2(162));
        e = a2.stateNode;
        f2 = a2.memoizedProps;
        try {
          e.nodeValue = f2;
        } catch (t3) {
          W$1(a2, a2.return, t3);
        }
      }
      break;
    case 3:
      ck(b3, a2);
      ek(a2);
      if (d2 & 4 && null !== c2 && c2.memoizedState.isDehydrated)
        try {
          bd(b3.containerInfo);
        } catch (t3) {
          W$1(a2, a2.return, t3);
        }
      break;
    case 4:
      ck(b3, a2);
      ek(a2);
      break;
    case 13:
      ck(b3, a2);
      ek(a2);
      e = a2.child;
      e.flags & 8192 && (f2 = null !== e.memoizedState, e.stateNode.isHidden = f2, !f2 || null !== e.alternate && null !== e.alternate.memoizedState || (fk = B$1()));
      d2 & 4 && ak(a2);
      break;
    case 22:
      m2 = null !== c2 && null !== c2.memoizedState;
      a2.mode & 1 ? (U$1 = (l2 = U$1) || m2, ck(b3, a2), U$1 = l2) : ck(b3, a2);
      ek(a2);
      if (d2 & 8192) {
        l2 = null !== a2.memoizedState;
        if ((a2.stateNode.isHidden = l2) && !m2 && 0 !== (a2.mode & 1))
          for (V$1 = a2, m2 = a2.child; null !== m2; ) {
            for (q2 = V$1 = m2; null !== V$1; ) {
              r2 = V$1;
              y2 = r2.child;
              switch (r2.tag) {
                case 0:
                case 11:
                case 14:
                case 15:
                  Pj(4, r2, r2.return);
                  break;
                case 1:
                  Lj(r2, r2.return);
                  var n2 = r2.stateNode;
                  if ("function" === typeof n2.componentWillUnmount) {
                    d2 = r2;
                    c2 = r2.return;
                    try {
                      b3 = d2, n2.props = b3.memoizedProps, n2.state = b3.memoizedState, n2.componentWillUnmount();
                    } catch (t3) {
                      W$1(d2, c2, t3);
                    }
                  }
                  break;
                case 5:
                  Lj(r2, r2.return);
                  break;
                case 22:
                  if (null !== r2.memoizedState) {
                    gk(q2);
                    continue;
                  }
              }
              null !== y2 ? (y2.return = r2, V$1 = y2) : gk(q2);
            }
            m2 = m2.sibling;
          }
        a:
          for (m2 = null, q2 = a2; ; ) {
            if (5 === q2.tag) {
              if (null === m2) {
                m2 = q2;
                try {
                  e = q2.stateNode, l2 ? (f2 = e.style, "function" === typeof f2.setProperty ? f2.setProperty("display", "none", "important") : f2.display = "none") : (h2 = q2.stateNode, k3 = q2.memoizedProps.style, g2 = void 0 !== k3 && null !== k3 && k3.hasOwnProperty("display") ? k3.display : null, h2.style.display = rb("display", g2));
                } catch (t3) {
                  W$1(a2, a2.return, t3);
                }
              }
            } else if (6 === q2.tag) {
              if (null === m2)
                try {
                  q2.stateNode.nodeValue = l2 ? "" : q2.memoizedProps;
                } catch (t3) {
                  W$1(a2, a2.return, t3);
                }
            } else if ((22 !== q2.tag && 23 !== q2.tag || null === q2.memoizedState || q2 === a2) && null !== q2.child) {
              q2.child.return = q2;
              q2 = q2.child;
              continue;
            }
            if (q2 === a2)
              break a;
            for (; null === q2.sibling; ) {
              if (null === q2.return || q2.return === a2)
                break a;
              m2 === q2 && (m2 = null);
              q2 = q2.return;
            }
            m2 === q2 && (m2 = null);
            q2.sibling.return = q2.return;
            q2 = q2.sibling;
          }
      }
      break;
    case 19:
      ck(b3, a2);
      ek(a2);
      d2 & 4 && ak(a2);
      break;
    case 21:
      break;
    default:
      ck(
        b3,
        a2
      ), ek(a2);
  }
}
function ek(a2) {
  var b3 = a2.flags;
  if (b3 & 2) {
    try {
      a: {
        for (var c2 = a2.return; null !== c2; ) {
          if (Tj(c2)) {
            var d2 = c2;
            break a;
          }
          c2 = c2.return;
        }
        throw Error(p$2(160));
      }
      switch (d2.tag) {
        case 5:
          var e = d2.stateNode;
          d2.flags & 32 && (ob(e, ""), d2.flags &= -33);
          var f2 = Uj(a2);
          Wj(a2, f2, e);
          break;
        case 3:
        case 4:
          var g2 = d2.stateNode.containerInfo, h2 = Uj(a2);
          Vj(a2, h2, g2);
          break;
        default:
          throw Error(p$2(161));
      }
    } catch (k3) {
      W$1(a2, a2.return, k3);
    }
    a2.flags &= -3;
  }
  b3 & 4096 && (a2.flags &= -4097);
}
function hk(a2, b3, c2) {
  V$1 = a2;
  ik(a2, b3, c2);
}
function ik(a2, b3, c2) {
  for (var d2 = 0 !== (a2.mode & 1); null !== V$1; ) {
    var e = V$1, f2 = e.child;
    if (22 === e.tag && d2) {
      var g2 = null !== e.memoizedState || Jj;
      if (!g2) {
        var h2 = e.alternate, k3 = null !== h2 && null !== h2.memoizedState || U$1;
        h2 = Jj;
        var l2 = U$1;
        Jj = g2;
        if ((U$1 = k3) && !l2)
          for (V$1 = e; null !== V$1; )
            g2 = V$1, k3 = g2.child, 22 === g2.tag && null !== g2.memoizedState ? jk(e) : null !== k3 ? (k3.return = g2, V$1 = k3) : jk(e);
        for (; null !== f2; )
          V$1 = f2, ik(f2, b3, c2), f2 = f2.sibling;
        V$1 = e;
        Jj = h2;
        U$1 = l2;
      }
      kk(a2, b3, c2);
    } else
      0 !== (e.subtreeFlags & 8772) && null !== f2 ? (f2.return = e, V$1 = f2) : kk(a2, b3, c2);
  }
}
function kk(a2) {
  for (; null !== V$1; ) {
    var b3 = V$1;
    if (0 !== (b3.flags & 8772)) {
      var c2 = b3.alternate;
      try {
        if (0 !== (b3.flags & 8772))
          switch (b3.tag) {
            case 0:
            case 11:
            case 15:
              U$1 || Qj(5, b3);
              break;
            case 1:
              var d2 = b3.stateNode;
              if (b3.flags & 4 && !U$1)
                if (null === c2)
                  d2.componentDidMount();
                else {
                  var e = b3.elementType === b3.type ? c2.memoizedProps : Ci(b3.type, c2.memoizedProps);
                  d2.componentDidUpdate(e, c2.memoizedState, d2.__reactInternalSnapshotBeforeUpdate);
                }
              var f2 = b3.updateQueue;
              null !== f2 && sh(b3, f2, d2);
              break;
            case 3:
              var g2 = b3.updateQueue;
              if (null !== g2) {
                c2 = null;
                if (null !== b3.child)
                  switch (b3.child.tag) {
                    case 5:
                      c2 = b3.child.stateNode;
                      break;
                    case 1:
                      c2 = b3.child.stateNode;
                  }
                sh(b3, g2, c2);
              }
              break;
            case 5:
              var h2 = b3.stateNode;
              if (null === c2 && b3.flags & 4) {
                c2 = h2;
                var k3 = b3.memoizedProps;
                switch (b3.type) {
                  case "button":
                  case "input":
                  case "select":
                  case "textarea":
                    k3.autoFocus && c2.focus();
                    break;
                  case "img":
                    k3.src && (c2.src = k3.src);
                }
              }
              break;
            case 6:
              break;
            case 4:
              break;
            case 12:
              break;
            case 13:
              if (null === b3.memoizedState) {
                var l2 = b3.alternate;
                if (null !== l2) {
                  var m2 = l2.memoizedState;
                  if (null !== m2) {
                    var q2 = m2.dehydrated;
                    null !== q2 && bd(q2);
                  }
                }
              }
              break;
            case 19:
            case 17:
            case 21:
            case 22:
            case 23:
            case 25:
              break;
            default:
              throw Error(p$2(163));
          }
        U$1 || b3.flags & 512 && Rj(b3);
      } catch (r2) {
        W$1(b3, b3.return, r2);
      }
    }
    if (b3 === a2) {
      V$1 = null;
      break;
    }
    c2 = b3.sibling;
    if (null !== c2) {
      c2.return = b3.return;
      V$1 = c2;
      break;
    }
    V$1 = b3.return;
  }
}
function gk(a2) {
  for (; null !== V$1; ) {
    var b3 = V$1;
    if (b3 === a2) {
      V$1 = null;
      break;
    }
    var c2 = b3.sibling;
    if (null !== c2) {
      c2.return = b3.return;
      V$1 = c2;
      break;
    }
    V$1 = b3.return;
  }
}
function jk(a2) {
  for (; null !== V$1; ) {
    var b3 = V$1;
    try {
      switch (b3.tag) {
        case 0:
        case 11:
        case 15:
          var c2 = b3.return;
          try {
            Qj(4, b3);
          } catch (k3) {
            W$1(b3, c2, k3);
          }
          break;
        case 1:
          var d2 = b3.stateNode;
          if ("function" === typeof d2.componentDidMount) {
            var e = b3.return;
            try {
              d2.componentDidMount();
            } catch (k3) {
              W$1(b3, e, k3);
            }
          }
          var f2 = b3.return;
          try {
            Rj(b3);
          } catch (k3) {
            W$1(b3, f2, k3);
          }
          break;
        case 5:
          var g2 = b3.return;
          try {
            Rj(b3);
          } catch (k3) {
            W$1(b3, g2, k3);
          }
      }
    } catch (k3) {
      W$1(b3, b3.return, k3);
    }
    if (b3 === a2) {
      V$1 = null;
      break;
    }
    var h2 = b3.sibling;
    if (null !== h2) {
      h2.return = b3.return;
      V$1 = h2;
      break;
    }
    V$1 = b3.return;
  }
}
var lk = Math.ceil, mk = ua.ReactCurrentDispatcher, nk = ua.ReactCurrentOwner, ok = ua.ReactCurrentBatchConfig, K$1 = 0, Q$1 = null, Y$1 = null, Z$1 = 0, fj = 0, ej = Uf(0), T$1 = 0, pk = null, rh = 0, qk = 0, rk = 0, sk = null, tk = null, fk = 0, Gj = Infinity, uk = null, Oi = false, Pi = null, Ri = null, vk = false, wk$1 = null, xk = 0, yk = 0, zk = null, Ak = -1, Bk = 0;
function R$1() {
  return 0 !== (K$1 & 6) ? B$1() : -1 !== Ak ? Ak : Ak = B$1();
}
function yi(a2) {
  if (0 === (a2.mode & 1))
    return 1;
  if (0 !== (K$1 & 2) && 0 !== Z$1)
    return Z$1 & -Z$1;
  if (null !== Kg.transition)
    return 0 === Bk && (Bk = yc()), Bk;
  a2 = C$1;
  if (0 !== a2)
    return a2;
  a2 = window.event;
  a2 = void 0 === a2 ? 16 : jd(a2.type);
  return a2;
}
function gi(a2, b3, c2, d2) {
  if (50 < yk)
    throw yk = 0, zk = null, Error(p$2(185));
  Ac(a2, c2, d2);
  if (0 === (K$1 & 2) || a2 !== Q$1)
    a2 === Q$1 && (0 === (K$1 & 2) && (qk |= c2), 4 === T$1 && Ck(a2, Z$1)), Dk(a2, d2), 1 === c2 && 0 === K$1 && 0 === (b3.mode & 1) && (Gj = B$1() + 500, fg && jg());
}
function Dk(a2, b3) {
  var c2 = a2.callbackNode;
  wc(a2, b3);
  var d2 = uc(a2, a2 === Q$1 ? Z$1 : 0);
  if (0 === d2)
    null !== c2 && bc(c2), a2.callbackNode = null, a2.callbackPriority = 0;
  else if (b3 = d2 & -d2, a2.callbackPriority !== b3) {
    null != c2 && bc(c2);
    if (1 === b3)
      0 === a2.tag ? ig(Ek.bind(null, a2)) : hg(Ek.bind(null, a2)), Jf(function() {
        0 === (K$1 & 6) && jg();
      }), c2 = null;
    else {
      switch (Dc(d2)) {
        case 1:
          c2 = fc;
          break;
        case 4:
          c2 = gc;
          break;
        case 16:
          c2 = hc;
          break;
        case 536870912:
          c2 = jc;
          break;
        default:
          c2 = hc;
      }
      c2 = Fk(c2, Gk.bind(null, a2));
    }
    a2.callbackPriority = b3;
    a2.callbackNode = c2;
  }
}
function Gk(a2, b3) {
  Ak = -1;
  Bk = 0;
  if (0 !== (K$1 & 6))
    throw Error(p$2(327));
  var c2 = a2.callbackNode;
  if (Hk() && a2.callbackNode !== c2)
    return null;
  var d2 = uc(a2, a2 === Q$1 ? Z$1 : 0);
  if (0 === d2)
    return null;
  if (0 !== (d2 & 30) || 0 !== (d2 & a2.expiredLanes) || b3)
    b3 = Ik(a2, d2);
  else {
    b3 = d2;
    var e = K$1;
    K$1 |= 2;
    var f2 = Jk();
    if (Q$1 !== a2 || Z$1 !== b3)
      uk = null, Gj = B$1() + 500, Kk(a2, b3);
    do
      try {
        Lk();
        break;
      } catch (h2) {
        Mk(a2, h2);
      }
    while (1);
    $g();
    mk.current = f2;
    K$1 = e;
    null !== Y$1 ? b3 = 0 : (Q$1 = null, Z$1 = 0, b3 = T$1);
  }
  if (0 !== b3) {
    2 === b3 && (e = xc(a2), 0 !== e && (d2 = e, b3 = Nk(a2, e)));
    if (1 === b3)
      throw c2 = pk, Kk(a2, 0), Ck(a2, d2), Dk(a2, B$1()), c2;
    if (6 === b3)
      Ck(a2, d2);
    else {
      e = a2.current.alternate;
      if (0 === (d2 & 30) && !Ok(e) && (b3 = Ik(a2, d2), 2 === b3 && (f2 = xc(a2), 0 !== f2 && (d2 = f2, b3 = Nk(a2, f2))), 1 === b3))
        throw c2 = pk, Kk(a2, 0), Ck(a2, d2), Dk(a2, B$1()), c2;
      a2.finishedWork = e;
      a2.finishedLanes = d2;
      switch (b3) {
        case 0:
        case 1:
          throw Error(p$2(345));
        case 2:
          Pk(a2, tk, uk);
          break;
        case 3:
          Ck(a2, d2);
          if ((d2 & 130023424) === d2 && (b3 = fk + 500 - B$1(), 10 < b3)) {
            if (0 !== uc(a2, 0))
              break;
            e = a2.suspendedLanes;
            if ((e & d2) !== d2) {
              R$1();
              a2.pingedLanes |= a2.suspendedLanes & e;
              break;
            }
            a2.timeoutHandle = Ff(Pk.bind(null, a2, tk, uk), b3);
            break;
          }
          Pk(a2, tk, uk);
          break;
        case 4:
          Ck(a2, d2);
          if ((d2 & 4194240) === d2)
            break;
          b3 = a2.eventTimes;
          for (e = -1; 0 < d2; ) {
            var g2 = 31 - oc(d2);
            f2 = 1 << g2;
            g2 = b3[g2];
            g2 > e && (e = g2);
            d2 &= ~f2;
          }
          d2 = e;
          d2 = B$1() - d2;
          d2 = (120 > d2 ? 120 : 480 > d2 ? 480 : 1080 > d2 ? 1080 : 1920 > d2 ? 1920 : 3e3 > d2 ? 3e3 : 4320 > d2 ? 4320 : 1960 * lk(d2 / 1960)) - d2;
          if (10 < d2) {
            a2.timeoutHandle = Ff(Pk.bind(null, a2, tk, uk), d2);
            break;
          }
          Pk(a2, tk, uk);
          break;
        case 5:
          Pk(a2, tk, uk);
          break;
        default:
          throw Error(p$2(329));
      }
    }
  }
  Dk(a2, B$1());
  return a2.callbackNode === c2 ? Gk.bind(null, a2) : null;
}
function Nk(a2, b3) {
  var c2 = sk;
  a2.current.memoizedState.isDehydrated && (Kk(a2, b3).flags |= 256);
  a2 = Ik(a2, b3);
  2 !== a2 && (b3 = tk, tk = c2, null !== b3 && Fj(b3));
  return a2;
}
function Fj(a2) {
  null === tk ? tk = a2 : tk.push.apply(tk, a2);
}
function Ok(a2) {
  for (var b3 = a2; ; ) {
    if (b3.flags & 16384) {
      var c2 = b3.updateQueue;
      if (null !== c2 && (c2 = c2.stores, null !== c2))
        for (var d2 = 0; d2 < c2.length; d2++) {
          var e = c2[d2], f2 = e.getSnapshot;
          e = e.value;
          try {
            if (!He(f2(), e))
              return false;
          } catch (g2) {
            return false;
          }
        }
    }
    c2 = b3.child;
    if (b3.subtreeFlags & 16384 && null !== c2)
      c2.return = b3, b3 = c2;
    else {
      if (b3 === a2)
        break;
      for (; null === b3.sibling; ) {
        if (null === b3.return || b3.return === a2)
          return true;
        b3 = b3.return;
      }
      b3.sibling.return = b3.return;
      b3 = b3.sibling;
    }
  }
  return true;
}
function Ck(a2, b3) {
  b3 &= ~rk;
  b3 &= ~qk;
  a2.suspendedLanes |= b3;
  a2.pingedLanes &= ~b3;
  for (a2 = a2.expirationTimes; 0 < b3; ) {
    var c2 = 31 - oc(b3), d2 = 1 << c2;
    a2[c2] = -1;
    b3 &= ~d2;
  }
}
function Ek(a2) {
  if (0 !== (K$1 & 6))
    throw Error(p$2(327));
  Hk();
  var b3 = uc(a2, 0);
  if (0 === (b3 & 1))
    return Dk(a2, B$1()), null;
  var c2 = Ik(a2, b3);
  if (0 !== a2.tag && 2 === c2) {
    var d2 = xc(a2);
    0 !== d2 && (b3 = d2, c2 = Nk(a2, d2));
  }
  if (1 === c2)
    throw c2 = pk, Kk(a2, 0), Ck(a2, b3), Dk(a2, B$1()), c2;
  if (6 === c2)
    throw Error(p$2(345));
  a2.finishedWork = a2.current.alternate;
  a2.finishedLanes = b3;
  Pk(a2, tk, uk);
  Dk(a2, B$1());
  return null;
}
function Qk(a2, b3) {
  var c2 = K$1;
  K$1 |= 1;
  try {
    return a2(b3);
  } finally {
    K$1 = c2, 0 === K$1 && (Gj = B$1() + 500, fg && jg());
  }
}
function Rk(a2) {
  null !== wk$1 && 0 === wk$1.tag && 0 === (K$1 & 6) && Hk();
  var b3 = K$1;
  K$1 |= 1;
  var c2 = ok.transition, d2 = C$1;
  try {
    if (ok.transition = null, C$1 = 1, a2)
      return a2();
  } finally {
    C$1 = d2, ok.transition = c2, K$1 = b3, 0 === (K$1 & 6) && jg();
  }
}
function Hj() {
  fj = ej.current;
  E$1(ej);
}
function Kk(a2, b3) {
  a2.finishedWork = null;
  a2.finishedLanes = 0;
  var c2 = a2.timeoutHandle;
  -1 !== c2 && (a2.timeoutHandle = -1, Gf(c2));
  if (null !== Y$1)
    for (c2 = Y$1.return; null !== c2; ) {
      var d2 = c2;
      wg(d2);
      switch (d2.tag) {
        case 1:
          d2 = d2.type.childContextTypes;
          null !== d2 && void 0 !== d2 && $f();
          break;
        case 3:
          zh$1();
          E$1(Wf);
          E$1(H$1);
          Eh();
          break;
        case 5:
          Bh(d2);
          break;
        case 4:
          zh$1();
          break;
        case 13:
          E$1(L$1);
          break;
        case 19:
          E$1(L$1);
          break;
        case 10:
          ah(d2.type._context);
          break;
        case 22:
        case 23:
          Hj();
      }
      c2 = c2.return;
    }
  Q$1 = a2;
  Y$1 = a2 = Pg(a2.current, null);
  Z$1 = fj = b3;
  T$1 = 0;
  pk = null;
  rk = qk = rh = 0;
  tk = sk = null;
  if (null !== fh) {
    for (b3 = 0; b3 < fh.length; b3++)
      if (c2 = fh[b3], d2 = c2.interleaved, null !== d2) {
        c2.interleaved = null;
        var e = d2.next, f2 = c2.pending;
        if (null !== f2) {
          var g2 = f2.next;
          f2.next = e;
          d2.next = g2;
        }
        c2.pending = d2;
      }
    fh = null;
  }
  return a2;
}
function Mk(a2, b3) {
  do {
    var c2 = Y$1;
    try {
      $g();
      Fh.current = Rh;
      if (Ih) {
        for (var d2 = M$1.memoizedState; null !== d2; ) {
          var e = d2.queue;
          null !== e && (e.pending = null);
          d2 = d2.next;
        }
        Ih = false;
      }
      Hh = 0;
      O$1 = N$1 = M$1 = null;
      Jh = false;
      Kh = 0;
      nk.current = null;
      if (null === c2 || null === c2.return) {
        T$1 = 1;
        pk = b3;
        Y$1 = null;
        break;
      }
      a: {
        var f2 = a2, g2 = c2.return, h2 = c2, k3 = b3;
        b3 = Z$1;
        h2.flags |= 32768;
        if (null !== k3 && "object" === typeof k3 && "function" === typeof k3.then) {
          var l2 = k3, m2 = h2, q2 = m2.tag;
          if (0 === (m2.mode & 1) && (0 === q2 || 11 === q2 || 15 === q2)) {
            var r2 = m2.alternate;
            r2 ? (m2.updateQueue = r2.updateQueue, m2.memoizedState = r2.memoizedState, m2.lanes = r2.lanes) : (m2.updateQueue = null, m2.memoizedState = null);
          }
          var y2 = Ui(g2);
          if (null !== y2) {
            y2.flags &= -257;
            Vi(y2, g2, h2, f2, b3);
            y2.mode & 1 && Si(f2, l2, b3);
            b3 = y2;
            k3 = l2;
            var n2 = b3.updateQueue;
            if (null === n2) {
              var t3 = /* @__PURE__ */ new Set();
              t3.add(k3);
              b3.updateQueue = t3;
            } else
              n2.add(k3);
            break a;
          } else {
            if (0 === (b3 & 1)) {
              Si(f2, l2, b3);
              tj();
              break a;
            }
            k3 = Error(p$2(426));
          }
        } else if (I$1 && h2.mode & 1) {
          var J2 = Ui(g2);
          if (null !== J2) {
            0 === (J2.flags & 65536) && (J2.flags |= 256);
            Vi(J2, g2, h2, f2, b3);
            Jg(Ji(k3, h2));
            break a;
          }
        }
        f2 = k3 = Ji(k3, h2);
        4 !== T$1 && (T$1 = 2);
        null === sk ? sk = [f2] : sk.push(f2);
        f2 = g2;
        do {
          switch (f2.tag) {
            case 3:
              f2.flags |= 65536;
              b3 &= -b3;
              f2.lanes |= b3;
              var x2 = Ni(f2, k3, b3);
              ph(f2, x2);
              break a;
            case 1:
              h2 = k3;
              var w2 = f2.type, u2 = f2.stateNode;
              if (0 === (f2.flags & 128) && ("function" === typeof w2.getDerivedStateFromError || null !== u2 && "function" === typeof u2.componentDidCatch && (null === Ri || !Ri.has(u2)))) {
                f2.flags |= 65536;
                b3 &= -b3;
                f2.lanes |= b3;
                var F2 = Qi(f2, h2, b3);
                ph(f2, F2);
                break a;
              }
          }
          f2 = f2.return;
        } while (null !== f2);
      }
      Sk(c2);
    } catch (na) {
      b3 = na;
      Y$1 === c2 && null !== c2 && (Y$1 = c2 = c2.return);
      continue;
    }
    break;
  } while (1);
}
function Jk() {
  var a2 = mk.current;
  mk.current = Rh;
  return null === a2 ? Rh : a2;
}
function tj() {
  if (0 === T$1 || 3 === T$1 || 2 === T$1)
    T$1 = 4;
  null === Q$1 || 0 === (rh & 268435455) && 0 === (qk & 268435455) || Ck(Q$1, Z$1);
}
function Ik(a2, b3) {
  var c2 = K$1;
  K$1 |= 2;
  var d2 = Jk();
  if (Q$1 !== a2 || Z$1 !== b3)
    uk = null, Kk(a2, b3);
  do
    try {
      Tk();
      break;
    } catch (e) {
      Mk(a2, e);
    }
  while (1);
  $g();
  K$1 = c2;
  mk.current = d2;
  if (null !== Y$1)
    throw Error(p$2(261));
  Q$1 = null;
  Z$1 = 0;
  return T$1;
}
function Tk() {
  for (; null !== Y$1; )
    Uk(Y$1);
}
function Lk() {
  for (; null !== Y$1 && !cc(); )
    Uk(Y$1);
}
function Uk(a2) {
  var b3 = Vk(a2.alternate, a2, fj);
  a2.memoizedProps = a2.pendingProps;
  null === b3 ? Sk(a2) : Y$1 = b3;
  nk.current = null;
}
function Sk(a2) {
  var b3 = a2;
  do {
    var c2 = b3.alternate;
    a2 = b3.return;
    if (0 === (b3.flags & 32768)) {
      if (c2 = Ej(c2, b3, fj), null !== c2) {
        Y$1 = c2;
        return;
      }
    } else {
      c2 = Ij(c2, b3);
      if (null !== c2) {
        c2.flags &= 32767;
        Y$1 = c2;
        return;
      }
      if (null !== a2)
        a2.flags |= 32768, a2.subtreeFlags = 0, a2.deletions = null;
      else {
        T$1 = 6;
        Y$1 = null;
        return;
      }
    }
    b3 = b3.sibling;
    if (null !== b3) {
      Y$1 = b3;
      return;
    }
    Y$1 = b3 = a2;
  } while (null !== b3);
  0 === T$1 && (T$1 = 5);
}
function Pk(a2, b3, c2) {
  var d2 = C$1, e = ok.transition;
  try {
    ok.transition = null, C$1 = 1, Wk(a2, b3, c2, d2);
  } finally {
    ok.transition = e, C$1 = d2;
  }
  return null;
}
function Wk(a2, b3, c2, d2) {
  do
    Hk();
  while (null !== wk$1);
  if (0 !== (K$1 & 6))
    throw Error(p$2(327));
  c2 = a2.finishedWork;
  var e = a2.finishedLanes;
  if (null === c2)
    return null;
  a2.finishedWork = null;
  a2.finishedLanes = 0;
  if (c2 === a2.current)
    throw Error(p$2(177));
  a2.callbackNode = null;
  a2.callbackPriority = 0;
  var f2 = c2.lanes | c2.childLanes;
  Bc(a2, f2);
  a2 === Q$1 && (Y$1 = Q$1 = null, Z$1 = 0);
  0 === (c2.subtreeFlags & 2064) && 0 === (c2.flags & 2064) || vk || (vk = true, Fk(hc, function() {
    Hk();
    return null;
  }));
  f2 = 0 !== (c2.flags & 15990);
  if (0 !== (c2.subtreeFlags & 15990) || f2) {
    f2 = ok.transition;
    ok.transition = null;
    var g2 = C$1;
    C$1 = 1;
    var h2 = K$1;
    K$1 |= 4;
    nk.current = null;
    Oj(a2, c2);
    dk(c2, a2);
    Oe(Df);
    dd = !!Cf;
    Df = Cf = null;
    a2.current = c2;
    hk(c2, a2, e);
    dc();
    K$1 = h2;
    C$1 = g2;
    ok.transition = f2;
  } else
    a2.current = c2;
  vk && (vk = false, wk$1 = a2, xk = e);
  f2 = a2.pendingLanes;
  0 === f2 && (Ri = null);
  mc(c2.stateNode, d2);
  Dk(a2, B$1());
  if (null !== b3)
    for (d2 = a2.onRecoverableError, c2 = 0; c2 < b3.length; c2++)
      e = b3[c2], d2(e.value, { componentStack: e.stack, digest: e.digest });
  if (Oi)
    throw Oi = false, a2 = Pi, Pi = null, a2;
  0 !== (xk & 1) && 0 !== a2.tag && Hk();
  f2 = a2.pendingLanes;
  0 !== (f2 & 1) ? a2 === zk ? yk++ : (yk = 0, zk = a2) : yk = 0;
  jg();
  return null;
}
function Hk() {
  if (null !== wk$1) {
    var a2 = Dc(xk), b3 = ok.transition, c2 = C$1;
    try {
      ok.transition = null;
      C$1 = 16 > a2 ? 16 : a2;
      if (null === wk$1)
        var d2 = false;
      else {
        a2 = wk$1;
        wk$1 = null;
        xk = 0;
        if (0 !== (K$1 & 6))
          throw Error(p$2(331));
        var e = K$1;
        K$1 |= 4;
        for (V$1 = a2.current; null !== V$1; ) {
          var f2 = V$1, g2 = f2.child;
          if (0 !== (V$1.flags & 16)) {
            var h2 = f2.deletions;
            if (null !== h2) {
              for (var k3 = 0; k3 < h2.length; k3++) {
                var l2 = h2[k3];
                for (V$1 = l2; null !== V$1; ) {
                  var m2 = V$1;
                  switch (m2.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Pj(8, m2, f2);
                  }
                  var q2 = m2.child;
                  if (null !== q2)
                    q2.return = m2, V$1 = q2;
                  else
                    for (; null !== V$1; ) {
                      m2 = V$1;
                      var r2 = m2.sibling, y2 = m2.return;
                      Sj(m2);
                      if (m2 === l2) {
                        V$1 = null;
                        break;
                      }
                      if (null !== r2) {
                        r2.return = y2;
                        V$1 = r2;
                        break;
                      }
                      V$1 = y2;
                    }
                }
              }
              var n2 = f2.alternate;
              if (null !== n2) {
                var t3 = n2.child;
                if (null !== t3) {
                  n2.child = null;
                  do {
                    var J2 = t3.sibling;
                    t3.sibling = null;
                    t3 = J2;
                  } while (null !== t3);
                }
              }
              V$1 = f2;
            }
          }
          if (0 !== (f2.subtreeFlags & 2064) && null !== g2)
            g2.return = f2, V$1 = g2;
          else
            b:
              for (; null !== V$1; ) {
                f2 = V$1;
                if (0 !== (f2.flags & 2048))
                  switch (f2.tag) {
                    case 0:
                    case 11:
                    case 15:
                      Pj(9, f2, f2.return);
                  }
                var x2 = f2.sibling;
                if (null !== x2) {
                  x2.return = f2.return;
                  V$1 = x2;
                  break b;
                }
                V$1 = f2.return;
              }
        }
        var w2 = a2.current;
        for (V$1 = w2; null !== V$1; ) {
          g2 = V$1;
          var u2 = g2.child;
          if (0 !== (g2.subtreeFlags & 2064) && null !== u2)
            u2.return = g2, V$1 = u2;
          else
            b:
              for (g2 = w2; null !== V$1; ) {
                h2 = V$1;
                if (0 !== (h2.flags & 2048))
                  try {
                    switch (h2.tag) {
                      case 0:
                      case 11:
                      case 15:
                        Qj(9, h2);
                    }
                  } catch (na) {
                    W$1(h2, h2.return, na);
                  }
                if (h2 === g2) {
                  V$1 = null;
                  break b;
                }
                var F2 = h2.sibling;
                if (null !== F2) {
                  F2.return = h2.return;
                  V$1 = F2;
                  break b;
                }
                V$1 = h2.return;
              }
        }
        K$1 = e;
        jg();
        if (lc$1 && "function" === typeof lc$1.onPostCommitFiberRoot)
          try {
            lc$1.onPostCommitFiberRoot(kc, a2);
          } catch (na) {
          }
        d2 = true;
      }
      return d2;
    } finally {
      C$1 = c2, ok.transition = b3;
    }
  }
  return false;
}
function Xk(a2, b3, c2) {
  b3 = Ji(c2, b3);
  b3 = Ni(a2, b3, 1);
  a2 = nh(a2, b3, 1);
  b3 = R$1();
  null !== a2 && (Ac(a2, 1, b3), Dk(a2, b3));
}
function W$1(a2, b3, c2) {
  if (3 === a2.tag)
    Xk(a2, a2, c2);
  else
    for (; null !== b3; ) {
      if (3 === b3.tag) {
        Xk(b3, a2, c2);
        break;
      } else if (1 === b3.tag) {
        var d2 = b3.stateNode;
        if ("function" === typeof b3.type.getDerivedStateFromError || "function" === typeof d2.componentDidCatch && (null === Ri || !Ri.has(d2))) {
          a2 = Ji(c2, a2);
          a2 = Qi(b3, a2, 1);
          b3 = nh(b3, a2, 1);
          a2 = R$1();
          null !== b3 && (Ac(b3, 1, a2), Dk(b3, a2));
          break;
        }
      }
      b3 = b3.return;
    }
}
function Ti(a2, b3, c2) {
  var d2 = a2.pingCache;
  null !== d2 && d2.delete(b3);
  b3 = R$1();
  a2.pingedLanes |= a2.suspendedLanes & c2;
  Q$1 === a2 && (Z$1 & c2) === c2 && (4 === T$1 || 3 === T$1 && (Z$1 & 130023424) === Z$1 && 500 > B$1() - fk ? Kk(a2, 0) : rk |= c2);
  Dk(a2, b3);
}
function Yk(a2, b3) {
  0 === b3 && (0 === (a2.mode & 1) ? b3 = 1 : (b3 = sc, sc <<= 1, 0 === (sc & 130023424) && (sc = 4194304)));
  var c2 = R$1();
  a2 = ih(a2, b3);
  null !== a2 && (Ac(a2, b3, c2), Dk(a2, c2));
}
function uj(a2) {
  var b3 = a2.memoizedState, c2 = 0;
  null !== b3 && (c2 = b3.retryLane);
  Yk(a2, c2);
}
function bk(a2, b3) {
  var c2 = 0;
  switch (a2.tag) {
    case 13:
      var d2 = a2.stateNode;
      var e = a2.memoizedState;
      null !== e && (c2 = e.retryLane);
      break;
    case 19:
      d2 = a2.stateNode;
      break;
    default:
      throw Error(p$2(314));
  }
  null !== d2 && d2.delete(b3);
  Yk(a2, c2);
}
var Vk;
Vk = function(a2, b3, c2) {
  if (null !== a2)
    if (a2.memoizedProps !== b3.pendingProps || Wf.current)
      dh = true;
    else {
      if (0 === (a2.lanes & c2) && 0 === (b3.flags & 128))
        return dh = false, yj(a2, b3, c2);
      dh = 0 !== (a2.flags & 131072) ? true : false;
    }
  else
    dh = false, I$1 && 0 !== (b3.flags & 1048576) && ug(b3, ng, b3.index);
  b3.lanes = 0;
  switch (b3.tag) {
    case 2:
      var d2 = b3.type;
      ij(a2, b3);
      a2 = b3.pendingProps;
      var e = Yf(b3, H$1.current);
      ch$1(b3, c2);
      e = Nh(null, b3, d2, a2, e, c2);
      var f2 = Sh();
      b3.flags |= 1;
      "object" === typeof e && null !== e && "function" === typeof e.render && void 0 === e.$$typeof ? (b3.tag = 1, b3.memoizedState = null, b3.updateQueue = null, Zf(d2) ? (f2 = true, cg(b3)) : f2 = false, b3.memoizedState = null !== e.state && void 0 !== e.state ? e.state : null, kh(b3), e.updater = Ei, b3.stateNode = e, e._reactInternals = b3, Ii(b3, d2, a2, c2), b3 = jj(null, b3, d2, true, f2, c2)) : (b3.tag = 0, I$1 && f2 && vg(b3), Xi(null, b3, e, c2), b3 = b3.child);
      return b3;
    case 16:
      d2 = b3.elementType;
      a: {
        ij(a2, b3);
        a2 = b3.pendingProps;
        e = d2._init;
        d2 = e(d2._payload);
        b3.type = d2;
        e = b3.tag = Zk(d2);
        a2 = Ci(d2, a2);
        switch (e) {
          case 0:
            b3 = cj(null, b3, d2, a2, c2);
            break a;
          case 1:
            b3 = hj(null, b3, d2, a2, c2);
            break a;
          case 11:
            b3 = Yi(null, b3, d2, a2, c2);
            break a;
          case 14:
            b3 = $i(null, b3, d2, Ci(d2.type, a2), c2);
            break a;
        }
        throw Error(p$2(
          306,
          d2,
          ""
        ));
      }
      return b3;
    case 0:
      return d2 = b3.type, e = b3.pendingProps, e = b3.elementType === d2 ? e : Ci(d2, e), cj(a2, b3, d2, e, c2);
    case 1:
      return d2 = b3.type, e = b3.pendingProps, e = b3.elementType === d2 ? e : Ci(d2, e), hj(a2, b3, d2, e, c2);
    case 3:
      a: {
        kj(b3);
        if (null === a2)
          throw Error(p$2(387));
        d2 = b3.pendingProps;
        f2 = b3.memoizedState;
        e = f2.element;
        lh(a2, b3);
        qh(b3, d2, null, c2);
        var g2 = b3.memoizedState;
        d2 = g2.element;
        if (f2.isDehydrated)
          if (f2 = { element: d2, isDehydrated: false, cache: g2.cache, pendingSuspenseBoundaries: g2.pendingSuspenseBoundaries, transitions: g2.transitions }, b3.updateQueue.baseState = f2, b3.memoizedState = f2, b3.flags & 256) {
            e = Ji(Error(p$2(423)), b3);
            b3 = lj(a2, b3, d2, c2, e);
            break a;
          } else if (d2 !== e) {
            e = Ji(Error(p$2(424)), b3);
            b3 = lj(a2, b3, d2, c2, e);
            break a;
          } else
            for (yg = Lf(b3.stateNode.containerInfo.firstChild), xg = b3, I$1 = true, zg = null, c2 = Vg(b3, null, d2, c2), b3.child = c2; c2; )
              c2.flags = c2.flags & -3 | 4096, c2 = c2.sibling;
        else {
          Ig();
          if (d2 === e) {
            b3 = Zi(a2, b3, c2);
            break a;
          }
          Xi(a2, b3, d2, c2);
        }
        b3 = b3.child;
      }
      return b3;
    case 5:
      return Ah(b3), null === a2 && Eg(b3), d2 = b3.type, e = b3.pendingProps, f2 = null !== a2 ? a2.memoizedProps : null, g2 = e.children, Ef(d2, e) ? g2 = null : null !== f2 && Ef(d2, f2) && (b3.flags |= 32), gj(a2, b3), Xi(a2, b3, g2, c2), b3.child;
    case 6:
      return null === a2 && Eg(b3), null;
    case 13:
      return oj(a2, b3, c2);
    case 4:
      return yh(b3, b3.stateNode.containerInfo), d2 = b3.pendingProps, null === a2 ? b3.child = Ug(b3, null, d2, c2) : Xi(a2, b3, d2, c2), b3.child;
    case 11:
      return d2 = b3.type, e = b3.pendingProps, e = b3.elementType === d2 ? e : Ci(d2, e), Yi(a2, b3, d2, e, c2);
    case 7:
      return Xi(a2, b3, b3.pendingProps, c2), b3.child;
    case 8:
      return Xi(a2, b3, b3.pendingProps.children, c2), b3.child;
    case 12:
      return Xi(a2, b3, b3.pendingProps.children, c2), b3.child;
    case 10:
      a: {
        d2 = b3.type._context;
        e = b3.pendingProps;
        f2 = b3.memoizedProps;
        g2 = e.value;
        G$1(Wg, d2._currentValue);
        d2._currentValue = g2;
        if (null !== f2)
          if (He(f2.value, g2)) {
            if (f2.children === e.children && !Wf.current) {
              b3 = Zi(a2, b3, c2);
              break a;
            }
          } else
            for (f2 = b3.child, null !== f2 && (f2.return = b3); null !== f2; ) {
              var h2 = f2.dependencies;
              if (null !== h2) {
                g2 = f2.child;
                for (var k3 = h2.firstContext; null !== k3; ) {
                  if (k3.context === d2) {
                    if (1 === f2.tag) {
                      k3 = mh(-1, c2 & -c2);
                      k3.tag = 2;
                      var l2 = f2.updateQueue;
                      if (null !== l2) {
                        l2 = l2.shared;
                        var m2 = l2.pending;
                        null === m2 ? k3.next = k3 : (k3.next = m2.next, m2.next = k3);
                        l2.pending = k3;
                      }
                    }
                    f2.lanes |= c2;
                    k3 = f2.alternate;
                    null !== k3 && (k3.lanes |= c2);
                    bh(
                      f2.return,
                      c2,
                      b3
                    );
                    h2.lanes |= c2;
                    break;
                  }
                  k3 = k3.next;
                }
              } else if (10 === f2.tag)
                g2 = f2.type === b3.type ? null : f2.child;
              else if (18 === f2.tag) {
                g2 = f2.return;
                if (null === g2)
                  throw Error(p$2(341));
                g2.lanes |= c2;
                h2 = g2.alternate;
                null !== h2 && (h2.lanes |= c2);
                bh(g2, c2, b3);
                g2 = f2.sibling;
              } else
                g2 = f2.child;
              if (null !== g2)
                g2.return = f2;
              else
                for (g2 = f2; null !== g2; ) {
                  if (g2 === b3) {
                    g2 = null;
                    break;
                  }
                  f2 = g2.sibling;
                  if (null !== f2) {
                    f2.return = g2.return;
                    g2 = f2;
                    break;
                  }
                  g2 = g2.return;
                }
              f2 = g2;
            }
        Xi(a2, b3, e.children, c2);
        b3 = b3.child;
      }
      return b3;
    case 9:
      return e = b3.type, d2 = b3.pendingProps.children, ch$1(b3, c2), e = eh(e), d2 = d2(e), b3.flags |= 1, Xi(a2, b3, d2, c2), b3.child;
    case 14:
      return d2 = b3.type, e = Ci(d2, b3.pendingProps), e = Ci(d2.type, e), $i(a2, b3, d2, e, c2);
    case 15:
      return bj(a2, b3, b3.type, b3.pendingProps, c2);
    case 17:
      return d2 = b3.type, e = b3.pendingProps, e = b3.elementType === d2 ? e : Ci(d2, e), ij(a2, b3), b3.tag = 1, Zf(d2) ? (a2 = true, cg(b3)) : a2 = false, ch$1(b3, c2), Gi(b3, d2, e), Ii(b3, d2, e, c2), jj(null, b3, d2, true, a2, c2);
    case 19:
      return xj(a2, b3, c2);
    case 22:
      return dj(a2, b3, c2);
  }
  throw Error(p$2(156, b3.tag));
};
function Fk(a2, b3) {
  return ac(a2, b3);
}
function $k(a2, b3, c2, d2) {
  this.tag = a2;
  this.key = c2;
  this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null;
  this.index = 0;
  this.ref = null;
  this.pendingProps = b3;
  this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null;
  this.mode = d2;
  this.subtreeFlags = this.flags = 0;
  this.deletions = null;
  this.childLanes = this.lanes = 0;
  this.alternate = null;
}
function Bg(a2, b3, c2, d2) {
  return new $k(a2, b3, c2, d2);
}
function aj(a2) {
  a2 = a2.prototype;
  return !(!a2 || !a2.isReactComponent);
}
function Zk(a2) {
  if ("function" === typeof a2)
    return aj(a2) ? 1 : 0;
  if (void 0 !== a2 && null !== a2) {
    a2 = a2.$$typeof;
    if (a2 === Da)
      return 11;
    if (a2 === Ga)
      return 14;
  }
  return 2;
}
function Pg(a2, b3) {
  var c2 = a2.alternate;
  null === c2 ? (c2 = Bg(a2.tag, b3, a2.key, a2.mode), c2.elementType = a2.elementType, c2.type = a2.type, c2.stateNode = a2.stateNode, c2.alternate = a2, a2.alternate = c2) : (c2.pendingProps = b3, c2.type = a2.type, c2.flags = 0, c2.subtreeFlags = 0, c2.deletions = null);
  c2.flags = a2.flags & 14680064;
  c2.childLanes = a2.childLanes;
  c2.lanes = a2.lanes;
  c2.child = a2.child;
  c2.memoizedProps = a2.memoizedProps;
  c2.memoizedState = a2.memoizedState;
  c2.updateQueue = a2.updateQueue;
  b3 = a2.dependencies;
  c2.dependencies = null === b3 ? null : { lanes: b3.lanes, firstContext: b3.firstContext };
  c2.sibling = a2.sibling;
  c2.index = a2.index;
  c2.ref = a2.ref;
  return c2;
}
function Rg(a2, b3, c2, d2, e, f2) {
  var g2 = 2;
  d2 = a2;
  if ("function" === typeof a2)
    aj(a2) && (g2 = 1);
  else if ("string" === typeof a2)
    g2 = 5;
  else
    a:
      switch (a2) {
        case ya:
          return Tg(c2.children, e, f2, b3);
        case za:
          g2 = 8;
          e |= 8;
          break;
        case Aa:
          return a2 = Bg(12, c2, b3, e | 2), a2.elementType = Aa, a2.lanes = f2, a2;
        case Ea:
          return a2 = Bg(13, c2, b3, e), a2.elementType = Ea, a2.lanes = f2, a2;
        case Fa:
          return a2 = Bg(19, c2, b3, e), a2.elementType = Fa, a2.lanes = f2, a2;
        case Ia:
          return pj(c2, e, f2, b3);
        default:
          if ("object" === typeof a2 && null !== a2)
            switch (a2.$$typeof) {
              case Ba:
                g2 = 10;
                break a;
              case Ca:
                g2 = 9;
                break a;
              case Da:
                g2 = 11;
                break a;
              case Ga:
                g2 = 14;
                break a;
              case Ha:
                g2 = 16;
                d2 = null;
                break a;
            }
          throw Error(p$2(130, null == a2 ? a2 : typeof a2, ""));
      }
  b3 = Bg(g2, c2, b3, e);
  b3.elementType = a2;
  b3.type = d2;
  b3.lanes = f2;
  return b3;
}
function Tg(a2, b3, c2, d2) {
  a2 = Bg(7, a2, d2, b3);
  a2.lanes = c2;
  return a2;
}
function pj(a2, b3, c2, d2) {
  a2 = Bg(22, a2, d2, b3);
  a2.elementType = Ia;
  a2.lanes = c2;
  a2.stateNode = { isHidden: false };
  return a2;
}
function Qg(a2, b3, c2) {
  a2 = Bg(6, a2, null, b3);
  a2.lanes = c2;
  return a2;
}
function Sg(a2, b3, c2) {
  b3 = Bg(4, null !== a2.children ? a2.children : [], a2.key, b3);
  b3.lanes = c2;
  b3.stateNode = { containerInfo: a2.containerInfo, pendingChildren: null, implementation: a2.implementation };
  return b3;
}
function al(a2, b3, c2, d2, e) {
  this.tag = b3;
  this.containerInfo = a2;
  this.finishedWork = this.pingCache = this.current = this.pendingChildren = null;
  this.timeoutHandle = -1;
  this.callbackNode = this.pendingContext = this.context = null;
  this.callbackPriority = 0;
  this.eventTimes = zc(0);
  this.expirationTimes = zc(-1);
  this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0;
  this.entanglements = zc(0);
  this.identifierPrefix = d2;
  this.onRecoverableError = e;
  this.mutableSourceEagerHydrationData = null;
}
function bl(a2, b3, c2, d2, e, f2, g2, h2, k3) {
  a2 = new al(a2, b3, c2, h2, k3);
  1 === b3 ? (b3 = 1, true === f2 && (b3 |= 8)) : b3 = 0;
  f2 = Bg(3, null, null, b3);
  a2.current = f2;
  f2.stateNode = a2;
  f2.memoizedState = { element: d2, isDehydrated: c2, cache: null, transitions: null, pendingSuspenseBoundaries: null };
  kh(f2);
  return a2;
}
function cl(a2, b3, c2) {
  var d2 = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;
  return { $$typeof: wa, key: null == d2 ? null : "" + d2, children: a2, containerInfo: b3, implementation: c2 };
}
function dl(a2) {
  if (!a2)
    return Vf;
  a2 = a2._reactInternals;
  a: {
    if (Vb(a2) !== a2 || 1 !== a2.tag)
      throw Error(p$2(170));
    var b3 = a2;
    do {
      switch (b3.tag) {
        case 3:
          b3 = b3.stateNode.context;
          break a;
        case 1:
          if (Zf(b3.type)) {
            b3 = b3.stateNode.__reactInternalMemoizedMergedChildContext;
            break a;
          }
      }
      b3 = b3.return;
    } while (null !== b3);
    throw Error(p$2(171));
  }
  if (1 === a2.tag) {
    var c2 = a2.type;
    if (Zf(c2))
      return bg(a2, c2, b3);
  }
  return b3;
}
function el(a2, b3, c2, d2, e, f2, g2, h2, k3) {
  a2 = bl(c2, d2, true, a2, e, f2, g2, h2, k3);
  a2.context = dl(null);
  c2 = a2.current;
  d2 = R$1();
  e = yi(c2);
  f2 = mh(d2, e);
  f2.callback = void 0 !== b3 && null !== b3 ? b3 : null;
  nh(c2, f2, e);
  a2.current.lanes = e;
  Ac(a2, e, d2);
  Dk(a2, d2);
  return a2;
}
function fl$1(a2, b3, c2, d2) {
  var e = b3.current, f2 = R$1(), g2 = yi(e);
  c2 = dl(c2);
  null === b3.context ? b3.context = c2 : b3.pendingContext = c2;
  b3 = mh(f2, g2);
  b3.payload = { element: a2 };
  d2 = void 0 === d2 ? null : d2;
  null !== d2 && (b3.callback = d2);
  a2 = nh(e, b3, g2);
  null !== a2 && (gi(a2, e, g2, f2), oh(a2, e, g2));
  return g2;
}
function gl(a2) {
  a2 = a2.current;
  if (!a2.child)
    return null;
  switch (a2.child.tag) {
    case 5:
      return a2.child.stateNode;
    default:
      return a2.child.stateNode;
  }
}
function hl(a2, b3) {
  a2 = a2.memoizedState;
  if (null !== a2 && null !== a2.dehydrated) {
    var c2 = a2.retryLane;
    a2.retryLane = 0 !== c2 && c2 < b3 ? c2 : b3;
  }
}
function il(a2, b3) {
  hl(a2, b3);
  (a2 = a2.alternate) && hl(a2, b3);
}
function jl() {
  return null;
}
var kl = "function" === typeof reportError ? reportError : function(a2) {
  console.error(a2);
};
function ll(a2) {
  this._internalRoot = a2;
}
ml.prototype.render = ll.prototype.render = function(a2) {
  var b3 = this._internalRoot;
  if (null === b3)
    throw Error(p$2(409));
  fl$1(a2, b3, null, null);
};
ml.prototype.unmount = ll.prototype.unmount = function() {
  var a2 = this._internalRoot;
  if (null !== a2) {
    this._internalRoot = null;
    var b3 = a2.containerInfo;
    Rk(function() {
      fl$1(null, a2, null, null);
    });
    b3[uf] = null;
  }
};
function ml(a2) {
  this._internalRoot = a2;
}
ml.prototype.unstable_scheduleHydration = function(a2) {
  if (a2) {
    var b3 = Hc();
    a2 = { blockedOn: null, target: a2, priority: b3 };
    for (var c2 = 0; c2 < Qc.length && 0 !== b3 && b3 < Qc[c2].priority; c2++)
      ;
    Qc.splice(c2, 0, a2);
    0 === c2 && Vc(a2);
  }
};
function nl(a2) {
  return !(!a2 || 1 !== a2.nodeType && 9 !== a2.nodeType && 11 !== a2.nodeType);
}
function ol(a2) {
  return !(!a2 || 1 !== a2.nodeType && 9 !== a2.nodeType && 11 !== a2.nodeType && (8 !== a2.nodeType || " react-mount-point-unstable " !== a2.nodeValue));
}
function pl() {
}
function ql(a2, b3, c2, d2, e) {
  if (e) {
    if ("function" === typeof d2) {
      var f2 = d2;
      d2 = function() {
        var a3 = gl(g2);
        f2.call(a3);
      };
    }
    var g2 = el(b3, d2, a2, 0, null, false, false, "", pl);
    a2._reactRootContainer = g2;
    a2[uf] = g2.current;
    sf(8 === a2.nodeType ? a2.parentNode : a2);
    Rk();
    return g2;
  }
  for (; e = a2.lastChild; )
    a2.removeChild(e);
  if ("function" === typeof d2) {
    var h2 = d2;
    d2 = function() {
      var a3 = gl(k3);
      h2.call(a3);
    };
  }
  var k3 = bl(a2, 0, false, null, null, false, false, "", pl);
  a2._reactRootContainer = k3;
  a2[uf] = k3.current;
  sf(8 === a2.nodeType ? a2.parentNode : a2);
  Rk(function() {
    fl$1(b3, k3, c2, d2);
  });
  return k3;
}
function rl(a2, b3, c2, d2, e) {
  var f2 = c2._reactRootContainer;
  if (f2) {
    var g2 = f2;
    if ("function" === typeof e) {
      var h2 = e;
      e = function() {
        var a3 = gl(g2);
        h2.call(a3);
      };
    }
    fl$1(b3, g2, a2, e);
  } else
    g2 = ql(c2, b3, a2, e, d2);
  return gl(g2);
}
Ec = function(a2) {
  switch (a2.tag) {
    case 3:
      var b3 = a2.stateNode;
      if (b3.current.memoizedState.isDehydrated) {
        var c2 = tc(b3.pendingLanes);
        0 !== c2 && (Cc(b3, c2 | 1), Dk(b3, B$1()), 0 === (K$1 & 6) && (Gj = B$1() + 500, jg()));
      }
      break;
    case 13:
      Rk(function() {
        var b5 = ih(a2, 1);
        if (null !== b5) {
          var c3 = R$1();
          gi(b5, a2, 1, c3);
        }
      }), il(a2, 1);
  }
};
Fc = function(a2) {
  if (13 === a2.tag) {
    var b3 = ih(a2, 134217728);
    if (null !== b3) {
      var c2 = R$1();
      gi(b3, a2, 134217728, c2);
    }
    il(a2, 134217728);
  }
};
Gc = function(a2) {
  if (13 === a2.tag) {
    var b3 = yi(a2), c2 = ih(a2, b3);
    if (null !== c2) {
      var d2 = R$1();
      gi(c2, a2, b3, d2);
    }
    il(a2, b3);
  }
};
Hc = function() {
  return C$1;
};
Ic = function(a2, b3) {
  var c2 = C$1;
  try {
    return C$1 = a2, b3();
  } finally {
    C$1 = c2;
  }
};
yb = function(a2, b3, c2) {
  switch (b3) {
    case "input":
      bb(a2, c2);
      b3 = c2.name;
      if ("radio" === c2.type && null != b3) {
        for (c2 = a2; c2.parentNode; )
          c2 = c2.parentNode;
        c2 = c2.querySelectorAll("input[name=" + JSON.stringify("" + b3) + '][type="radio"]');
        for (b3 = 0; b3 < c2.length; b3++) {
          var d2 = c2[b3];
          if (d2 !== a2 && d2.form === a2.form) {
            var e = Db(d2);
            if (!e)
              throw Error(p$2(90));
            Wa(d2);
            bb(d2, e);
          }
        }
      }
      break;
    case "textarea":
      ib(a2, c2);
      break;
    case "select":
      b3 = c2.value, null != b3 && fb(a2, !!c2.multiple, b3, false);
  }
};
Gb = Qk;
Hb = Rk;
var sl = { usingClientEntryPoint: false, Events: [Cb, ue$1, Db, Eb, Fb, Qk] }, tl = { findFiberByHostInstance: Wc, bundleType: 0, version: "18.3.1", rendererPackageName: "react-dom" };
var ul = { bundleType: tl.bundleType, version: tl.version, rendererPackageName: tl.rendererPackageName, rendererConfig: tl.rendererConfig, overrideHookState: null, overrideHookStateDeletePath: null, overrideHookStateRenamePath: null, overrideProps: null, overridePropsDeletePath: null, overridePropsRenamePath: null, setErrorHandler: null, setSuspenseHandler: null, scheduleUpdate: null, currentDispatcherRef: ua.ReactCurrentDispatcher, findHostInstanceByFiber: function(a2) {
  a2 = Zb(a2);
  return null === a2 ? null : a2.stateNode;
}, findFiberByHostInstance: tl.findFiberByHostInstance || jl, findHostInstancesForRefresh: null, scheduleRefresh: null, scheduleRoot: null, setRefreshHandler: null, getCurrentFiber: null, reconcilerVersion: "18.3.1-next-f1338f8080-20240426" };
if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
  var vl = __REACT_DEVTOOLS_GLOBAL_HOOK__;
  if (!vl.isDisabled && vl.supportsFiber)
    try {
      kc = vl.inject(ul), lc$1 = vl;
    } catch (a2) {
    }
}
var __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = sl;
var createPortal = reactDom_production_min.createPortal = function(a2, b3) {
  var c2 = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;
  if (!nl(b3))
    throw Error(p$2(200));
  return cl(a2, b3, null, c2);
};
var createRoot$1 = reactDom_production_min.createRoot = function(a2, b3) {
  if (!nl(a2))
    throw Error(p$2(299));
  var c2 = false, d2 = "", e = kl;
  null !== b3 && void 0 !== b3 && (true === b3.unstable_strictMode && (c2 = true), void 0 !== b3.identifierPrefix && (d2 = b3.identifierPrefix), void 0 !== b3.onRecoverableError && (e = b3.onRecoverableError));
  b3 = bl(a2, 1, false, null, null, c2, false, d2, e);
  a2[uf] = b3.current;
  sf(8 === a2.nodeType ? a2.parentNode : a2);
  return new ll(b3);
};
var findDOMNode = reactDom_production_min.findDOMNode = function(a2) {
  if (null == a2)
    return null;
  if (1 === a2.nodeType)
    return a2;
  var b3 = a2._reactInternals;
  if (void 0 === b3) {
    if ("function" === typeof a2.render)
      throw Error(p$2(188));
    a2 = Object.keys(a2).join(",");
    throw Error(p$2(268, a2));
  }
  a2 = Zb(b3);
  a2 = null === a2 ? null : a2.stateNode;
  return a2;
};
var flushSync = reactDom_production_min.flushSync = function(a2) {
  return Rk(a2);
};
var hydrate = reactDom_production_min.hydrate = function(a2, b3, c2) {
  if (!ol(b3))
    throw Error(p$2(200));
  return rl(null, a2, b3, true, c2);
};
var hydrateRoot$1 = reactDom_production_min.hydrateRoot = function(a2, b3, c2) {
  if (!nl(a2))
    throw Error(p$2(405));
  var d2 = null != c2 && c2.hydratedSources || null, e = false, f2 = "", g2 = kl;
  null !== c2 && void 0 !== c2 && (true === c2.unstable_strictMode && (e = true), void 0 !== c2.identifierPrefix && (f2 = c2.identifierPrefix), void 0 !== c2.onRecoverableError && (g2 = c2.onRecoverableError));
  b3 = el(b3, null, a2, 1, null != c2 ? c2 : null, e, false, f2, g2);
  a2[uf] = b3.current;
  sf(a2);
  if (d2)
    for (a2 = 0; a2 < d2.length; a2++)
      c2 = d2[a2], e = c2._getVersion, e = e(c2._source), null == b3.mutableSourceEagerHydrationData ? b3.mutableSourceEagerHydrationData = [c2, e] : b3.mutableSourceEagerHydrationData.push(
        c2,
        e
      );
  return new ml(b3);
};
var render = reactDom_production_min.render = function(a2, b3, c2) {
  if (!ol(b3))
    throw Error(p$2(200));
  return rl(null, a2, b3, false, c2);
};
var unmountComponentAtNode = reactDom_production_min.unmountComponentAtNode = function(a2) {
  if (!ol(a2))
    throw Error(p$2(40));
  return a2._reactRootContainer ? (Rk(function() {
    rl(null, null, a2, false, function() {
      a2._reactRootContainer = null;
      a2[uf] = null;
    });
  }), true) : false;
};
var unstable_batchedUpdates = reactDom_production_min.unstable_batchedUpdates = Qk;
var unstable_renderSubtreeIntoContainer = reactDom_production_min.unstable_renderSubtreeIntoContainer = function(a2, b3, c2, d2) {
  if (!ol(c2))
    throw Error(p$2(200));
  if (null == a2 || void 0 === a2._reactInternals)
    throw Error(p$2(38));
  return rl(a2, b3, c2, false, d2);
};
var version = reactDom_production_min.version = "18.3.1-next-f1338f8080-20240426";
"use strict";
function checkDCE() {
  if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === "undefined" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== "function") {
    return;
  }
  if (false) {
    throw new Error("^_^");
  }
  try {
    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
  } catch (err2) {
    console.error(err2);
  }
}
if (true) {
  checkDCE();
  reactDom$1.exports = reactDom_production_min;
} else {
  module.exports = require("./cjs/react-dom.development.js");
}
var reactDom = reactDom$1.exports;
var ReactDOM = /* @__PURE__ */ _mergeNamespaces({
  __proto__: null,
  "default": reactDom
}, [reactDom$1.exports]);
var hydrateRoot;
var createRoot;
"use strict";
var m$2 = reactDom$1.exports;
if (true) {
  createRoot = client.createRoot = m$2.createRoot;
  hydrateRoot = client.hydrateRoot = m$2.hydrateRoot;
} else {
  var i$2 = m$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
  exports.createRoot = function(c2, o2) {
    i$2.usingClientEntryPoint = true;
    try {
      return m$2.createRoot(c2, o2);
    } finally {
      i$2.usingClientEntryPoint = false;
    }
  };
  exports.hydrateRoot = function(c2, h2, o2) {
    i$2.usingClientEntryPoint = true;
    try {
      return m$2.hydrateRoot(c2, h2, o2);
    } finally {
      i$2.usingClientEntryPoint = false;
    }
  };
}
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function _extends$3() {
  _extends$3 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i2 = 1; i2 < arguments.length; i2++) {
      var source = arguments[i2];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$3.apply(this, arguments);
}
var Action;
(function(Action2) {
  Action2["Pop"] = "POP";
  Action2["Push"] = "PUSH";
  Action2["Replace"] = "REPLACE";
})(Action || (Action = {}));
const PopStateEventType = "popstate";
function createMemoryHistory(options) {
  if (options === void 0) {
    options = {};
  }
  let {
    initialEntries = ["/"],
    initialIndex,
    v5Compat = false
  } = options;
  let entries;
  entries = initialEntries.map((entry, index2) => createMemoryLocation(entry, typeof entry === "string" ? null : entry.state, index2 === 0 ? "default" : void 0));
  let index = clampIndex(initialIndex == null ? entries.length - 1 : initialIndex);
  let action = Action.Pop;
  let listener = null;
  function clampIndex(n2) {
    return Math.min(Math.max(n2, 0), entries.length - 1);
  }
  function getCurrentLocation() {
    return entries[index];
  }
  function createMemoryLocation(to, state, key) {
    if (state === void 0) {
      state = null;
    }
    let location2 = createLocation(entries ? getCurrentLocation().pathname : "/", to, state, key);
    warning(location2.pathname.charAt(0) === "/", "relative pathnames are not supported in memory history: " + JSON.stringify(to));
    return location2;
  }
  function createHref(to) {
    return typeof to === "string" ? to : createPath(to);
  }
  let history = {
    get index() {
      return index;
    },
    get action() {
      return action;
    },
    get location() {
      return getCurrentLocation();
    },
    createHref,
    createURL(to) {
      return new URL(createHref(to), "http://localhost");
    },
    encodeLocation(to) {
      let path = typeof to === "string" ? parsePath(to) : to;
      return {
        pathname: path.pathname || "",
        search: path.search || "",
        hash: path.hash || ""
      };
    },
    push(to, state) {
      action = Action.Push;
      let nextLocation = createMemoryLocation(to, state);
      index += 1;
      entries.splice(index, entries.length, nextLocation);
      if (v5Compat && listener) {
        listener({
          action,
          location: nextLocation,
          delta: 1
        });
      }
    },
    replace(to, state) {
      action = Action.Replace;
      let nextLocation = createMemoryLocation(to, state);
      entries[index] = nextLocation;
      if (v5Compat && listener) {
        listener({
          action,
          location: nextLocation,
          delta: 0
        });
      }
    },
    go(delta) {
      action = Action.Pop;
      let nextIndex = clampIndex(index + delta);
      let nextLocation = entries[nextIndex];
      index = nextIndex;
      if (listener) {
        listener({
          action,
          location: nextLocation,
          delta
        });
      }
    },
    listen(fn) {
      listener = fn;
      return () => {
        listener = null;
      };
    }
  };
  return history;
}
function createBrowserHistory(options) {
  if (options === void 0) {
    options = {};
  }
  function createBrowserLocation(window2, globalHistory) {
    let {
      pathname,
      search,
      hash
    } = window2.location;
    return createLocation(
      "",
      {
        pathname,
        search,
        hash
      },
      globalHistory.state && globalHistory.state.usr || null,
      globalHistory.state && globalHistory.state.key || "default"
    );
  }
  function createBrowserHref(window2, to) {
    return typeof to === "string" ? to : createPath(to);
  }
  return getUrlBasedHistory(createBrowserLocation, createBrowserHref, null, options);
}
function createHashHistory(options) {
  if (options === void 0) {
    options = {};
  }
  function createHashLocation(window2, globalHistory) {
    let {
      pathname = "/",
      search = "",
      hash = ""
    } = parsePath(window2.location.hash.substr(1));
    if (!pathname.startsWith("/") && !pathname.startsWith(".")) {
      pathname = "/" + pathname;
    }
    return createLocation(
      "",
      {
        pathname,
        search,
        hash
      },
      globalHistory.state && globalHistory.state.usr || null,
      globalHistory.state && globalHistory.state.key || "default"
    );
  }
  function createHashHref(window2, to) {
    let base2 = window2.document.querySelector("base");
    let href = "";
    if (base2 && base2.getAttribute("href")) {
      let url = window2.location.href;
      let hashIndex = url.indexOf("#");
      href = hashIndex === -1 ? url : url.slice(0, hashIndex);
    }
    return href + "#" + (typeof to === "string" ? to : createPath(to));
  }
  function validateHashLocation(location2, to) {
    warning(location2.pathname.charAt(0) === "/", "relative pathnames are not supported in hash history.push(" + JSON.stringify(to) + ")");
  }
  return getUrlBasedHistory(createHashLocation, createHashHref, validateHashLocation, options);
}
function invariant(value, message) {
  if (value === false || value === null || typeof value === "undefined") {
    throw new Error(message);
  }
}
function warning(cond, message) {
  if (!cond) {
    if (typeof console !== "undefined")
      console.warn(message);
    try {
      throw new Error(message);
    } catch (e) {
    }
  }
}
function createKey() {
  return Math.random().toString(36).substr(2, 8);
}
function getHistoryState(location2, index) {
  return {
    usr: location2.state,
    key: location2.key,
    idx: index
  };
}
function createLocation(current, to, state, key) {
  if (state === void 0) {
    state = null;
  }
  let location2 = _extends$3({
    pathname: typeof current === "string" ? current : current.pathname,
    search: "",
    hash: ""
  }, typeof to === "string" ? parsePath(to) : to, {
    state,
    key: to && to.key || key || createKey()
  });
  return location2;
}
function createPath(_ref) {
  let {
    pathname = "/",
    search = "",
    hash = ""
  } = _ref;
  if (search && search !== "?")
    pathname += search.charAt(0) === "?" ? search : "?" + search;
  if (hash && hash !== "#")
    pathname += hash.charAt(0) === "#" ? hash : "#" + hash;
  return pathname;
}
function parsePath(path) {
  let parsedPath = {};
  if (path) {
    let hashIndex = path.indexOf("#");
    if (hashIndex >= 0) {
      parsedPath.hash = path.substr(hashIndex);
      path = path.substr(0, hashIndex);
    }
    let searchIndex = path.indexOf("?");
    if (searchIndex >= 0) {
      parsedPath.search = path.substr(searchIndex);
      path = path.substr(0, searchIndex);
    }
    if (path) {
      parsedPath.pathname = path;
    }
  }
  return parsedPath;
}
function getUrlBasedHistory(getLocation, createHref, validateLocation, options) {
  if (options === void 0) {
    options = {};
  }
  let {
    window: window2 = document.defaultView,
    v5Compat = false
  } = options;
  let globalHistory = window2.history;
  let action = Action.Pop;
  let listener = null;
  let index = getIndex();
  if (index == null) {
    index = 0;
    globalHistory.replaceState(_extends$3({}, globalHistory.state, {
      idx: index
    }), "");
  }
  function getIndex() {
    let state = globalHistory.state || {
      idx: null
    };
    return state.idx;
  }
  function handlePop() {
    action = Action.Pop;
    let nextIndex = getIndex();
    let delta = nextIndex == null ? null : nextIndex - index;
    index = nextIndex;
    if (listener) {
      listener({
        action,
        location: history.location,
        delta
      });
    }
  }
  function push(to, state) {
    action = Action.Push;
    let location2 = createLocation(history.location, to, state);
    if (validateLocation)
      validateLocation(location2, to);
    index = getIndex() + 1;
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    try {
      globalHistory.pushState(historyState, "", url);
    } catch (error) {
      if (error instanceof DOMException && error.name === "DataCloneError") {
        throw error;
      }
      window2.location.assign(url);
    }
    if (v5Compat && listener) {
      listener({
        action,
        location: history.location,
        delta: 1
      });
    }
  }
  function replace2(to, state) {
    action = Action.Replace;
    let location2 = createLocation(history.location, to, state);
    if (validateLocation)
      validateLocation(location2, to);
    index = getIndex();
    let historyState = getHistoryState(location2, index);
    let url = history.createHref(location2);
    globalHistory.replaceState(historyState, "", url);
    if (v5Compat && listener) {
      listener({
        action,
        location: history.location,
        delta: 0
      });
    }
  }
  function createURL(to) {
    let base2 = window2.location.origin !== "null" ? window2.location.origin : window2.location.href;
    let href = typeof to === "string" ? to : createPath(to);
    href = href.replace(/ $/, "%20");
    invariant(base2, "No window.location.(origin|href) available to create URL for href: " + href);
    return new URL(href, base2);
  }
  let history = {
    get action() {
      return action;
    },
    get location() {
      return getLocation(window2, globalHistory);
    },
    listen(fn) {
      if (listener) {
        throw new Error("A history only accepts one active listener");
      }
      window2.addEventListener(PopStateEventType, handlePop);
      listener = fn;
      return () => {
        window2.removeEventListener(PopStateEventType, handlePop);
        listener = null;
      };
    },
    createHref(to) {
      return createHref(window2, to);
    },
    createURL,
    encodeLocation(to) {
      let url = createURL(to);
      return {
        pathname: url.pathname,
        search: url.search,
        hash: url.hash
      };
    },
    push,
    replace: replace2,
    go(n2) {
      return globalHistory.go(n2);
    }
  };
  return history;
}
var ResultType;
(function(ResultType2) {
  ResultType2["data"] = "data";
  ResultType2["deferred"] = "deferred";
  ResultType2["redirect"] = "redirect";
  ResultType2["error"] = "error";
})(ResultType || (ResultType = {}));
const immutableRouteKeys = /* @__PURE__ */ new Set(["lazy", "caseSensitive", "path", "id", "index", "children"]);
function isIndexRoute(route) {
  return route.index === true;
}
function convertRoutesToDataRoutes(routes, mapRouteProperties2, parentPath, manifest) {
  if (parentPath === void 0) {
    parentPath = [];
  }
  if (manifest === void 0) {
    manifest = {};
  }
  return routes.map((route, index) => {
    let treePath = [...parentPath, String(index)];
    let id2 = typeof route.id === "string" ? route.id : treePath.join("-");
    invariant(route.index !== true || !route.children, "Cannot specify children on an index route");
    invariant(!manifest[id2], 'Found a route id collision on id "' + id2 + `".  Route id's must be globally unique within Data Router usages`);
    if (isIndexRoute(route)) {
      let indexRoute = _extends$3({}, route, mapRouteProperties2(route), {
        id: id2
      });
      manifest[id2] = indexRoute;
      return indexRoute;
    } else {
      let pathOrLayoutRoute = _extends$3({}, route, mapRouteProperties2(route), {
        id: id2,
        children: void 0
      });
      manifest[id2] = pathOrLayoutRoute;
      if (route.children) {
        pathOrLayoutRoute.children = convertRoutesToDataRoutes(route.children, mapRouteProperties2, treePath, manifest);
      }
      return pathOrLayoutRoute;
    }
  });
}
function matchRoutes(routes, locationArg, basename) {
  if (basename === void 0) {
    basename = "/";
  }
  return matchRoutesImpl(routes, locationArg, basename, false);
}
function matchRoutesImpl(routes, locationArg, basename, allowPartial) {
  let location2 = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
  let pathname = stripBasename(location2.pathname || "/", basename);
  if (pathname == null) {
    return null;
  }
  let branches = flattenRoutes(routes);
  rankRouteBranches(branches);
  let matches = null;
  for (let i2 = 0; matches == null && i2 < branches.length; ++i2) {
    let decoded = decodePath(pathname);
    matches = matchRouteBranch(branches[i2], decoded, allowPartial);
  }
  return matches;
}
function convertRouteMatchToUiMatch(match, loaderData) {
  let {
    route,
    pathname,
    params
  } = match;
  return {
    id: route.id,
    pathname,
    params,
    data: loaderData[route.id],
    handle: route.handle
  };
}
function flattenRoutes(routes, branches, parentsMeta, parentPath) {
  if (branches === void 0) {
    branches = [];
  }
  if (parentsMeta === void 0) {
    parentsMeta = [];
  }
  if (parentPath === void 0) {
    parentPath = "";
  }
  let flattenRoute = (route, index, relativePath) => {
    let meta = {
      relativePath: relativePath === void 0 ? route.path || "" : relativePath,
      caseSensitive: route.caseSensitive === true,
      childrenIndex: index,
      route
    };
    if (meta.relativePath.startsWith("/")) {
      invariant(meta.relativePath.startsWith(parentPath), 'Absolute route path "' + meta.relativePath + '" nested under path ' + ('"' + parentPath + '" is not valid. An absolute child route path ') + "must start with the combined path of all its parent routes.");
      meta.relativePath = meta.relativePath.slice(parentPath.length);
    }
    let path = joinPaths([parentPath, meta.relativePath]);
    let routesMeta = parentsMeta.concat(meta);
    if (route.children && route.children.length > 0) {
      invariant(
        route.index !== true,
        "Index routes must not have child routes. Please remove " + ('all child routes from route path "' + path + '".')
      );
      flattenRoutes(route.children, branches, routesMeta, path);
    }
    if (route.path == null && !route.index) {
      return;
    }
    branches.push({
      path,
      score: computeScore(path, route.index),
      routesMeta
    });
  };
  routes.forEach((route, index) => {
    var _route$path;
    if (route.path === "" || !((_route$path = route.path) != null && _route$path.includes("?"))) {
      flattenRoute(route, index);
    } else {
      for (let exploded of explodeOptionalSegments(route.path)) {
        flattenRoute(route, index, exploded);
      }
    }
  });
  return branches;
}
function explodeOptionalSegments(path) {
  let segments = path.split("/");
  if (segments.length === 0)
    return [];
  let [first, ...rest] = segments;
  let isOptional = first.endsWith("?");
  let required = first.replace(/\?$/, "");
  if (rest.length === 0) {
    return isOptional ? [required, ""] : [required];
  }
  let restExploded = explodeOptionalSegments(rest.join("/"));
  let result = [];
  result.push(...restExploded.map((subpath) => subpath === "" ? required : [required, subpath].join("/")));
  if (isOptional) {
    result.push(...restExploded);
  }
  return result.map((exploded) => path.startsWith("/") && exploded === "" ? "/" : exploded);
}
function rankRouteBranches(branches) {
  branches.sort((a2, b3) => a2.score !== b3.score ? b3.score - a2.score : compareIndexes(a2.routesMeta.map((meta) => meta.childrenIndex), b3.routesMeta.map((meta) => meta.childrenIndex)));
}
const paramRe = /^:[\w-]+$/;
const dynamicSegmentValue = 3;
const indexRouteValue = 2;
const emptySegmentValue = 1;
const staticSegmentValue = 10;
const splatPenalty = -2;
const isSplat = (s2) => s2 === "*";
function computeScore(path, index) {
  let segments = path.split("/");
  let initialScore = segments.length;
  if (segments.some(isSplat)) {
    initialScore += splatPenalty;
  }
  if (index) {
    initialScore += indexRouteValue;
  }
  return segments.filter((s2) => !isSplat(s2)).reduce((score, segment) => score + (paramRe.test(segment) ? dynamicSegmentValue : segment === "" ? emptySegmentValue : staticSegmentValue), initialScore);
}
function compareIndexes(a2, b3) {
  let siblings = a2.length === b3.length && a2.slice(0, -1).every((n2, i2) => n2 === b3[i2]);
  return siblings ? a2[a2.length - 1] - b3[b3.length - 1] : 0;
}
function matchRouteBranch(branch, pathname, allowPartial) {
  if (allowPartial === void 0) {
    allowPartial = false;
  }
  let {
    routesMeta
  } = branch;
  let matchedParams = {};
  let matchedPathname = "/";
  let matches = [];
  for (let i2 = 0; i2 < routesMeta.length; ++i2) {
    let meta = routesMeta[i2];
    let end = i2 === routesMeta.length - 1;
    let remainingPathname = matchedPathname === "/" ? pathname : pathname.slice(matchedPathname.length) || "/";
    let match = matchPath({
      path: meta.relativePath,
      caseSensitive: meta.caseSensitive,
      end
    }, remainingPathname);
    let route = meta.route;
    if (!match && end && allowPartial && !routesMeta[routesMeta.length - 1].route.index) {
      match = matchPath({
        path: meta.relativePath,
        caseSensitive: meta.caseSensitive,
        end: false
      }, remainingPathname);
    }
    if (!match) {
      return null;
    }
    Object.assign(matchedParams, match.params);
    matches.push({
      params: matchedParams,
      pathname: joinPaths([matchedPathname, match.pathname]),
      pathnameBase: normalizePathname(joinPaths([matchedPathname, match.pathnameBase])),
      route
    });
    if (match.pathnameBase !== "/") {
      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);
    }
  }
  return matches;
}
function generatePath(originalPath, params) {
  if (params === void 0) {
    params = {};
  }
  let path = originalPath;
  if (path.endsWith("*") && path !== "*" && !path.endsWith("/*")) {
    warning(false, 'Route path "' + path + '" will be treated as if it were ' + ('"' + path.replace(/\*$/, "/*") + '" because the `*` character must ') + "always follow a `/` in the pattern. To get rid of this warning, " + ('please change the route path to "' + path.replace(/\*$/, "/*") + '".'));
    path = path.replace(/\*$/, "/*");
  }
  const prefix = path.startsWith("/") ? "/" : "";
  const stringify = (p2) => p2 == null ? "" : typeof p2 === "string" ? p2 : String(p2);
  const segments = path.split(/\/+/).map((segment, index, array) => {
    const isLastSegment = index === array.length - 1;
    if (isLastSegment && segment === "*") {
      const star = "*";
      return stringify(params[star]);
    }
    const keyMatch = segment.match(/^:([\w-]+)(\??)$/);
    if (keyMatch) {
      const [, key, optional] = keyMatch;
      let param = params[key];
      invariant(optional === "?" || param != null, 'Missing ":' + key + '" param');
      return stringify(param);
    }
    return segment.replace(/\?$/g, "");
  }).filter((segment) => !!segment);
  return prefix + segments.join("/");
}
function matchPath(pattern, pathname) {
  if (typeof pattern === "string") {
    pattern = {
      path: pattern,
      caseSensitive: false,
      end: true
    };
  }
  let [matcher, compiledParams] = compilePath(pattern.path, pattern.caseSensitive, pattern.end);
  let match = pathname.match(matcher);
  if (!match)
    return null;
  let matchedPathname = match[0];
  let pathnameBase = matchedPathname.replace(/(.)\/+$/, "$1");
  let captureGroups = match.slice(1);
  let params = compiledParams.reduce((memo2, _ref, index) => {
    let {
      paramName,
      isOptional
    } = _ref;
    if (paramName === "*") {
      let splatValue = captureGroups[index] || "";
      pathnameBase = matchedPathname.slice(0, matchedPathname.length - splatValue.length).replace(/(.)\/+$/, "$1");
    }
    const value = captureGroups[index];
    if (isOptional && !value) {
      memo2[paramName] = void 0;
    } else {
      memo2[paramName] = (value || "").replace(/%2F/g, "/");
    }
    return memo2;
  }, {});
  return {
    params,
    pathname: matchedPathname,
    pathnameBase,
    pattern
  };
}
function compilePath(path, caseSensitive, end) {
  if (caseSensitive === void 0) {
    caseSensitive = false;
  }
  if (end === void 0) {
    end = true;
  }
  warning(path === "*" || !path.endsWith("*") || path.endsWith("/*"), 'Route path "' + path + '" will be treated as if it were ' + ('"' + path.replace(/\*$/, "/*") + '" because the `*` character must ') + "always follow a `/` in the pattern. To get rid of this warning, " + ('please change the route path to "' + path.replace(/\*$/, "/*") + '".'));
  let params = [];
  let regexpSource = "^" + path.replace(/\/*\*?$/, "").replace(/^\/*/, "/").replace(/[\\.*+^${}|()[\]]/g, "\\$&").replace(/\/:([\w-]+)(\?)?/g, (_2, paramName, isOptional) => {
    params.push({
      paramName,
      isOptional: isOptional != null
    });
    return isOptional ? "/?([^\\/]+)?" : "/([^\\/]+)";
  });
  if (path.endsWith("*")) {
    params.push({
      paramName: "*"
    });
    regexpSource += path === "*" || path === "/*" ? "(.*)$" : "(?:\\/(.+)|\\/*)$";
  } else if (end) {
    regexpSource += "\\/*$";
  } else if (path !== "" && path !== "/") {
    regexpSource += "(?:(?=\\/|$))";
  } else
    ;
  let matcher = new RegExp(regexpSource, caseSensitive ? void 0 : "i");
  return [matcher, params];
}
function decodePath(value) {
  try {
    return value.split("/").map((v2) => decodeURIComponent(v2).replace(/\//g, "%2F")).join("/");
  } catch (error) {
    warning(false, 'The URL path "' + value + '" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent ' + ("encoding (" + error + ")."));
    return value;
  }
}
function stripBasename(pathname, basename) {
  if (basename === "/")
    return pathname;
  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {
    return null;
  }
  let startIndex = basename.endsWith("/") ? basename.length - 1 : basename.length;
  let nextChar = pathname.charAt(startIndex);
  if (nextChar && nextChar !== "/") {
    return null;
  }
  return pathname.slice(startIndex) || "/";
}
function resolvePath(to, fromPathname) {
  if (fromPathname === void 0) {
    fromPathname = "/";
  }
  let {
    pathname: toPathname,
    search = "",
    hash = ""
  } = typeof to === "string" ? parsePath(to) : to;
  let pathname = toPathname ? toPathname.startsWith("/") ? toPathname : resolvePathname(toPathname, fromPathname) : fromPathname;
  return {
    pathname,
    search: normalizeSearch(search),
    hash: normalizeHash(hash)
  };
}
function resolvePathname(relativePath, fromPathname) {
  let segments = fromPathname.replace(/\/+$/, "").split("/");
  let relativeSegments = relativePath.split("/");
  relativeSegments.forEach((segment) => {
    if (segment === "..") {
      if (segments.length > 1)
        segments.pop();
    } else if (segment !== ".") {
      segments.push(segment);
    }
  });
  return segments.length > 1 ? segments.join("/") : "/";
}
function getInvalidPathError(char, field, dest, path) {
  return "Cannot include a '" + char + "' character in a manually specified " + ("`to." + field + "` field [" + JSON.stringify(path) + "].  Please separate it out to the ") + ("`to." + dest + "` field. Alternatively you may provide the full path as ") + 'a string in <Link to="..."> and the router will parse it for you.';
}
function getPathContributingMatches(matches) {
  return matches.filter((match, index) => index === 0 || match.route.path && match.route.path.length > 0);
}
function getResolveToMatches(matches, v7_relativeSplatPath) {
  let pathMatches = getPathContributingMatches(matches);
  if (v7_relativeSplatPath) {
    return pathMatches.map((match, idx) => idx === pathMatches.length - 1 ? match.pathname : match.pathnameBase);
  }
  return pathMatches.map((match) => match.pathnameBase);
}
function resolveTo(toArg, routePathnames, locationPathname, isPathRelative) {
  if (isPathRelative === void 0) {
    isPathRelative = false;
  }
  let to;
  if (typeof toArg === "string") {
    to = parsePath(toArg);
  } else {
    to = _extends$3({}, toArg);
    invariant(!to.pathname || !to.pathname.includes("?"), getInvalidPathError("?", "pathname", "search", to));
    invariant(!to.pathname || !to.pathname.includes("#"), getInvalidPathError("#", "pathname", "hash", to));
    invariant(!to.search || !to.search.includes("#"), getInvalidPathError("#", "search", "hash", to));
  }
  let isEmptyPath = toArg === "" || to.pathname === "";
  let toPathname = isEmptyPath ? "/" : to.pathname;
  let from;
  if (toPathname == null) {
    from = locationPathname;
  } else {
    let routePathnameIndex = routePathnames.length - 1;
    if (!isPathRelative && toPathname.startsWith("..")) {
      let toSegments = toPathname.split("/");
      while (toSegments[0] === "..") {
        toSegments.shift();
        routePathnameIndex -= 1;
      }
      to.pathname = toSegments.join("/");
    }
    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : "/";
  }
  let path = resolvePath(to, from);
  let hasExplicitTrailingSlash = toPathname && toPathname !== "/" && toPathname.endsWith("/");
  let hasCurrentTrailingSlash = (isEmptyPath || toPathname === ".") && locationPathname.endsWith("/");
  if (!path.pathname.endsWith("/") && (hasExplicitTrailingSlash || hasCurrentTrailingSlash)) {
    path.pathname += "/";
  }
  return path;
}
function getToPathname(to) {
  return to === "" || to.pathname === "" ? "/" : typeof to === "string" ? parsePath(to).pathname : to.pathname;
}
const joinPaths = (paths) => paths.join("/").replace(/\/\/+/g, "/");
const normalizePathname = (pathname) => pathname.replace(/\/+$/, "").replace(/^\/*/, "/");
const normalizeSearch = (search) => !search || search === "?" ? "" : search.startsWith("?") ? search : "?" + search;
const normalizeHash = (hash) => !hash || hash === "#" ? "" : hash.startsWith("#") ? hash : "#" + hash;
const json = function json2(data2, init) {
  if (init === void 0) {
    init = {};
  }
  let responseInit = typeof init === "number" ? {
    status: init
  } : init;
  let headers = new Headers(responseInit.headers);
  if (!headers.has("Content-Type")) {
    headers.set("Content-Type", "application/json; charset=utf-8");
  }
  return new Response(JSON.stringify(data2), _extends$3({}, responseInit, {
    headers
  }));
};
class DataWithResponseInit {
  constructor(data2, init) {
    this.type = "DataWithResponseInit";
    this.data = data2;
    this.init = init || null;
  }
}
function data(data2, init) {
  return new DataWithResponseInit(data2, typeof init === "number" ? {
    status: init
  } : init);
}
class AbortedDeferredError extends Error {
}
class DeferredData {
  constructor(data2, responseInit) {
    this.pendingKeysSet = /* @__PURE__ */ new Set();
    this.subscribers = /* @__PURE__ */ new Set();
    this.deferredKeys = [];
    invariant(data2 && typeof data2 === "object" && !Array.isArray(data2), "defer() only accepts plain objects");
    let reject;
    this.abortPromise = new Promise((_2, r2) => reject = r2);
    this.controller = new AbortController();
    let onAbort = () => reject(new AbortedDeferredError("Deferred data aborted"));
    this.unlistenAbortSignal = () => this.controller.signal.removeEventListener("abort", onAbort);
    this.controller.signal.addEventListener("abort", onAbort);
    this.data = Object.entries(data2).reduce((acc, _ref2) => {
      let [key, value] = _ref2;
      return Object.assign(acc, {
        [key]: this.trackPromise(key, value)
      });
    }, {});
    if (this.done) {
      this.unlistenAbortSignal();
    }
    this.init = responseInit;
  }
  trackPromise(key, value) {
    if (!(value instanceof Promise)) {
      return value;
    }
    this.deferredKeys.push(key);
    this.pendingKeysSet.add(key);
    let promise = Promise.race([value, this.abortPromise]).then((data2) => this.onSettle(promise, key, void 0, data2), (error) => this.onSettle(promise, key, error));
    promise.catch(() => {
    });
    Object.defineProperty(promise, "_tracked", {
      get: () => true
    });
    return promise;
  }
  onSettle(promise, key, error, data2) {
    if (this.controller.signal.aborted && error instanceof AbortedDeferredError) {
      this.unlistenAbortSignal();
      Object.defineProperty(promise, "_error", {
        get: () => error
      });
      return Promise.reject(error);
    }
    this.pendingKeysSet.delete(key);
    if (this.done) {
      this.unlistenAbortSignal();
    }
    if (error === void 0 && data2 === void 0) {
      let undefinedError = new Error('Deferred data for key "' + key + '" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');
      Object.defineProperty(promise, "_error", {
        get: () => undefinedError
      });
      this.emit(false, key);
      return Promise.reject(undefinedError);
    }
    if (data2 === void 0) {
      Object.defineProperty(promise, "_error", {
        get: () => error
      });
      this.emit(false, key);
      return Promise.reject(error);
    }
    Object.defineProperty(promise, "_data", {
      get: () => data2
    });
    this.emit(false, key);
    return data2;
  }
  emit(aborted, settledKey) {
    this.subscribers.forEach((subscriber) => subscriber(aborted, settledKey));
  }
  subscribe(fn) {
    this.subscribers.add(fn);
    return () => this.subscribers.delete(fn);
  }
  cancel() {
    this.controller.abort();
    this.pendingKeysSet.forEach((v2, k3) => this.pendingKeysSet.delete(k3));
    this.emit(true);
  }
  async resolveData(signal) {
    let aborted = false;
    if (!this.done) {
      let onAbort = () => this.cancel();
      signal.addEventListener("abort", onAbort);
      aborted = await new Promise((resolve) => {
        this.subscribe((aborted2) => {
          signal.removeEventListener("abort", onAbort);
          if (aborted2 || this.done) {
            resolve(aborted2);
          }
        });
      });
    }
    return aborted;
  }
  get done() {
    return this.pendingKeysSet.size === 0;
  }
  get unwrappedData() {
    invariant(this.data !== null && this.done, "Can only unwrap data on initialized and settled deferreds");
    return Object.entries(this.data).reduce((acc, _ref3) => {
      let [key, value] = _ref3;
      return Object.assign(acc, {
        [key]: unwrapTrackedPromise(value)
      });
    }, {});
  }
  get pendingKeys() {
    return Array.from(this.pendingKeysSet);
  }
}
function isTrackedPromise(value) {
  return value instanceof Promise && value._tracked === true;
}
function unwrapTrackedPromise(value) {
  if (!isTrackedPromise(value)) {
    return value;
  }
  if (value._error) {
    throw value._error;
  }
  return value._data;
}
const defer = function defer2(data2, init) {
  if (init === void 0) {
    init = {};
  }
  let responseInit = typeof init === "number" ? {
    status: init
  } : init;
  return new DeferredData(data2, responseInit);
};
const redirect = function redirect2(url, init) {
  if (init === void 0) {
    init = 302;
  }
  let responseInit = init;
  if (typeof responseInit === "number") {
    responseInit = {
      status: responseInit
    };
  } else if (typeof responseInit.status === "undefined") {
    responseInit.status = 302;
  }
  let headers = new Headers(responseInit.headers);
  headers.set("Location", url);
  return new Response(null, _extends$3({}, responseInit, {
    headers
  }));
};
const redirectDocument = (url, init) => {
  let response = redirect(url, init);
  response.headers.set("X-Remix-Reload-Document", "true");
  return response;
};
const replace = (url, init) => {
  let response = redirect(url, init);
  response.headers.set("X-Remix-Replace", "true");
  return response;
};
class ErrorResponseImpl {
  constructor(status, statusText, data2, internal) {
    if (internal === void 0) {
      internal = false;
    }
    this.status = status;
    this.statusText = statusText || "";
    this.internal = internal;
    if (data2 instanceof Error) {
      this.data = data2.toString();
      this.error = data2;
    } else {
      this.data = data2;
    }
  }
}
function isRouteErrorResponse(error) {
  return error != null && typeof error.status === "number" && typeof error.statusText === "string" && typeof error.internal === "boolean" && "data" in error;
}
const validMutationMethodsArr = ["post", "put", "patch", "delete"];
const validMutationMethods = new Set(validMutationMethodsArr);
const validRequestMethodsArr = ["get", ...validMutationMethodsArr];
const validRequestMethods = new Set(validRequestMethodsArr);
const redirectStatusCodes = /* @__PURE__ */ new Set([301, 302, 303, 307, 308]);
const redirectPreserveMethodStatusCodes = /* @__PURE__ */ new Set([307, 308]);
const IDLE_NAVIGATION = {
  state: "idle",
  location: void 0,
  formMethod: void 0,
  formAction: void 0,
  formEncType: void 0,
  formData: void 0,
  json: void 0,
  text: void 0
};
const IDLE_FETCHER = {
  state: "idle",
  data: void 0,
  formMethod: void 0,
  formAction: void 0,
  formEncType: void 0,
  formData: void 0,
  json: void 0,
  text: void 0
};
const IDLE_BLOCKER = {
  state: "unblocked",
  proceed: void 0,
  reset: void 0,
  location: void 0
};
const ABSOLUTE_URL_REGEX$1 = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
const defaultMapRouteProperties = (route) => ({
  hasErrorBoundary: Boolean(route.hasErrorBoundary)
});
const TRANSITIONS_STORAGE_KEY = "remix-router-transitions";
function createRouter(init) {
  const routerWindow = init.window ? init.window : typeof window !== "undefined" ? window : void 0;
  const isBrowser2 = typeof routerWindow !== "undefined" && typeof routerWindow.document !== "undefined" && typeof routerWindow.document.createElement !== "undefined";
  const isServer = !isBrowser2;
  invariant(init.routes.length > 0, "You must provide a non-empty routes array to createRouter");
  let mapRouteProperties2;
  if (init.mapRouteProperties) {
    mapRouteProperties2 = init.mapRouteProperties;
  } else if (init.detectErrorBoundary) {
    let detectErrorBoundary = init.detectErrorBoundary;
    mapRouteProperties2 = (route) => ({
      hasErrorBoundary: detectErrorBoundary(route)
    });
  } else {
    mapRouteProperties2 = defaultMapRouteProperties;
  }
  let manifest = {};
  let dataRoutes = convertRoutesToDataRoutes(init.routes, mapRouteProperties2, void 0, manifest);
  let inFlightDataRoutes;
  let basename = init.basename || "/";
  let dataStrategyImpl = init.dataStrategy || defaultDataStrategy;
  let patchRoutesOnNavigationImpl = init.patchRoutesOnNavigation;
  let future = _extends$3({
    v7_fetcherPersist: false,
    v7_normalizeFormMethod: false,
    v7_partialHydration: false,
    v7_prependBasename: false,
    v7_relativeSplatPath: false,
    v7_skipActionErrorRevalidation: false
  }, init.future);
  let unlistenHistory = null;
  let subscribers = /* @__PURE__ */ new Set();
  let savedScrollPositions2 = null;
  let getScrollRestorationKey = null;
  let getScrollPosition = null;
  let initialScrollRestored = init.hydrationData != null;
  let initialMatches = matchRoutes(dataRoutes, init.history.location, basename);
  let initialMatchesIsFOW = false;
  let initialErrors = null;
  if (initialMatches == null && !patchRoutesOnNavigationImpl) {
    let error = getInternalRouterError(404, {
      pathname: init.history.location.pathname
    });
    let {
      matches,
      route
    } = getShortCircuitMatches(dataRoutes);
    initialMatches = matches;
    initialErrors = {
      [route.id]: error
    };
  }
  if (initialMatches && !init.hydrationData) {
    let fogOfWar = checkFogOfWar(initialMatches, dataRoutes, init.history.location.pathname);
    if (fogOfWar.active) {
      initialMatches = null;
    }
  }
  let initialized;
  if (!initialMatches) {
    initialized = false;
    initialMatches = [];
    if (future.v7_partialHydration) {
      let fogOfWar = checkFogOfWar(null, dataRoutes, init.history.location.pathname);
      if (fogOfWar.active && fogOfWar.matches) {
        initialMatchesIsFOW = true;
        initialMatches = fogOfWar.matches;
      }
    }
  } else if (initialMatches.some((m2) => m2.route.lazy)) {
    initialized = false;
  } else if (!initialMatches.some((m2) => m2.route.loader)) {
    initialized = true;
  } else if (future.v7_partialHydration) {
    let loaderData = init.hydrationData ? init.hydrationData.loaderData : null;
    let errors = init.hydrationData ? init.hydrationData.errors : null;
    if (errors) {
      let idx = initialMatches.findIndex((m2) => errors[m2.route.id] !== void 0);
      initialized = initialMatches.slice(0, idx + 1).every((m2) => !shouldLoadRouteOnHydration(m2.route, loaderData, errors));
    } else {
      initialized = initialMatches.every((m2) => !shouldLoadRouteOnHydration(m2.route, loaderData, errors));
    }
  } else {
    initialized = init.hydrationData != null;
  }
  let router;
  let state = {
    historyAction: init.history.action,
    location: init.history.location,
    matches: initialMatches,
    initialized,
    navigation: IDLE_NAVIGATION,
    restoreScrollPosition: init.hydrationData != null ? false : null,
    preventScrollReset: false,
    revalidation: "idle",
    loaderData: init.hydrationData && init.hydrationData.loaderData || {},
    actionData: init.hydrationData && init.hydrationData.actionData || null,
    errors: init.hydrationData && init.hydrationData.errors || initialErrors,
    fetchers: /* @__PURE__ */ new Map(),
    blockers: /* @__PURE__ */ new Map()
  };
  let pendingAction = Action.Pop;
  let pendingPreventScrollReset = false;
  let pendingNavigationController;
  let pendingViewTransitionEnabled = false;
  let appliedViewTransitions = /* @__PURE__ */ new Map();
  let removePageHideEventListener = null;
  let isUninterruptedRevalidation = false;
  let isRevalidationRequired = false;
  let cancelledDeferredRoutes = [];
  let cancelledFetcherLoads = /* @__PURE__ */ new Set();
  let fetchControllers = /* @__PURE__ */ new Map();
  let incrementingLoadId = 0;
  let pendingNavigationLoadId = -1;
  let fetchReloadIds = /* @__PURE__ */ new Map();
  let fetchRedirectIds = /* @__PURE__ */ new Set();
  let fetchLoadMatches = /* @__PURE__ */ new Map();
  let activeFetchers = /* @__PURE__ */ new Map();
  let deletedFetchers = /* @__PURE__ */ new Set();
  let activeDeferreds = /* @__PURE__ */ new Map();
  let blockerFunctions = /* @__PURE__ */ new Map();
  let unblockBlockerHistoryUpdate = void 0;
  function initialize() {
    unlistenHistory = init.history.listen((_ref) => {
      let {
        action: historyAction,
        location: location2,
        delta
      } = _ref;
      if (unblockBlockerHistoryUpdate) {
        unblockBlockerHistoryUpdate();
        unblockBlockerHistoryUpdate = void 0;
        return;
      }
      warning(blockerFunctions.size === 0 || delta != null, "You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");
      let blockerKey = shouldBlockNavigation({
        currentLocation: state.location,
        nextLocation: location2,
        historyAction
      });
      if (blockerKey && delta != null) {
        let nextHistoryUpdatePromise = new Promise((resolve) => {
          unblockBlockerHistoryUpdate = resolve;
        });
        init.history.go(delta * -1);
        updateBlocker(blockerKey, {
          state: "blocked",
          location: location2,
          proceed() {
            updateBlocker(blockerKey, {
              state: "proceeding",
              proceed: void 0,
              reset: void 0,
              location: location2
            });
            nextHistoryUpdatePromise.then(() => init.history.go(delta));
          },
          reset() {
            let blockers = new Map(state.blockers);
            blockers.set(blockerKey, IDLE_BLOCKER);
            updateState({
              blockers
            });
          }
        });
        return;
      }
      return startNavigation(historyAction, location2);
    });
    if (isBrowser2) {
      restoreAppliedTransitions(routerWindow, appliedViewTransitions);
      let _saveAppliedTransitions = () => persistAppliedTransitions(routerWindow, appliedViewTransitions);
      routerWindow.addEventListener("pagehide", _saveAppliedTransitions);
      removePageHideEventListener = () => routerWindow.removeEventListener("pagehide", _saveAppliedTransitions);
    }
    if (!state.initialized) {
      startNavigation(Action.Pop, state.location, {
        initialHydration: true
      });
    }
    return router;
  }
  function dispose() {
    if (unlistenHistory) {
      unlistenHistory();
    }
    if (removePageHideEventListener) {
      removePageHideEventListener();
    }
    subscribers.clear();
    pendingNavigationController && pendingNavigationController.abort();
    state.fetchers.forEach((_2, key) => deleteFetcher(key));
    state.blockers.forEach((_2, key) => deleteBlocker(key));
  }
  function subscribe(fn) {
    subscribers.add(fn);
    return () => subscribers.delete(fn);
  }
  function updateState(newState, opts) {
    if (opts === void 0) {
      opts = {};
    }
    state = _extends$3({}, state, newState);
    let completedFetchers = [];
    let deletedFetchersKeys = [];
    if (future.v7_fetcherPersist) {
      state.fetchers.forEach((fetcher, key) => {
        if (fetcher.state === "idle") {
          if (deletedFetchers.has(key)) {
            deletedFetchersKeys.push(key);
          } else {
            completedFetchers.push(key);
          }
        }
      });
    }
    deletedFetchers.forEach((key) => {
      if (!state.fetchers.has(key) && !fetchControllers.has(key)) {
        deletedFetchersKeys.push(key);
      }
    });
    [...subscribers].forEach((subscriber) => subscriber(state, {
      deletedFetchers: deletedFetchersKeys,
      viewTransitionOpts: opts.viewTransitionOpts,
      flushSync: opts.flushSync === true
    }));
    if (future.v7_fetcherPersist) {
      completedFetchers.forEach((key) => state.fetchers.delete(key));
      deletedFetchersKeys.forEach((key) => deleteFetcher(key));
    } else {
      deletedFetchersKeys.forEach((key) => deletedFetchers.delete(key));
    }
  }
  function completeNavigation(location2, newState, _temp) {
    var _location$state, _location$state2;
    let {
      flushSync: flushSync2
    } = _temp === void 0 ? {} : _temp;
    let isActionReload = state.actionData != null && state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && state.navigation.state === "loading" && ((_location$state = location2.state) == null ? void 0 : _location$state._isRedirect) !== true;
    let actionData;
    if (newState.actionData) {
      if (Object.keys(newState.actionData).length > 0) {
        actionData = newState.actionData;
      } else {
        actionData = null;
      }
    } else if (isActionReload) {
      actionData = state.actionData;
    } else {
      actionData = null;
    }
    let loaderData = newState.loaderData ? mergeLoaderData(state.loaderData, newState.loaderData, newState.matches || [], newState.errors) : state.loaderData;
    let blockers = state.blockers;
    if (blockers.size > 0) {
      blockers = new Map(blockers);
      blockers.forEach((_2, k3) => blockers.set(k3, IDLE_BLOCKER));
    }
    let preventScrollReset = pendingPreventScrollReset === true || state.navigation.formMethod != null && isMutationMethod(state.navigation.formMethod) && ((_location$state2 = location2.state) == null ? void 0 : _location$state2._isRedirect) !== true;
    if (inFlightDataRoutes) {
      dataRoutes = inFlightDataRoutes;
      inFlightDataRoutes = void 0;
    }
    if (isUninterruptedRevalidation)
      ;
    else if (pendingAction === Action.Pop)
      ;
    else if (pendingAction === Action.Push) {
      init.history.push(location2, location2.state);
    } else if (pendingAction === Action.Replace) {
      init.history.replace(location2, location2.state);
    }
    let viewTransitionOpts;
    if (pendingAction === Action.Pop) {
      let priorPaths = appliedViewTransitions.get(state.location.pathname);
      if (priorPaths && priorPaths.has(location2.pathname)) {
        viewTransitionOpts = {
          currentLocation: state.location,
          nextLocation: location2
        };
      } else if (appliedViewTransitions.has(location2.pathname)) {
        viewTransitionOpts = {
          currentLocation: location2,
          nextLocation: state.location
        };
      }
    } else if (pendingViewTransitionEnabled) {
      let toPaths = appliedViewTransitions.get(state.location.pathname);
      if (toPaths) {
        toPaths.add(location2.pathname);
      } else {
        toPaths = /* @__PURE__ */ new Set([location2.pathname]);
        appliedViewTransitions.set(state.location.pathname, toPaths);
      }
      viewTransitionOpts = {
        currentLocation: state.location,
        nextLocation: location2
      };
    }
    updateState(_extends$3({}, newState, {
      actionData,
      loaderData,
      historyAction: pendingAction,
      location: location2,
      initialized: true,
      navigation: IDLE_NAVIGATION,
      revalidation: "idle",
      restoreScrollPosition: getSavedScrollPosition(location2, newState.matches || state.matches),
      preventScrollReset,
      blockers
    }), {
      viewTransitionOpts,
      flushSync: flushSync2 === true
    });
    pendingAction = Action.Pop;
    pendingPreventScrollReset = false;
    pendingViewTransitionEnabled = false;
    isUninterruptedRevalidation = false;
    isRevalidationRequired = false;
    cancelledDeferredRoutes = [];
  }
  async function navigate(to, opts) {
    if (typeof to === "number") {
      init.history.go(to);
      return;
    }
    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, to, future.v7_relativeSplatPath, opts == null ? void 0 : opts.fromRouteId, opts == null ? void 0 : opts.relative);
    let {
      path,
      submission,
      error
    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, false, normalizedPath, opts);
    let currentLocation = state.location;
    let nextLocation = createLocation(state.location, path, opts && opts.state);
    nextLocation = _extends$3({}, nextLocation, init.history.encodeLocation(nextLocation));
    let userReplace = opts && opts.replace != null ? opts.replace : void 0;
    let historyAction = Action.Push;
    if (userReplace === true) {
      historyAction = Action.Replace;
    } else if (userReplace === false)
      ;
    else if (submission != null && isMutationMethod(submission.formMethod) && submission.formAction === state.location.pathname + state.location.search) {
      historyAction = Action.Replace;
    }
    let preventScrollReset = opts && "preventScrollReset" in opts ? opts.preventScrollReset === true : void 0;
    let flushSync2 = (opts && opts.flushSync) === true;
    let blockerKey = shouldBlockNavigation({
      currentLocation,
      nextLocation,
      historyAction
    });
    if (blockerKey) {
      updateBlocker(blockerKey, {
        state: "blocked",
        location: nextLocation,
        proceed() {
          updateBlocker(blockerKey, {
            state: "proceeding",
            proceed: void 0,
            reset: void 0,
            location: nextLocation
          });
          navigate(to, opts);
        },
        reset() {
          let blockers = new Map(state.blockers);
          blockers.set(blockerKey, IDLE_BLOCKER);
          updateState({
            blockers
          });
        }
      });
      return;
    }
    return await startNavigation(historyAction, nextLocation, {
      submission,
      pendingError: error,
      preventScrollReset,
      replace: opts && opts.replace,
      enableViewTransition: opts && opts.viewTransition,
      flushSync: flushSync2
    });
  }
  function revalidate() {
    interruptActiveLoads();
    updateState({
      revalidation: "loading"
    });
    if (state.navigation.state === "submitting") {
      return;
    }
    if (state.navigation.state === "idle") {
      startNavigation(state.historyAction, state.location, {
        startUninterruptedRevalidation: true
      });
      return;
    }
    startNavigation(pendingAction || state.historyAction, state.navigation.location, {
      overrideNavigation: state.navigation,
      enableViewTransition: pendingViewTransitionEnabled === true
    });
  }
  async function startNavigation(historyAction, location2, opts) {
    pendingNavigationController && pendingNavigationController.abort();
    pendingNavigationController = null;
    pendingAction = historyAction;
    isUninterruptedRevalidation = (opts && opts.startUninterruptedRevalidation) === true;
    saveScrollPosition(state.location, state.matches);
    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;
    pendingViewTransitionEnabled = (opts && opts.enableViewTransition) === true;
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let loadingNavigation = opts && opts.overrideNavigation;
    let matches = opts != null && opts.initialHydration && state.matches && state.matches.length > 0 && !initialMatchesIsFOW ? state.matches : matchRoutes(routesToUse, location2, basename);
    let flushSync2 = (opts && opts.flushSync) === true;
    if (matches && state.initialized && !isRevalidationRequired && isHashChangeOnly(state.location, location2) && !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))) {
      completeNavigation(location2, {
        matches
      }, {
        flushSync: flushSync2
      });
      return;
    }
    let fogOfWar = checkFogOfWar(matches, routesToUse, location2.pathname);
    if (fogOfWar.active && fogOfWar.matches) {
      matches = fogOfWar.matches;
    }
    if (!matches) {
      let {
        error,
        notFoundMatches,
        route
      } = handleNavigational404(location2.pathname);
      completeNavigation(location2, {
        matches: notFoundMatches,
        loaderData: {},
        errors: {
          [route.id]: error
        }
      }, {
        flushSync: flushSync2
      });
      return;
    }
    pendingNavigationController = new AbortController();
    let request = createClientSideRequest(init.history, location2, pendingNavigationController.signal, opts && opts.submission);
    let pendingActionResult;
    if (opts && opts.pendingError) {
      pendingActionResult = [findNearestBoundary(matches).route.id, {
        type: ResultType.error,
        error: opts.pendingError
      }];
    } else if (opts && opts.submission && isMutationMethod(opts.submission.formMethod)) {
      let actionResult = await handleAction(request, location2, opts.submission, matches, fogOfWar.active, {
        replace: opts.replace,
        flushSync: flushSync2
      });
      if (actionResult.shortCircuited) {
        return;
      }
      if (actionResult.pendingActionResult) {
        let [routeId, result] = actionResult.pendingActionResult;
        if (isErrorResult(result) && isRouteErrorResponse(result.error) && result.error.status === 404) {
          pendingNavigationController = null;
          completeNavigation(location2, {
            matches: actionResult.matches,
            loaderData: {},
            errors: {
              [routeId]: result.error
            }
          });
          return;
        }
      }
      matches = actionResult.matches || matches;
      pendingActionResult = actionResult.pendingActionResult;
      loadingNavigation = getLoadingNavigation(location2, opts.submission);
      flushSync2 = false;
      fogOfWar.active = false;
      request = createClientSideRequest(init.history, request.url, request.signal);
    }
    let {
      shortCircuited,
      matches: updatedMatches,
      loaderData,
      errors
    } = await handleLoaders(request, location2, matches, fogOfWar.active, loadingNavigation, opts && opts.submission, opts && opts.fetcherSubmission, opts && opts.replace, opts && opts.initialHydration === true, flushSync2, pendingActionResult);
    if (shortCircuited) {
      return;
    }
    pendingNavigationController = null;
    completeNavigation(location2, _extends$3({
      matches: updatedMatches || matches
    }, getActionDataForCommit(pendingActionResult), {
      loaderData,
      errors
    }));
  }
  async function handleAction(request, location2, submission, matches, isFogOfWar, opts) {
    if (opts === void 0) {
      opts = {};
    }
    interruptActiveLoads();
    let navigation = getSubmittingNavigation(location2, submission);
    updateState({
      navigation
    }, {
      flushSync: opts.flushSync === true
    });
    if (isFogOfWar) {
      let discoverResult = await discoverRoutes(matches, location2.pathname, request.signal);
      if (discoverResult.type === "aborted") {
        return {
          shortCircuited: true
        };
      } else if (discoverResult.type === "error") {
        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;
        return {
          matches: discoverResult.partialMatches,
          pendingActionResult: [boundaryId, {
            type: ResultType.error,
            error: discoverResult.error
          }]
        };
      } else if (!discoverResult.matches) {
        let {
          notFoundMatches,
          error,
          route
        } = handleNavigational404(location2.pathname);
        return {
          matches: notFoundMatches,
          pendingActionResult: [route.id, {
            type: ResultType.error,
            error
          }]
        };
      } else {
        matches = discoverResult.matches;
      }
    }
    let result;
    let actionMatch = getTargetMatch(matches, location2);
    if (!actionMatch.route.action && !actionMatch.route.lazy) {
      result = {
        type: ResultType.error,
        error: getInternalRouterError(405, {
          method: request.method,
          pathname: location2.pathname,
          routeId: actionMatch.route.id
        })
      };
    } else {
      let results = await callDataStrategy("action", state, request, [actionMatch], matches, null);
      result = results[actionMatch.route.id];
      if (request.signal.aborted) {
        return {
          shortCircuited: true
        };
      }
    }
    if (isRedirectResult(result)) {
      let replace2;
      if (opts && opts.replace != null) {
        replace2 = opts.replace;
      } else {
        let location3 = normalizeRedirectLocation(result.response.headers.get("Location"), new URL(request.url), basename);
        replace2 = location3 === state.location.pathname + state.location.search;
      }
      await startRedirectNavigation(request, result, true, {
        submission,
        replace: replace2
      });
      return {
        shortCircuited: true
      };
    }
    if (isDeferredResult(result)) {
      throw getInternalRouterError(400, {
        type: "defer-action"
      });
    }
    if (isErrorResult(result)) {
      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);
      if ((opts && opts.replace) !== true) {
        pendingAction = Action.Push;
      }
      return {
        matches,
        pendingActionResult: [boundaryMatch.route.id, result]
      };
    }
    return {
      matches,
      pendingActionResult: [actionMatch.route.id, result]
    };
  }
  async function handleLoaders(request, location2, matches, isFogOfWar, overrideNavigation, submission, fetcherSubmission, replace2, initialHydration, flushSync2, pendingActionResult) {
    let loadingNavigation = overrideNavigation || getLoadingNavigation(location2, submission);
    let activeSubmission = submission || fetcherSubmission || getSubmissionFromNavigation(loadingNavigation);
    let shouldUpdateNavigationState = !isUninterruptedRevalidation && (!future.v7_partialHydration || !initialHydration);
    if (isFogOfWar) {
      if (shouldUpdateNavigationState) {
        let actionData = getUpdatedActionData(pendingActionResult);
        updateState(_extends$3({
          navigation: loadingNavigation
        }, actionData !== void 0 ? {
          actionData
        } : {}), {
          flushSync: flushSync2
        });
      }
      let discoverResult = await discoverRoutes(matches, location2.pathname, request.signal);
      if (discoverResult.type === "aborted") {
        return {
          shortCircuited: true
        };
      } else if (discoverResult.type === "error") {
        let boundaryId = findNearestBoundary(discoverResult.partialMatches).route.id;
        return {
          matches: discoverResult.partialMatches,
          loaderData: {},
          errors: {
            [boundaryId]: discoverResult.error
          }
        };
      } else if (!discoverResult.matches) {
        let {
          error,
          notFoundMatches,
          route
        } = handleNavigational404(location2.pathname);
        return {
          matches: notFoundMatches,
          loaderData: {},
          errors: {
            [route.id]: error
          }
        };
      } else {
        matches = discoverResult.matches;
      }
    }
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, activeSubmission, location2, future.v7_partialHydration && initialHydration === true, future.v7_skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult);
    cancelActiveDeferreds((routeId) => !(matches && matches.some((m2) => m2.route.id === routeId)) || matchesToLoad && matchesToLoad.some((m2) => m2.route.id === routeId));
    pendingNavigationLoadId = ++incrementingLoadId;
    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {
      let updatedFetchers2 = markFetchRedirectsDone();
      completeNavigation(location2, _extends$3({
        matches,
        loaderData: {},
        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {
          [pendingActionResult[0]]: pendingActionResult[1].error
        } : null
      }, getActionDataForCommit(pendingActionResult), updatedFetchers2 ? {
        fetchers: new Map(state.fetchers)
      } : {}), {
        flushSync: flushSync2
      });
      return {
        shortCircuited: true
      };
    }
    if (shouldUpdateNavigationState) {
      let updates = {};
      if (!isFogOfWar) {
        updates.navigation = loadingNavigation;
        let actionData = getUpdatedActionData(pendingActionResult);
        if (actionData !== void 0) {
          updates.actionData = actionData;
        }
      }
      if (revalidatingFetchers.length > 0) {
        updates.fetchers = getUpdatedRevalidatingFetchers(revalidatingFetchers);
      }
      updateState(updates, {
        flushSync: flushSync2
      });
    }
    revalidatingFetchers.forEach((rf2) => {
      abortFetcher(rf2.key);
      if (rf2.controller) {
        fetchControllers.set(rf2.key, rf2.controller);
      }
    });
    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((f2) => abortFetcher(f2.key));
    if (pendingNavigationController) {
      pendingNavigationController.signal.addEventListener("abort", abortPendingFetchRevalidations);
    }
    let {
      loaderResults,
      fetcherResults
    } = await callLoadersAndMaybeResolveData(state, matches, matchesToLoad, revalidatingFetchers, request);
    if (request.signal.aborted) {
      return {
        shortCircuited: true
      };
    }
    if (pendingNavigationController) {
      pendingNavigationController.signal.removeEventListener("abort", abortPendingFetchRevalidations);
    }
    revalidatingFetchers.forEach((rf2) => fetchControllers.delete(rf2.key));
    let redirect3 = findRedirect(loaderResults);
    if (redirect3) {
      await startRedirectNavigation(request, redirect3.result, true, {
        replace: replace2
      });
      return {
        shortCircuited: true
      };
    }
    redirect3 = findRedirect(fetcherResults);
    if (redirect3) {
      fetchRedirectIds.add(redirect3.key);
      await startRedirectNavigation(request, redirect3.result, true, {
        replace: replace2
      });
      return {
        shortCircuited: true
      };
    }
    let {
      loaderData,
      errors
    } = processLoaderData(state, matches, loaderResults, pendingActionResult, revalidatingFetchers, fetcherResults, activeDeferreds);
    activeDeferreds.forEach((deferredData, routeId) => {
      deferredData.subscribe((aborted) => {
        if (aborted || deferredData.done) {
          activeDeferreds.delete(routeId);
        }
      });
    });
    if (future.v7_partialHydration && initialHydration && state.errors) {
      errors = _extends$3({}, state.errors, errors);
    }
    let updatedFetchers = markFetchRedirectsDone();
    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);
    let shouldUpdateFetchers = updatedFetchers || didAbortFetchLoads || revalidatingFetchers.length > 0;
    return _extends$3({
      matches,
      loaderData,
      errors
    }, shouldUpdateFetchers ? {
      fetchers: new Map(state.fetchers)
    } : {});
  }
  function getUpdatedActionData(pendingActionResult) {
    if (pendingActionResult && !isErrorResult(pendingActionResult[1])) {
      return {
        [pendingActionResult[0]]: pendingActionResult[1].data
      };
    } else if (state.actionData) {
      if (Object.keys(state.actionData).length === 0) {
        return null;
      } else {
        return state.actionData;
      }
    }
  }
  function getUpdatedRevalidatingFetchers(revalidatingFetchers) {
    revalidatingFetchers.forEach((rf2) => {
      let fetcher = state.fetchers.get(rf2.key);
      let revalidatingFetcher = getLoadingFetcher(void 0, fetcher ? fetcher.data : void 0);
      state.fetchers.set(rf2.key, revalidatingFetcher);
    });
    return new Map(state.fetchers);
  }
  function fetch2(key, routeId, href, opts) {
    if (isServer) {
      throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");
    }
    abortFetcher(key);
    let flushSync2 = (opts && opts.flushSync) === true;
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let normalizedPath = normalizeTo(state.location, state.matches, basename, future.v7_prependBasename, href, future.v7_relativeSplatPath, routeId, opts == null ? void 0 : opts.relative);
    let matches = matchRoutes(routesToUse, normalizedPath, basename);
    let fogOfWar = checkFogOfWar(matches, routesToUse, normalizedPath);
    if (fogOfWar.active && fogOfWar.matches) {
      matches = fogOfWar.matches;
    }
    if (!matches) {
      setFetcherError(key, routeId, getInternalRouterError(404, {
        pathname: normalizedPath
      }), {
        flushSync: flushSync2
      });
      return;
    }
    let {
      path,
      submission,
      error
    } = normalizeNavigateOptions(future.v7_normalizeFormMethod, true, normalizedPath, opts);
    if (error) {
      setFetcherError(key, routeId, error, {
        flushSync: flushSync2
      });
      return;
    }
    let match = getTargetMatch(matches, path);
    let preventScrollReset = (opts && opts.preventScrollReset) === true;
    if (submission && isMutationMethod(submission.formMethod)) {
      handleFetcherAction(key, routeId, path, match, matches, fogOfWar.active, flushSync2, preventScrollReset, submission);
      return;
    }
    fetchLoadMatches.set(key, {
      routeId,
      path
    });
    handleFetcherLoader(key, routeId, path, match, matches, fogOfWar.active, flushSync2, preventScrollReset, submission);
  }
  async function handleFetcherAction(key, routeId, path, match, requestMatches, isFogOfWar, flushSync2, preventScrollReset, submission) {
    interruptActiveLoads();
    fetchLoadMatches.delete(key);
    function detectAndHandle405Error(m2) {
      if (!m2.route.action && !m2.route.lazy) {
        let error = getInternalRouterError(405, {
          method: submission.formMethod,
          pathname: path,
          routeId
        });
        setFetcherError(key, routeId, error, {
          flushSync: flushSync2
        });
        return true;
      }
      return false;
    }
    if (!isFogOfWar && detectAndHandle405Error(match)) {
      return;
    }
    let existingFetcher = state.fetchers.get(key);
    updateFetcherState(key, getSubmittingFetcher(submission, existingFetcher), {
      flushSync: flushSync2
    });
    let abortController = new AbortController();
    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal, submission);
    if (isFogOfWar) {
      let discoverResult = await discoverRoutes(requestMatches, new URL(fetchRequest.url).pathname, fetchRequest.signal, key);
      if (discoverResult.type === "aborted") {
        return;
      } else if (discoverResult.type === "error") {
        setFetcherError(key, routeId, discoverResult.error, {
          flushSync: flushSync2
        });
        return;
      } else if (!discoverResult.matches) {
        setFetcherError(key, routeId, getInternalRouterError(404, {
          pathname: path
        }), {
          flushSync: flushSync2
        });
        return;
      } else {
        requestMatches = discoverResult.matches;
        match = getTargetMatch(requestMatches, path);
        if (detectAndHandle405Error(match)) {
          return;
        }
      }
    }
    fetchControllers.set(key, abortController);
    let originatingLoadId = incrementingLoadId;
    let actionResults = await callDataStrategy("action", state, fetchRequest, [match], requestMatches, key);
    let actionResult = actionResults[match.route.id];
    if (fetchRequest.signal.aborted) {
      if (fetchControllers.get(key) === abortController) {
        fetchControllers.delete(key);
      }
      return;
    }
    if (future.v7_fetcherPersist && deletedFetchers.has(key)) {
      if (isRedirectResult(actionResult) || isErrorResult(actionResult)) {
        updateFetcherState(key, getDoneFetcher(void 0));
        return;
      }
    } else {
      if (isRedirectResult(actionResult)) {
        fetchControllers.delete(key);
        if (pendingNavigationLoadId > originatingLoadId) {
          updateFetcherState(key, getDoneFetcher(void 0));
          return;
        } else {
          fetchRedirectIds.add(key);
          updateFetcherState(key, getLoadingFetcher(submission));
          return startRedirectNavigation(fetchRequest, actionResult, false, {
            fetcherSubmission: submission,
            preventScrollReset
          });
        }
      }
      if (isErrorResult(actionResult)) {
        setFetcherError(key, routeId, actionResult.error);
        return;
      }
    }
    if (isDeferredResult(actionResult)) {
      throw getInternalRouterError(400, {
        type: "defer-action"
      });
    }
    let nextLocation = state.navigation.location || state.location;
    let revalidationRequest = createClientSideRequest(init.history, nextLocation, abortController.signal);
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let matches = state.navigation.state !== "idle" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches;
    invariant(matches, "Didn't find any matches after fetcher action");
    let loadId = ++incrementingLoadId;
    fetchReloadIds.set(key, loadId);
    let loadFetcher = getLoadingFetcher(submission, actionResult.data);
    state.fetchers.set(key, loadFetcher);
    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(init.history, state, matches, submission, nextLocation, false, future.v7_skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, [match.route.id, actionResult]);
    revalidatingFetchers.filter((rf2) => rf2.key !== key).forEach((rf2) => {
      let staleKey = rf2.key;
      let existingFetcher2 = state.fetchers.get(staleKey);
      let revalidatingFetcher = getLoadingFetcher(void 0, existingFetcher2 ? existingFetcher2.data : void 0);
      state.fetchers.set(staleKey, revalidatingFetcher);
      abortFetcher(staleKey);
      if (rf2.controller) {
        fetchControllers.set(staleKey, rf2.controller);
      }
    });
    updateState({
      fetchers: new Map(state.fetchers)
    });
    let abortPendingFetchRevalidations = () => revalidatingFetchers.forEach((rf2) => abortFetcher(rf2.key));
    abortController.signal.addEventListener("abort", abortPendingFetchRevalidations);
    let {
      loaderResults,
      fetcherResults
    } = await callLoadersAndMaybeResolveData(state, matches, matchesToLoad, revalidatingFetchers, revalidationRequest);
    if (abortController.signal.aborted) {
      return;
    }
    abortController.signal.removeEventListener("abort", abortPendingFetchRevalidations);
    fetchReloadIds.delete(key);
    fetchControllers.delete(key);
    revalidatingFetchers.forEach((r2) => fetchControllers.delete(r2.key));
    let redirect3 = findRedirect(loaderResults);
    if (redirect3) {
      return startRedirectNavigation(revalidationRequest, redirect3.result, false, {
        preventScrollReset
      });
    }
    redirect3 = findRedirect(fetcherResults);
    if (redirect3) {
      fetchRedirectIds.add(redirect3.key);
      return startRedirectNavigation(revalidationRequest, redirect3.result, false, {
        preventScrollReset
      });
    }
    let {
      loaderData,
      errors
    } = processLoaderData(state, matches, loaderResults, void 0, revalidatingFetchers, fetcherResults, activeDeferreds);
    if (state.fetchers.has(key)) {
      let doneFetcher = getDoneFetcher(actionResult.data);
      state.fetchers.set(key, doneFetcher);
    }
    abortStaleFetchLoads(loadId);
    if (state.navigation.state === "loading" && loadId > pendingNavigationLoadId) {
      invariant(pendingAction, "Expected pending action");
      pendingNavigationController && pendingNavigationController.abort();
      completeNavigation(state.navigation.location, {
        matches,
        loaderData,
        errors,
        fetchers: new Map(state.fetchers)
      });
    } else {
      updateState({
        errors,
        loaderData: mergeLoaderData(state.loaderData, loaderData, matches, errors),
        fetchers: new Map(state.fetchers)
      });
      isRevalidationRequired = false;
    }
  }
  async function handleFetcherLoader(key, routeId, path, match, matches, isFogOfWar, flushSync2, preventScrollReset, submission) {
    let existingFetcher = state.fetchers.get(key);
    updateFetcherState(key, getLoadingFetcher(submission, existingFetcher ? existingFetcher.data : void 0), {
      flushSync: flushSync2
    });
    let abortController = new AbortController();
    let fetchRequest = createClientSideRequest(init.history, path, abortController.signal);
    if (isFogOfWar) {
      let discoverResult = await discoverRoutes(matches, new URL(fetchRequest.url).pathname, fetchRequest.signal, key);
      if (discoverResult.type === "aborted") {
        return;
      } else if (discoverResult.type === "error") {
        setFetcherError(key, routeId, discoverResult.error, {
          flushSync: flushSync2
        });
        return;
      } else if (!discoverResult.matches) {
        setFetcherError(key, routeId, getInternalRouterError(404, {
          pathname: path
        }), {
          flushSync: flushSync2
        });
        return;
      } else {
        matches = discoverResult.matches;
        match = getTargetMatch(matches, path);
      }
    }
    fetchControllers.set(key, abortController);
    let originatingLoadId = incrementingLoadId;
    let results = await callDataStrategy("loader", state, fetchRequest, [match], matches, key);
    let result = results[match.route.id];
    if (isDeferredResult(result)) {
      result = await resolveDeferredData(result, fetchRequest.signal, true) || result;
    }
    if (fetchControllers.get(key) === abortController) {
      fetchControllers.delete(key);
    }
    if (fetchRequest.signal.aborted) {
      return;
    }
    if (deletedFetchers.has(key)) {
      updateFetcherState(key, getDoneFetcher(void 0));
      return;
    }
    if (isRedirectResult(result)) {
      if (pendingNavigationLoadId > originatingLoadId) {
        updateFetcherState(key, getDoneFetcher(void 0));
        return;
      } else {
        fetchRedirectIds.add(key);
        await startRedirectNavigation(fetchRequest, result, false, {
          preventScrollReset
        });
        return;
      }
    }
    if (isErrorResult(result)) {
      setFetcherError(key, routeId, result.error);
      return;
    }
    invariant(!isDeferredResult(result), "Unhandled fetcher deferred data");
    updateFetcherState(key, getDoneFetcher(result.data));
  }
  async function startRedirectNavigation(request, redirect3, isNavigation, _temp2) {
    let {
      submission,
      fetcherSubmission,
      preventScrollReset,
      replace: replace2
    } = _temp2 === void 0 ? {} : _temp2;
    if (redirect3.response.headers.has("X-Remix-Revalidate")) {
      isRevalidationRequired = true;
    }
    let location2 = redirect3.response.headers.get("Location");
    invariant(location2, "Expected a Location header on the redirect Response");
    location2 = normalizeRedirectLocation(location2, new URL(request.url), basename);
    let redirectLocation = createLocation(state.location, location2, {
      _isRedirect: true
    });
    if (isBrowser2) {
      let isDocumentReload = false;
      if (redirect3.response.headers.has("X-Remix-Reload-Document")) {
        isDocumentReload = true;
      } else if (ABSOLUTE_URL_REGEX$1.test(location2)) {
        const url = init.history.createURL(location2);
        isDocumentReload = url.origin !== routerWindow.location.origin || stripBasename(url.pathname, basename) == null;
      }
      if (isDocumentReload) {
        if (replace2) {
          routerWindow.location.replace(location2);
        } else {
          routerWindow.location.assign(location2);
        }
        return;
      }
    }
    pendingNavigationController = null;
    let redirectHistoryAction = replace2 === true || redirect3.response.headers.has("X-Remix-Replace") ? Action.Replace : Action.Push;
    let {
      formMethod,
      formAction,
      formEncType
    } = state.navigation;
    if (!submission && !fetcherSubmission && formMethod && formAction && formEncType) {
      submission = getSubmissionFromNavigation(state.navigation);
    }
    let activeSubmission = submission || fetcherSubmission;
    if (redirectPreserveMethodStatusCodes.has(redirect3.response.status) && activeSubmission && isMutationMethod(activeSubmission.formMethod)) {
      await startNavigation(redirectHistoryAction, redirectLocation, {
        submission: _extends$3({}, activeSubmission, {
          formAction: location2
        }),
        preventScrollReset: preventScrollReset || pendingPreventScrollReset,
        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0
      });
    } else {
      let overrideNavigation = getLoadingNavigation(redirectLocation, submission);
      await startNavigation(redirectHistoryAction, redirectLocation, {
        overrideNavigation,
        fetcherSubmission,
        preventScrollReset: preventScrollReset || pendingPreventScrollReset,
        enableViewTransition: isNavigation ? pendingViewTransitionEnabled : void 0
      });
    }
  }
  async function callDataStrategy(type, state2, request, matchesToLoad, matches, fetcherKey) {
    let results;
    let dataResults = {};
    try {
      results = await callDataStrategyImpl(dataStrategyImpl, type, state2, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties2);
    } catch (e) {
      matchesToLoad.forEach((m2) => {
        dataResults[m2.route.id] = {
          type: ResultType.error,
          error: e
        };
      });
      return dataResults;
    }
    for (let [routeId, result] of Object.entries(results)) {
      if (isRedirectDataStrategyResultResult(result)) {
        let response = result.result;
        dataResults[routeId] = {
          type: ResultType.redirect,
          response: normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename, future.v7_relativeSplatPath)
        };
      } else {
        dataResults[routeId] = await convertDataStrategyResultToDataResult(result);
      }
    }
    return dataResults;
  }
  async function callLoadersAndMaybeResolveData(state2, matches, matchesToLoad, fetchersToLoad, request) {
    let currentMatches = state2.matches;
    let loaderResultsPromise = callDataStrategy("loader", state2, request, matchesToLoad, matches, null);
    let fetcherResultsPromise = Promise.all(fetchersToLoad.map(async (f2) => {
      if (f2.matches && f2.match && f2.controller) {
        let results = await callDataStrategy("loader", state2, createClientSideRequest(init.history, f2.path, f2.controller.signal), [f2.match], f2.matches, f2.key);
        let result = results[f2.match.route.id];
        return {
          [f2.key]: result
        };
      } else {
        return Promise.resolve({
          [f2.key]: {
            type: ResultType.error,
            error: getInternalRouterError(404, {
              pathname: f2.path
            })
          }
        });
      }
    }));
    let loaderResults = await loaderResultsPromise;
    let fetcherResults = (await fetcherResultsPromise).reduce((acc, r2) => Object.assign(acc, r2), {});
    await Promise.all([resolveNavigationDeferredResults(matches, loaderResults, request.signal, currentMatches, state2.loaderData), resolveFetcherDeferredResults(matches, fetcherResults, fetchersToLoad)]);
    return {
      loaderResults,
      fetcherResults
    };
  }
  function interruptActiveLoads() {
    isRevalidationRequired = true;
    cancelledDeferredRoutes.push(...cancelActiveDeferreds());
    fetchLoadMatches.forEach((_2, key) => {
      if (fetchControllers.has(key)) {
        cancelledFetcherLoads.add(key);
      }
      abortFetcher(key);
    });
  }
  function updateFetcherState(key, fetcher, opts) {
    if (opts === void 0) {
      opts = {};
    }
    state.fetchers.set(key, fetcher);
    updateState({
      fetchers: new Map(state.fetchers)
    }, {
      flushSync: (opts && opts.flushSync) === true
    });
  }
  function setFetcherError(key, routeId, error, opts) {
    if (opts === void 0) {
      opts = {};
    }
    let boundaryMatch = findNearestBoundary(state.matches, routeId);
    deleteFetcher(key);
    updateState({
      errors: {
        [boundaryMatch.route.id]: error
      },
      fetchers: new Map(state.fetchers)
    }, {
      flushSync: (opts && opts.flushSync) === true
    });
  }
  function getFetcher(key) {
    activeFetchers.set(key, (activeFetchers.get(key) || 0) + 1);
    if (deletedFetchers.has(key)) {
      deletedFetchers.delete(key);
    }
    return state.fetchers.get(key) || IDLE_FETCHER;
  }
  function deleteFetcher(key) {
    let fetcher = state.fetchers.get(key);
    if (fetchControllers.has(key) && !(fetcher && fetcher.state === "loading" && fetchReloadIds.has(key))) {
      abortFetcher(key);
    }
    fetchLoadMatches.delete(key);
    fetchReloadIds.delete(key);
    fetchRedirectIds.delete(key);
    if (future.v7_fetcherPersist) {
      deletedFetchers.delete(key);
    }
    cancelledFetcherLoads.delete(key);
    state.fetchers.delete(key);
  }
  function deleteFetcherAndUpdateState(key) {
    let count = (activeFetchers.get(key) || 0) - 1;
    if (count <= 0) {
      activeFetchers.delete(key);
      deletedFetchers.add(key);
      if (!future.v7_fetcherPersist) {
        deleteFetcher(key);
      }
    } else {
      activeFetchers.set(key, count);
    }
    updateState({
      fetchers: new Map(state.fetchers)
    });
  }
  function abortFetcher(key) {
    let controller = fetchControllers.get(key);
    if (controller) {
      controller.abort();
      fetchControllers.delete(key);
    }
  }
  function markFetchersDone(keys) {
    for (let key of keys) {
      let fetcher = getFetcher(key);
      let doneFetcher = getDoneFetcher(fetcher.data);
      state.fetchers.set(key, doneFetcher);
    }
  }
  function markFetchRedirectsDone() {
    let doneKeys = [];
    let updatedFetchers = false;
    for (let key of fetchRedirectIds) {
      let fetcher = state.fetchers.get(key);
      invariant(fetcher, "Expected fetcher: " + key);
      if (fetcher.state === "loading") {
        fetchRedirectIds.delete(key);
        doneKeys.push(key);
        updatedFetchers = true;
      }
    }
    markFetchersDone(doneKeys);
    return updatedFetchers;
  }
  function abortStaleFetchLoads(landedId) {
    let yeetedKeys = [];
    for (let [key, id2] of fetchReloadIds) {
      if (id2 < landedId) {
        let fetcher = state.fetchers.get(key);
        invariant(fetcher, "Expected fetcher: " + key);
        if (fetcher.state === "loading") {
          abortFetcher(key);
          fetchReloadIds.delete(key);
          yeetedKeys.push(key);
        }
      }
    }
    markFetchersDone(yeetedKeys);
    return yeetedKeys.length > 0;
  }
  function getBlocker(key, fn) {
    let blocker = state.blockers.get(key) || IDLE_BLOCKER;
    if (blockerFunctions.get(key) !== fn) {
      blockerFunctions.set(key, fn);
    }
    return blocker;
  }
  function deleteBlocker(key) {
    state.blockers.delete(key);
    blockerFunctions.delete(key);
  }
  function updateBlocker(key, newBlocker) {
    let blocker = state.blockers.get(key) || IDLE_BLOCKER;
    invariant(blocker.state === "unblocked" && newBlocker.state === "blocked" || blocker.state === "blocked" && newBlocker.state === "blocked" || blocker.state === "blocked" && newBlocker.state === "proceeding" || blocker.state === "blocked" && newBlocker.state === "unblocked" || blocker.state === "proceeding" && newBlocker.state === "unblocked", "Invalid blocker state transition: " + blocker.state + " -> " + newBlocker.state);
    let blockers = new Map(state.blockers);
    blockers.set(key, newBlocker);
    updateState({
      blockers
    });
  }
  function shouldBlockNavigation(_ref2) {
    let {
      currentLocation,
      nextLocation,
      historyAction
    } = _ref2;
    if (blockerFunctions.size === 0) {
      return;
    }
    if (blockerFunctions.size > 1) {
      warning(false, "A router only supports one blocker at a time");
    }
    let entries = Array.from(blockerFunctions.entries());
    let [blockerKey, blockerFunction] = entries[entries.length - 1];
    let blocker = state.blockers.get(blockerKey);
    if (blocker && blocker.state === "proceeding") {
      return;
    }
    if (blockerFunction({
      currentLocation,
      nextLocation,
      historyAction
    })) {
      return blockerKey;
    }
  }
  function handleNavigational404(pathname) {
    let error = getInternalRouterError(404, {
      pathname
    });
    let routesToUse = inFlightDataRoutes || dataRoutes;
    let {
      matches,
      route
    } = getShortCircuitMatches(routesToUse);
    cancelActiveDeferreds();
    return {
      notFoundMatches: matches,
      route,
      error
    };
  }
  function cancelActiveDeferreds(predicate) {
    let cancelledRouteIds = [];
    activeDeferreds.forEach((dfd, routeId) => {
      if (!predicate || predicate(routeId)) {
        dfd.cancel();
        cancelledRouteIds.push(routeId);
        activeDeferreds.delete(routeId);
      }
    });
    return cancelledRouteIds;
  }
  function enableScrollRestoration(positions, getPosition, getKey) {
    savedScrollPositions2 = positions;
    getScrollPosition = getPosition;
    getScrollRestorationKey = getKey || null;
    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {
      initialScrollRestored = true;
      let y2 = getSavedScrollPosition(state.location, state.matches);
      if (y2 != null) {
        updateState({
          restoreScrollPosition: y2
        });
      }
    }
    return () => {
      savedScrollPositions2 = null;
      getScrollPosition = null;
      getScrollRestorationKey = null;
    };
  }
  function getScrollKey(location2, matches) {
    if (getScrollRestorationKey) {
      let key = getScrollRestorationKey(location2, matches.map((m2) => convertRouteMatchToUiMatch(m2, state.loaderData)));
      return key || location2.key;
    }
    return location2.key;
  }
  function saveScrollPosition(location2, matches) {
    if (savedScrollPositions2 && getScrollPosition) {
      let key = getScrollKey(location2, matches);
      savedScrollPositions2[key] = getScrollPosition();
    }
  }
  function getSavedScrollPosition(location2, matches) {
    if (savedScrollPositions2) {
      let key = getScrollKey(location2, matches);
      let y2 = savedScrollPositions2[key];
      if (typeof y2 === "number") {
        return y2;
      }
    }
    return null;
  }
  function checkFogOfWar(matches, routesToUse, pathname) {
    if (patchRoutesOnNavigationImpl) {
      if (!matches) {
        let fogMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
        return {
          active: true,
          matches: fogMatches || []
        };
      } else {
        if (Object.keys(matches[0].params).length > 0) {
          let partialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
          return {
            active: true,
            matches: partialMatches
          };
        }
      }
    }
    return {
      active: false,
      matches: null
    };
  }
  async function discoverRoutes(matches, pathname, signal, fetcherKey) {
    if (!patchRoutesOnNavigationImpl) {
      return {
        type: "success",
        matches
      };
    }
    let partialMatches = matches;
    while (true) {
      let isNonHMR = inFlightDataRoutes == null;
      let routesToUse = inFlightDataRoutes || dataRoutes;
      let localManifest = manifest;
      try {
        await patchRoutesOnNavigationImpl({
          signal,
          path: pathname,
          matches: partialMatches,
          fetcherKey,
          patch: (routeId, children) => {
            if (signal.aborted)
              return;
            patchRoutesImpl(routeId, children, routesToUse, localManifest, mapRouteProperties2);
          }
        });
      } catch (e) {
        return {
          type: "error",
          error: e,
          partialMatches
        };
      } finally {
        if (isNonHMR && !signal.aborted) {
          dataRoutes = [...dataRoutes];
        }
      }
      if (signal.aborted) {
        return {
          type: "aborted"
        };
      }
      let newMatches = matchRoutes(routesToUse, pathname, basename);
      if (newMatches) {
        return {
          type: "success",
          matches: newMatches
        };
      }
      let newPartialMatches = matchRoutesImpl(routesToUse, pathname, basename, true);
      if (!newPartialMatches || partialMatches.length === newPartialMatches.length && partialMatches.every((m2, i2) => m2.route.id === newPartialMatches[i2].route.id)) {
        return {
          type: "success",
          matches: null
        };
      }
      partialMatches = newPartialMatches;
    }
  }
  function _internalSetRoutes(newRoutes) {
    manifest = {};
    inFlightDataRoutes = convertRoutesToDataRoutes(newRoutes, mapRouteProperties2, void 0, manifest);
  }
  function patchRoutes(routeId, children) {
    let isNonHMR = inFlightDataRoutes == null;
    let routesToUse = inFlightDataRoutes || dataRoutes;
    patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2);
    if (isNonHMR) {
      dataRoutes = [...dataRoutes];
      updateState({});
    }
  }
  router = {
    get basename() {
      return basename;
    },
    get future() {
      return future;
    },
    get state() {
      return state;
    },
    get routes() {
      return dataRoutes;
    },
    get window() {
      return routerWindow;
    },
    initialize,
    subscribe,
    enableScrollRestoration,
    navigate,
    fetch: fetch2,
    revalidate,
    createHref: (to) => init.history.createHref(to),
    encodeLocation: (to) => init.history.encodeLocation(to),
    getFetcher,
    deleteFetcher: deleteFetcherAndUpdateState,
    dispose,
    getBlocker,
    deleteBlocker,
    patchRoutes,
    _internalFetchControllers: fetchControllers,
    _internalActiveDeferreds: activeDeferreds,
    _internalSetRoutes
  };
  return router;
}
const UNSAFE_DEFERRED_SYMBOL = Symbol("deferred");
function createStaticHandler(routes, opts) {
  invariant(routes.length > 0, "You must provide a non-empty routes array to createStaticHandler");
  let manifest = {};
  let basename = (opts ? opts.basename : null) || "/";
  let mapRouteProperties2;
  if (opts != null && opts.mapRouteProperties) {
    mapRouteProperties2 = opts.mapRouteProperties;
  } else if (opts != null && opts.detectErrorBoundary) {
    let detectErrorBoundary = opts.detectErrorBoundary;
    mapRouteProperties2 = (route) => ({
      hasErrorBoundary: detectErrorBoundary(route)
    });
  } else {
    mapRouteProperties2 = defaultMapRouteProperties;
  }
  let future = _extends$3({
    v7_relativeSplatPath: false,
    v7_throwAbortReason: false
  }, opts ? opts.future : null);
  let dataRoutes = convertRoutesToDataRoutes(routes, mapRouteProperties2, void 0, manifest);
  async function query(request, _temp3) {
    let {
      requestContext,
      skipLoaderErrorBubbling,
      dataStrategy
    } = _temp3 === void 0 ? {} : _temp3;
    let url = new URL(request.url);
    let method = request.method;
    let location2 = createLocation("", createPath(url), null, "default");
    let matches = matchRoutes(dataRoutes, location2, basename);
    if (!isValidMethod(method) && method !== "HEAD") {
      let error = getInternalRouterError(405, {
        method
      });
      let {
        matches: methodNotAllowedMatches,
        route
      } = getShortCircuitMatches(dataRoutes);
      return {
        basename,
        location: location2,
        matches: methodNotAllowedMatches,
        loaderData: {},
        actionData: null,
        errors: {
          [route.id]: error
        },
        statusCode: error.status,
        loaderHeaders: {},
        actionHeaders: {},
        activeDeferreds: null
      };
    } else if (!matches) {
      let error = getInternalRouterError(404, {
        pathname: location2.pathname
      });
      let {
        matches: notFoundMatches,
        route
      } = getShortCircuitMatches(dataRoutes);
      return {
        basename,
        location: location2,
        matches: notFoundMatches,
        loaderData: {},
        actionData: null,
        errors: {
          [route.id]: error
        },
        statusCode: error.status,
        loaderHeaders: {},
        actionHeaders: {},
        activeDeferreds: null
      };
    }
    let result = await queryImpl(request, location2, matches, requestContext, dataStrategy || null, skipLoaderErrorBubbling === true, null);
    if (isResponse(result)) {
      return result;
    }
    return _extends$3({
      location: location2,
      basename
    }, result);
  }
  async function queryRoute(request, _temp4) {
    let {
      routeId,
      requestContext,
      dataStrategy
    } = _temp4 === void 0 ? {} : _temp4;
    let url = new URL(request.url);
    let method = request.method;
    let location2 = createLocation("", createPath(url), null, "default");
    let matches = matchRoutes(dataRoutes, location2, basename);
    if (!isValidMethod(method) && method !== "HEAD" && method !== "OPTIONS") {
      throw getInternalRouterError(405, {
        method
      });
    } else if (!matches) {
      throw getInternalRouterError(404, {
        pathname: location2.pathname
      });
    }
    let match = routeId ? matches.find((m2) => m2.route.id === routeId) : getTargetMatch(matches, location2);
    if (routeId && !match) {
      throw getInternalRouterError(403, {
        pathname: location2.pathname,
        routeId
      });
    } else if (!match) {
      throw getInternalRouterError(404, {
        pathname: location2.pathname
      });
    }
    let result = await queryImpl(request, location2, matches, requestContext, dataStrategy || null, false, match);
    if (isResponse(result)) {
      return result;
    }
    let error = result.errors ? Object.values(result.errors)[0] : void 0;
    if (error !== void 0) {
      throw error;
    }
    if (result.actionData) {
      return Object.values(result.actionData)[0];
    }
    if (result.loaderData) {
      var _result$activeDeferre;
      let data2 = Object.values(result.loaderData)[0];
      if ((_result$activeDeferre = result.activeDeferreds) != null && _result$activeDeferre[match.route.id]) {
        data2[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];
      }
      return data2;
    }
    return void 0;
  }
  async function queryImpl(request, location2, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch) {
    invariant(request.signal, "query()/queryRoute() requests must contain an AbortController signal");
    try {
      if (isMutationMethod(request.method.toLowerCase())) {
        let result2 = await submit(request, matches, routeMatch || getTargetMatch(matches, location2), requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch != null);
        return result2;
      }
      let result = await loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch);
      return isResponse(result) ? result : _extends$3({}, result, {
        actionData: null,
        actionHeaders: {}
      });
    } catch (e) {
      if (isDataStrategyResult(e) && isResponse(e.result)) {
        if (e.type === ResultType.error) {
          throw e.result;
        }
        return e.result;
      }
      if (isRedirectResponse(e)) {
        return e;
      }
      throw e;
    }
  }
  async function submit(request, matches, actionMatch, requestContext, dataStrategy, skipLoaderErrorBubbling, isRouteRequest) {
    let result;
    if (!actionMatch.route.action && !actionMatch.route.lazy) {
      let error = getInternalRouterError(405, {
        method: request.method,
        pathname: new URL(request.url).pathname,
        routeId: actionMatch.route.id
      });
      if (isRouteRequest) {
        throw error;
      }
      result = {
        type: ResultType.error,
        error
      };
    } else {
      let results = await callDataStrategy("action", request, [actionMatch], matches, isRouteRequest, requestContext, dataStrategy);
      result = results[actionMatch.route.id];
      if (request.signal.aborted) {
        throwStaticHandlerAbortedError(request, isRouteRequest, future);
      }
    }
    if (isRedirectResult(result)) {
      throw new Response(null, {
        status: result.response.status,
        headers: {
          Location: result.response.headers.get("Location")
        }
      });
    }
    if (isDeferredResult(result)) {
      let error = getInternalRouterError(400, {
        type: "defer-action"
      });
      if (isRouteRequest) {
        throw error;
      }
      result = {
        type: ResultType.error,
        error
      };
    }
    if (isRouteRequest) {
      if (isErrorResult(result)) {
        throw result.error;
      }
      return {
        matches: [actionMatch],
        loaderData: {},
        actionData: {
          [actionMatch.route.id]: result.data
        },
        errors: null,
        statusCode: 200,
        loaderHeaders: {},
        actionHeaders: {},
        activeDeferreds: null
      };
    }
    let loaderRequest = new Request(request.url, {
      headers: request.headers,
      redirect: request.redirect,
      signal: request.signal
    });
    if (isErrorResult(result)) {
      let boundaryMatch = skipLoaderErrorBubbling ? actionMatch : findNearestBoundary(matches, actionMatch.route.id);
      let context2 = await loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null, [boundaryMatch.route.id, result]);
      return _extends$3({}, context2, {
        statusCode: isRouteErrorResponse(result.error) ? result.error.status : result.statusCode != null ? result.statusCode : 500,
        actionData: null,
        actionHeaders: _extends$3({}, result.headers ? {
          [actionMatch.route.id]: result.headers
        } : {})
      });
    }
    let context = await loadRouteData(loaderRequest, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, null);
    return _extends$3({}, context, {
      actionData: {
        [actionMatch.route.id]: result.data
      }
    }, result.statusCode ? {
      statusCode: result.statusCode
    } : {}, {
      actionHeaders: result.headers ? {
        [actionMatch.route.id]: result.headers
      } : {}
    });
  }
  async function loadRouteData(request, matches, requestContext, dataStrategy, skipLoaderErrorBubbling, routeMatch, pendingActionResult) {
    let isRouteRequest = routeMatch != null;
    if (isRouteRequest && !(routeMatch != null && routeMatch.route.loader) && !(routeMatch != null && routeMatch.route.lazy)) {
      throw getInternalRouterError(400, {
        method: request.method,
        pathname: new URL(request.url).pathname,
        routeId: routeMatch == null ? void 0 : routeMatch.route.id
      });
    }
    let requestMatches = routeMatch ? [routeMatch] : pendingActionResult && isErrorResult(pendingActionResult[1]) ? getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]) : matches;
    let matchesToLoad = requestMatches.filter((m2) => m2.route.loader || m2.route.lazy);
    if (matchesToLoad.length === 0) {
      return {
        matches,
        loaderData: matches.reduce((acc, m2) => Object.assign(acc, {
          [m2.route.id]: null
        }), {}),
        errors: pendingActionResult && isErrorResult(pendingActionResult[1]) ? {
          [pendingActionResult[0]]: pendingActionResult[1].error
        } : null,
        statusCode: 200,
        loaderHeaders: {},
        activeDeferreds: null
      };
    }
    let results = await callDataStrategy("loader", request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy);
    if (request.signal.aborted) {
      throwStaticHandlerAbortedError(request, isRouteRequest, future);
    }
    let activeDeferreds = /* @__PURE__ */ new Map();
    let context = processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, skipLoaderErrorBubbling);
    let executedLoaders = new Set(matchesToLoad.map((match) => match.route.id));
    matches.forEach((match) => {
      if (!executedLoaders.has(match.route.id)) {
        context.loaderData[match.route.id] = null;
      }
    });
    return _extends$3({}, context, {
      matches,
      activeDeferreds: activeDeferreds.size > 0 ? Object.fromEntries(activeDeferreds.entries()) : null
    });
  }
  async function callDataStrategy(type, request, matchesToLoad, matches, isRouteRequest, requestContext, dataStrategy) {
    let results = await callDataStrategyImpl(dataStrategy || defaultDataStrategy, type, null, request, matchesToLoad, matches, null, manifest, mapRouteProperties2, requestContext);
    let dataResults = {};
    await Promise.all(matches.map(async (match) => {
      if (!(match.route.id in results)) {
        return;
      }
      let result = results[match.route.id];
      if (isRedirectDataStrategyResultResult(result)) {
        let response = result.result;
        throw normalizeRelativeRoutingRedirectResponse(response, request, match.route.id, matches, basename, future.v7_relativeSplatPath);
      }
      if (isResponse(result.result) && isRouteRequest) {
        throw result;
      }
      dataResults[match.route.id] = await convertDataStrategyResultToDataResult(result);
    }));
    return dataResults;
  }
  return {
    dataRoutes,
    query,
    queryRoute
  };
}
function getStaticContextFromError(routes, context, error) {
  let newContext = _extends$3({}, context, {
    statusCode: isRouteErrorResponse(error) ? error.status : 500,
    errors: {
      [context._deepestRenderedBoundaryId || routes[0].id]: error
    }
  });
  return newContext;
}
function throwStaticHandlerAbortedError(request, isRouteRequest, future) {
  if (future.v7_throwAbortReason && request.signal.reason !== void 0) {
    throw request.signal.reason;
  }
  let method = isRouteRequest ? "queryRoute" : "query";
  throw new Error(method + "() call aborted: " + request.method + " " + request.url);
}
function isSubmissionNavigation(opts) {
  return opts != null && ("formData" in opts && opts.formData != null || "body" in opts && opts.body !== void 0);
}
function normalizeTo(location2, matches, basename, prependBasename, to, v7_relativeSplatPath, fromRouteId, relative) {
  let contextualMatches;
  let activeRouteMatch;
  if (fromRouteId) {
    contextualMatches = [];
    for (let match of matches) {
      contextualMatches.push(match);
      if (match.route.id === fromRouteId) {
        activeRouteMatch = match;
        break;
      }
    }
  } else {
    contextualMatches = matches;
    activeRouteMatch = matches[matches.length - 1];
  }
  let path = resolveTo(to ? to : ".", getResolveToMatches(contextualMatches, v7_relativeSplatPath), stripBasename(location2.pathname, basename) || location2.pathname, relative === "path");
  if (to == null) {
    path.search = location2.search;
    path.hash = location2.hash;
  }
  if ((to == null || to === "" || to === ".") && activeRouteMatch) {
    let nakedIndex = hasNakedIndexQuery(path.search);
    if (activeRouteMatch.route.index && !nakedIndex) {
      path.search = path.search ? path.search.replace(/^\?/, "?index&") : "?index";
    } else if (!activeRouteMatch.route.index && nakedIndex) {
      let params = new URLSearchParams(path.search);
      let indexValues = params.getAll("index");
      params.delete("index");
      indexValues.filter((v2) => v2).forEach((v2) => params.append("index", v2));
      let qs = params.toString();
      path.search = qs ? "?" + qs : "";
    }
  }
  if (prependBasename && basename !== "/") {
    path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
  }
  return createPath(path);
}
function normalizeNavigateOptions(normalizeFormMethod, isFetcher, path, opts) {
  if (!opts || !isSubmissionNavigation(opts)) {
    return {
      path
    };
  }
  if (opts.formMethod && !isValidMethod(opts.formMethod)) {
    return {
      path,
      error: getInternalRouterError(405, {
        method: opts.formMethod
      })
    };
  }
  let getInvalidBodyError = () => ({
    path,
    error: getInternalRouterError(400, {
      type: "invalid-body"
    })
  });
  let rawFormMethod = opts.formMethod || "get";
  let formMethod = normalizeFormMethod ? rawFormMethod.toUpperCase() : rawFormMethod.toLowerCase();
  let formAction = stripHashFromPath(path);
  if (opts.body !== void 0) {
    if (opts.formEncType === "text/plain") {
      if (!isMutationMethod(formMethod)) {
        return getInvalidBodyError();
      }
      let text = typeof opts.body === "string" ? opts.body : opts.body instanceof FormData || opts.body instanceof URLSearchParams ? Array.from(opts.body.entries()).reduce((acc, _ref3) => {
        let [name, value] = _ref3;
        return "" + acc + name + "=" + value + "\n";
      }, "") : String(opts.body);
      return {
        path,
        submission: {
          formMethod,
          formAction,
          formEncType: opts.formEncType,
          formData: void 0,
          json: void 0,
          text
        }
      };
    } else if (opts.formEncType === "application/json") {
      if (!isMutationMethod(formMethod)) {
        return getInvalidBodyError();
      }
      try {
        let json3 = typeof opts.body === "string" ? JSON.parse(opts.body) : opts.body;
        return {
          path,
          submission: {
            formMethod,
            formAction,
            formEncType: opts.formEncType,
            formData: void 0,
            json: json3,
            text: void 0
          }
        };
      } catch (e) {
        return getInvalidBodyError();
      }
    }
  }
  invariant(typeof FormData === "function", "FormData is not available in this environment");
  let searchParams;
  let formData;
  if (opts.formData) {
    searchParams = convertFormDataToSearchParams(opts.formData);
    formData = opts.formData;
  } else if (opts.body instanceof FormData) {
    searchParams = convertFormDataToSearchParams(opts.body);
    formData = opts.body;
  } else if (opts.body instanceof URLSearchParams) {
    searchParams = opts.body;
    formData = convertSearchParamsToFormData(searchParams);
  } else if (opts.body == null) {
    searchParams = new URLSearchParams();
    formData = new FormData();
  } else {
    try {
      searchParams = new URLSearchParams(opts.body);
      formData = convertSearchParamsToFormData(searchParams);
    } catch (e) {
      return getInvalidBodyError();
    }
  }
  let submission = {
    formMethod,
    formAction,
    formEncType: opts && opts.formEncType || "application/x-www-form-urlencoded",
    formData,
    json: void 0,
    text: void 0
  };
  if (isMutationMethod(submission.formMethod)) {
    return {
      path,
      submission
    };
  }
  let parsedPath = parsePath(path);
  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {
    searchParams.append("index", "");
  }
  parsedPath.search = "?" + searchParams;
  return {
    path: createPath(parsedPath),
    submission
  };
}
function getLoaderMatchesUntilBoundary(matches, boundaryId, includeBoundary) {
  if (includeBoundary === void 0) {
    includeBoundary = false;
  }
  let index = matches.findIndex((m2) => m2.route.id === boundaryId);
  if (index >= 0) {
    return matches.slice(0, includeBoundary ? index + 1 : index);
  }
  return matches;
}
function getMatchesToLoad(history, state, matches, submission, location2, initialHydration, skipActionErrorRevalidation, isRevalidationRequired, cancelledDeferredRoutes, cancelledFetcherLoads, deletedFetchers, fetchLoadMatches, fetchRedirectIds, routesToUse, basename, pendingActionResult) {
  let actionResult = pendingActionResult ? isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : pendingActionResult[1].data : void 0;
  let currentUrl = history.createURL(state.location);
  let nextUrl = history.createURL(location2);
  let boundaryMatches = matches;
  if (initialHydration && state.errors) {
    boundaryMatches = getLoaderMatchesUntilBoundary(matches, Object.keys(state.errors)[0], true);
  } else if (pendingActionResult && isErrorResult(pendingActionResult[1])) {
    boundaryMatches = getLoaderMatchesUntilBoundary(matches, pendingActionResult[0]);
  }
  let actionStatus = pendingActionResult ? pendingActionResult[1].statusCode : void 0;
  let shouldSkipRevalidation = skipActionErrorRevalidation && actionStatus && actionStatus >= 400;
  let navigationMatches = boundaryMatches.filter((match, index) => {
    let {
      route
    } = match;
    if (route.lazy) {
      return true;
    }
    if (route.loader == null) {
      return false;
    }
    if (initialHydration) {
      return shouldLoadRouteOnHydration(route, state.loaderData, state.errors);
    }
    if (isNewLoader(state.loaderData, state.matches[index], match) || cancelledDeferredRoutes.some((id2) => id2 === match.route.id)) {
      return true;
    }
    let currentRouteMatch = state.matches[index];
    let nextRouteMatch = match;
    return shouldRevalidateLoader(match, _extends$3({
      currentUrl,
      currentParams: currentRouteMatch.params,
      nextUrl,
      nextParams: nextRouteMatch.params
    }, submission, {
      actionResult,
      actionStatus,
      defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired || currentUrl.pathname + currentUrl.search === nextUrl.pathname + nextUrl.search || currentUrl.search !== nextUrl.search || isNewRouteInstance(currentRouteMatch, nextRouteMatch)
    }));
  });
  let revalidatingFetchers = [];
  fetchLoadMatches.forEach((f2, key) => {
    if (initialHydration || !matches.some((m2) => m2.route.id === f2.routeId) || deletedFetchers.has(key)) {
      return;
    }
    let fetcherMatches = matchRoutes(routesToUse, f2.path, basename);
    if (!fetcherMatches) {
      revalidatingFetchers.push({
        key,
        routeId: f2.routeId,
        path: f2.path,
        matches: null,
        match: null,
        controller: null
      });
      return;
    }
    let fetcher = state.fetchers.get(key);
    let fetcherMatch = getTargetMatch(fetcherMatches, f2.path);
    let shouldRevalidate = false;
    if (fetchRedirectIds.has(key)) {
      shouldRevalidate = false;
    } else if (cancelledFetcherLoads.has(key)) {
      cancelledFetcherLoads.delete(key);
      shouldRevalidate = true;
    } else if (fetcher && fetcher.state !== "idle" && fetcher.data === void 0) {
      shouldRevalidate = isRevalidationRequired;
    } else {
      shouldRevalidate = shouldRevalidateLoader(fetcherMatch, _extends$3({
        currentUrl,
        currentParams: state.matches[state.matches.length - 1].params,
        nextUrl,
        nextParams: matches[matches.length - 1].params
      }, submission, {
        actionResult,
        actionStatus,
        defaultShouldRevalidate: shouldSkipRevalidation ? false : isRevalidationRequired
      }));
    }
    if (shouldRevalidate) {
      revalidatingFetchers.push({
        key,
        routeId: f2.routeId,
        path: f2.path,
        matches: fetcherMatches,
        match: fetcherMatch,
        controller: new AbortController()
      });
    }
  });
  return [navigationMatches, revalidatingFetchers];
}
function shouldLoadRouteOnHydration(route, loaderData, errors) {
  if (route.lazy) {
    return true;
  }
  if (!route.loader) {
    return false;
  }
  let hasData = loaderData != null && loaderData[route.id] !== void 0;
  let hasError = errors != null && errors[route.id] !== void 0;
  if (!hasData && hasError) {
    return false;
  }
  if (typeof route.loader === "function" && route.loader.hydrate === true) {
    return true;
  }
  return !hasData && !hasError;
}
function isNewLoader(currentLoaderData, currentMatch, match) {
  let isNew = !currentMatch || match.route.id !== currentMatch.route.id;
  let isMissingData = currentLoaderData[match.route.id] === void 0;
  return isNew || isMissingData;
}
function isNewRouteInstance(currentMatch, match) {
  let currentPath = currentMatch.route.path;
  return currentMatch.pathname !== match.pathname || currentPath != null && currentPath.endsWith("*") && currentMatch.params["*"] !== match.params["*"];
}
function shouldRevalidateLoader(loaderMatch, arg) {
  if (loaderMatch.route.shouldRevalidate) {
    let routeChoice = loaderMatch.route.shouldRevalidate(arg);
    if (typeof routeChoice === "boolean") {
      return routeChoice;
    }
  }
  return arg.defaultShouldRevalidate;
}
function patchRoutesImpl(routeId, children, routesToUse, manifest, mapRouteProperties2) {
  var _childrenToPatch;
  let childrenToPatch;
  if (routeId) {
    let route = manifest[routeId];
    invariant(route, "No route found to patch children into: routeId = " + routeId);
    if (!route.children) {
      route.children = [];
    }
    childrenToPatch = route.children;
  } else {
    childrenToPatch = routesToUse;
  }
  let uniqueChildren = children.filter((newRoute) => !childrenToPatch.some((existingRoute) => isSameRoute(newRoute, existingRoute)));
  let newRoutes = convertRoutesToDataRoutes(uniqueChildren, mapRouteProperties2, [routeId || "_", "patch", String(((_childrenToPatch = childrenToPatch) == null ? void 0 : _childrenToPatch.length) || "0")], manifest);
  childrenToPatch.push(...newRoutes);
}
function isSameRoute(newRoute, existingRoute) {
  if ("id" in newRoute && "id" in existingRoute && newRoute.id === existingRoute.id) {
    return true;
  }
  if (!(newRoute.index === existingRoute.index && newRoute.path === existingRoute.path && newRoute.caseSensitive === existingRoute.caseSensitive)) {
    return false;
  }
  if ((!newRoute.children || newRoute.children.length === 0) && (!existingRoute.children || existingRoute.children.length === 0)) {
    return true;
  }
  return newRoute.children.every((aChild, i2) => {
    var _existingRoute$childr;
    return (_existingRoute$childr = existingRoute.children) == null ? void 0 : _existingRoute$childr.some((bChild) => isSameRoute(aChild, bChild));
  });
}
async function loadLazyRouteModule(route, mapRouteProperties2, manifest) {
  if (!route.lazy) {
    return;
  }
  let lazyRoute = await route.lazy();
  if (!route.lazy) {
    return;
  }
  let routeToUpdate = manifest[route.id];
  invariant(routeToUpdate, "No route found in manifest");
  let routeUpdates = {};
  for (let lazyRouteProperty in lazyRoute) {
    let staticRouteValue = routeToUpdate[lazyRouteProperty];
    let isPropertyStaticallyDefined = staticRouteValue !== void 0 && lazyRouteProperty !== "hasErrorBoundary";
    warning(!isPropertyStaticallyDefined, 'Route "' + routeToUpdate.id + '" has a static property "' + lazyRouteProperty + '" defined but its lazy function is also returning a value for this property. ' + ('The lazy route property "' + lazyRouteProperty + '" will be ignored.'));
    if (!isPropertyStaticallyDefined && !immutableRouteKeys.has(lazyRouteProperty)) {
      routeUpdates[lazyRouteProperty] = lazyRoute[lazyRouteProperty];
    }
  }
  Object.assign(routeToUpdate, routeUpdates);
  Object.assign(routeToUpdate, _extends$3({}, mapRouteProperties2(routeToUpdate), {
    lazy: void 0
  }));
}
async function defaultDataStrategy(_ref4) {
  let {
    matches
  } = _ref4;
  let matchesToLoad = matches.filter((m2) => m2.shouldLoad);
  let results = await Promise.all(matchesToLoad.map((m2) => m2.resolve()));
  return results.reduce((acc, result, i2) => Object.assign(acc, {
    [matchesToLoad[i2].route.id]: result
  }), {});
}
async function callDataStrategyImpl(dataStrategyImpl, type, state, request, matchesToLoad, matches, fetcherKey, manifest, mapRouteProperties2, requestContext) {
  let loadRouteDefinitionsPromises = matches.map((m2) => m2.route.lazy ? loadLazyRouteModule(m2.route, mapRouteProperties2, manifest) : void 0);
  let dsMatches = matches.map((match, i2) => {
    let loadRoutePromise = loadRouteDefinitionsPromises[i2];
    let shouldLoad = matchesToLoad.some((m2) => m2.route.id === match.route.id);
    let resolve = async (handlerOverride) => {
      if (handlerOverride && request.method === "GET" && (match.route.lazy || match.route.loader)) {
        shouldLoad = true;
      }
      return shouldLoad ? callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, requestContext) : Promise.resolve({
        type: ResultType.data,
        result: void 0
      });
    };
    return _extends$3({}, match, {
      shouldLoad,
      resolve
    });
  });
  let results = await dataStrategyImpl({
    matches: dsMatches,
    request,
    params: matches[0].params,
    fetcherKey,
    context: requestContext
  });
  try {
    await Promise.all(loadRouteDefinitionsPromises);
  } catch (e) {
  }
  return results;
}
async function callLoaderOrAction(type, request, match, loadRoutePromise, handlerOverride, staticContext) {
  let result;
  let onReject;
  let runHandler = (handler) => {
    let reject;
    let abortPromise = new Promise((_2, r2) => reject = r2);
    onReject = () => reject();
    request.signal.addEventListener("abort", onReject);
    let actualHandler = (ctx) => {
      if (typeof handler !== "function") {
        return Promise.reject(new Error("You cannot call the handler for a route which defines a boolean " + ('"' + type + '" [routeId: ' + match.route.id + "]")));
      }
      return handler({
        request,
        params: match.params,
        context: staticContext
      }, ...ctx !== void 0 ? [ctx] : []);
    };
    let handlerPromise = (async () => {
      try {
        let val = await (handlerOverride ? handlerOverride((ctx) => actualHandler(ctx)) : actualHandler());
        return {
          type: "data",
          result: val
        };
      } catch (e) {
        return {
          type: "error",
          result: e
        };
      }
    })();
    return Promise.race([handlerPromise, abortPromise]);
  };
  try {
    let handler = match.route[type];
    if (loadRoutePromise) {
      if (handler) {
        let handlerError;
        let [value] = await Promise.all([
          runHandler(handler).catch((e) => {
            handlerError = e;
          }),
          loadRoutePromise
        ]);
        if (handlerError !== void 0) {
          throw handlerError;
        }
        result = value;
      } else {
        await loadRoutePromise;
        handler = match.route[type];
        if (handler) {
          result = await runHandler(handler);
        } else if (type === "action") {
          let url = new URL(request.url);
          let pathname = url.pathname + url.search;
          throw getInternalRouterError(405, {
            method: request.method,
            pathname,
            routeId: match.route.id
          });
        } else {
          return {
            type: ResultType.data,
            result: void 0
          };
        }
      }
    } else if (!handler) {
      let url = new URL(request.url);
      let pathname = url.pathname + url.search;
      throw getInternalRouterError(404, {
        pathname
      });
    } else {
      result = await runHandler(handler);
    }
    invariant(result.result !== void 0, "You defined " + (type === "action" ? "an action" : "a loader") + " for route " + ('"' + match.route.id + "\" but didn't return anything from your `" + type + "` ") + "function. Please return a value or `null`.");
  } catch (e) {
    return {
      type: ResultType.error,
      result: e
    };
  } finally {
    if (onReject) {
      request.signal.removeEventListener("abort", onReject);
    }
  }
  return result;
}
async function convertDataStrategyResultToDataResult(dataStrategyResult) {
  let {
    result,
    type
  } = dataStrategyResult;
  if (isResponse(result)) {
    let data2;
    try {
      let contentType = result.headers.get("Content-Type");
      if (contentType && /\bapplication\/json\b/.test(contentType)) {
        if (result.body == null) {
          data2 = null;
        } else {
          data2 = await result.json();
        }
      } else {
        data2 = await result.text();
      }
    } catch (e) {
      return {
        type: ResultType.error,
        error: e
      };
    }
    if (type === ResultType.error) {
      return {
        type: ResultType.error,
        error: new ErrorResponseImpl(result.status, result.statusText, data2),
        statusCode: result.status,
        headers: result.headers
      };
    }
    return {
      type: ResultType.data,
      data: data2,
      statusCode: result.status,
      headers: result.headers
    };
  }
  if (type === ResultType.error) {
    if (isDataWithResponseInit(result)) {
      var _result$init3, _result$init4;
      if (result.data instanceof Error) {
        var _result$init, _result$init2;
        return {
          type: ResultType.error,
          error: result.data,
          statusCode: (_result$init = result.init) == null ? void 0 : _result$init.status,
          headers: (_result$init2 = result.init) != null && _result$init2.headers ? new Headers(result.init.headers) : void 0
        };
      }
      return {
        type: ResultType.error,
        error: new ErrorResponseImpl(((_result$init3 = result.init) == null ? void 0 : _result$init3.status) || 500, void 0, result.data),
        statusCode: isRouteErrorResponse(result) ? result.status : void 0,
        headers: (_result$init4 = result.init) != null && _result$init4.headers ? new Headers(result.init.headers) : void 0
      };
    }
    return {
      type: ResultType.error,
      error: result,
      statusCode: isRouteErrorResponse(result) ? result.status : void 0
    };
  }
  if (isDeferredData(result)) {
    var _result$init5, _result$init6;
    return {
      type: ResultType.deferred,
      deferredData: result,
      statusCode: (_result$init5 = result.init) == null ? void 0 : _result$init5.status,
      headers: ((_result$init6 = result.init) == null ? void 0 : _result$init6.headers) && new Headers(result.init.headers)
    };
  }
  if (isDataWithResponseInit(result)) {
    var _result$init7, _result$init8;
    return {
      type: ResultType.data,
      data: result.data,
      statusCode: (_result$init7 = result.init) == null ? void 0 : _result$init7.status,
      headers: (_result$init8 = result.init) != null && _result$init8.headers ? new Headers(result.init.headers) : void 0
    };
  }
  return {
    type: ResultType.data,
    data: result
  };
}
function normalizeRelativeRoutingRedirectResponse(response, request, routeId, matches, basename, v7_relativeSplatPath) {
  let location2 = response.headers.get("Location");
  invariant(location2, "Redirects returned/thrown from loaders/actions must have a Location header");
  if (!ABSOLUTE_URL_REGEX$1.test(location2)) {
    let trimmedMatches = matches.slice(0, matches.findIndex((m2) => m2.route.id === routeId) + 1);
    location2 = normalizeTo(new URL(request.url), trimmedMatches, basename, true, location2, v7_relativeSplatPath);
    response.headers.set("Location", location2);
  }
  return response;
}
function normalizeRedirectLocation(location2, currentUrl, basename) {
  if (ABSOLUTE_URL_REGEX$1.test(location2)) {
    let normalizedLocation = location2;
    let url = normalizedLocation.startsWith("//") ? new URL(currentUrl.protocol + normalizedLocation) : new URL(normalizedLocation);
    let isSameBasename = stripBasename(url.pathname, basename) != null;
    if (url.origin === currentUrl.origin && isSameBasename) {
      return url.pathname + url.search + url.hash;
    }
  }
  return location2;
}
function createClientSideRequest(history, location2, signal, submission) {
  let url = history.createURL(stripHashFromPath(location2)).toString();
  let init = {
    signal
  };
  if (submission && isMutationMethod(submission.formMethod)) {
    let {
      formMethod,
      formEncType
    } = submission;
    init.method = formMethod.toUpperCase();
    if (formEncType === "application/json") {
      init.headers = new Headers({
        "Content-Type": formEncType
      });
      init.body = JSON.stringify(submission.json);
    } else if (formEncType === "text/plain") {
      init.body = submission.text;
    } else if (formEncType === "application/x-www-form-urlencoded" && submission.formData) {
      init.body = convertFormDataToSearchParams(submission.formData);
    } else {
      init.body = submission.formData;
    }
  }
  return new Request(url, init);
}
function convertFormDataToSearchParams(formData) {
  let searchParams = new URLSearchParams();
  for (let [key, value] of formData.entries()) {
    searchParams.append(key, typeof value === "string" ? value : value.name);
  }
  return searchParams;
}
function convertSearchParamsToFormData(searchParams) {
  let formData = new FormData();
  for (let [key, value] of searchParams.entries()) {
    formData.append(key, value);
  }
  return formData;
}
function processRouteLoaderData(matches, results, pendingActionResult, activeDeferreds, skipLoaderErrorBubbling) {
  let loaderData = {};
  let errors = null;
  let statusCode;
  let foundError = false;
  let loaderHeaders = {};
  let pendingError = pendingActionResult && isErrorResult(pendingActionResult[1]) ? pendingActionResult[1].error : void 0;
  matches.forEach((match) => {
    if (!(match.route.id in results)) {
      return;
    }
    let id2 = match.route.id;
    let result = results[id2];
    invariant(!isRedirectResult(result), "Cannot handle redirect results in processLoaderData");
    if (isErrorResult(result)) {
      let error = result.error;
      if (pendingError !== void 0) {
        error = pendingError;
        pendingError = void 0;
      }
      errors = errors || {};
      if (skipLoaderErrorBubbling) {
        errors[id2] = error;
      } else {
        let boundaryMatch = findNearestBoundary(matches, id2);
        if (errors[boundaryMatch.route.id] == null) {
          errors[boundaryMatch.route.id] = error;
        }
      }
      loaderData[id2] = void 0;
      if (!foundError) {
        foundError = true;
        statusCode = isRouteErrorResponse(result.error) ? result.error.status : 500;
      }
      if (result.headers) {
        loaderHeaders[id2] = result.headers;
      }
    } else {
      if (isDeferredResult(result)) {
        activeDeferreds.set(id2, result.deferredData);
        loaderData[id2] = result.deferredData.data;
        if (result.statusCode != null && result.statusCode !== 200 && !foundError) {
          statusCode = result.statusCode;
        }
        if (result.headers) {
          loaderHeaders[id2] = result.headers;
        }
      } else {
        loaderData[id2] = result.data;
        if (result.statusCode && result.statusCode !== 200 && !foundError) {
          statusCode = result.statusCode;
        }
        if (result.headers) {
          loaderHeaders[id2] = result.headers;
        }
      }
    }
  });
  if (pendingError !== void 0 && pendingActionResult) {
    errors = {
      [pendingActionResult[0]]: pendingError
    };
    loaderData[pendingActionResult[0]] = void 0;
  }
  return {
    loaderData,
    errors,
    statusCode: statusCode || 200,
    loaderHeaders
  };
}
function processLoaderData(state, matches, results, pendingActionResult, revalidatingFetchers, fetcherResults, activeDeferreds) {
  let {
    loaderData,
    errors
  } = processRouteLoaderData(
    matches,
    results,
    pendingActionResult,
    activeDeferreds,
    false
  );
  revalidatingFetchers.forEach((rf2) => {
    let {
      key,
      match,
      controller
    } = rf2;
    let result = fetcherResults[key];
    invariant(result, "Did not find corresponding fetcher result");
    if (controller && controller.signal.aborted) {
      return;
    } else if (isErrorResult(result)) {
      let boundaryMatch = findNearestBoundary(state.matches, match == null ? void 0 : match.route.id);
      if (!(errors && errors[boundaryMatch.route.id])) {
        errors = _extends$3({}, errors, {
          [boundaryMatch.route.id]: result.error
        });
      }
      state.fetchers.delete(key);
    } else if (isRedirectResult(result)) {
      invariant(false, "Unhandled fetcher revalidation redirect");
    } else if (isDeferredResult(result)) {
      invariant(false, "Unhandled fetcher deferred data");
    } else {
      let doneFetcher = getDoneFetcher(result.data);
      state.fetchers.set(key, doneFetcher);
    }
  });
  return {
    loaderData,
    errors
  };
}
function mergeLoaderData(loaderData, newLoaderData, matches, errors) {
  let mergedLoaderData = _extends$3({}, newLoaderData);
  for (let match of matches) {
    let id2 = match.route.id;
    if (newLoaderData.hasOwnProperty(id2)) {
      if (newLoaderData[id2] !== void 0) {
        mergedLoaderData[id2] = newLoaderData[id2];
      }
    } else if (loaderData[id2] !== void 0 && match.route.loader) {
      mergedLoaderData[id2] = loaderData[id2];
    }
    if (errors && errors.hasOwnProperty(id2)) {
      break;
    }
  }
  return mergedLoaderData;
}
function getActionDataForCommit(pendingActionResult) {
  if (!pendingActionResult) {
    return {};
  }
  return isErrorResult(pendingActionResult[1]) ? {
    actionData: {}
  } : {
    actionData: {
      [pendingActionResult[0]]: pendingActionResult[1].data
    }
  };
}
function findNearestBoundary(matches, routeId) {
  let eligibleMatches = routeId ? matches.slice(0, matches.findIndex((m2) => m2.route.id === routeId) + 1) : [...matches];
  return eligibleMatches.reverse().find((m2) => m2.route.hasErrorBoundary === true) || matches[0];
}
function getShortCircuitMatches(routes) {
  let route = routes.length === 1 ? routes[0] : routes.find((r2) => r2.index || !r2.path || r2.path === "/") || {
    id: "__shim-error-route__"
  };
  return {
    matches: [{
      params: {},
      pathname: "",
      pathnameBase: "",
      route
    }],
    route
  };
}
function getInternalRouterError(status, _temp5) {
  let {
    pathname,
    routeId,
    method,
    type,
    message
  } = _temp5 === void 0 ? {} : _temp5;
  let statusText = "Unknown Server Error";
  let errorMessage = "Unknown @remix-run/router error";
  if (status === 400) {
    statusText = "Bad Request";
    if (method && pathname && routeId) {
      errorMessage = "You made a " + method + ' request to "' + pathname + '" but ' + ('did not provide a `loader` for route "' + routeId + '", ') + "so there is no way to handle the request.";
    } else if (type === "defer-action") {
      errorMessage = "defer() is not supported in actions";
    } else if (type === "invalid-body") {
      errorMessage = "Unable to encode submission body";
    }
  } else if (status === 403) {
    statusText = "Forbidden";
    errorMessage = 'Route "' + routeId + '" does not match URL "' + pathname + '"';
  } else if (status === 404) {
    statusText = "Not Found";
    errorMessage = 'No route matches URL "' + pathname + '"';
  } else if (status === 405) {
    statusText = "Method Not Allowed";
    if (method && pathname && routeId) {
      errorMessage = "You made a " + method.toUpperCase() + ' request to "' + pathname + '" but ' + ('did not provide an `action` for route "' + routeId + '", ') + "so there is no way to handle the request.";
    } else if (method) {
      errorMessage = 'Invalid request method "' + method.toUpperCase() + '"';
    }
  }
  return new ErrorResponseImpl(status || 500, statusText, new Error(errorMessage), true);
}
function findRedirect(results) {
  let entries = Object.entries(results);
  for (let i2 = entries.length - 1; i2 >= 0; i2--) {
    let [key, result] = entries[i2];
    if (isRedirectResult(result)) {
      return {
        key,
        result
      };
    }
  }
}
function stripHashFromPath(path) {
  let parsedPath = typeof path === "string" ? parsePath(path) : path;
  return createPath(_extends$3({}, parsedPath, {
    hash: ""
  }));
}
function isHashChangeOnly(a2, b3) {
  if (a2.pathname !== b3.pathname || a2.search !== b3.search) {
    return false;
  }
  if (a2.hash === "") {
    return b3.hash !== "";
  } else if (a2.hash === b3.hash) {
    return true;
  } else if (b3.hash !== "") {
    return true;
  }
  return false;
}
function isDataStrategyResult(result) {
  return result != null && typeof result === "object" && "type" in result && "result" in result && (result.type === ResultType.data || result.type === ResultType.error);
}
function isRedirectDataStrategyResultResult(result) {
  return isResponse(result.result) && redirectStatusCodes.has(result.result.status);
}
function isDeferredResult(result) {
  return result.type === ResultType.deferred;
}
function isErrorResult(result) {
  return result.type === ResultType.error;
}
function isRedirectResult(result) {
  return (result && result.type) === ResultType.redirect;
}
function isDataWithResponseInit(value) {
  return typeof value === "object" && value != null && "type" in value && "data" in value && "init" in value && value.type === "DataWithResponseInit";
}
function isDeferredData(value) {
  let deferred = value;
  return deferred && typeof deferred === "object" && typeof deferred.data === "object" && typeof deferred.subscribe === "function" && typeof deferred.cancel === "function" && typeof deferred.resolveData === "function";
}
function isResponse(value) {
  return value != null && typeof value.status === "number" && typeof value.statusText === "string" && typeof value.headers === "object" && typeof value.body !== "undefined";
}
function isRedirectResponse(result) {
  if (!isResponse(result)) {
    return false;
  }
  let status = result.status;
  let location2 = result.headers.get("Location");
  return status >= 300 && status <= 399 && location2 != null;
}
function isValidMethod(method) {
  return validRequestMethods.has(method.toLowerCase());
}
function isMutationMethod(method) {
  return validMutationMethods.has(method.toLowerCase());
}
async function resolveNavigationDeferredResults(matches, results, signal, currentMatches, currentLoaderData) {
  let entries = Object.entries(results);
  for (let index = 0; index < entries.length; index++) {
    let [routeId, result] = entries[index];
    let match = matches.find((m2) => (m2 == null ? void 0 : m2.route.id) === routeId);
    if (!match) {
      continue;
    }
    let currentMatch = currentMatches.find((m2) => m2.route.id === match.route.id);
    let isRevalidatingLoader = currentMatch != null && !isNewRouteInstance(currentMatch, match) && (currentLoaderData && currentLoaderData[match.route.id]) !== void 0;
    if (isDeferredResult(result) && isRevalidatingLoader) {
      await resolveDeferredData(result, signal, false).then((result2) => {
        if (result2) {
          results[routeId] = result2;
        }
      });
    }
  }
}
async function resolveFetcherDeferredResults(matches, results, revalidatingFetchers) {
  for (let index = 0; index < revalidatingFetchers.length; index++) {
    let {
      key,
      routeId,
      controller
    } = revalidatingFetchers[index];
    let result = results[key];
    let match = matches.find((m2) => (m2 == null ? void 0 : m2.route.id) === routeId);
    if (!match) {
      continue;
    }
    if (isDeferredResult(result)) {
      invariant(controller, "Expected an AbortController for revalidating fetcher deferred result");
      await resolveDeferredData(result, controller.signal, true).then((result2) => {
        if (result2) {
          results[key] = result2;
        }
      });
    }
  }
}
async function resolveDeferredData(result, signal, unwrap) {
  if (unwrap === void 0) {
    unwrap = false;
  }
  let aborted = await result.deferredData.resolveData(signal);
  if (aborted) {
    return;
  }
  if (unwrap) {
    try {
      return {
        type: ResultType.data,
        data: result.deferredData.unwrappedData
      };
    } catch (e) {
      return {
        type: ResultType.error,
        error: e
      };
    }
  }
  return {
    type: ResultType.data,
    data: result.deferredData.data
  };
}
function hasNakedIndexQuery(search) {
  return new URLSearchParams(search).getAll("index").some((v2) => v2 === "");
}
function getTargetMatch(matches, location2) {
  let search = typeof location2 === "string" ? parsePath(location2).search : location2.search;
  if (matches[matches.length - 1].route.index && hasNakedIndexQuery(search || "")) {
    return matches[matches.length - 1];
  }
  let pathMatches = getPathContributingMatches(matches);
  return pathMatches[pathMatches.length - 1];
}
function getSubmissionFromNavigation(navigation) {
  let {
    formMethod,
    formAction,
    formEncType,
    text,
    formData,
    json: json3
  } = navigation;
  if (!formMethod || !formAction || !formEncType) {
    return;
  }
  if (text != null) {
    return {
      formMethod,
      formAction,
      formEncType,
      formData: void 0,
      json: void 0,
      text
    };
  } else if (formData != null) {
    return {
      formMethod,
      formAction,
      formEncType,
      formData,
      json: void 0,
      text: void 0
    };
  } else if (json3 !== void 0) {
    return {
      formMethod,
      formAction,
      formEncType,
      formData: void 0,
      json: json3,
      text: void 0
    };
  }
}
function getLoadingNavigation(location2, submission) {
  if (submission) {
    let navigation = {
      state: "loading",
      location: location2,
      formMethod: submission.formMethod,
      formAction: submission.formAction,
      formEncType: submission.formEncType,
      formData: submission.formData,
      json: submission.json,
      text: submission.text
    };
    return navigation;
  } else {
    let navigation = {
      state: "loading",
      location: location2,
      formMethod: void 0,
      formAction: void 0,
      formEncType: void 0,
      formData: void 0,
      json: void 0,
      text: void 0
    };
    return navigation;
  }
}
function getSubmittingNavigation(location2, submission) {
  let navigation = {
    state: "submitting",
    location: location2,
    formMethod: submission.formMethod,
    formAction: submission.formAction,
    formEncType: submission.formEncType,
    formData: submission.formData,
    json: submission.json,
    text: submission.text
  };
  return navigation;
}
function getLoadingFetcher(submission, data2) {
  if (submission) {
    let fetcher = {
      state: "loading",
      formMethod: submission.formMethod,
      formAction: submission.formAction,
      formEncType: submission.formEncType,
      formData: submission.formData,
      json: submission.json,
      text: submission.text,
      data: data2
    };
    return fetcher;
  } else {
    let fetcher = {
      state: "loading",
      formMethod: void 0,
      formAction: void 0,
      formEncType: void 0,
      formData: void 0,
      json: void 0,
      text: void 0,
      data: data2
    };
    return fetcher;
  }
}
function getSubmittingFetcher(submission, existingFetcher) {
  let fetcher = {
    state: "submitting",
    formMethod: submission.formMethod,
    formAction: submission.formAction,
    formEncType: submission.formEncType,
    formData: submission.formData,
    json: submission.json,
    text: submission.text,
    data: existingFetcher ? existingFetcher.data : void 0
  };
  return fetcher;
}
function getDoneFetcher(data2) {
  let fetcher = {
    state: "idle",
    formMethod: void 0,
    formAction: void 0,
    formEncType: void 0,
    formData: void 0,
    json: void 0,
    text: void 0,
    data: data2
  };
  return fetcher;
}
function restoreAppliedTransitions(_window, transitions) {
  try {
    let sessionPositions = _window.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);
    if (sessionPositions) {
      let json3 = JSON.parse(sessionPositions);
      for (let [k3, v2] of Object.entries(json3 || {})) {
        if (v2 && Array.isArray(v2)) {
          transitions.set(k3, new Set(v2 || []));
        }
      }
    }
  } catch (e) {
  }
}
function persistAppliedTransitions(_window, transitions) {
  if (transitions.size > 0) {
    let json3 = {};
    for (let [k3, v2] of transitions) {
      json3[k3] = [...v2];
    }
    try {
      _window.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY, JSON.stringify(json3));
    } catch (error) {
      warning(false, "Failed to save applied view transitions in sessionStorage (" + error + ").");
    }
  }
}
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function _extends$2() {
  _extends$2 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i2 = 1; i2 < arguments.length; i2++) {
      var source = arguments[i2];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$2.apply(this, arguments);
}
const DataRouterContext = /* @__PURE__ */ react.exports.createContext(null);
if (false) {
  DataRouterContext.displayName = "DataRouter";
}
const DataRouterStateContext = /* @__PURE__ */ react.exports.createContext(null);
if (false) {
  DataRouterStateContext.displayName = "DataRouterState";
}
const AwaitContext = /* @__PURE__ */ react.exports.createContext(null);
if (false) {
  AwaitContext.displayName = "Await";
}
const NavigationContext = /* @__PURE__ */ react.exports.createContext(null);
if (false) {
  NavigationContext.displayName = "Navigation";
}
const LocationContext = /* @__PURE__ */ react.exports.createContext(null);
if (false) {
  LocationContext.displayName = "Location";
}
const RouteContext = /* @__PURE__ */ react.exports.createContext({
  outlet: null,
  matches: [],
  isDataRoute: false
});
if (false) {
  RouteContext.displayName = "Route";
}
const RouteErrorContext = /* @__PURE__ */ react.exports.createContext(null);
if (false) {
  RouteErrorContext.displayName = "RouteError";
}
function useHref(to, _temp) {
  let {
    relative
  } = _temp === void 0 ? {} : _temp;
  !useInRouterContext() ? false ? invariant(
    false,
    "useHref() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    basename,
    navigator: navigator2
  } = react.exports.useContext(NavigationContext);
  let {
    hash,
    pathname,
    search
  } = useResolvedPath(to, {
    relative
  });
  let joinedPathname = pathname;
  if (basename !== "/") {
    joinedPathname = pathname === "/" ? basename : joinPaths([basename, pathname]);
  }
  return navigator2.createHref({
    pathname: joinedPathname,
    search,
    hash
  });
}
function useInRouterContext() {
  return react.exports.useContext(LocationContext) != null;
}
function useLocation() {
  !useInRouterContext() ? false ? invariant(
    false,
    "useLocation() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  return react.exports.useContext(LocationContext).location;
}
function useNavigationType() {
  return react.exports.useContext(LocationContext).navigationType;
}
function useMatch(pattern) {
  !useInRouterContext() ? false ? invariant(
    false,
    "useMatch() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    pathname
  } = useLocation();
  return react.exports.useMemo(() => matchPath(pattern, decodePath(pathname)), [pathname, pattern]);
}
const navigateEffectWarning = "You should call navigate() in a React.useEffect(), not when your component is first rendered.";
function useIsomorphicLayoutEffect(cb2) {
  let isStatic = react.exports.useContext(NavigationContext).static;
  if (!isStatic) {
    react.exports.useLayoutEffect(cb2);
  }
}
function useNavigate() {
  let {
    isDataRoute
  } = react.exports.useContext(RouteContext);
  return isDataRoute ? useNavigateStable() : useNavigateUnstable();
}
function useNavigateUnstable() {
  !useInRouterContext() ? false ? invariant(
    false,
    "useNavigate() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let dataRouterContext = react.exports.useContext(DataRouterContext);
  let {
    basename,
    future,
    navigator: navigator2
  } = react.exports.useContext(NavigationContext);
  let {
    matches
  } = react.exports.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches, future.v7_relativeSplatPath));
  let activeRef = react.exports.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = react.exports.useCallback(function(to, options) {
    if (options === void 0) {
      options = {};
    }
    false ? warning(activeRef.current, navigateEffectWarning) : void 0;
    if (!activeRef.current)
      return;
    if (typeof to === "number") {
      navigator2.go(to);
      return;
    }
    let path = resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, options.relative === "path");
    if (dataRouterContext == null && basename !== "/") {
      path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
    }
    (!!options.replace ? navigator2.replace : navigator2.push)(path, options.state, options);
  }, [basename, navigator2, routePathnamesJson, locationPathname, dataRouterContext]);
  return navigate;
}
const OutletContext = /* @__PURE__ */ react.exports.createContext(null);
function useOutletContext() {
  return react.exports.useContext(OutletContext);
}
function useOutlet(context) {
  let outlet = react.exports.useContext(RouteContext).outlet;
  if (outlet) {
    return /* @__PURE__ */ react.exports.createElement(OutletContext.Provider, {
      value: context
    }, outlet);
  }
  return outlet;
}
function useParams() {
  let {
    matches
  } = react.exports.useContext(RouteContext);
  let routeMatch = matches[matches.length - 1];
  return routeMatch ? routeMatch.params : {};
}
function useResolvedPath(to, _temp2) {
  let {
    relative
  } = _temp2 === void 0 ? {} : _temp2;
  let {
    future
  } = react.exports.useContext(NavigationContext);
  let {
    matches
  } = react.exports.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let routePathnamesJson = JSON.stringify(getResolveToMatches(matches, future.v7_relativeSplatPath));
  return react.exports.useMemo(() => resolveTo(to, JSON.parse(routePathnamesJson), locationPathname, relative === "path"), [to, routePathnamesJson, locationPathname, relative]);
}
function useRoutes(routes, locationArg) {
  return useRoutesImpl(routes, locationArg);
}
function useRoutesImpl(routes, locationArg, dataRouterState, future) {
  !useInRouterContext() ? false ? invariant(
    false,
    "useRoutes() may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    navigator: navigator2
  } = react.exports.useContext(NavigationContext);
  let {
    matches: parentMatches
  } = react.exports.useContext(RouteContext);
  let routeMatch = parentMatches[parentMatches.length - 1];
  let parentParams = routeMatch ? routeMatch.params : {};
  let parentPathname = routeMatch ? routeMatch.pathname : "/";
  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : "/";
  let parentRoute = routeMatch && routeMatch.route;
  if (false) {
    let parentPath = parentRoute && parentRoute.path || "";
    warningOnce(parentPathname, !parentRoute || parentPath.endsWith("*"), "You rendered descendant <Routes> (or called `useRoutes()`) at " + ('"' + parentPathname + '" (under <Route path="' + parentPath + '">) but the ') + `parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

` + ('Please change the parent <Route path="' + parentPath + '"> to <Route ') + ('path="' + (parentPath === "/" ? "*" : parentPath + "/*") + '">.'));
  }
  let locationFromContext = useLocation();
  let location2;
  if (locationArg) {
    var _parsedLocationArg$pa;
    let parsedLocationArg = typeof locationArg === "string" ? parsePath(locationArg) : locationArg;
    !(parentPathnameBase === "/" || ((_parsedLocationArg$pa = parsedLocationArg.pathname) == null ? void 0 : _parsedLocationArg$pa.startsWith(parentPathnameBase))) ? false ? invariant(false, "When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was " + ('matched by all parent routes. The current pathname base is "' + parentPathnameBase + '" ') + ('but pathname "' + parsedLocationArg.pathname + '" was given in the `location` prop.')) : invariant(false) : void 0;
    location2 = parsedLocationArg;
  } else {
    location2 = locationFromContext;
  }
  let pathname = location2.pathname || "/";
  let remainingPathname = pathname;
  if (parentPathnameBase !== "/") {
    let parentSegments = parentPathnameBase.replace(/^\//, "").split("/");
    let segments = pathname.replace(/^\//, "").split("/");
    remainingPathname = "/" + segments.slice(parentSegments.length).join("/");
  }
  let matches = matchRoutes(routes, {
    pathname: remainingPathname
  });
  if (false) {
    false ? warning(parentRoute || matches != null, 'No routes matched location "' + location2.pathname + location2.search + location2.hash + '" ') : void 0;
    false ? warning(matches == null || matches[matches.length - 1].route.element !== void 0 || matches[matches.length - 1].route.Component !== void 0 || matches[matches.length - 1].route.lazy !== void 0, 'Matched leaf route at location "' + location2.pathname + location2.search + location2.hash + '" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.') : void 0;
  }
  let renderedMatches = _renderMatches(matches && matches.map((match) => Object.assign({}, match, {
    params: Object.assign({}, parentParams, match.params),
    pathname: joinPaths([
      parentPathnameBase,
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathname).pathname : match.pathname
    ]),
    pathnameBase: match.pathnameBase === "/" ? parentPathnameBase : joinPaths([
      parentPathnameBase,
      navigator2.encodeLocation ? navigator2.encodeLocation(match.pathnameBase).pathname : match.pathnameBase
    ])
  })), parentMatches, dataRouterState, future);
  if (locationArg && renderedMatches) {
    return /* @__PURE__ */ react.exports.createElement(LocationContext.Provider, {
      value: {
        location: _extends$2({
          pathname: "/",
          search: "",
          hash: "",
          state: null,
          key: "default"
        }, location2),
        navigationType: Action.Pop
      }
    }, renderedMatches);
  }
  return renderedMatches;
}
function DefaultErrorComponent() {
  let error = useRouteError();
  let message = isRouteErrorResponse(error) ? error.status + " " + error.statusText : error instanceof Error ? error.message : JSON.stringify(error);
  let stack = error instanceof Error ? error.stack : null;
  let lightgrey = "rgba(200,200,200, 0.5)";
  let preStyles = {
    padding: "0.5rem",
    backgroundColor: lightgrey
  };
  let codeStyles = {
    padding: "2px 4px",
    backgroundColor: lightgrey
  };
  let devInfo = null;
  if (false) {
    console.error("Error handled by React Router default ErrorBoundary:", error);
    devInfo = /* @__PURE__ */ react.exports.createElement(react.exports.Fragment, null, /* @__PURE__ */ react.exports.createElement("p", null, "\u{1F4BF} Hey developer \u{1F44B}"), /* @__PURE__ */ react.exports.createElement("p", null, "You can provide a way better UX than this when your app throws errors by providing your own ", /* @__PURE__ */ react.exports.createElement("code", {
      style: codeStyles
    }, "ErrorBoundary"), " or", " ", /* @__PURE__ */ react.exports.createElement("code", {
      style: codeStyles
    }, "errorElement"), " prop on your route."));
  }
  return /* @__PURE__ */ react.exports.createElement(react.exports.Fragment, null, /* @__PURE__ */ react.exports.createElement("h2", null, "Unexpected Application Error!"), /* @__PURE__ */ react.exports.createElement("h3", {
    style: {
      fontStyle: "italic"
    }
  }, message), stack ? /* @__PURE__ */ react.exports.createElement("pre", {
    style: preStyles
  }, stack) : null, devInfo);
}
const defaultErrorElement = /* @__PURE__ */ react.exports.createElement(DefaultErrorComponent, null);
class RenderErrorBoundary extends react.exports.Component {
  constructor(props) {
    super(props);
    this.state = {
      location: props.location,
      revalidation: props.revalidation,
      error: props.error
    };
  }
  static getDerivedStateFromError(error) {
    return {
      error
    };
  }
  static getDerivedStateFromProps(props, state) {
    if (state.location !== props.location || state.revalidation !== "idle" && props.revalidation === "idle") {
      return {
        error: props.error,
        location: props.location,
        revalidation: props.revalidation
      };
    }
    return {
      error: props.error !== void 0 ? props.error : state.error,
      location: state.location,
      revalidation: props.revalidation || state.revalidation
    };
  }
  componentDidCatch(error, errorInfo) {
    console.error("React Router caught the following error during render", error, errorInfo);
  }
  render() {
    return this.state.error !== void 0 ? /* @__PURE__ */ react.exports.createElement(RouteContext.Provider, {
      value: this.props.routeContext
    }, /* @__PURE__ */ react.exports.createElement(RouteErrorContext.Provider, {
      value: this.state.error,
      children: this.props.component
    })) : this.props.children;
  }
}
function RenderedRoute(_ref) {
  let {
    routeContext,
    match,
    children
  } = _ref;
  let dataRouterContext = react.exports.useContext(DataRouterContext);
  if (dataRouterContext && dataRouterContext.static && dataRouterContext.staticContext && (match.route.errorElement || match.route.ErrorBoundary)) {
    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;
  }
  return /* @__PURE__ */ react.exports.createElement(RouteContext.Provider, {
    value: routeContext
  }, children);
}
function _renderMatches(matches, parentMatches, dataRouterState, future) {
  var _dataRouterState;
  if (parentMatches === void 0) {
    parentMatches = [];
  }
  if (dataRouterState === void 0) {
    dataRouterState = null;
  }
  if (future === void 0) {
    future = null;
  }
  if (matches == null) {
    var _future;
    if (!dataRouterState) {
      return null;
    }
    if (dataRouterState.errors) {
      matches = dataRouterState.matches;
    } else if ((_future = future) != null && _future.v7_partialHydration && parentMatches.length === 0 && !dataRouterState.initialized && dataRouterState.matches.length > 0) {
      matches = dataRouterState.matches;
    } else {
      return null;
    }
  }
  let renderedMatches = matches;
  let errors = (_dataRouterState = dataRouterState) == null ? void 0 : _dataRouterState.errors;
  if (errors != null) {
    let errorIndex = renderedMatches.findIndex((m2) => m2.route.id && (errors == null ? void 0 : errors[m2.route.id]) !== void 0);
    !(errorIndex >= 0) ? false ? invariant(false, "Could not find a matching route for errors on route IDs: " + Object.keys(errors).join(",")) : invariant(false) : void 0;
    renderedMatches = renderedMatches.slice(0, Math.min(renderedMatches.length, errorIndex + 1));
  }
  let renderFallback = false;
  let fallbackIndex = -1;
  if (dataRouterState && future && future.v7_partialHydration) {
    for (let i2 = 0; i2 < renderedMatches.length; i2++) {
      let match = renderedMatches[i2];
      if (match.route.HydrateFallback || match.route.hydrateFallbackElement) {
        fallbackIndex = i2;
      }
      if (match.route.id) {
        let {
          loaderData,
          errors: errors2
        } = dataRouterState;
        let needsToRunLoader = match.route.loader && loaderData[match.route.id] === void 0 && (!errors2 || errors2[match.route.id] === void 0);
        if (match.route.lazy || needsToRunLoader) {
          renderFallback = true;
          if (fallbackIndex >= 0) {
            renderedMatches = renderedMatches.slice(0, fallbackIndex + 1);
          } else {
            renderedMatches = [renderedMatches[0]];
          }
          break;
        }
      }
    }
  }
  return renderedMatches.reduceRight((outlet, match, index) => {
    let error;
    let shouldRenderHydrateFallback = false;
    let errorElement = null;
    let hydrateFallbackElement = null;
    if (dataRouterState) {
      error = errors && match.route.id ? errors[match.route.id] : void 0;
      errorElement = match.route.errorElement || defaultErrorElement;
      if (renderFallback) {
        if (fallbackIndex < 0 && index === 0) {
          warningOnce("route-fallback", false, "No `HydrateFallback` element provided to render during initial hydration");
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = null;
        } else if (fallbackIndex === index) {
          shouldRenderHydrateFallback = true;
          hydrateFallbackElement = match.route.hydrateFallbackElement || null;
        }
      }
    }
    let matches2 = parentMatches.concat(renderedMatches.slice(0, index + 1));
    let getChildren = () => {
      let children;
      if (error) {
        children = errorElement;
      } else if (shouldRenderHydrateFallback) {
        children = hydrateFallbackElement;
      } else if (match.route.Component) {
        children = /* @__PURE__ */ react.exports.createElement(match.route.Component, null);
      } else if (match.route.element) {
        children = match.route.element;
      } else {
        children = outlet;
      }
      return /* @__PURE__ */ react.exports.createElement(RenderedRoute, {
        match,
        routeContext: {
          outlet,
          matches: matches2,
          isDataRoute: dataRouterState != null
        },
        children
      });
    };
    return dataRouterState && (match.route.ErrorBoundary || match.route.errorElement || index === 0) ? /* @__PURE__ */ react.exports.createElement(RenderErrorBoundary, {
      location: dataRouterState.location,
      revalidation: dataRouterState.revalidation,
      component: errorElement,
      error,
      children: getChildren(),
      routeContext: {
        outlet: null,
        matches: matches2,
        isDataRoute: true
      }
    }) : getChildren();
  }, null);
}
var DataRouterHook$1 = /* @__PURE__ */ function(DataRouterHook2) {
  DataRouterHook2["UseBlocker"] = "useBlocker";
  DataRouterHook2["UseRevalidator"] = "useRevalidator";
  DataRouterHook2["UseNavigateStable"] = "useNavigate";
  return DataRouterHook2;
}(DataRouterHook$1 || {});
var DataRouterStateHook$1 = /* @__PURE__ */ function(DataRouterStateHook2) {
  DataRouterStateHook2["UseBlocker"] = "useBlocker";
  DataRouterStateHook2["UseLoaderData"] = "useLoaderData";
  DataRouterStateHook2["UseActionData"] = "useActionData";
  DataRouterStateHook2["UseRouteError"] = "useRouteError";
  DataRouterStateHook2["UseNavigation"] = "useNavigation";
  DataRouterStateHook2["UseRouteLoaderData"] = "useRouteLoaderData";
  DataRouterStateHook2["UseMatches"] = "useMatches";
  DataRouterStateHook2["UseRevalidator"] = "useRevalidator";
  DataRouterStateHook2["UseNavigateStable"] = "useNavigate";
  DataRouterStateHook2["UseRouteId"] = "useRouteId";
  return DataRouterStateHook2;
}(DataRouterStateHook$1 || {});
function getDataRouterConsoleError$1(hookName) {
  return hookName + " must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router.";
}
function useDataRouterContext$1(hookName) {
  let ctx = react.exports.useContext(DataRouterContext);
  !ctx ? false ? invariant(false, getDataRouterConsoleError$1(hookName)) : invariant(false) : void 0;
  return ctx;
}
function useDataRouterState$1(hookName) {
  let state = react.exports.useContext(DataRouterStateContext);
  !state ? false ? invariant(false, getDataRouterConsoleError$1(hookName)) : invariant(false) : void 0;
  return state;
}
function useRouteContext(hookName) {
  let route = react.exports.useContext(RouteContext);
  !route ? false ? invariant(false, getDataRouterConsoleError$1(hookName)) : invariant(false) : void 0;
  return route;
}
function useCurrentRouteId(hookName) {
  let route = useRouteContext(hookName);
  let thisRoute = route.matches[route.matches.length - 1];
  !thisRoute.route.id ? false ? invariant(false, hookName + ' can only be used on routes that contain a unique "id"') : invariant(false) : void 0;
  return thisRoute.route.id;
}
function useRouteId() {
  return useCurrentRouteId(DataRouterStateHook$1.UseRouteId);
}
function useNavigation() {
  let state = useDataRouterState$1(DataRouterStateHook$1.UseNavigation);
  return state.navigation;
}
function useRevalidator() {
  let dataRouterContext = useDataRouterContext$1(DataRouterHook$1.UseRevalidator);
  let state = useDataRouterState$1(DataRouterStateHook$1.UseRevalidator);
  return react.exports.useMemo(() => ({
    revalidate: dataRouterContext.router.revalidate,
    state: state.revalidation
  }), [dataRouterContext.router.revalidate, state.revalidation]);
}
function useMatches() {
  let {
    matches,
    loaderData
  } = useDataRouterState$1(DataRouterStateHook$1.UseMatches);
  return react.exports.useMemo(() => matches.map((m2) => convertRouteMatchToUiMatch(m2, loaderData)), [matches, loaderData]);
}
function useLoaderData() {
  let state = useDataRouterState$1(DataRouterStateHook$1.UseLoaderData);
  let routeId = useCurrentRouteId(DataRouterStateHook$1.UseLoaderData);
  if (state.errors && state.errors[routeId] != null) {
    console.error("You cannot `useLoaderData` in an errorElement (routeId: " + routeId + ")");
    return void 0;
  }
  return state.loaderData[routeId];
}
function useRouteLoaderData(routeId) {
  let state = useDataRouterState$1(DataRouterStateHook$1.UseRouteLoaderData);
  return state.loaderData[routeId];
}
function useActionData() {
  let state = useDataRouterState$1(DataRouterStateHook$1.UseActionData);
  let routeId = useCurrentRouteId(DataRouterStateHook$1.UseLoaderData);
  return state.actionData ? state.actionData[routeId] : void 0;
}
function useRouteError() {
  var _state$errors;
  let error = react.exports.useContext(RouteErrorContext);
  let state = useDataRouterState$1(DataRouterStateHook$1.UseRouteError);
  let routeId = useCurrentRouteId(DataRouterStateHook$1.UseRouteError);
  if (error !== void 0) {
    return error;
  }
  return (_state$errors = state.errors) == null ? void 0 : _state$errors[routeId];
}
function useAsyncValue() {
  let value = react.exports.useContext(AwaitContext);
  return value == null ? void 0 : value._data;
}
function useAsyncError() {
  let value = react.exports.useContext(AwaitContext);
  return value == null ? void 0 : value._error;
}
let blockerId = 0;
function useBlocker(shouldBlock) {
  let {
    router,
    basename
  } = useDataRouterContext$1(DataRouterHook$1.UseBlocker);
  let state = useDataRouterState$1(DataRouterStateHook$1.UseBlocker);
  let [blockerKey, setBlockerKey] = react.exports.useState("");
  let blockerFunction = react.exports.useCallback((arg) => {
    if (typeof shouldBlock !== "function") {
      return !!shouldBlock;
    }
    if (basename === "/") {
      return shouldBlock(arg);
    }
    let {
      currentLocation,
      nextLocation,
      historyAction
    } = arg;
    return shouldBlock({
      currentLocation: _extends$2({}, currentLocation, {
        pathname: stripBasename(currentLocation.pathname, basename) || currentLocation.pathname
      }),
      nextLocation: _extends$2({}, nextLocation, {
        pathname: stripBasename(nextLocation.pathname, basename) || nextLocation.pathname
      }),
      historyAction
    });
  }, [basename, shouldBlock]);
  react.exports.useEffect(() => {
    let key = String(++blockerId);
    setBlockerKey(key);
    return () => router.deleteBlocker(key);
  }, [router]);
  react.exports.useEffect(() => {
    if (blockerKey !== "") {
      router.getBlocker(blockerKey, blockerFunction);
    }
  }, [router, blockerKey, blockerFunction]);
  return blockerKey && state.blockers.has(blockerKey) ? state.blockers.get(blockerKey) : IDLE_BLOCKER;
}
function useNavigateStable() {
  let {
    router
  } = useDataRouterContext$1(DataRouterHook$1.UseNavigateStable);
  let id2 = useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable);
  let activeRef = react.exports.useRef(false);
  useIsomorphicLayoutEffect(() => {
    activeRef.current = true;
  });
  let navigate = react.exports.useCallback(function(to, options) {
    if (options === void 0) {
      options = {};
    }
    false ? warning(activeRef.current, navigateEffectWarning) : void 0;
    if (!activeRef.current)
      return;
    if (typeof to === "number") {
      router.navigate(to);
    } else {
      router.navigate(to, _extends$2({
        fromRouteId: id2
      }, options));
    }
  }, [router, id2]);
  return navigate;
}
const alreadyWarned$1 = {};
function warningOnce(key, cond, message) {
  if (!cond && !alreadyWarned$1[key]) {
    alreadyWarned$1[key] = true;
    false ? warning(false, message) : void 0;
  }
}
const alreadyWarned = {};
function warnOnce(key, message) {
  if (false) {
    alreadyWarned[message] = true;
    console.warn(message);
  }
}
const logDeprecation = (flag, msg, link) => warnOnce(flag, "\u26A0\uFE0F React Router Future Flag Warning: " + msg + ". " + ("You can use the `" + flag + "` future flag to opt-in early. ") + ("For more information, see " + link + "."));
function logV6DeprecationWarnings(renderFuture, routerFuture) {
  if ((renderFuture == null ? void 0 : renderFuture.v7_startTransition) === void 0) {
    logDeprecation("v7_startTransition", "React Router will begin wrapping state updates in `React.startTransition` in v7", "https://reactrouter.com/v6/upgrading/future#v7_starttransition");
  }
  if ((renderFuture == null ? void 0 : renderFuture.v7_relativeSplatPath) === void 0 && (!routerFuture || routerFuture.v7_relativeSplatPath === void 0)) {
    logDeprecation("v7_relativeSplatPath", "Relative route resolution within Splat routes is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath");
  }
  if (routerFuture) {
    if (routerFuture.v7_fetcherPersist === void 0) {
      logDeprecation("v7_fetcherPersist", "The persistence behavior of fetchers is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist");
    }
    if (routerFuture.v7_normalizeFormMethod === void 0) {
      logDeprecation("v7_normalizeFormMethod", "Casing of `formMethod` fields is being normalized to uppercase in v7", "https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod");
    }
    if (routerFuture.v7_partialHydration === void 0) {
      logDeprecation("v7_partialHydration", "`RouterProvider` hydration behavior is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_partialhydration");
    }
    if (routerFuture.v7_skipActionErrorRevalidation === void 0) {
      logDeprecation("v7_skipActionErrorRevalidation", "The revalidation behavior after 4xx/5xx `action` responses is changing in v7", "https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation");
    }
  }
}
const START_TRANSITION$1 = "startTransition";
const startTransitionImpl$1 = React$1[START_TRANSITION$1];
function RouterProvider$1(_ref) {
  let {
    fallbackElement,
    router,
    future
  } = _ref;
  let [state, setStateImpl] = react.exports.useState(router.state);
  let {
    v7_startTransition
  } = future || {};
  let setState = react.exports.useCallback((newState) => {
    if (v7_startTransition && startTransitionImpl$1) {
      startTransitionImpl$1(() => setStateImpl(newState));
    } else {
      setStateImpl(newState);
    }
  }, [setStateImpl, v7_startTransition]);
  react.exports.useLayoutEffect(() => router.subscribe(setState), [router, setState]);
  react.exports.useEffect(() => {
    false ? warning(fallbackElement == null || !router.future.v7_partialHydration, "`<RouterProvider fallbackElement>` is deprecated when using `v7_partialHydration`, use a `HydrateFallback` component instead") : void 0;
  }, []);
  let navigator2 = react.exports.useMemo(() => {
    return {
      createHref: router.createHref,
      encodeLocation: router.encodeLocation,
      go: (n2) => router.navigate(n2),
      push: (to, state2, opts) => router.navigate(to, {
        state: state2,
        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset
      }),
      replace: (to, state2, opts) => router.navigate(to, {
        replace: true,
        state: state2,
        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset
      })
    };
  }, [router]);
  let basename = router.basename || "/";
  let dataRouterContext = react.exports.useMemo(() => ({
    router,
    navigator: navigator2,
    static: false,
    basename
  }), [router, navigator2, basename]);
  react.exports.useEffect(() => logV6DeprecationWarnings(future, router.future), [router, future]);
  return /* @__PURE__ */ react.exports.createElement(react.exports.Fragment, null, /* @__PURE__ */ react.exports.createElement(DataRouterContext.Provider, {
    value: dataRouterContext
  }, /* @__PURE__ */ react.exports.createElement(DataRouterStateContext.Provider, {
    value: state
  }, /* @__PURE__ */ react.exports.createElement(Router, {
    basename,
    location: state.location,
    navigationType: state.historyAction,
    navigator: navigator2,
    future: {
      v7_relativeSplatPath: router.future.v7_relativeSplatPath
    }
  }, state.initialized || router.future.v7_partialHydration ? /* @__PURE__ */ react.exports.createElement(DataRoutes$1, {
    routes: router.routes,
    future: router.future,
    state
  }) : fallbackElement))), null);
}
function DataRoutes$1(_ref2) {
  let {
    routes,
    future,
    state
  } = _ref2;
  return useRoutesImpl(routes, void 0, state, future);
}
function MemoryRouter(_ref3) {
  let {
    basename,
    children,
    initialEntries,
    initialIndex,
    future
  } = _ref3;
  let historyRef = react.exports.useRef();
  if (historyRef.current == null) {
    historyRef.current = createMemoryHistory({
      initialEntries,
      initialIndex,
      v5Compat: true
    });
  }
  let history = historyRef.current;
  let [state, setStateImpl] = react.exports.useState({
    action: history.action,
    location: history.location
  });
  let {
    v7_startTransition
  } = future || {};
  let setState = react.exports.useCallback((newState) => {
    v7_startTransition && startTransitionImpl$1 ? startTransitionImpl$1(() => setStateImpl(newState)) : setStateImpl(newState);
  }, [setStateImpl, v7_startTransition]);
  react.exports.useLayoutEffect(() => history.listen(setState), [history, setState]);
  react.exports.useEffect(() => logV6DeprecationWarnings(future), [future]);
  return /* @__PURE__ */ react.exports.createElement(Router, {
    basename,
    children,
    location: state.location,
    navigationType: state.action,
    navigator: history,
    future
  });
}
function Navigate(_ref4) {
  let {
    to,
    replace: replace2,
    state,
    relative
  } = _ref4;
  !useInRouterContext() ? false ? invariant(
    false,
    "<Navigate> may be used only in the context of a <Router> component."
  ) : invariant(false) : void 0;
  let {
    future,
    static: isStatic
  } = react.exports.useContext(NavigationContext);
  false ? warning(!isStatic, "<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.") : void 0;
  let {
    matches
  } = react.exports.useContext(RouteContext);
  let {
    pathname: locationPathname
  } = useLocation();
  let navigate = useNavigate();
  let path = resolveTo(to, getResolveToMatches(matches, future.v7_relativeSplatPath), locationPathname, relative === "path");
  let jsonPath = JSON.stringify(path);
  react.exports.useEffect(() => navigate(JSON.parse(jsonPath), {
    replace: replace2,
    state,
    relative
  }), [navigate, jsonPath, relative, replace2, state]);
  return null;
}
function Outlet(props) {
  return useOutlet(props.context);
}
function Route(_props) {
  false ? invariant(false, "A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.") : invariant(false);
}
function Router(_ref5) {
  let {
    basename: basenameProp = "/",
    children = null,
    location: locationProp,
    navigationType = Action.Pop,
    navigator: navigator2,
    static: staticProp = false,
    future
  } = _ref5;
  !!useInRouterContext() ? false ? invariant(false, "You cannot render a <Router> inside another <Router>. You should never have more than one in your app.") : invariant(false) : void 0;
  let basename = basenameProp.replace(/^\/*/, "/");
  let navigationContext = react.exports.useMemo(() => ({
    basename,
    navigator: navigator2,
    static: staticProp,
    future: _extends$2({
      v7_relativeSplatPath: false
    }, future)
  }), [basename, future, navigator2, staticProp]);
  if (typeof locationProp === "string") {
    locationProp = parsePath(locationProp);
  }
  let {
    pathname = "/",
    search = "",
    hash = "",
    state = null,
    key = "default"
  } = locationProp;
  let locationContext = react.exports.useMemo(() => {
    let trailingPathname = stripBasename(pathname, basename);
    if (trailingPathname == null) {
      return null;
    }
    return {
      location: {
        pathname: trailingPathname,
        search,
        hash,
        state,
        key
      },
      navigationType
    };
  }, [basename, pathname, search, hash, state, key, navigationType]);
  false ? warning(locationContext != null, '<Router basename="' + basename + '"> is not able to match the URL ' + ('"' + pathname + search + hash + '" because it does not start with the ') + "basename, so the <Router> won't render anything.") : void 0;
  if (locationContext == null) {
    return null;
  }
  return /* @__PURE__ */ react.exports.createElement(NavigationContext.Provider, {
    value: navigationContext
  }, /* @__PURE__ */ react.exports.createElement(LocationContext.Provider, {
    children,
    value: locationContext
  }));
}
function Routes(_ref6) {
  let {
    children,
    location: location2
  } = _ref6;
  return useRoutes(createRoutesFromChildren(children), location2);
}
function Await(_ref7) {
  let {
    children,
    errorElement,
    resolve
  } = _ref7;
  return /* @__PURE__ */ react.exports.createElement(AwaitErrorBoundary, {
    resolve,
    errorElement
  }, /* @__PURE__ */ react.exports.createElement(ResolveAwait, null, children));
}
var AwaitRenderStatus = /* @__PURE__ */ function(AwaitRenderStatus2) {
  AwaitRenderStatus2[AwaitRenderStatus2["pending"] = 0] = "pending";
  AwaitRenderStatus2[AwaitRenderStatus2["success"] = 1] = "success";
  AwaitRenderStatus2[AwaitRenderStatus2["error"] = 2] = "error";
  return AwaitRenderStatus2;
}(AwaitRenderStatus || {});
const neverSettledPromise = new Promise(() => {
});
class AwaitErrorBoundary extends react.exports.Component {
  constructor(props) {
    super(props);
    this.state = {
      error: null
    };
  }
  static getDerivedStateFromError(error) {
    return {
      error
    };
  }
  componentDidCatch(error, errorInfo) {
    console.error("<Await> caught the following error during render", error, errorInfo);
  }
  render() {
    let {
      children,
      errorElement,
      resolve
    } = this.props;
    let promise = null;
    let status = AwaitRenderStatus.pending;
    if (!(resolve instanceof Promise)) {
      status = AwaitRenderStatus.success;
      promise = Promise.resolve();
      Object.defineProperty(promise, "_tracked", {
        get: () => true
      });
      Object.defineProperty(promise, "_data", {
        get: () => resolve
      });
    } else if (this.state.error) {
      status = AwaitRenderStatus.error;
      let renderError = this.state.error;
      promise = Promise.reject().catch(() => {
      });
      Object.defineProperty(promise, "_tracked", {
        get: () => true
      });
      Object.defineProperty(promise, "_error", {
        get: () => renderError
      });
    } else if (resolve._tracked) {
      promise = resolve;
      status = "_error" in promise ? AwaitRenderStatus.error : "_data" in promise ? AwaitRenderStatus.success : AwaitRenderStatus.pending;
    } else {
      status = AwaitRenderStatus.pending;
      Object.defineProperty(resolve, "_tracked", {
        get: () => true
      });
      promise = resolve.then((data2) => Object.defineProperty(resolve, "_data", {
        get: () => data2
      }), (error) => Object.defineProperty(resolve, "_error", {
        get: () => error
      }));
    }
    if (status === AwaitRenderStatus.error && promise._error instanceof AbortedDeferredError) {
      throw neverSettledPromise;
    }
    if (status === AwaitRenderStatus.error && !errorElement) {
      throw promise._error;
    }
    if (status === AwaitRenderStatus.error) {
      return /* @__PURE__ */ react.exports.createElement(AwaitContext.Provider, {
        value: promise,
        children: errorElement
      });
    }
    if (status === AwaitRenderStatus.success) {
      return /* @__PURE__ */ react.exports.createElement(AwaitContext.Provider, {
        value: promise,
        children
      });
    }
    throw promise;
  }
}
function ResolveAwait(_ref8) {
  let {
    children
  } = _ref8;
  let data2 = useAsyncValue();
  let toRender = typeof children === "function" ? children(data2) : children;
  return /* @__PURE__ */ react.exports.createElement(react.exports.Fragment, null, toRender);
}
function createRoutesFromChildren(children, parentPath) {
  if (parentPath === void 0) {
    parentPath = [];
  }
  let routes = [];
  react.exports.Children.forEach(children, (element, index) => {
    if (!/* @__PURE__ */ react.exports.isValidElement(element)) {
      return;
    }
    let treePath = [...parentPath, index];
    if (element.type === react.exports.Fragment) {
      routes.push.apply(routes, createRoutesFromChildren(element.props.children, treePath));
      return;
    }
    !(element.type === Route) ? false ? invariant(false, "[" + (typeof element.type === "string" ? element.type : element.type.name) + "] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>") : invariant(false) : void 0;
    !(!element.props.index || !element.props.children) ? false ? invariant(false, "An index route cannot have child routes.") : invariant(false) : void 0;
    let route = {
      id: element.props.id || treePath.join("-"),
      caseSensitive: element.props.caseSensitive,
      element: element.props.element,
      Component: element.props.Component,
      index: element.props.index,
      path: element.props.path,
      loader: element.props.loader,
      action: element.props.action,
      errorElement: element.props.errorElement,
      ErrorBoundary: element.props.ErrorBoundary,
      hasErrorBoundary: element.props.ErrorBoundary != null || element.props.errorElement != null,
      shouldRevalidate: element.props.shouldRevalidate,
      handle: element.props.handle,
      lazy: element.props.lazy
    };
    if (element.props.children) {
      route.children = createRoutesFromChildren(element.props.children, treePath);
    }
    routes.push(route);
  });
  return routes;
}
function renderMatches(matches) {
  return _renderMatches(matches);
}
function mapRouteProperties(route) {
  let updates = {
    hasErrorBoundary: route.ErrorBoundary != null || route.errorElement != null
  };
  if (route.Component) {
    if (false) {
      if (route.element) {
        false ? warning(false, "You should not include both `Component` and `element` on your route - `Component` will be used.") : void 0;
      }
    }
    Object.assign(updates, {
      element: /* @__PURE__ */ react.exports.createElement(route.Component),
      Component: void 0
    });
  }
  if (route.HydrateFallback) {
    if (false) {
      if (route.hydrateFallbackElement) {
        false ? warning(false, "You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used.") : void 0;
      }
    }
    Object.assign(updates, {
      hydrateFallbackElement: /* @__PURE__ */ react.exports.createElement(route.HydrateFallback),
      HydrateFallback: void 0
    });
  }
  if (route.ErrorBoundary) {
    if (false) {
      if (route.errorElement) {
        false ? warning(false, "You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used.") : void 0;
      }
    }
    Object.assign(updates, {
      errorElement: /* @__PURE__ */ react.exports.createElement(route.ErrorBoundary),
      ErrorBoundary: void 0
    });
  }
  return updates;
}
function createMemoryRouter(routes, opts) {
  return createRouter({
    basename: opts == null ? void 0 : opts.basename,
    future: _extends$2({}, opts == null ? void 0 : opts.future, {
      v7_prependBasename: true
    }),
    history: createMemoryHistory({
      initialEntries: opts == null ? void 0 : opts.initialEntries,
      initialIndex: opts == null ? void 0 : opts.initialIndex
    }),
    hydrationData: opts == null ? void 0 : opts.hydrationData,
    routes,
    mapRouteProperties,
    dataStrategy: opts == null ? void 0 : opts.dataStrategy,
    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation
  }).initialize();
}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function _extends$1() {
  _extends$1 = Object.assign ? Object.assign.bind() : function(target) {
    for (var i2 = 1; i2 < arguments.length; i2++) {
      var source = arguments[i2];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends$1.apply(this, arguments);
}
function _objectWithoutPropertiesLoose$1(source, excluded) {
  if (source == null)
    return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i2;
  for (i2 = 0; i2 < sourceKeys.length; i2++) {
    key = sourceKeys[i2];
    if (excluded.indexOf(key) >= 0)
      continue;
    target[key] = source[key];
  }
  return target;
}
const defaultMethod = "get";
const defaultEncType = "application/x-www-form-urlencoded";
function isHtmlElement(object) {
  return object != null && typeof object.tagName === "string";
}
function isButtonElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "button";
}
function isFormElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "form";
}
function isInputElement(object) {
  return isHtmlElement(object) && object.tagName.toLowerCase() === "input";
}
function isModifiedEvent(event) {
  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
}
function shouldProcessLinkClick(event, target) {
  return event.button === 0 && (!target || target === "_self") && !isModifiedEvent(event);
}
function createSearchParams(init) {
  if (init === void 0) {
    init = "";
  }
  return new URLSearchParams(typeof init === "string" || Array.isArray(init) || init instanceof URLSearchParams ? init : Object.keys(init).reduce((memo2, key) => {
    let value = init[key];
    return memo2.concat(Array.isArray(value) ? value.map((v2) => [key, v2]) : [[key, value]]);
  }, []));
}
function getSearchParamsForLocation(locationSearch, defaultSearchParams) {
  let searchParams = createSearchParams(locationSearch);
  if (defaultSearchParams) {
    defaultSearchParams.forEach((_2, key) => {
      if (!searchParams.has(key)) {
        defaultSearchParams.getAll(key).forEach((value) => {
          searchParams.append(key, value);
        });
      }
    });
  }
  return searchParams;
}
let _formDataSupportsSubmitter = null;
function isFormDataSubmitterSupported() {
  if (_formDataSupportsSubmitter === null) {
    try {
      new FormData(
        document.createElement("form"),
        0
      );
      _formDataSupportsSubmitter = false;
    } catch (e) {
      _formDataSupportsSubmitter = true;
    }
  }
  return _formDataSupportsSubmitter;
}
const supportedFormEncTypes = /* @__PURE__ */ new Set(["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"]);
function getFormEncType(encType) {
  if (encType != null && !supportedFormEncTypes.has(encType)) {
    false ? warning(false, '"' + encType + '" is not a valid `encType` for `<Form>`/`<fetcher.Form>` ' + ('and will default to "' + defaultEncType + '"')) : void 0;
    return null;
  }
  return encType;
}
function getFormSubmissionInfo(target, basename) {
  let method;
  let action;
  let encType;
  let formData;
  let body;
  if (isFormElement(target)) {
    let attr = target.getAttribute("action");
    action = attr ? stripBasename(attr, basename) : null;
    method = target.getAttribute("method") || defaultMethod;
    encType = getFormEncType(target.getAttribute("enctype")) || defaultEncType;
    formData = new FormData(target);
  } else if (isButtonElement(target) || isInputElement(target) && (target.type === "submit" || target.type === "image")) {
    let form = target.form;
    if (form == null) {
      throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');
    }
    let attr = target.getAttribute("formaction") || form.getAttribute("action");
    action = attr ? stripBasename(attr, basename) : null;
    method = target.getAttribute("formmethod") || form.getAttribute("method") || defaultMethod;
    encType = getFormEncType(target.getAttribute("formenctype")) || getFormEncType(form.getAttribute("enctype")) || defaultEncType;
    formData = new FormData(form, target);
    if (!isFormDataSubmitterSupported()) {
      let {
        name,
        type,
        value
      } = target;
      if (type === "image") {
        let prefix = name ? name + "." : "";
        formData.append(prefix + "x", "0");
        formData.append(prefix + "y", "0");
      } else if (name) {
        formData.append(name, value);
      }
    }
  } else if (isHtmlElement(target)) {
    throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');
  } else {
    method = defaultMethod;
    action = null;
    encType = defaultEncType;
    body = target;
  }
  if (formData && encType === "text/plain") {
    body = formData;
    formData = void 0;
  }
  return {
    action,
    method: method.toLowerCase(),
    encType,
    formData,
    body
  };
}
const _excluded = ["onClick", "relative", "reloadDocument", "replace", "state", "target", "to", "preventScrollReset", "viewTransition"], _excluded2 = ["aria-current", "caseSensitive", "className", "end", "style", "to", "viewTransition", "children"], _excluded3 = ["fetcherKey", "navigate", "reloadDocument", "replace", "state", "method", "action", "onSubmit", "relative", "preventScrollReset", "viewTransition"];
const REACT_ROUTER_VERSION = "6";
try {
  window.__reactRouterVersion = REACT_ROUTER_VERSION;
} catch (e) {
}
function createBrowserRouter(routes, opts) {
  return createRouter({
    basename: opts == null ? void 0 : opts.basename,
    future: _extends$1({}, opts == null ? void 0 : opts.future, {
      v7_prependBasename: true
    }),
    history: createBrowserHistory({
      window: opts == null ? void 0 : opts.window
    }),
    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),
    routes,
    mapRouteProperties,
    dataStrategy: opts == null ? void 0 : opts.dataStrategy,
    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,
    window: opts == null ? void 0 : opts.window
  }).initialize();
}
function createHashRouter(routes, opts) {
  return createRouter({
    basename: opts == null ? void 0 : opts.basename,
    future: _extends$1({}, opts == null ? void 0 : opts.future, {
      v7_prependBasename: true
    }),
    history: createHashHistory({
      window: opts == null ? void 0 : opts.window
    }),
    hydrationData: (opts == null ? void 0 : opts.hydrationData) || parseHydrationData(),
    routes,
    mapRouteProperties,
    dataStrategy: opts == null ? void 0 : opts.dataStrategy,
    patchRoutesOnNavigation: opts == null ? void 0 : opts.patchRoutesOnNavigation,
    window: opts == null ? void 0 : opts.window
  }).initialize();
}
function parseHydrationData() {
  var _window;
  let state = (_window = window) == null ? void 0 : _window.__staticRouterHydrationData;
  if (state && state.errors) {
    state = _extends$1({}, state, {
      errors: deserializeErrors(state.errors)
    });
  }
  return state;
}
function deserializeErrors(errors) {
  if (!errors)
    return null;
  let entries = Object.entries(errors);
  let serialized = {};
  for (let [key, val] of entries) {
    if (val && val.__type === "RouteErrorResponse") {
      serialized[key] = new ErrorResponseImpl(val.status, val.statusText, val.data, val.internal === true);
    } else if (val && val.__type === "Error") {
      if (val.__subType) {
        let ErrorConstructor = window[val.__subType];
        if (typeof ErrorConstructor === "function") {
          try {
            let error = new ErrorConstructor(val.message);
            error.stack = "";
            serialized[key] = error;
          } catch (e) {
          }
        }
      }
      if (serialized[key] == null) {
        let error = new Error(val.message);
        error.stack = "";
        serialized[key] = error;
      }
    } else {
      serialized[key] = val;
    }
  }
  return serialized;
}
const ViewTransitionContext = /* @__PURE__ */ react.exports.createContext({
  isTransitioning: false
});
if (false) {
  ViewTransitionContext.displayName = "ViewTransition";
}
const FetchersContext = /* @__PURE__ */ react.exports.createContext(/* @__PURE__ */ new Map());
if (false) {
  FetchersContext.displayName = "Fetchers";
}
const START_TRANSITION = "startTransition";
const startTransitionImpl = React$1[START_TRANSITION];
const FLUSH_SYNC = "flushSync";
const flushSyncImpl = ReactDOM[FLUSH_SYNC];
const USE_ID = "useId";
const useIdImpl = React$1[USE_ID];
function startTransitionSafe(cb2) {
  if (startTransitionImpl) {
    startTransitionImpl(cb2);
  } else {
    cb2();
  }
}
function flushSyncSafe(cb2) {
  if (flushSyncImpl) {
    flushSyncImpl(cb2);
  } else {
    cb2();
  }
}
class Deferred {
  constructor() {
    this.status = "pending";
    this.promise = new Promise((resolve, reject) => {
      this.resolve = (value) => {
        if (this.status === "pending") {
          this.status = "resolved";
          resolve(value);
        }
      };
      this.reject = (reason) => {
        if (this.status === "pending") {
          this.status = "rejected";
          reject(reason);
        }
      };
    });
  }
}
function RouterProvider(_ref) {
  let {
    fallbackElement,
    router,
    future
  } = _ref;
  let [state, setStateImpl] = react.exports.useState(router.state);
  let [pendingState, setPendingState] = react.exports.useState();
  let [vtContext, setVtContext] = react.exports.useState({
    isTransitioning: false
  });
  let [renderDfd, setRenderDfd] = react.exports.useState();
  let [transition, setTransition] = react.exports.useState();
  let [interruption, setInterruption] = react.exports.useState();
  let fetcherData = react.exports.useRef(/* @__PURE__ */ new Map());
  let {
    v7_startTransition
  } = future || {};
  let optInStartTransition = react.exports.useCallback((cb2) => {
    if (v7_startTransition) {
      startTransitionSafe(cb2);
    } else {
      cb2();
    }
  }, [v7_startTransition]);
  let setState = react.exports.useCallback((newState, _ref2) => {
    let {
      deletedFetchers,
      flushSync: flushSync2,
      viewTransitionOpts
    } = _ref2;
    newState.fetchers.forEach((fetcher, key) => {
      if (fetcher.data !== void 0) {
        fetcherData.current.set(key, fetcher.data);
      }
    });
    deletedFetchers.forEach((key) => fetcherData.current.delete(key));
    let isViewTransitionUnavailable = router.window == null || router.window.document == null || typeof router.window.document.startViewTransition !== "function";
    if (!viewTransitionOpts || isViewTransitionUnavailable) {
      if (flushSync2) {
        flushSyncSafe(() => setStateImpl(newState));
      } else {
        optInStartTransition(() => setStateImpl(newState));
      }
      return;
    }
    if (flushSync2) {
      flushSyncSafe(() => {
        if (transition) {
          renderDfd && renderDfd.resolve();
          transition.skipTransition();
        }
        setVtContext({
          isTransitioning: true,
          flushSync: true,
          currentLocation: viewTransitionOpts.currentLocation,
          nextLocation: viewTransitionOpts.nextLocation
        });
      });
      let t3 = router.window.document.startViewTransition(() => {
        flushSyncSafe(() => setStateImpl(newState));
      });
      t3.finished.finally(() => {
        flushSyncSafe(() => {
          setRenderDfd(void 0);
          setTransition(void 0);
          setPendingState(void 0);
          setVtContext({
            isTransitioning: false
          });
        });
      });
      flushSyncSafe(() => setTransition(t3));
      return;
    }
    if (transition) {
      renderDfd && renderDfd.resolve();
      transition.skipTransition();
      setInterruption({
        state: newState,
        currentLocation: viewTransitionOpts.currentLocation,
        nextLocation: viewTransitionOpts.nextLocation
      });
    } else {
      setPendingState(newState);
      setVtContext({
        isTransitioning: true,
        flushSync: false,
        currentLocation: viewTransitionOpts.currentLocation,
        nextLocation: viewTransitionOpts.nextLocation
      });
    }
  }, [router.window, transition, renderDfd, fetcherData, optInStartTransition]);
  react.exports.useLayoutEffect(() => router.subscribe(setState), [router, setState]);
  react.exports.useEffect(() => {
    if (vtContext.isTransitioning && !vtContext.flushSync) {
      setRenderDfd(new Deferred());
    }
  }, [vtContext]);
  react.exports.useEffect(() => {
    if (renderDfd && pendingState && router.window) {
      let newState = pendingState;
      let renderPromise = renderDfd.promise;
      let transition2 = router.window.document.startViewTransition(async () => {
        optInStartTransition(() => setStateImpl(newState));
        await renderPromise;
      });
      transition2.finished.finally(() => {
        setRenderDfd(void 0);
        setTransition(void 0);
        setPendingState(void 0);
        setVtContext({
          isTransitioning: false
        });
      });
      setTransition(transition2);
    }
  }, [optInStartTransition, pendingState, renderDfd, router.window]);
  react.exports.useEffect(() => {
    if (renderDfd && pendingState && state.location.key === pendingState.location.key) {
      renderDfd.resolve();
    }
  }, [renderDfd, transition, state.location, pendingState]);
  react.exports.useEffect(() => {
    if (!vtContext.isTransitioning && interruption) {
      setPendingState(interruption.state);
      setVtContext({
        isTransitioning: true,
        flushSync: false,
        currentLocation: interruption.currentLocation,
        nextLocation: interruption.nextLocation
      });
      setInterruption(void 0);
    }
  }, [vtContext.isTransitioning, interruption]);
  react.exports.useEffect(() => {
    false ? warning(fallbackElement == null || !router.future.v7_partialHydration, "`<RouterProvider fallbackElement>` is deprecated when using `v7_partialHydration`, use a `HydrateFallback` component instead") : void 0;
  }, []);
  let navigator2 = react.exports.useMemo(() => {
    return {
      createHref: router.createHref,
      encodeLocation: router.encodeLocation,
      go: (n2) => router.navigate(n2),
      push: (to, state2, opts) => router.navigate(to, {
        state: state2,
        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset
      }),
      replace: (to, state2, opts) => router.navigate(to, {
        replace: true,
        state: state2,
        preventScrollReset: opts == null ? void 0 : opts.preventScrollReset
      })
    };
  }, [router]);
  let basename = router.basename || "/";
  let dataRouterContext = react.exports.useMemo(() => ({
    router,
    navigator: navigator2,
    static: false,
    basename
  }), [router, navigator2, basename]);
  let routerFuture = react.exports.useMemo(() => ({
    v7_relativeSplatPath: router.future.v7_relativeSplatPath
  }), [router.future.v7_relativeSplatPath]);
  react.exports.useEffect(() => logV6DeprecationWarnings(future, router.future), [future, router.future]);
  return /* @__PURE__ */ react.exports.createElement(react.exports.Fragment, null, /* @__PURE__ */ react.exports.createElement(DataRouterContext.Provider, {
    value: dataRouterContext
  }, /* @__PURE__ */ react.exports.createElement(DataRouterStateContext.Provider, {
    value: state
  }, /* @__PURE__ */ react.exports.createElement(FetchersContext.Provider, {
    value: fetcherData.current
  }, /* @__PURE__ */ react.exports.createElement(ViewTransitionContext.Provider, {
    value: vtContext
  }, /* @__PURE__ */ react.exports.createElement(Router, {
    basename,
    location: state.location,
    navigationType: state.historyAction,
    navigator: navigator2,
    future: routerFuture
  }, state.initialized || router.future.v7_partialHydration ? /* @__PURE__ */ react.exports.createElement(MemoizedDataRoutes, {
    routes: router.routes,
    future: router.future,
    state
  }) : fallbackElement))))), null);
}
const MemoizedDataRoutes = /* @__PURE__ */ react.exports.memo(DataRoutes);
function DataRoutes(_ref3) {
  let {
    routes,
    future,
    state
  } = _ref3;
  return useRoutesImpl(routes, void 0, state, future);
}
function BrowserRouter(_ref4) {
  let {
    basename,
    children,
    future,
    window: window2
  } = _ref4;
  let historyRef = react.exports.useRef();
  if (historyRef.current == null) {
    historyRef.current = createBrowserHistory({
      window: window2,
      v5Compat: true
    });
  }
  let history = historyRef.current;
  let [state, setStateImpl] = react.exports.useState({
    action: history.action,
    location: history.location
  });
  let {
    v7_startTransition
  } = future || {};
  let setState = react.exports.useCallback((newState) => {
    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);
  }, [setStateImpl, v7_startTransition]);
  react.exports.useLayoutEffect(() => history.listen(setState), [history, setState]);
  react.exports.useEffect(() => logV6DeprecationWarnings(future), [future]);
  return /* @__PURE__ */ react.exports.createElement(Router, {
    basename,
    children,
    location: state.location,
    navigationType: state.action,
    navigator: history,
    future
  });
}
function HashRouter(_ref5) {
  let {
    basename,
    children,
    future,
    window: window2
  } = _ref5;
  let historyRef = react.exports.useRef();
  if (historyRef.current == null) {
    historyRef.current = createHashHistory({
      window: window2,
      v5Compat: true
    });
  }
  let history = historyRef.current;
  let [state, setStateImpl] = react.exports.useState({
    action: history.action,
    location: history.location
  });
  let {
    v7_startTransition
  } = future || {};
  let setState = react.exports.useCallback((newState) => {
    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);
  }, [setStateImpl, v7_startTransition]);
  react.exports.useLayoutEffect(() => history.listen(setState), [history, setState]);
  react.exports.useEffect(() => logV6DeprecationWarnings(future), [future]);
  return /* @__PURE__ */ react.exports.createElement(Router, {
    basename,
    children,
    location: state.location,
    navigationType: state.action,
    navigator: history,
    future
  });
}
function HistoryRouter(_ref6) {
  let {
    basename,
    children,
    future,
    history
  } = _ref6;
  let [state, setStateImpl] = react.exports.useState({
    action: history.action,
    location: history.location
  });
  let {
    v7_startTransition
  } = future || {};
  let setState = react.exports.useCallback((newState) => {
    v7_startTransition && startTransitionImpl ? startTransitionImpl(() => setStateImpl(newState)) : setStateImpl(newState);
  }, [setStateImpl, v7_startTransition]);
  react.exports.useLayoutEffect(() => history.listen(setState), [history, setState]);
  react.exports.useEffect(() => logV6DeprecationWarnings(future), [future]);
  return /* @__PURE__ */ react.exports.createElement(Router, {
    basename,
    children,
    location: state.location,
    navigationType: state.action,
    navigator: history,
    future
  });
}
if (false) {
  HistoryRouter.displayName = "unstable_HistoryRouter";
}
const isBrowser = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined";
const ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;
const Link = /* @__PURE__ */ react.exports.forwardRef(function LinkWithRef(_ref7, ref) {
  let {
    onClick,
    relative,
    reloadDocument,
    replace: replace2,
    state,
    target,
    to,
    preventScrollReset,
    viewTransition
  } = _ref7, rest = _objectWithoutPropertiesLoose$1(_ref7, _excluded);
  let {
    basename
  } = react.exports.useContext(NavigationContext);
  let absoluteHref;
  let isExternal = false;
  if (typeof to === "string" && ABSOLUTE_URL_REGEX.test(to)) {
    absoluteHref = to;
    if (isBrowser) {
      try {
        let currentUrl = new URL(window.location.href);
        let targetUrl = to.startsWith("//") ? new URL(currentUrl.protocol + to) : new URL(to);
        let path = stripBasename(targetUrl.pathname, basename);
        if (targetUrl.origin === currentUrl.origin && path != null) {
          to = path + targetUrl.search + targetUrl.hash;
        } else {
          isExternal = true;
        }
      } catch (e) {
        false ? warning(false, '<Link to="' + to + '"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.') : void 0;
      }
    }
  }
  let href = useHref(to, {
    relative
  });
  let internalOnClick = useLinkClickHandler(to, {
    replace: replace2,
    state,
    target,
    preventScrollReset,
    relative,
    viewTransition
  });
  function handleClick(event) {
    if (onClick)
      onClick(event);
    if (!event.defaultPrevented) {
      internalOnClick(event);
    }
  }
  return /* @__PURE__ */ react.exports.createElement("a", _extends$1({}, rest, {
    href: absoluteHref || href,
    onClick: isExternal || reloadDocument ? onClick : handleClick,
    ref,
    target
  }));
});
if (false) {
  Link.displayName = "Link";
}
const NavLink = /* @__PURE__ */ react.exports.forwardRef(function NavLinkWithRef(_ref8, ref) {
  let {
    "aria-current": ariaCurrentProp = "page",
    caseSensitive = false,
    className: classNameProp = "",
    end = false,
    style: styleProp,
    to,
    viewTransition,
    children
  } = _ref8, rest = _objectWithoutPropertiesLoose$1(_ref8, _excluded2);
  let path = useResolvedPath(to, {
    relative: rest.relative
  });
  let location2 = useLocation();
  let routerState = react.exports.useContext(DataRouterStateContext);
  let {
    navigator: navigator2,
    basename
  } = react.exports.useContext(NavigationContext);
  let isTransitioning = routerState != null && useViewTransitionState(path) && viewTransition === true;
  let toPathname = navigator2.encodeLocation ? navigator2.encodeLocation(path).pathname : path.pathname;
  let locationPathname = location2.pathname;
  let nextLocationPathname = routerState && routerState.navigation && routerState.navigation.location ? routerState.navigation.location.pathname : null;
  if (!caseSensitive) {
    locationPathname = locationPathname.toLowerCase();
    nextLocationPathname = nextLocationPathname ? nextLocationPathname.toLowerCase() : null;
    toPathname = toPathname.toLowerCase();
  }
  if (nextLocationPathname && basename) {
    nextLocationPathname = stripBasename(nextLocationPathname, basename) || nextLocationPathname;
  }
  const endSlashPosition = toPathname !== "/" && toPathname.endsWith("/") ? toPathname.length - 1 : toPathname.length;
  let isActive = locationPathname === toPathname || !end && locationPathname.startsWith(toPathname) && locationPathname.charAt(endSlashPosition) === "/";
  let isPending = nextLocationPathname != null && (nextLocationPathname === toPathname || !end && nextLocationPathname.startsWith(toPathname) && nextLocationPathname.charAt(toPathname.length) === "/");
  let renderProps = {
    isActive,
    isPending,
    isTransitioning
  };
  let ariaCurrent = isActive ? ariaCurrentProp : void 0;
  let className;
  if (typeof classNameProp === "function") {
    className = classNameProp(renderProps);
  } else {
    className = [classNameProp, isActive ? "active" : null, isPending ? "pending" : null, isTransitioning ? "transitioning" : null].filter(Boolean).join(" ");
  }
  let style = typeof styleProp === "function" ? styleProp(renderProps) : styleProp;
  return /* @__PURE__ */ react.exports.createElement(Link, _extends$1({}, rest, {
    "aria-current": ariaCurrent,
    className,
    ref,
    style,
    to,
    viewTransition
  }), typeof children === "function" ? children(renderProps) : children);
});
if (false) {
  NavLink.displayName = "NavLink";
}
const Form = /* @__PURE__ */ react.exports.forwardRef((_ref9, forwardedRef) => {
  let {
    fetcherKey,
    navigate,
    reloadDocument,
    replace: replace2,
    state,
    method = defaultMethod,
    action,
    onSubmit,
    relative,
    preventScrollReset,
    viewTransition
  } = _ref9, props = _objectWithoutPropertiesLoose$1(_ref9, _excluded3);
  let submit = useSubmit();
  let formAction = useFormAction(action, {
    relative
  });
  let formMethod = method.toLowerCase() === "get" ? "get" : "post";
  let submitHandler = (event) => {
    onSubmit && onSubmit(event);
    if (event.defaultPrevented)
      return;
    event.preventDefault();
    let submitter = event.nativeEvent.submitter;
    let submitMethod = (submitter == null ? void 0 : submitter.getAttribute("formmethod")) || method;
    submit(submitter || event.currentTarget, {
      fetcherKey,
      method: submitMethod,
      navigate,
      replace: replace2,
      state,
      relative,
      preventScrollReset,
      viewTransition
    });
  };
  return /* @__PURE__ */ react.exports.createElement("form", _extends$1({
    ref: forwardedRef,
    method: formMethod,
    action: formAction,
    onSubmit: reloadDocument ? onSubmit : submitHandler
  }, props));
});
if (false) {
  Form.displayName = "Form";
}
function ScrollRestoration(_ref10) {
  let {
    getKey,
    storageKey
  } = _ref10;
  useScrollRestoration({
    getKey,
    storageKey
  });
  return null;
}
if (false) {
  ScrollRestoration.displayName = "ScrollRestoration";
}
var DataRouterHook;
(function(DataRouterHook2) {
  DataRouterHook2["UseScrollRestoration"] = "useScrollRestoration";
  DataRouterHook2["UseSubmit"] = "useSubmit";
  DataRouterHook2["UseSubmitFetcher"] = "useSubmitFetcher";
  DataRouterHook2["UseFetcher"] = "useFetcher";
  DataRouterHook2["useViewTransitionState"] = "useViewTransitionState";
})(DataRouterHook || (DataRouterHook = {}));
var DataRouterStateHook;
(function(DataRouterStateHook2) {
  DataRouterStateHook2["UseFetcher"] = "useFetcher";
  DataRouterStateHook2["UseFetchers"] = "useFetchers";
  DataRouterStateHook2["UseScrollRestoration"] = "useScrollRestoration";
})(DataRouterStateHook || (DataRouterStateHook = {}));
function getDataRouterConsoleError(hookName) {
  return hookName + " must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router.";
}
function useDataRouterContext(hookName) {
  let ctx = react.exports.useContext(DataRouterContext);
  !ctx ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return ctx;
}
function useDataRouterState(hookName) {
  let state = react.exports.useContext(DataRouterStateContext);
  !state ? false ? invariant(false, getDataRouterConsoleError(hookName)) : invariant(false) : void 0;
  return state;
}
function useLinkClickHandler(to, _temp) {
  let {
    target,
    replace: replaceProp,
    state,
    preventScrollReset,
    relative,
    viewTransition
  } = _temp === void 0 ? {} : _temp;
  let navigate = useNavigate();
  let location2 = useLocation();
  let path = useResolvedPath(to, {
    relative
  });
  return react.exports.useCallback((event) => {
    if (shouldProcessLinkClick(event, target)) {
      event.preventDefault();
      let replace2 = replaceProp !== void 0 ? replaceProp : createPath(location2) === createPath(path);
      navigate(to, {
        replace: replace2,
        state,
        preventScrollReset,
        relative,
        viewTransition
      });
    }
  }, [location2, navigate, path, replaceProp, state, target, to, preventScrollReset, relative, viewTransition]);
}
function useSearchParams(defaultInit) {
  false ? warning(typeof URLSearchParams !== "undefined", "You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.") : void 0;
  let defaultSearchParamsRef = react.exports.useRef(createSearchParams(defaultInit));
  let hasSetSearchParamsRef = react.exports.useRef(false);
  let location2 = useLocation();
  let searchParams = react.exports.useMemo(() => getSearchParamsForLocation(location2.search, hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current), [location2.search]);
  let navigate = useNavigate();
  let setSearchParams = react.exports.useCallback((nextInit, navigateOptions) => {
    const newSearchParams = createSearchParams(typeof nextInit === "function" ? nextInit(searchParams) : nextInit);
    hasSetSearchParamsRef.current = true;
    navigate("?" + newSearchParams, navigateOptions);
  }, [navigate, searchParams]);
  return [searchParams, setSearchParams];
}
function validateClientSideSubmission() {
  if (typeof document === "undefined") {
    throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");
  }
}
let fetcherId = 0;
let getUniqueFetcherId = () => "__" + String(++fetcherId) + "__";
function useSubmit() {
  let {
    router
  } = useDataRouterContext(DataRouterHook.UseSubmit);
  let {
    basename
  } = react.exports.useContext(NavigationContext);
  let currentRouteId = useRouteId();
  return react.exports.useCallback(function(target, options) {
    if (options === void 0) {
      options = {};
    }
    validateClientSideSubmission();
    let {
      action,
      method,
      encType,
      formData,
      body
    } = getFormSubmissionInfo(target, basename);
    if (options.navigate === false) {
      let key = options.fetcherKey || getUniqueFetcherId();
      router.fetch(key, currentRouteId, options.action || action, {
        preventScrollReset: options.preventScrollReset,
        formData,
        body,
        formMethod: options.method || method,
        formEncType: options.encType || encType,
        flushSync: options.flushSync
      });
    } else {
      router.navigate(options.action || action, {
        preventScrollReset: options.preventScrollReset,
        formData,
        body,
        formMethod: options.method || method,
        formEncType: options.encType || encType,
        replace: options.replace,
        state: options.state,
        fromRouteId: currentRouteId,
        flushSync: options.flushSync,
        viewTransition: options.viewTransition
      });
    }
  }, [router, basename, currentRouteId]);
}
function useFormAction(action, _temp2) {
  let {
    relative
  } = _temp2 === void 0 ? {} : _temp2;
  let {
    basename
  } = react.exports.useContext(NavigationContext);
  let routeContext = react.exports.useContext(RouteContext);
  !routeContext ? false ? invariant(false, "useFormAction must be used inside a RouteContext") : invariant(false) : void 0;
  let [match] = routeContext.matches.slice(-1);
  let path = _extends$1({}, useResolvedPath(action ? action : ".", {
    relative
  }));
  let location2 = useLocation();
  if (action == null) {
    path.search = location2.search;
    let params = new URLSearchParams(path.search);
    let indexValues = params.getAll("index");
    let hasNakedIndexParam = indexValues.some((v2) => v2 === "");
    if (hasNakedIndexParam) {
      params.delete("index");
      indexValues.filter((v2) => v2).forEach((v2) => params.append("index", v2));
      let qs = params.toString();
      path.search = qs ? "?" + qs : "";
    }
  }
  if ((!action || action === ".") && match.route.index) {
    path.search = path.search ? path.search.replace(/^\?/, "?index&") : "?index";
  }
  if (basename !== "/") {
    path.pathname = path.pathname === "/" ? basename : joinPaths([basename, path.pathname]);
  }
  return createPath(path);
}
function useFetcher(_temp3) {
  var _route$matches;
  let {
    key
  } = _temp3 === void 0 ? {} : _temp3;
  let {
    router
  } = useDataRouterContext(DataRouterHook.UseFetcher);
  let state = useDataRouterState(DataRouterStateHook.UseFetcher);
  let fetcherData = react.exports.useContext(FetchersContext);
  let route = react.exports.useContext(RouteContext);
  let routeId = (_route$matches = route.matches[route.matches.length - 1]) == null ? void 0 : _route$matches.route.id;
  !fetcherData ? false ? invariant(false, "useFetcher must be used inside a FetchersContext") : invariant(false) : void 0;
  !route ? false ? invariant(false, "useFetcher must be used inside a RouteContext") : invariant(false) : void 0;
  !(routeId != null) ? false ? invariant(false, 'useFetcher can only be used on routes that contain a unique "id"') : invariant(false) : void 0;
  let defaultKey = useIdImpl ? useIdImpl() : "";
  let [fetcherKey, setFetcherKey] = react.exports.useState(key || defaultKey);
  if (key && key !== fetcherKey) {
    setFetcherKey(key);
  } else if (!fetcherKey) {
    setFetcherKey(getUniqueFetcherId());
  }
  react.exports.useEffect(() => {
    router.getFetcher(fetcherKey);
    return () => {
      router.deleteFetcher(fetcherKey);
    };
  }, [router, fetcherKey]);
  let load = react.exports.useCallback((href, opts) => {
    !routeId ? false ? invariant(false, "No routeId available for fetcher.load()") : invariant(false) : void 0;
    router.fetch(fetcherKey, routeId, href, opts);
  }, [fetcherKey, routeId, router]);
  let submitImpl = useSubmit();
  let submit = react.exports.useCallback((target, opts) => {
    submitImpl(target, _extends$1({}, opts, {
      navigate: false,
      fetcherKey
    }));
  }, [fetcherKey, submitImpl]);
  let FetcherForm = react.exports.useMemo(() => {
    let FetcherForm2 = /* @__PURE__ */ react.exports.forwardRef((props, ref) => {
      return /* @__PURE__ */ react.exports.createElement(Form, _extends$1({}, props, {
        navigate: false,
        fetcherKey,
        ref
      }));
    });
    if (false) {
      FetcherForm2.displayName = "fetcher.Form";
    }
    return FetcherForm2;
  }, [fetcherKey]);
  let fetcher = state.fetchers.get(fetcherKey) || IDLE_FETCHER;
  let data2 = fetcherData.get(fetcherKey);
  let fetcherWithComponents = react.exports.useMemo(() => _extends$1({
    Form: FetcherForm,
    submit,
    load
  }, fetcher, {
    data: data2
  }), [FetcherForm, submit, load, fetcher, data2]);
  return fetcherWithComponents;
}
function useFetchers() {
  let state = useDataRouterState(DataRouterStateHook.UseFetchers);
  return Array.from(state.fetchers.entries()).map((_ref11) => {
    let [key, fetcher] = _ref11;
    return _extends$1({}, fetcher, {
      key
    });
  });
}
const SCROLL_RESTORATION_STORAGE_KEY = "react-router-scroll-positions";
let savedScrollPositions = {};
function useScrollRestoration(_temp4) {
  let {
    getKey,
    storageKey
  } = _temp4 === void 0 ? {} : _temp4;
  let {
    router
  } = useDataRouterContext(DataRouterHook.UseScrollRestoration);
  let {
    restoreScrollPosition,
    preventScrollReset
  } = useDataRouterState(DataRouterStateHook.UseScrollRestoration);
  let {
    basename
  } = react.exports.useContext(NavigationContext);
  let location2 = useLocation();
  let matches = useMatches();
  let navigation = useNavigation();
  react.exports.useEffect(() => {
    window.history.scrollRestoration = "manual";
    return () => {
      window.history.scrollRestoration = "auto";
    };
  }, []);
  usePageHide(react.exports.useCallback(() => {
    if (navigation.state === "idle") {
      let key = (getKey ? getKey(location2, matches) : null) || location2.key;
      savedScrollPositions[key] = window.scrollY;
    }
    try {
      sessionStorage.setItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY, JSON.stringify(savedScrollPositions));
    } catch (error) {
      false ? warning(false, "Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (" + error + ").") : void 0;
    }
    window.history.scrollRestoration = "auto";
  }, [storageKey, getKey, navigation.state, location2, matches]));
  if (typeof document !== "undefined") {
    react.exports.useLayoutEffect(() => {
      try {
        let sessionPositions = sessionStorage.getItem(storageKey || SCROLL_RESTORATION_STORAGE_KEY);
        if (sessionPositions) {
          savedScrollPositions = JSON.parse(sessionPositions);
        }
      } catch (e) {
      }
    }, [storageKey]);
    react.exports.useLayoutEffect(() => {
      let getKeyWithoutBasename = getKey && basename !== "/" ? (location3, matches2) => getKey(
        _extends$1({}, location3, {
          pathname: stripBasename(location3.pathname, basename) || location3.pathname
        }),
        matches2
      ) : getKey;
      let disableScrollRestoration = router == null ? void 0 : router.enableScrollRestoration(savedScrollPositions, () => window.scrollY, getKeyWithoutBasename);
      return () => disableScrollRestoration && disableScrollRestoration();
    }, [router, basename, getKey]);
    react.exports.useLayoutEffect(() => {
      if (restoreScrollPosition === false) {
        return;
      }
      if (typeof restoreScrollPosition === "number") {
        window.scrollTo(0, restoreScrollPosition);
        return;
      }
      if (location2.hash) {
        let el2 = document.getElementById(decodeURIComponent(location2.hash.slice(1)));
        if (el2) {
          el2.scrollIntoView();
          return;
        }
      }
      if (preventScrollReset === true) {
        return;
      }
      window.scrollTo(0, 0);
    }, [location2, restoreScrollPosition, preventScrollReset]);
  }
}
function useBeforeUnload(callback, options) {
  let {
    capture
  } = options || {};
  react.exports.useEffect(() => {
    let opts = capture != null ? {
      capture
    } : void 0;
    window.addEventListener("beforeunload", callback, opts);
    return () => {
      window.removeEventListener("beforeunload", callback, opts);
    };
  }, [callback, capture]);
}
function usePageHide(callback, options) {
  let {
    capture
  } = options || {};
  react.exports.useEffect(() => {
    let opts = capture != null ? {
      capture
    } : void 0;
    window.addEventListener("pagehide", callback, opts);
    return () => {
      window.removeEventListener("pagehide", callback, opts);
    };
  }, [callback, capture]);
}
function usePrompt(_ref12) {
  let {
    when,
    message
  } = _ref12;
  let blocker = useBlocker(when);
  react.exports.useEffect(() => {
    if (blocker.state === "blocked") {
      let proceed = window.confirm(message);
      if (proceed) {
        setTimeout(blocker.proceed, 0);
      } else {
        blocker.reset();
      }
    }
  }, [blocker, message]);
  react.exports.useEffect(() => {
    if (blocker.state === "blocked" && !when) {
      blocker.reset();
    }
  }, [blocker, when]);
}
function useViewTransitionState(to, opts) {
  if (opts === void 0) {
    opts = {};
  }
  let vtContext = react.exports.useContext(ViewTransitionContext);
  !(vtContext != null) ? false ? invariant(false, "`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?") : invariant(false) : void 0;
  let {
    basename
  } = useDataRouterContext(DataRouterHook.useViewTransitionState);
  let path = useResolvedPath(to, {
    relative: opts.relative
  });
  if (!vtContext.isTransitioning) {
    return false;
  }
  let currentPath = stripBasename(vtContext.currentLocation.pathname, basename) || vtContext.currentLocation.pathname;
  let nextPath = stripBasename(vtContext.nextLocation.pathname, basename) || vtContext.nextLocation.pathname;
  return matchPath(path.pathname, nextPath) != null || matchPath(path.pathname, currentPath) != null;
}
function useFetchData(url, options = {}) {
  const [loading, setLoading] = react.exports.useState(false);
  const [error, setError] = react.exports.useState(null);
  const abortRef = react.exports.useRef(null);
  const fetchData = react.exports.useCallback(async () => {
    if (!url) {
      setLoading(false);
      return null;
    }
    if (abortRef.current) {
      abortRef.current.abort();
    }
    const ctrl = new AbortController();
    abortRef.current = ctrl;
    setLoading(true);
    setError(null);
    try {
      const res = await fetch(url, {
        method: options.method || "GET",
        headers: {
          "Content-Type": "application/json",
          ...options.headers || {}
        },
        ...options.body != null ? {
          body: JSON.stringify(options.body)
        } : {},
        signal: ctrl.signal
      });
      const result = await res.json();
      if (!res.ok)
        throw new Error(`${res.status} ${result}`);
      return result.schemas || result;
    } catch (err2) {
      setError(err2);
      console.error("Fetch error:", err2);
    } finally {
      setLoading(false);
    }
  }, [url, options.method, options.headers, options.body]);
  react.exports.useEffect(() => {
    return () => {
      if (abortRef.current)
        abortRef.current.abort();
    };
  }, []);
  return {
    fetchData,
    loading,
    error
  };
}
var all_min = "";
var jsxRuntime$1 = { exports: {} };
var reactJsxRuntime_production_min = {};
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";
var f$1 = react.exports, k$1 = Symbol.for("react.element"), l$1 = Symbol.for("react.fragment"), m$1 = Object.prototype.hasOwnProperty, n = f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, p$1 = { key: true, ref: true, __self: true, __source: true };
function q$1(c2, a2, g2) {
  var b3, d2 = {}, e = null, h2 = null;
  void 0 !== g2 && (e = "" + g2);
  void 0 !== a2.key && (e = "" + a2.key);
  void 0 !== a2.ref && (h2 = a2.ref);
  for (b3 in a2)
    m$1.call(a2, b3) && !p$1.hasOwnProperty(b3) && (d2[b3] = a2[b3]);
  if (c2 && c2.defaultProps)
    for (b3 in a2 = c2.defaultProps, a2)
      void 0 === d2[b3] && (d2[b3] = a2[b3]);
  return { $$typeof: k$1, type: c2, key: e, ref: h2, props: d2, _owner: n.current };
}
var Fragment$1 = reactJsxRuntime_production_min.Fragment = l$1;
var jsx$1 = reactJsxRuntime_production_min.jsx = q$1;
var jsxs$1 = reactJsxRuntime_production_min.jsxs = q$1;
"use strict";
if (true) {
  jsxRuntime$1.exports = reactJsxRuntime_production_min;
} else {
  module.exports = require("./cjs/react-jsx-runtime.development.js");
}
var jsxRuntime = jsxRuntime$1.exports;
const jsx = jsxRuntime$1.exports.jsx;
const jsxs = jsxRuntime$1.exports.jsxs;
const Fragment = jsxRuntime$1.exports.Fragment;
function DeleteConfirmModal({
  taskId,
  onConfirm,
  onCancel
}) {
  if (!taskId)
    return null;
  return /* @__PURE__ */ jsx("div", {
    style: {
      position: "fixed",
      inset: 0,
      background: "rgba(0,0,0,0.3)",
      display: "flex",
      justifyContent: "center",
      alignItems: "center",
      zIndex: 9999
    },
    children: /* @__PURE__ */ jsxs("div", {
      style: {
        background: "white",
        borderRadius: "8px",
        padding: "16px 20px",
        minWidth: "340px",
        boxShadow: "0 4px 12px rgba(0,0,0,0.25)",
        fontSize: "14px"
      },
      children: [/* @__PURE__ */ jsxs("div", {
        style: {
          marginBottom: "12px"
        },
        children: ["Are you sure you want to delete task id", " ", /* @__PURE__ */ jsx("strong", {
          children: taskId
        }), " ?"]
      }), /* @__PURE__ */ jsxs("div", {
        style: {
          display: "flex",
          justifyContent: "flex-end",
          gap: "8px"
        },
        children: [/* @__PURE__ */ jsxs("button", {
          type: "button",
          onClick: onConfirm,
          style: {
            background: "#2e7d32",
            color: "white",
            border: "none",
            padding: "6px 10px",
            borderRadius: "4px",
            cursor: "pointer",
            fontSize: "13px",
            display: "inline-flex",
            alignItems: "center",
            gap: "4px"
          },
          children: [/* @__PURE__ */ jsx("i", {
            className: "fa fa-check"
          }), /* @__PURE__ */ jsx("span", {
            children: "Yes"
          })]
        }), /* @__PURE__ */ jsxs("button", {
          type: "button",
          onClick: onCancel,
          style: {
            background: "#c62828",
            color: "white",
            border: "none",
            padding: "6px 10px",
            borderRadius: "4px",
            cursor: "pointer",
            fontSize: "13px",
            display: "inline-flex",
            alignItems: "center",
            gap: "4px"
          },
          children: [/* @__PURE__ */ jsx("i", {
            className: "fa fa-times"
          }), /* @__PURE__ */ jsx("span", {
            children: "No"
          })]
        })]
      })]
    })
  });
}
function useActiveTasksPolling(intervalMs = 3e3) {
  const [activeTasks, setActiveTasks] = react.exports.useState([]);
  const { fetchData: fetchActiveTasks } = useFetchData(
    "/api/fabric-command?command=broadway%20K2Verify.bwK2VerifyRunningTasks%20RESULT_STRUCTURE=CURSOR"
  );
  react.exports.useEffect(() => {
    let isMounted = true;
    const fetchActive = async () => {
      try {
        const data2 = await fetchActiveTasks();
        if (isMounted) {
          setActiveTasks((prevTasks) => {
            const newData = data2 || [];
            if (JSON.stringify(prevTasks) === JSON.stringify(newData)) {
              return prevTasks;
            }
            return newData;
          });
        }
      } catch (err2) {
        console.error("Error fetching active tasks:", err2);
      }
    };
    fetchActive();
    const interval = setInterval(fetchActive, intervalMs);
    return () => {
      isMounted = false;
      clearInterval(interval);
    };
  }, [fetchActiveTasks, intervalMs]);
  const activeTaskIds = react.exports.useMemo(() => {
    const tasks = activeTasks || [];
    if (!Array.isArray(tasks))
      return /* @__PURE__ */ new Set();
    return new Set(tasks.map((task) => task.task_id));
  }, [activeTasks]);
  const taskExecutionMap = react.exports.useMemo(() => {
    const tasks = activeTasks || [];
    if (!Array.isArray(tasks))
      return /* @__PURE__ */ new Map();
    return new Map(tasks.map((task) => [task.task_id, task.execution_id]));
  }, [activeTasks]);
  return {
    activeTasks,
    activeTaskIds,
    taskExecutionMap
  };
}
async function runFabricCommand(command) {
  var _a2;
  const encoded = encodeURIComponent(command);
  const res = await fetch(`/api/fabric-command?command=${encoded}`);
  let data2 = null;
  try {
    data2 = await res.json();
  } catch {
  }
  if (!res.ok) {
    const msg = ((_a2 = data2 == null ? void 0 : data2.error) == null ? void 0 : _a2.message) || (data2 == null ? void 0 : data2.message) || (typeof data2 === "string" ? data2 : null) || "Execution failed";
    const err2 = new Error(msg);
    err2.response = data2;
    throw err2;
  }
  return data2;
}
var reactTable$1 = { exports: {} };
var reactTable_production_min$1 = { exports: {} };
(function(module2, exports2) {
  !function(e, t3) {
    true ? t3(exports2, react.exports) : false ? (void 0)(["exports", "react"], t3) : t3((e = e || self).ReactTable = {}, e.React);
  }(commonjsGlobal, function(e, t3) {
    "use strict";
    function n2(e2, t4, n3, o3, r3, i3, u3) {
      try {
        var l3 = e2[i3](u3), s3 = l3.value;
      } catch (e3) {
        return void n3(e3);
      }
      l3.done ? t4(s3) : Promise.resolve(s3).then(o3, r3);
    }
    function o2(e2) {
      return function() {
        var t4 = this, o3 = arguments;
        return new Promise(function(r3, i3) {
          var u3 = e2.apply(t4, o3);
          function l3(e3) {
            n2(u3, r3, i3, l3, s3, "next", e3);
          }
          function s3(e3) {
            n2(u3, r3, i3, l3, s3, "throw", e3);
          }
          l3(void 0);
        });
      };
    }
    function r2() {
      return (r2 = Object.assign || function(e2) {
        for (var t4 = 1; t4 < arguments.length; t4++) {
          var n3 = arguments[t4];
          for (var o3 in n3)
            Object.prototype.hasOwnProperty.call(n3, o3) && (e2[o3] = n3[o3]);
        }
        return e2;
      }).apply(this, arguments);
    }
    function i2(e2, t4) {
      if (null == e2)
        return {};
      var n3, o3, r3 = {}, i3 = Object.keys(e2);
      for (o3 = 0; o3 < i3.length; o3++)
        n3 = i3[o3], t4.indexOf(n3) >= 0 || (r3[n3] = e2[n3]);
      return r3;
    }
    function u2(e2) {
      var t4 = function(e3, t5) {
        if ("object" != typeof e3 || null === e3)
          return e3;
        var n3 = e3[Symbol.toPrimitive];
        if (void 0 !== n3) {
          var o3 = n3.call(e3, t5 || "default");
          if ("object" != typeof o3)
            return o3;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return ("string" === t5 ? String : Number)(e3);
      }(e2, "string");
      return "symbol" == typeof t4 ? t4 : String(t4);
    }
    t3 = t3 && Object.prototype.hasOwnProperty.call(t3, "default") ? t3.default : t3;
    var l2 = { init: "init" }, s2 = function(e2) {
      var t4 = e2.value;
      return void 0 === t4 ? "" : t4;
    }, a2 = function() {
      return t3.createElement(t3.Fragment, null, "\xA0");
    }, c2 = { Cell: s2, width: 150, minWidth: 0, maxWidth: Number.MAX_SAFE_INTEGER };
    function d2() {
      for (var e2 = arguments.length, t4 = new Array(e2), n3 = 0; n3 < e2; n3++)
        t4[n3] = arguments[n3];
      return t4.reduce(function(e3, t5) {
        var n4 = t5.style, o3 = t5.className;
        return e3 = r2({}, e3, {}, i2(t5, ["style", "className"])), n4 && (e3.style = e3.style ? r2({}, e3.style || {}, {}, n4 || {}) : n4), o3 && (e3.className = e3.className ? e3.className + " " + o3 : o3), "" === e3.className && delete e3.className, e3;
      }, {});
    }
    var f2 = function(e2, t4) {
      return void 0 === t4 && (t4 = {}), function(n3) {
        return void 0 === n3 && (n3 = {}), [].concat(e2, [n3]).reduce(function(e3, o3) {
          return function e4(t5, n4, o4) {
            return "function" == typeof n4 ? e4({}, n4(t5, o4)) : Array.isArray(n4) ? d2.apply(void 0, [t5].concat(n4)) : d2(t5, n4);
          }(e3, o3, r2({}, t4, { userProps: n3 }));
        }, {});
      };
    }, p2 = function(e2, t4, n3, o3) {
      return void 0 === n3 && (n3 = {}), e2.reduce(function(e3, t5) {
        return t5(e3, n3);
      }, t4);
    }, g2 = function(e2, t4, n3) {
      return void 0 === n3 && (n3 = {}), e2.forEach(function(e3) {
        e3(t4, n3);
      });
    };
    function v2(e2, t4, n3, o3) {
      e2.findIndex(function(e3) {
        return e3.pluginName === n3;
      });
      t4.forEach(function(t5) {
        e2.findIndex(function(e3) {
          return e3.pluginName === t5;
        });
      });
    }
    function m2(e2, t4) {
      return "function" == typeof e2 ? e2(t4) : e2;
    }
    function h2(e2) {
      var n3 = t3.useRef();
      return n3.current = e2, t3.useCallback(function() {
        return n3.current;
      }, []);
    }
    var y2 = "undefined" != typeof document ? t3.useLayoutEffect : t3.useEffect;
    function w2(e2, n3) {
      var o3 = t3.useRef(false);
      y2(function() {
        o3.current && e2(), o3.current = true;
      }, n3);
    }
    function R2(e2, t4, n3) {
      return void 0 === n3 && (n3 = {}), function(o3, i3) {
        void 0 === i3 && (i3 = {});
        var u3 = "string" == typeof o3 ? t4[o3] : o3;
        if (void 0 === u3)
          throw console.info(t4), new Error("Renderer Error \u261D\uFE0F");
        return b3(u3, r2({}, e2, { column: t4 }, n3, {}, i3));
      };
    }
    function b3(e2, n3) {
      return function(e3) {
        return "function" == typeof e3 && ((t4 = Object.getPrototypeOf(e3)).prototype && t4.prototype.isReactComponent);
        var t4;
      }(o3 = e2) || "function" == typeof o3 || function(e3) {
        return "object" == typeof e3 && "symbol" == typeof e3.$$typeof && ["react.memo", "react.forward_ref"].includes(e3.$$typeof.description);
      }(o3) ? t3.createElement(e2, n3) : e2;
      var o3;
    }
    function S2(e2, t4, n3) {
      return void 0 === n3 && (n3 = 0), e2.map(function(e3) {
        return x2(e3 = r2({}, e3, { parent: t4, depth: n3 })), e3.columns && (e3.columns = S2(e3.columns, e3, n3 + 1)), e3;
      });
    }
    function C2(e2) {
      return G2(e2, "columns");
    }
    function x2(e2) {
      var t4 = e2.id, n3 = e2.accessor, o3 = e2.Header;
      if ("string" == typeof n3) {
        t4 = t4 || n3;
        var r3 = n3.split(".");
        n3 = function(e3) {
          return function(e4, t5, n4) {
            if (!t5)
              return e4;
            var o4, r4 = "function" == typeof t5 ? t5 : JSON.stringify(t5), i3 = E2.get(r4) || function() {
              var e5 = function(e6) {
                return function e7(t6, n5) {
                  void 0 === n5 && (n5 = []);
                  if (Array.isArray(t6))
                    for (var o5 = 0; o5 < t6.length; o5 += 1)
                      e7(t6[o5], n5);
                  else
                    n5.push(t6);
                  return n5;
                }(e6).map(function(e7) {
                  return String(e7).replace(".", "_");
                }).join(".").replace(T2, ".").replace(O2, "").split(".");
              }(t5);
              return E2.set(r4, e5), e5;
            }();
            try {
              o4 = i3.reduce(function(e5, t6) {
                return e5[t6];
              }, e4);
            } catch (e5) {
            }
            return void 0 !== o4 ? o4 : n4;
          }(e3, r3);
        };
      }
      if (!t4 && "string" == typeof o3 && o3 && (t4 = o3), !t4 && e2.columns)
        throw console.error(e2), new Error('A column ID (or unique "Header" value) is required!');
      if (!t4)
        throw console.error(e2), new Error("A column ID (or string accessor) is required!");
      return Object.assign(e2, { id: t4, accessor: n3 }), e2;
    }
    function P2(e2, t4) {
      if (!t4)
        throw new Error();
      return Object.assign(e2, r2({ Header: a2, Footer: a2 }, c2, {}, t4, {}, e2)), Object.assign(e2, { originalWidth: e2.width }), e2;
    }
    function B2(e2, t4, n3) {
      void 0 === n3 && (n3 = function() {
        return {};
      });
      for (var o3 = [], i3 = e2, u3 = 0, l3 = function() {
        return u3++;
      }, s3 = function() {
        var e3 = { headers: [] }, u4 = [], s4 = i3.some(function(e4) {
          return e4.parent;
        });
        i3.forEach(function(o4) {
          var i4, a3 = [].concat(u4).reverse()[0];
          if (s4) {
            if (o4.parent)
              i4 = r2({}, o4.parent, { originalId: o4.parent.id, id: o4.parent.id + "_" + l3(), headers: [o4] }, n3(o4));
            else
              i4 = P2(r2({ originalId: o4.id + "_placeholder", id: o4.id + "_placeholder_" + l3(), placeholderOf: o4, headers: [o4] }, n3(o4)), t4);
            a3 && a3.originalId === i4.originalId ? a3.headers.push(o4) : u4.push(i4);
          }
          e3.headers.push(o4);
        }), o3.push(e3), i3 = u4;
      }; i3.length; )
        s3();
      return o3.reverse();
    }
    var E2 = /* @__PURE__ */ new Map();
    function I2() {
      for (var e2 = arguments.length, t4 = new Array(e2), n3 = 0; n3 < e2; n3++)
        t4[n3] = arguments[n3];
      for (var o3 = 0; o3 < t4.length; o3 += 1)
        if (void 0 !== t4[o3])
          return t4[o3];
    }
    function F2(e2) {
      if ("function" == typeof e2)
        return e2;
    }
    function G2(e2, t4) {
      var n3 = [];
      return function e3(o3) {
        o3.forEach(function(o4) {
          o4[t4] ? e3(o4[t4]) : n3.push(o4);
        });
      }(e2), n3;
    }
    function A2(e2, t4) {
      var n3 = t4.manualExpandedKey, o3 = t4.expanded, r3 = t4.expandSubRows, i3 = void 0 === r3 || r3, u3 = [];
      return e2.forEach(function(e3) {
        return function e4(t5, r4) {
          void 0 === r4 && (r4 = true), t5.isExpanded = t5.original && t5.original[n3] || o3[t5.id], t5.canExpand = t5.subRows && !!t5.subRows.length, r4 && u3.push(t5), t5.subRows && t5.subRows.length && t5.isExpanded && t5.subRows.forEach(function(t6) {
            return e4(t6, i3);
          });
        }(e3);
      }), u3;
    }
    function k3(e2, t4, n3) {
      return F2(e2) || t4[e2] || n3[e2] || n3.text;
    }
    function H2(e2, t4, n3) {
      return e2 ? e2(t4, n3) : void 0 === t4;
    }
    function W2() {
      throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.");
    }
    var z2 = null;
    var T2 = /\[/g, O2 = /\]/g;
    var M2 = function(e2) {
      return r2({ role: "table" }, e2);
    }, j2 = function(e2) {
      return r2({ role: "rowgroup" }, e2);
    }, L2 = function(e2, t4) {
      var n3 = t4.column;
      return r2({ key: "header_" + n3.id, colSpan: n3.totalVisibleHeaderCount, role: "columnheader" }, e2);
    }, N2 = function(e2, t4) {
      var n3 = t4.column;
      return r2({ key: "footer_" + n3.id, colSpan: n3.totalVisibleHeaderCount }, e2);
    }, D2 = function(e2, t4) {
      return r2({ key: "headerGroup_" + t4.index, role: "row" }, e2);
    }, V2 = function(e2, t4) {
      return r2({ key: "footerGroup_" + t4.index }, e2);
    }, _2 = function(e2, t4) {
      return r2({ key: "row_" + t4.row.id, role: "row" }, e2);
    }, X2 = function(e2, t4) {
      var n3 = t4.cell;
      return r2({ key: "cell_" + n3.row.id + "_" + n3.column.id, role: "cell" }, e2);
    };
    function q2() {
      return { useOptions: [], stateReducers: [], useControlledState: [], columns: [], columnsDeps: [], allColumns: [], allColumnsDeps: [], accessValue: [], materializedColumns: [], materializedColumnsDeps: [], useInstanceAfterData: [], visibleColumns: [], visibleColumnsDeps: [], headerGroups: [], headerGroupsDeps: [], useInstanceBeforeDimensions: [], useInstance: [], prepareRow: [], getTableProps: [M2], getTableBodyProps: [j2], getHeaderGroupProps: [D2], getFooterGroupProps: [V2], getHeaderProps: [L2], getFooterProps: [N2], getRowProps: [_2], getCellProps: [X2], useFinalInstance: [] };
    }
    l2.resetHiddenColumns = "resetHiddenColumns", l2.toggleHideColumn = "toggleHideColumn", l2.setHiddenColumns = "setHiddenColumns", l2.toggleHideAllColumns = "toggleHideAllColumns";
    var K2 = function(e2) {
      e2.getToggleHiddenProps = [U2], e2.getToggleHideAllColumnsProps = [$2], e2.stateReducers.push(J2), e2.useInstanceBeforeDimensions.push(Y2), e2.headerGroupsDeps.push(function(e3, t4) {
        var n3 = t4.instance;
        return [].concat(e3, [n3.state.hiddenColumns]);
      }), e2.useInstance.push(Q2);
    };
    K2.pluginName = "useColumnVisibility";
    var U2 = function(e2, t4) {
      var n3 = t4.column;
      return [e2, { onChange: function(e3) {
        n3.toggleHidden(!e3.target.checked);
      }, style: { cursor: "pointer" }, checked: n3.isVisible, title: "Toggle Column Visible" }];
    }, $2 = function(e2, t4) {
      var n3 = t4.instance;
      return [e2, { onChange: function(e3) {
        n3.toggleHideAllColumns(!e3.target.checked);
      }, style: { cursor: "pointer" }, checked: !n3.allColumnsHidden && !n3.state.hiddenColumns.length, title: "Toggle All Columns Hidden", indeterminate: !n3.allColumnsHidden && n3.state.hiddenColumns.length }];
    };
    function J2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ hiddenColumns: [] }, e2);
      if (t4.type === l2.resetHiddenColumns)
        return r2({}, e2, { hiddenColumns: o3.initialState.hiddenColumns || [] });
      if (t4.type === l2.toggleHideColumn) {
        var i3 = (void 0 !== t4.value ? t4.value : !e2.hiddenColumns.includes(t4.columnId)) ? [].concat(e2.hiddenColumns, [t4.columnId]) : e2.hiddenColumns.filter(function(e3) {
          return e3 !== t4.columnId;
        });
        return r2({}, e2, { hiddenColumns: i3 });
      }
      return t4.type === l2.setHiddenColumns ? r2({}, e2, { hiddenColumns: m2(t4.value, e2.hiddenColumns) }) : t4.type === l2.toggleHideAllColumns ? r2({}, e2, { hiddenColumns: (void 0 !== t4.value ? t4.value : !e2.hiddenColumns.length) ? o3.allColumns.map(function(e3) {
        return e3.id;
      }) : [] }) : void 0;
    }
    function Y2(e2) {
      var n3 = e2.headers, o3 = e2.state.hiddenColumns;
      t3.useRef(false).current;
      var r3 = 0;
      n3.forEach(function(e3) {
        return r3 += function e4(t4, n4) {
          t4.isVisible = n4 && !o3.includes(t4.id);
          var r4 = 0;
          return t4.headers && t4.headers.length ? t4.headers.forEach(function(n5) {
            return r4 += e4(n5, t4.isVisible);
          }) : r4 = t4.isVisible ? 1 : 0, t4.totalVisibleHeaderCount = r4, r4;
        }(e3, true);
      });
    }
    function Q2(e2) {
      var n3 = e2.columns, o3 = e2.flatHeaders, r3 = e2.dispatch, i3 = e2.allColumns, u3 = e2.getHooks, s3 = e2.state.hiddenColumns, a3 = e2.autoResetHiddenColumns, c3 = void 0 === a3 || a3, d3 = h2(e2), p3 = i3.length === s3.length, g3 = t3.useCallback(function(e3, t4) {
        return r3({ type: l2.toggleHideColumn, columnId: e3, value: t4 });
      }, [r3]), v3 = t3.useCallback(function(e3) {
        return r3({ type: l2.setHiddenColumns, value: e3 });
      }, [r3]), m3 = t3.useCallback(function(e3) {
        return r3({ type: l2.toggleHideAllColumns, value: e3 });
      }, [r3]), y3 = f2(u3().getToggleHideAllColumnsProps, { instance: d3() });
      o3.forEach(function(e3) {
        e3.toggleHidden = function(t4) {
          r3({ type: l2.toggleHideColumn, columnId: e3.id, value: t4 });
        }, e3.getToggleHiddenProps = f2(u3().getToggleHiddenProps, { instance: d3(), column: e3 });
      });
      var R3 = h2(c3);
      w2(function() {
        R3() && r3({ type: l2.resetHiddenColumns });
      }, [r3, n3]), Object.assign(e2, { allColumnsHidden: p3, toggleHideColumn: g3, setHiddenColumns: v3, toggleHideAllColumns: m3, getToggleHideAllColumnsProps: y3 });
    }
    var Z2 = {}, ee2 = {}, te2 = function(e2, t4, n3) {
      return e2;
    }, ne2 = function(e2, t4) {
      return e2.subRows || [];
    }, oe2 = function(e2, t4, n3) {
      return "" + (n3 ? [n3.id, t4].join(".") : t4);
    }, re2 = function(e2) {
      return e2;
    };
    function ie2(e2) {
      var t4 = e2.initialState, n3 = void 0 === t4 ? Z2 : t4, o3 = e2.defaultColumn, u3 = void 0 === o3 ? ee2 : o3, l3 = e2.getSubRows, s3 = void 0 === l3 ? ne2 : l3, a3 = e2.getRowId, c3 = void 0 === a3 ? oe2 : a3, d3 = e2.stateReducer, f3 = void 0 === d3 ? te2 : d3, p3 = e2.useControlledState, g3 = void 0 === p3 ? re2 : p3;
      return r2({}, i2(e2, ["initialState", "defaultColumn", "getSubRows", "getRowId", "stateReducer", "useControlledState"]), { initialState: n3, defaultColumn: u3, getSubRows: s3, getRowId: c3, stateReducer: f3, useControlledState: g3 });
    }
    function ue2(e2, t4) {
      void 0 === t4 && (t4 = 0);
      var n3 = 0, o3 = 0, r3 = 0, i3 = 0;
      return e2.forEach(function(e3) {
        var u3 = e3.headers;
        if (e3.totalLeft = t4, u3 && u3.length) {
          var l3 = ue2(u3, t4), s3 = l3[0], a3 = l3[1], c3 = l3[2], d3 = l3[3];
          e3.totalMinWidth = s3, e3.totalWidth = a3, e3.totalMaxWidth = c3, e3.totalFlexWidth = d3;
        } else
          e3.totalMinWidth = e3.minWidth, e3.totalWidth = Math.min(Math.max(e3.minWidth, e3.width), e3.maxWidth), e3.totalMaxWidth = e3.maxWidth, e3.totalFlexWidth = e3.canResize ? e3.totalWidth : 0;
        e3.isVisible && (t4 += e3.totalWidth, n3 += e3.totalMinWidth, o3 += e3.totalWidth, r3 += e3.totalMaxWidth, i3 += e3.totalFlexWidth);
      }), [n3, o3, r3, i3];
    }
    function le2(e2) {
      var t4 = e2.data, n3 = e2.rows, o3 = e2.flatRows, r3 = e2.rowsById, i3 = e2.column, u3 = e2.getRowId, l3 = e2.getSubRows, s3 = e2.accessValueHooks, a3 = e2.getInstance;
      t4.forEach(function(e3, c3) {
        return function e4(n4, c4, d3, f3, g3) {
          void 0 === d3 && (d3 = 0);
          var v3 = n4, m3 = u3(n4, c4, f3), h3 = r3[m3];
          if (h3)
            h3.subRows && h3.originalSubRows.forEach(function(t5, n5) {
              return e4(t5, n5, d3 + 1, h3);
            });
          else if ((h3 = { id: m3, original: v3, index: c4, depth: d3, cells: [{}] }).cells.map = W2, h3.cells.filter = W2, h3.cells.forEach = W2, h3.cells[0].getCellProps = W2, h3.values = {}, g3.push(h3), o3.push(h3), r3[m3] = h3, h3.originalSubRows = l3(n4, c4), h3.originalSubRows) {
            var y3 = [];
            h3.originalSubRows.forEach(function(t5, n5) {
              return e4(t5, n5, d3 + 1, h3, y3);
            }), h3.subRows = y3;
          }
          i3.accessor && (h3.values[i3.id] = i3.accessor(n4, c4, h3, g3, t4)), h3.values[i3.id] = p2(s3, h3.values[i3.id], { row: h3, column: i3, instance: a3() });
        }(e3, c3, 0, void 0, n3);
      });
    }
    l2.resetExpanded = "resetExpanded", l2.toggleRowExpanded = "toggleRowExpanded", l2.toggleAllRowsExpanded = "toggleAllRowsExpanded";
    var se2 = function(e2) {
      e2.getToggleAllRowsExpandedProps = [ae2], e2.getToggleRowExpandedProps = [ce2], e2.stateReducers.push(de2), e2.useInstance.push(fe2), e2.prepareRow.push(pe2);
    };
    se2.pluginName = "useExpanded";
    var ae2 = function(e2, t4) {
      var n3 = t4.instance;
      return [e2, { onClick: function(e3) {
        n3.toggleAllRowsExpanded();
      }, style: { cursor: "pointer" }, title: "Toggle All Rows Expanded" }];
    }, ce2 = function(e2, t4) {
      var n3 = t4.row;
      return [e2, { onClick: function() {
        n3.toggleRowExpanded();
      }, style: { cursor: "pointer" }, title: "Toggle Row Expanded" }];
    };
    function de2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ expanded: {} }, e2);
      if (t4.type === l2.resetExpanded)
        return r2({}, e2, { expanded: o3.initialState.expanded || {} });
      if (t4.type === l2.toggleAllRowsExpanded) {
        var s3 = t4.value, a3 = o3.rowsById, c3 = Object.keys(a3).length === Object.keys(e2.expanded).length;
        if (void 0 !== s3 ? s3 : !c3) {
          var d3 = {};
          return Object.keys(a3).forEach(function(e3) {
            d3[e3] = true;
          }), r2({}, e2, { expanded: d3 });
        }
        return r2({}, e2, { expanded: {} });
      }
      if (t4.type === l2.toggleRowExpanded) {
        var f3, p3 = t4.id, g3 = t4.value, v3 = e2.expanded[p3], m3 = void 0 !== g3 ? g3 : !v3;
        if (!v3 && m3)
          return r2({}, e2, { expanded: r2({}, e2.expanded, (f3 = {}, f3[p3] = true, f3)) });
        if (v3 && !m3) {
          var h3 = e2.expanded;
          h3[p3];
          return r2({}, e2, { expanded: i2(h3, [p3].map(u2)) });
        }
        return e2;
      }
    }
    function fe2(e2) {
      var n3 = e2.data, o3 = e2.rows, r3 = e2.rowsById, i3 = e2.manualExpandedKey, u3 = void 0 === i3 ? "expanded" : i3, s3 = e2.paginateExpandedRows, a3 = void 0 === s3 || s3, c3 = e2.expandSubRows, d3 = void 0 === c3 || c3, p3 = e2.autoResetExpanded, g3 = void 0 === p3 || p3, m3 = e2.getHooks, y3 = e2.plugins, R3 = e2.state.expanded, b5 = e2.dispatch;
      v2(y3, ["useSortBy", "useGroupBy", "usePivotColumns", "useGlobalFilter"], "useExpanded");
      var S3 = h2(g3), C3 = Boolean(Object.keys(r3).length && Object.keys(R3).length);
      C3 && Object.keys(r3).some(function(e3) {
        return !R3[e3];
      }) && (C3 = false), w2(function() {
        S3() && b5({ type: l2.resetExpanded });
      }, [b5, n3]);
      var x3 = t3.useCallback(function(e3, t4) {
        b5({ type: l2.toggleRowExpanded, id: e3, value: t4 });
      }, [b5]), P3 = t3.useCallback(function(e3) {
        return b5({ type: l2.toggleAllRowsExpanded, value: e3 });
      }, [b5]), B3 = t3.useMemo(function() {
        return a3 ? A2(o3, { manualExpandedKey: u3, expanded: R3, expandSubRows: d3 }) : o3;
      }, [a3, o3, u3, R3, d3]), E3 = t3.useMemo(function() {
        return function(e3) {
          var t4 = 0;
          return Object.keys(e3).forEach(function(e4) {
            var n4 = e4.split(".");
            t4 = Math.max(t4, n4.length);
          }), t4;
        }(R3);
      }, [R3]), I3 = h2(e2), F3 = f2(m3().getToggleAllRowsExpandedProps, { instance: I3() });
      Object.assign(e2, { preExpandedRows: o3, expandedRows: B3, rows: B3, expandedDepth: E3, isAllRowsExpanded: C3, toggleRowExpanded: x3, toggleAllRowsExpanded: P3, getToggleAllRowsExpandedProps: F3 });
    }
    function pe2(e2, t4) {
      var n3 = t4.instance.getHooks, o3 = t4.instance;
      e2.toggleRowExpanded = function(t5) {
        return o3.toggleRowExpanded(e2.id, t5);
      }, e2.getToggleRowExpandedProps = f2(n3().getToggleRowExpandedProps, { instance: o3, row: e2 });
    }
    var ge2 = function(e2, t4, n3) {
      return e2 = e2.filter(function(e3) {
        return t4.some(function(t5) {
          var o3 = e3.values[t5];
          return String(o3).toLowerCase().includes(String(n3).toLowerCase());
        });
      });
    };
    ge2.autoRemove = function(e2) {
      return !e2;
    };
    var ve2 = function(e2, t4, n3) {
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          var o3 = e3.values[t5];
          return void 0 === o3 || String(o3).toLowerCase() === String(n3).toLowerCase();
        });
      });
    };
    ve2.autoRemove = function(e2) {
      return !e2;
    };
    var me2 = function(e2, t4, n3) {
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          var o3 = e3.values[t5];
          return void 0 === o3 || String(o3) === String(n3);
        });
      });
    };
    me2.autoRemove = function(e2) {
      return !e2;
    };
    var he2 = function(e2, t4, n3) {
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          return e3.values[t5].includes(n3);
        });
      });
    };
    he2.autoRemove = function(e2) {
      return !e2 || !e2.length;
    };
    var ye2 = function(e2, t4, n3) {
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          var o3 = e3.values[t5];
          return o3 && o3.length && n3.every(function(e4) {
            return o3.includes(e4);
          });
        });
      });
    };
    ye2.autoRemove = function(e2) {
      return !e2 || !e2.length;
    };
    var we2 = function(e2, t4, n3) {
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          var o3 = e3.values[t5];
          return o3 && o3.length && n3.some(function(e4) {
            return o3.includes(e4);
          });
        });
      });
    };
    we2.autoRemove = function(e2) {
      return !e2 || !e2.length;
    };
    var Re2 = function(e2, t4, n3) {
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          var o3 = e3.values[t5];
          return n3.includes(o3);
        });
      });
    };
    Re2.autoRemove = function(e2) {
      return !e2 || !e2.length;
    };
    var be2 = function(e2, t4, n3) {
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          return e3.values[t5] === n3;
        });
      });
    };
    be2.autoRemove = function(e2) {
      return void 0 === e2;
    };
    var Se2 = function(e2, t4, n3) {
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          return e3.values[t5] == n3;
        });
      });
    };
    Se2.autoRemove = function(e2) {
      return null == e2;
    };
    var Ce2 = function(e2, t4, n3) {
      var o3 = n3 || [], r3 = o3[0], i3 = o3[1];
      if ((r3 = "number" == typeof r3 ? r3 : -1 / 0) > (i3 = "number" == typeof i3 ? i3 : 1 / 0)) {
        var u3 = r3;
        r3 = i3, i3 = u3;
      }
      return e2.filter(function(e3) {
        return t4.some(function(t5) {
          var n4 = e3.values[t5];
          return n4 >= r3 && n4 <= i3;
        });
      });
    };
    Ce2.autoRemove = function(e2) {
      return !e2 || "number" != typeof e2[0] && "number" != typeof e2[1];
    };
    var xe2 = Object.freeze({ __proto__: null, text: ge2, exactText: ve2, exactTextCase: me2, includes: he2, includesAll: ye2, includesSome: we2, includesValue: Re2, exact: be2, equals: Se2, between: Ce2 });
    l2.resetFilters = "resetFilters", l2.setFilter = "setFilter", l2.setAllFilters = "setAllFilters";
    var Pe2 = function(e2) {
      e2.stateReducers.push(Be2), e2.useInstance.push(Ee2);
    };
    function Be2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ filters: [] }, e2);
      if (t4.type === l2.resetFilters)
        return r2({}, e2, { filters: o3.initialState.filters || [] });
      if (t4.type === l2.setFilter) {
        var i3 = t4.columnId, u3 = t4.filterValue, s3 = o3.allColumns, a3 = o3.filterTypes, c3 = s3.find(function(e3) {
          return e3.id === i3;
        });
        if (!c3)
          throw new Error("React-Table: Could not find a column with id: " + i3);
        var d3 = k3(c3.filter, a3 || {}, xe2), f3 = e2.filters.find(function(e3) {
          return e3.id === i3;
        }), p3 = m2(u3, f3 && f3.value);
        return H2(d3.autoRemove, p3, c3) ? r2({}, e2, { filters: e2.filters.filter(function(e3) {
          return e3.id !== i3;
        }) }) : r2({}, e2, f3 ? { filters: e2.filters.map(function(e3) {
          return e3.id === i3 ? { id: i3, value: p3 } : e3;
        }) } : { filters: [].concat(e2.filters, [{ id: i3, value: p3 }]) });
      }
      if (t4.type === l2.setAllFilters) {
        var g3 = t4.filters, v3 = o3.allColumns, h3 = o3.filterTypes;
        return r2({}, e2, { filters: m2(g3, e2.filters).filter(function(e3) {
          var t5 = v3.find(function(t6) {
            return t6.id === e3.id;
          });
          return !H2(k3(t5.filter, h3 || {}, xe2).autoRemove, e3.value, t5);
        }) });
      }
    }
    function Ee2(e2) {
      var n3 = e2.data, o3 = e2.rows, r3 = e2.flatRows, i3 = e2.rowsById, u3 = e2.allColumns, s3 = e2.filterTypes, a3 = e2.manualFilters, c3 = e2.defaultCanFilter, d3 = void 0 !== c3 && c3, f3 = e2.disableFilters, p3 = e2.state.filters, g3 = e2.dispatch, v3 = e2.autoResetFilters, m3 = void 0 === v3 || v3, y3 = t3.useCallback(function(e3, t4) {
        g3({ type: l2.setFilter, columnId: e3, filterValue: t4 });
      }, [g3]), R3 = t3.useCallback(function(e3) {
        g3({ type: l2.setAllFilters, filters: e3 });
      }, [g3]);
      u3.forEach(function(e3) {
        var t4 = e3.id, n4 = e3.accessor, o4 = e3.defaultCanFilter, r4 = e3.disableFilters;
        e3.canFilter = n4 ? I2(true !== r4 && void 0, true !== f3 && void 0, true) : I2(o4, d3, false), e3.setFilter = function(t5) {
          return y3(e3.id, t5);
        };
        var i4 = p3.find(function(e4) {
          return e4.id === t4;
        });
        e3.filterValue = i4 && i4.value;
      });
      var b5 = t3.useMemo(function() {
        if (a3 || !p3.length)
          return [o3, r3, i3];
        var e3 = [], t4 = {};
        return [function n4(o4, r4) {
          void 0 === r4 && (r4 = 0);
          var i4 = o4;
          return (i4 = p3.reduce(function(e4, t5) {
            var n5 = t5.id, o5 = t5.value, i5 = u3.find(function(e5) {
              return e5.id === n5;
            });
            if (!i5)
              return e4;
            0 === r4 && (i5.preFilteredRows = e4);
            var l3 = k3(i5.filter, s3 || {}, xe2);
            return l3 ? (i5.filteredRows = l3(e4, [n5], o5), i5.filteredRows) : (console.warn("Could not find a valid 'column.filter' for column with the ID: " + i5.id + "."), e4);
          }, o4)).forEach(function(o5) {
            e3.push(o5), t4[o5.id] = o5, o5.subRows && (o5.subRows = o5.subRows && o5.subRows.length > 0 ? n4(o5.subRows, r4 + 1) : o5.subRows);
          }), i4;
        }(o3), e3, t4];
      }, [a3, p3, o3, r3, i3, u3, s3]), S3 = b5[0], C3 = b5[1], x3 = b5[2];
      t3.useMemo(function() {
        u3.filter(function(e3) {
          return !p3.find(function(t4) {
            return t4.id === e3.id;
          });
        }).forEach(function(e3) {
          e3.preFilteredRows = S3, e3.filteredRows = S3;
        });
      }, [S3, p3, u3]);
      var P3 = h2(m3);
      w2(function() {
        P3() && g3({ type: l2.resetFilters });
      }, [g3, a3 ? null : n3]), Object.assign(e2, { preFilteredRows: o3, preFilteredFlatRows: r3, preFilteredRowsById: i3, filteredRows: S3, filteredFlatRows: C3, filteredRowsById: x3, rows: S3, flatRows: C3, rowsById: x3, setFilter: y3, setAllFilters: R3 });
    }
    Pe2.pluginName = "useFilters", l2.resetGlobalFilter = "resetGlobalFilter", l2.setGlobalFilter = "setGlobalFilter";
    var Ie2 = function(e2) {
      e2.stateReducers.push(Fe2), e2.useInstance.push(Ge2);
    };
    function Fe2(e2, t4, n3, o3) {
      if (t4.type === l2.resetGlobalFilter)
        return r2({}, e2, { globalFilter: o3.initialState.globalFilter || void 0 });
      if (t4.type === l2.setGlobalFilter) {
        var u3 = t4.filterValue, s3 = o3.userFilterTypes, a3 = k3(o3.globalFilter, s3 || {}, xe2), c3 = m2(u3, e2.globalFilter);
        if (H2(a3.autoRemove, c3)) {
          e2.globalFilter;
          return i2(e2, ["globalFilter"]);
        }
        return r2({}, e2, { globalFilter: c3 });
      }
    }
    function Ge2(e2) {
      var n3 = e2.data, o3 = e2.rows, r3 = e2.flatRows, i3 = e2.rowsById, u3 = e2.allColumns, s3 = e2.filterTypes, a3 = e2.globalFilter, c3 = e2.manualGlobalFilter, d3 = e2.state.globalFilter, f3 = e2.dispatch, p3 = e2.autoResetGlobalFilter, g3 = void 0 === p3 || p3, v3 = e2.disableGlobalFilter, m3 = t3.useCallback(function(e3) {
        f3({ type: l2.setGlobalFilter, filterValue: e3 });
      }, [f3]), y3 = t3.useMemo(function() {
        if (c3 || void 0 === d3)
          return [o3, r3, i3];
        var e3 = [], t4 = {}, n4 = k3(a3, s3 || {}, xe2);
        if (!n4)
          return console.warn("Could not find a valid 'globalFilter' option."), o3;
        u3.forEach(function(e4) {
          var t5 = e4.disableGlobalFilter;
          e4.canFilter = I2(true !== t5 && void 0, true !== v3 && void 0, true);
        });
        var l3 = u3.filter(function(e4) {
          return true === e4.canFilter;
        });
        return [function o4(r4) {
          return (r4 = n4(r4, l3.map(function(e4) {
            return e4.id;
          }), d3)).forEach(function(n5) {
            e3.push(n5), t4[n5.id] = n5, n5.subRows = n5.subRows && n5.subRows.length ? o4(n5.subRows) : n5.subRows;
          }), r4;
        }(o3), e3, t4];
      }, [c3, d3, a3, s3, u3, o3, r3, i3, v3]), R3 = y3[0], b5 = y3[1], S3 = y3[2], C3 = h2(g3);
      w2(function() {
        C3() && f3({ type: l2.resetGlobalFilter });
      }, [f3, c3 ? null : n3]), Object.assign(e2, { preGlobalFilteredRows: o3, preGlobalFilteredFlatRows: r3, preGlobalFilteredRowsById: i3, globalFilteredRows: R3, globalFilteredFlatRows: b5, globalFilteredRowsById: S3, rows: R3, flatRows: b5, rowsById: S3, setGlobalFilter: m3, disableGlobalFilter: v3 });
    }
    function Ae2(e2, t4) {
      return t4.reduce(function(e3, t5) {
        return e3 + ("number" == typeof t5 ? t5 : 0);
      }, 0);
    }
    Ie2.pluginName = "useGlobalFilter";
    var ke2 = Object.freeze({ __proto__: null, sum: Ae2, min: function(e2) {
      var t4 = e2[0] || 0;
      return e2.forEach(function(e3) {
        "number" == typeof e3 && (t4 = Math.min(t4, e3));
      }), t4;
    }, max: function(e2) {
      var t4 = e2[0] || 0;
      return e2.forEach(function(e3) {
        "number" == typeof e3 && (t4 = Math.max(t4, e3));
      }), t4;
    }, minMax: function(e2) {
      var t4 = e2[0] || 0, n3 = e2[0] || 0;
      return e2.forEach(function(e3) {
        "number" == typeof e3 && (t4 = Math.min(t4, e3), n3 = Math.max(n3, e3));
      }), t4 + ".." + n3;
    }, average: function(e2) {
      return Ae2(0, e2) / e2.length;
    }, median: function(e2) {
      if (!e2.length)
        return null;
      var t4 = Math.floor(e2.length / 2), n3 = [].concat(e2).sort(function(e3, t5) {
        return e3 - t5;
      });
      return e2.length % 2 != 0 ? n3[t4] : (n3[t4 - 1] + n3[t4]) / 2;
    }, unique: function(e2) {
      return Array.from(new Set(e2).values());
    }, uniqueCount: function(e2) {
      return new Set(e2).size;
    }, count: function(e2) {
      return e2.length;
    } }), He2 = [], We2 = {};
    l2.resetGroupBy = "resetGroupBy", l2.setGroupBy = "setGroupBy", l2.toggleGroupBy = "toggleGroupBy";
    var ze = function(e2) {
      e2.getGroupByToggleProps = [Te2], e2.stateReducers.push(Oe2), e2.visibleColumnsDeps.push(function(e3, t4) {
        var n3 = t4.instance;
        return [].concat(e3, [n3.state.groupBy]);
      }), e2.visibleColumns.push(Me2), e2.useInstance.push(Le2), e2.prepareRow.push(Ne2);
    };
    ze.pluginName = "useGroupBy";
    var Te2 = function(e2, t4) {
      var n3 = t4.header;
      return [e2, { onClick: n3.canGroupBy ? function(e3) {
        e3.persist(), n3.toggleGroupBy();
      } : void 0, style: { cursor: n3.canGroupBy ? "pointer" : void 0 }, title: "Toggle GroupBy" }];
    };
    function Oe2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ groupBy: [] }, e2);
      if (t4.type === l2.resetGroupBy)
        return r2({}, e2, { groupBy: o3.initialState.groupBy || [] });
      if (t4.type === l2.setGroupBy)
        return r2({}, e2, { groupBy: t4.value });
      if (t4.type === l2.toggleGroupBy) {
        var i3 = t4.columnId, u3 = t4.value, s3 = void 0 !== u3 ? u3 : !e2.groupBy.includes(i3);
        return r2({}, e2, s3 ? { groupBy: [].concat(e2.groupBy, [i3]) } : { groupBy: e2.groupBy.filter(function(e3) {
          return e3 !== i3;
        }) });
      }
    }
    function Me2(e2, t4) {
      var n3 = t4.instance.state.groupBy, o3 = n3.map(function(t5) {
        return e2.find(function(e3) {
          return e3.id === t5;
        });
      }).filter(Boolean), r3 = e2.filter(function(e3) {
        return !n3.includes(e3.id);
      });
      return (e2 = [].concat(o3, r3)).forEach(function(e3) {
        e3.isGrouped = n3.includes(e3.id), e3.groupedIndex = n3.indexOf(e3.id);
      }), e2;
    }
    var je2 = {};
    function Le2(e2) {
      var n3 = e2.data, o3 = e2.rows, i3 = e2.flatRows, u3 = e2.rowsById, s3 = e2.allColumns, a3 = e2.flatHeaders, c3 = e2.groupByFn, d3 = void 0 === c3 ? De2 : c3, p3 = e2.manualGroupBy, g3 = e2.aggregations, m3 = void 0 === g3 ? je2 : g3, y3 = e2.plugins, R3 = e2.state.groupBy, b5 = e2.dispatch, S3 = e2.autoResetGroupBy, C3 = void 0 === S3 || S3, x3 = e2.disableGroupBy, P3 = e2.defaultCanGroupBy, B3 = e2.getHooks;
      v2(y3, ["useColumnOrder", "useFilters"], "useGroupBy");
      var E3 = h2(e2);
      s3.forEach(function(t4) {
        var n4 = t4.accessor, o4 = t4.defaultGroupBy, r3 = t4.disableGroupBy;
        t4.canGroupBy = n4 ? I2(t4.canGroupBy, true !== r3 && void 0, true !== x3 && void 0, true) : I2(t4.canGroupBy, o4, P3, false), t4.canGroupBy && (t4.toggleGroupBy = function() {
          return e2.toggleGroupBy(t4.id);
        }), t4.Aggregated = t4.Aggregated || t4.Cell;
      });
      var F3 = t3.useCallback(function(e3, t4) {
        b5({ type: l2.toggleGroupBy, columnId: e3, value: t4 });
      }, [b5]), A3 = t3.useCallback(function(e3) {
        b5({ type: l2.setGroupBy, value: e3 });
      }, [b5]);
      a3.forEach(function(e3) {
        e3.getGroupByToggleProps = f2(B3().getGroupByToggleProps, { instance: E3(), header: e3 });
      });
      var k4 = t3.useMemo(function() {
        if (p3 || !R3.length)
          return [o3, i3, u3, He2, We2, i3, u3];
        var e3 = R3.filter(function(e4) {
          return s3.find(function(t5) {
            return t5.id === e4;
          });
        }), t4 = [], n4 = {}, l3 = [], a4 = {}, c4 = [], f3 = {}, g4 = function o4(i4, u4, p4) {
          if (void 0 === u4 && (u4 = 0), u4 === e3.length)
            return i4.map(function(e4) {
              return r2({}, e4, { depth: u4 });
            });
          var g5 = e3[u4], v3 = d3(i4, g5);
          return Object.entries(v3).map(function(r3, i5) {
            var d4 = r3[0], v4 = r3[1], h3 = g5 + ":" + d4, y4 = o4(v4, u4 + 1, h3 = p4 ? p4 + ">" + h3 : h3), w3 = u4 ? G2(v4, "leafRows") : v4, R4 = function(t5, n5, o5) {
              var r4 = {};
              return s3.forEach(function(i6) {
                if (e3.includes(i6.id))
                  r4[i6.id] = n5[0] ? n5[0].values[i6.id] : null;
                else {
                  var u5 = "function" == typeof i6.aggregate ? i6.aggregate : m3[i6.aggregate] || ke2[i6.aggregate];
                  if (u5) {
                    var l4 = n5.map(function(e4) {
                      return e4.values[i6.id];
                    }), s4 = t5.map(function(e4) {
                      var t6 = e4.values[i6.id];
                      if (!o5 && i6.aggregateValue) {
                        var n6 = "function" == typeof i6.aggregateValue ? i6.aggregateValue : m3[i6.aggregateValue] || ke2[i6.aggregateValue];
                        if (!n6)
                          throw console.info({ column: i6 }), new Error("React Table: Invalid column.aggregateValue option for column listed above");
                        t6 = n6(t6, e4, i6);
                      }
                      return t6;
                    });
                    r4[i6.id] = u5(s4, l4);
                  } else {
                    if (i6.aggregate)
                      throw console.info({ column: i6 }), new Error("React Table: Invalid column.aggregate option for column listed above");
                    r4[i6.id] = null;
                  }
                }
              }), r4;
            }(w3, v4, u4), b6 = { id: h3, isGrouped: true, groupByID: g5, groupByVal: d4, values: R4, subRows: y4, leafRows: w3, depth: u4, index: i5 };
            return y4.forEach(function(e4) {
              t4.push(e4), n4[e4.id] = e4, e4.isGrouped ? (l3.push(e4), a4[e4.id] = e4) : (c4.push(e4), f3[e4.id] = e4);
            }), b6;
          });
        }(o3);
        return g4.forEach(function(e4) {
          t4.push(e4), n4[e4.id] = e4, e4.isGrouped ? (l3.push(e4), a4[e4.id] = e4) : (c4.push(e4), f3[e4.id] = e4);
        }), [g4, t4, n4, l3, a4, c4, f3];
      }, [p3, R3, o3, i3, u3, s3, m3, d3]), H3 = k4[0], W3 = k4[1], z3 = k4[2], T3 = k4[3], O3 = k4[4], M3 = k4[5], j3 = k4[6], L3 = h2(C3);
      w2(function() {
        L3() && b5({ type: l2.resetGroupBy });
      }, [b5, p3 ? null : n3]), Object.assign(e2, { preGroupedRows: o3, preGroupedFlatRow: i3, preGroupedRowsById: u3, groupedRows: H3, groupedFlatRows: W3, groupedRowsById: z3, onlyGroupedFlatRows: T3, onlyGroupedRowsById: O3, nonGroupedFlatRows: M3, nonGroupedRowsById: j3, rows: H3, flatRows: W3, rowsById: z3, toggleGroupBy: F3, setGroupBy: A3 });
    }
    function Ne2(e2) {
      e2.allCells.forEach(function(t4) {
        var n3;
        t4.isGrouped = t4.column.isGrouped && t4.column.id === e2.groupByID, t4.isPlaceholder = !t4.isGrouped && t4.column.isGrouped, t4.isAggregated = !t4.isGrouped && !t4.isPlaceholder && (null == (n3 = e2.subRows) ? void 0 : n3.length);
      });
    }
    function De2(e2, t4) {
      return e2.reduce(function(e3, n3, o3) {
        var r3 = "" + n3.values[t4];
        return e3[r3] = Array.isArray(e3[r3]) ? e3[r3] : [], e3[r3].push(n3), e3;
      }, {});
    }
    var Ve2 = /([0-9]+)/gm;
    function _e2(e2, t4) {
      return e2 === t4 ? 0 : e2 > t4 ? 1 : -1;
    }
    function Xe2(e2, t4, n3) {
      return [e2.values[n3], t4.values[n3]];
    }
    function qe2(e2) {
      return "number" == typeof e2 ? isNaN(e2) || e2 === 1 / 0 || e2 === -1 / 0 ? "" : String(e2) : "string" == typeof e2 ? e2 : "";
    }
    var Ke2 = Object.freeze({ __proto__: null, alphanumeric: function(e2, t4, n3) {
      var o3 = Xe2(e2, t4, n3), r3 = o3[0], i3 = o3[1];
      for (r3 = qe2(r3), i3 = qe2(i3), r3 = r3.split(Ve2).filter(Boolean), i3 = i3.split(Ve2).filter(Boolean); r3.length && i3.length; ) {
        var u3 = r3.shift(), l3 = i3.shift(), s3 = parseInt(u3, 10), a3 = parseInt(l3, 10), c3 = [s3, a3].sort();
        if (isNaN(c3[0])) {
          if (u3 > l3)
            return 1;
          if (l3 > u3)
            return -1;
        } else {
          if (isNaN(c3[1]))
            return isNaN(s3) ? -1 : 1;
          if (s3 > a3)
            return 1;
          if (a3 > s3)
            return -1;
        }
      }
      return r3.length - i3.length;
    }, datetime: function(e2, t4, n3) {
      var o3 = Xe2(e2, t4, n3), r3 = o3[0], i3 = o3[1];
      return _e2(r3 = r3.getTime(), i3 = i3.getTime());
    }, basic: function(e2, t4, n3) {
      var o3 = Xe2(e2, t4, n3);
      return _e2(o3[0], o3[1]);
    }, string: function(e2, t4, n3) {
      var o3 = Xe2(e2, t4, n3), r3 = o3[0], i3 = o3[1];
      for (r3 = r3.split("").filter(Boolean), i3 = i3.split("").filter(Boolean); r3.length && i3.length; ) {
        var u3 = r3.shift(), l3 = i3.shift(), s3 = u3.toLowerCase(), a3 = l3.toLowerCase();
        if (s3 > a3)
          return 1;
        if (a3 > s3)
          return -1;
        if (u3 > l3)
          return 1;
        if (l3 > u3)
          return -1;
      }
      return r3.length - i3.length;
    }, number: function(e2, t4, n3) {
      var o3 = Xe2(e2, t4, n3), r3 = o3[0], i3 = o3[1], u3 = /[^0-9.]/gi;
      return _e2(r3 = Number(String(r3).replace(u3, "")), i3 = Number(String(i3).replace(u3, "")));
    } });
    l2.resetSortBy = "resetSortBy", l2.setSortBy = "setSortBy", l2.toggleSortBy = "toggleSortBy", l2.clearSortBy = "clearSortBy", c2.sortType = "alphanumeric", c2.sortDescFirst = false;
    var Ue2 = function(e2) {
      e2.getSortByToggleProps = [$e2], e2.stateReducers.push(Je2), e2.useInstance.push(Ye2);
    };
    Ue2.pluginName = "useSortBy";
    var $e2 = function(e2, t4) {
      var n3 = t4.instance, o3 = t4.column, r3 = n3.isMultiSortEvent, i3 = void 0 === r3 ? function(e3) {
        return e3.shiftKey;
      } : r3;
      return [e2, { onClick: o3.canSort ? function(e3) {
        e3.persist(), o3.toggleSortBy(void 0, !n3.disableMultiSort && i3(e3));
      } : void 0, style: { cursor: o3.canSort ? "pointer" : void 0 }, title: o3.canSort ? "Toggle SortBy" : void 0 }];
    };
    function Je2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ sortBy: [] }, e2);
      if (t4.type === l2.resetSortBy)
        return r2({}, e2, { sortBy: o3.initialState.sortBy || [] });
      if (t4.type === l2.clearSortBy)
        return r2({}, e2, { sortBy: e2.sortBy.filter(function(e3) {
          return e3.id !== t4.columnId;
        }) });
      if (t4.type === l2.setSortBy)
        return r2({}, e2, { sortBy: t4.sortBy });
      if (t4.type === l2.toggleSortBy) {
        var i3, u3 = t4.columnId, s3 = t4.desc, a3 = t4.multi, c3 = o3.allColumns, d3 = o3.disableMultiSort, f3 = o3.disableSortRemove, p3 = o3.disableMultiRemove, g3 = o3.maxMultiSortColCount, v3 = void 0 === g3 ? Number.MAX_SAFE_INTEGER : g3, m3 = e2.sortBy, h3 = c3.find(function(e3) {
          return e3.id === u3;
        }).sortDescFirst, y3 = m3.find(function(e3) {
          return e3.id === u3;
        }), w3 = m3.findIndex(function(e3) {
          return e3.id === u3;
        }), R3 = null != s3, b5 = [];
        return "toggle" !== (i3 = !d3 && a3 ? y3 ? "toggle" : "add" : w3 !== m3.length - 1 || 1 !== m3.length ? "replace" : y3 ? "toggle" : "replace") || f3 || R3 || a3 && p3 || !(y3 && y3.desc && !h3 || !y3.desc && h3) || (i3 = "remove"), "replace" === i3 ? b5 = [{ id: u3, desc: R3 ? s3 : h3 }] : "add" === i3 ? (b5 = [].concat(m3, [{ id: u3, desc: R3 ? s3 : h3 }])).splice(0, b5.length - v3) : "toggle" === i3 ? b5 = m3.map(function(e3) {
          return e3.id === u3 ? r2({}, e3, { desc: R3 ? s3 : !y3.desc }) : e3;
        }) : "remove" === i3 && (b5 = m3.filter(function(e3) {
          return e3.id !== u3;
        })), r2({}, e2, { sortBy: b5 });
      }
    }
    function Ye2(e2) {
      var n3 = e2.data, o3 = e2.rows, r3 = e2.flatRows, i3 = e2.allColumns, u3 = e2.orderByFn, s3 = void 0 === u3 ? Qe2 : u3, a3 = e2.sortTypes, c3 = e2.manualSortBy, d3 = e2.defaultCanSort, p3 = e2.disableSortBy, g3 = e2.flatHeaders, m3 = e2.state.sortBy, y3 = e2.dispatch, R3 = e2.plugins, b5 = e2.getHooks, S3 = e2.autoResetSortBy, C3 = void 0 === S3 || S3;
      v2(R3, ["useFilters", "useGlobalFilter", "useGroupBy", "usePivotColumns"], "useSortBy");
      var x3 = t3.useCallback(function(e3) {
        y3({ type: l2.setSortBy, sortBy: e3 });
      }, [y3]), P3 = t3.useCallback(function(e3, t4, n4) {
        y3({ type: l2.toggleSortBy, columnId: e3, desc: t4, multi: n4 });
      }, [y3]), B3 = h2(e2);
      g3.forEach(function(e3) {
        var t4 = e3.accessor, n4 = e3.canSort, o4 = e3.disableSortBy, r4 = e3.id, i4 = t4 ? I2(true !== o4 && void 0, true !== p3 && void 0, true) : I2(d3, n4, false);
        e3.canSort = i4, e3.canSort && (e3.toggleSortBy = function(t5, n5) {
          return P3(e3.id, t5, n5);
        }, e3.clearSortBy = function() {
          y3({ type: l2.clearSortBy, columnId: e3.id });
        }), e3.getSortByToggleProps = f2(b5().getSortByToggleProps, { instance: B3(), column: e3 });
        var u4 = m3.find(function(e4) {
          return e4.id === r4;
        });
        e3.isSorted = !!u4, e3.sortedIndex = m3.findIndex(function(e4) {
          return e4.id === r4;
        }), e3.isSortedDesc = e3.isSorted ? u4.desc : void 0;
      });
      var E3 = t3.useMemo(function() {
        if (c3 || !m3.length)
          return [o3, r3];
        var e3 = [], t4 = m3.filter(function(e4) {
          return i3.find(function(t5) {
            return t5.id === e4.id;
          });
        });
        return [function n4(o4) {
          var r4 = s3(o4, t4.map(function(e4) {
            var t5 = i3.find(function(t6) {
              return t6.id === e4.id;
            });
            if (!t5)
              throw new Error("React-Table: Could not find a column with id: " + e4.id + " while sorting");
            var n5 = t5.sortType, o5 = F2(n5) || (a3 || {})[n5] || Ke2[n5];
            if (!o5)
              throw new Error("React-Table: Could not find a valid sortType of '" + n5 + "' for column '" + e4.id + "'.");
            return function(t6, n6) {
              return o5(t6, n6, e4.id, e4.desc);
            };
          }), t4.map(function(e4) {
            var t5 = i3.find(function(t6) {
              return t6.id === e4.id;
            });
            return t5 && t5.sortInverted ? e4.desc : !e4.desc;
          }));
          return r4.forEach(function(t5) {
            e3.push(t5), t5.subRows && 0 !== t5.subRows.length && (t5.subRows = n4(t5.subRows));
          }), r4;
        }(o3), e3];
      }, [c3, m3, o3, r3, i3, s3, a3]), G3 = E3[0], A3 = E3[1], k4 = h2(C3);
      w2(function() {
        k4() && y3({ type: l2.resetSortBy });
      }, [c3 ? null : n3]), Object.assign(e2, { preSortedRows: o3, preSortedFlatRows: r3, sortedRows: G3, sortedFlatRows: A3, rows: G3, flatRows: A3, setSortBy: x3, toggleSortBy: P3 });
    }
    function Qe2(e2, t4, n3) {
      return [].concat(e2).sort(function(e3, o3) {
        for (var r3 = 0; r3 < t4.length; r3 += 1) {
          var i3 = t4[r3], u3 = false === n3[r3] || "desc" === n3[r3], l3 = i3(e3, o3);
          if (0 !== l3)
            return u3 ? -l3 : l3;
        }
        return n3[0] ? e3.index - o3.index : o3.index - e3.index;
      });
    }
    l2.resetPage = "resetPage", l2.gotoPage = "gotoPage", l2.setPageSize = "setPageSize";
    var Ze2 = function(e2) {
      e2.stateReducers.push(et2), e2.useInstance.push(tt2);
    };
    function et2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ pageSize: 10, pageIndex: 0 }, e2);
      if (t4.type === l2.resetPage)
        return r2({}, e2, { pageIndex: o3.initialState.pageIndex || 0 });
      if (t4.type === l2.gotoPage) {
        var i3 = o3.pageCount, u3 = o3.page, s3 = m2(t4.pageIndex, e2.pageIndex), a3 = false;
        return s3 > e2.pageIndex ? a3 = -1 === i3 ? u3.length >= e2.pageSize : s3 < i3 : s3 < e2.pageIndex && (a3 = s3 > -1), a3 ? r2({}, e2, { pageIndex: s3 }) : e2;
      }
      if (t4.type === l2.setPageSize) {
        var c3 = t4.pageSize, d3 = e2.pageSize * e2.pageIndex;
        return r2({}, e2, { pageIndex: Math.floor(d3 / c3), pageSize: c3 });
      }
    }
    function tt2(e2) {
      var n3 = e2.rows, o3 = e2.autoResetPage, r3 = void 0 === o3 || o3, i3 = e2.manualExpandedKey, u3 = void 0 === i3 ? "expanded" : i3, s3 = e2.plugins, a3 = e2.pageCount, c3 = e2.paginateExpandedRows, d3 = void 0 === c3 || c3, f3 = e2.expandSubRows, p3 = void 0 === f3 || f3, g3 = e2.state, m3 = g3.pageSize, y3 = g3.pageIndex, R3 = g3.expanded, b5 = g3.globalFilter, S3 = g3.filters, C3 = g3.groupBy, x3 = g3.sortBy, P3 = e2.dispatch, B3 = e2.data, E3 = e2.manualPagination;
      v2(s3, ["useGlobalFilter", "useFilters", "useGroupBy", "useSortBy", "useExpanded"], "usePagination");
      var I3 = h2(r3);
      w2(function() {
        I3() && P3({ type: l2.resetPage });
      }, [P3, E3 ? null : B3, b5, S3, C3, x3]);
      var F3 = E3 ? a3 : Math.ceil(n3.length / m3), G3 = t3.useMemo(function() {
        return F3 > 0 ? [].concat(new Array(F3)).fill(null).map(function(e3, t4) {
          return t4;
        }) : [];
      }, [F3]), k4 = t3.useMemo(function() {
        var e3;
        if (E3)
          e3 = n3;
        else {
          var t4 = m3 * y3, o4 = t4 + m3;
          e3 = n3.slice(t4, o4);
        }
        return d3 ? e3 : A2(e3, { manualExpandedKey: u3, expanded: R3, expandSubRows: p3 });
      }, [p3, R3, u3, E3, y3, m3, d3, n3]), H3 = y3 > 0, W3 = -1 === F3 ? k4.length >= m3 : y3 < F3 - 1, z3 = t3.useCallback(function(e3) {
        P3({ type: l2.gotoPage, pageIndex: e3 });
      }, [P3]), T3 = t3.useCallback(function() {
        return z3(function(e3) {
          return e3 - 1;
        });
      }, [z3]), O3 = t3.useCallback(function() {
        return z3(function(e3) {
          return e3 + 1;
        });
      }, [z3]), M3 = t3.useCallback(function(e3) {
        P3({ type: l2.setPageSize, pageSize: e3 });
      }, [P3]);
      Object.assign(e2, { pageOptions: G3, pageCount: F3, page: k4, canPreviousPage: H3, canNextPage: W3, gotoPage: z3, previousPage: T3, nextPage: O3, setPageSize: M3 });
    }
    Ze2.pluginName = "usePagination", l2.resetPivot = "resetPivot", l2.togglePivot = "togglePivot";
    var nt2 = function(e2) {
      e2.getPivotToggleProps = [rt2], e2.stateReducers.push(it2), e2.useInstanceAfterData.push(ut2), e2.allColumns.push(lt2), e2.accessValue.push(st2), e2.materializedColumns.push(at2), e2.materializedColumnsDeps.push(ct2), e2.visibleColumns.push(dt2), e2.visibleColumnsDeps.push(ft2), e2.useInstance.push(pt2), e2.prepareRow.push(gt2);
    };
    nt2.pluginName = "usePivotColumns";
    var ot2 = [], rt2 = function(e2, t4) {
      var n3 = t4.header;
      return [e2, { onClick: n3.canPivot ? function(e3) {
        e3.persist(), n3.togglePivot();
      } : void 0, style: { cursor: n3.canPivot ? "pointer" : void 0 }, title: "Toggle Pivot" }];
    };
    function it2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ pivotColumns: ot2 }, e2);
      if (t4.type === l2.resetPivot)
        return r2({}, e2, { pivotColumns: o3.initialState.pivotColumns || ot2 });
      if (t4.type === l2.togglePivot) {
        var i3 = t4.columnId, u3 = t4.value, s3 = void 0 !== u3 ? u3 : !e2.pivotColumns.includes(i3);
        return r2({}, e2, s3 ? { pivotColumns: [].concat(e2.pivotColumns, [i3]) } : { pivotColumns: e2.pivotColumns.filter(function(e3) {
          return e3 !== i3;
        }) });
      }
    }
    function ut2(e2) {
      e2.allColumns.forEach(function(t4) {
        t4.isPivotSource = e2.state.pivotColumns.includes(t4.id);
      });
    }
    function lt2(e2, t4) {
      var n3 = t4.instance;
      return e2.forEach(function(e3) {
        e3.isPivotSource = n3.state.pivotColumns.includes(e3.id), e3.uniqueValues = /* @__PURE__ */ new Set();
      }), e2;
    }
    function st2(e2, t4) {
      var n3 = t4.column;
      return n3.uniqueValues && void 0 !== e2 && n3.uniqueValues.add(e2), e2;
    }
    function at2(e2, t4) {
      var n3 = t4.instance, o3 = n3.allColumns, i3 = n3.state;
      if (!i3.pivotColumns.length || !i3.groupBy || !i3.groupBy.length)
        return e2;
      var u3 = i3.pivotColumns.map(function(e3) {
        return o3.find(function(t5) {
          return t5.id === e3;
        });
      }).filter(Boolean), l3 = o3.filter(function(e3) {
        return !e3.isPivotSource && !i3.groupBy.includes(e3.id) && !i3.pivotColumns.includes(e3.id);
      }), s3 = C2(function e3(t5, n4, o4) {
        void 0 === t5 && (t5 = 0), void 0 === o4 && (o4 = []);
        var i4 = u3[t5];
        return i4 ? Array.from(i4.uniqueValues).sort().map(function(u4) {
          var l4 = r2({}, i4, { Header: i4.PivotHeader || "string" == typeof i4.header ? i4.Header + ": " + u4 : u4, isPivotGroup: true, parent: n4, depth: t5, id: n4 ? n4.id + "." + i4.id + "." + u4 : i4.id + "." + u4, pivotValue: u4 });
          return l4.columns = e3(t5 + 1, l4, [].concat(o4, [function(e4) {
            return e4.values[i4.id] === u4;
          }])), l4;
        }) : l3.map(function(e4) {
          return r2({}, e4, { canPivot: false, isPivoted: true, parent: n4, depth: t5, id: "" + (n4 ? n4.id + "." + e4.id : e4.id), accessor: function(t6, n5, r3) {
            if (o4.every(function(e5) {
              return e5(r3);
            }))
              return r3.values[e4.id];
          } });
        });
      }());
      return [].concat(e2, s3);
    }
    function ct2(e2, t4) {
      var n3 = t4.instance.state, o3 = n3.pivotColumns, r3 = n3.groupBy;
      return [].concat(e2, [o3, r3]);
    }
    function dt2(e2, t4) {
      var n3 = t4.instance.state;
      return e2 = e2.filter(function(e3) {
        return !e3.isPivotSource;
      }), n3.pivotColumns.length && n3.groupBy && n3.groupBy.length && (e2 = e2.filter(function(e3) {
        return e3.isGrouped || e3.isPivoted;
      })), e2;
    }
    function ft2(e2, t4) {
      var n3 = t4.instance;
      return [].concat(e2, [n3.state.pivotColumns, n3.state.groupBy]);
    }
    function pt2(e2) {
      var t4 = e2.columns, n3 = e2.allColumns, o3 = e2.flatHeaders, r3 = e2.getHooks, i3 = e2.plugins, u3 = e2.dispatch, s3 = e2.autoResetPivot, a3 = void 0 === s3 || s3, c3 = e2.manaulPivot, d3 = e2.disablePivot, p3 = e2.defaultCanPivot;
      v2(i3, ["useGroupBy"], "usePivotColumns");
      var g3 = h2(e2);
      n3.forEach(function(t5) {
        var n4 = t5.accessor, o4 = t5.defaultPivot, r4 = t5.disablePivot;
        t5.canPivot = n4 ? I2(t5.canPivot, true !== r4 && void 0, true !== d3 && void 0, true) : I2(t5.canPivot, o4, p3, false), t5.canPivot && (t5.togglePivot = function() {
          return e2.togglePivot(t5.id);
        }), t5.Aggregated = t5.Aggregated || t5.Cell;
      });
      o3.forEach(function(e3) {
        e3.getPivotToggleProps = f2(r3().getPivotToggleProps, { instance: g3(), header: e3 });
      });
      var m3 = h2(a3);
      w2(function() {
        m3() && u3({ type: l2.resetPivot });
      }, [u3, c3 ? null : t4]), Object.assign(e2, { togglePivot: function(e3, t5) {
        u3({ type: l2.togglePivot, columnId: e3, value: t5 });
      } });
    }
    function gt2(e2) {
      e2.allCells.forEach(function(e3) {
        e3.isPivoted = e3.column.isPivoted;
      });
    }
    l2.resetSelectedRows = "resetSelectedRows", l2.toggleAllRowsSelected = "toggleAllRowsSelected", l2.toggleRowSelected = "toggleRowSelected", l2.toggleAllPageRowsSelected = "toggleAllPageRowsSelected";
    var vt2 = function(e2) {
      e2.getToggleRowSelectedProps = [mt2], e2.getToggleAllRowsSelectedProps = [ht2], e2.getToggleAllPageRowsSelectedProps = [yt2], e2.stateReducers.push(wt2), e2.useInstance.push(Rt2), e2.prepareRow.push(bt2);
    };
    vt2.pluginName = "useRowSelect";
    var mt2 = function(e2, t4) {
      var n3 = t4.instance, o3 = t4.row, r3 = n3.manualRowSelectedKey, i3 = void 0 === r3 ? "isSelected" : r3;
      return [e2, { onChange: function(e3) {
        o3.toggleRowSelected(e3.target.checked);
      }, style: { cursor: "pointer" }, checked: !(!o3.original || !o3.original[i3]) || o3.isSelected, title: "Toggle Row Selected", indeterminate: o3.isSomeSelected }];
    }, ht2 = function(e2, t4) {
      var n3 = t4.instance;
      return [e2, { onChange: function(e3) {
        n3.toggleAllRowsSelected(e3.target.checked);
      }, style: { cursor: "pointer" }, checked: n3.isAllRowsSelected, title: "Toggle All Rows Selected", indeterminate: Boolean(!n3.isAllRowsSelected && Object.keys(n3.state.selectedRowIds).length) }];
    }, yt2 = function(e2, t4) {
      var n3 = t4.instance;
      return [e2, { onChange: function(e3) {
        n3.toggleAllPageRowsSelected(e3.target.checked);
      }, style: { cursor: "pointer" }, checked: n3.isAllPageRowsSelected, title: "Toggle All Current Page Rows Selected", indeterminate: Boolean(!n3.isAllPageRowsSelected && n3.page.some(function(e3) {
        var t5 = e3.id;
        return n3.state.selectedRowIds[t5];
      })) }];
    };
    function wt2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ selectedRowIds: {} }, e2);
      if (t4.type === l2.resetSelectedRows)
        return r2({}, e2, { selectedRowIds: o3.initialState.selectedRowIds || {} });
      if (t4.type === l2.toggleAllRowsSelected) {
        var i3 = t4.value, u3 = o3.isAllRowsSelected, s3 = o3.rowsById, a3 = o3.nonGroupedRowsById, c3 = void 0 === a3 ? s3 : a3, d3 = void 0 !== i3 ? i3 : !u3, f3 = Object.assign({}, e2.selectedRowIds);
        return d3 ? Object.keys(c3).forEach(function(e3) {
          f3[e3] = true;
        }) : Object.keys(c3).forEach(function(e3) {
          delete f3[e3];
        }), r2({}, e2, { selectedRowIds: f3 });
      }
      if (t4.type === l2.toggleRowSelected) {
        var p3 = t4.id, g3 = t4.value, v3 = o3.rowsById, m3 = o3.selectSubRows, h3 = void 0 === m3 || m3, y3 = o3.getSubRows, w3 = e2.selectedRowIds[p3], R3 = void 0 !== g3 ? g3 : !w3;
        if (w3 === R3)
          return e2;
        var b5 = r2({}, e2.selectedRowIds);
        return function e3(t5) {
          var n4 = v3[t5];
          if (n4 && (n4.isGrouped || (R3 ? b5[t5] = true : delete b5[t5]), h3 && y3(n4)))
            return y3(n4).forEach(function(t6) {
              return e3(t6.id);
            });
        }(p3), r2({}, e2, { selectedRowIds: b5 });
      }
      if (t4.type === l2.toggleAllPageRowsSelected) {
        var S3 = t4.value, C3 = o3.page, x3 = o3.rowsById, P3 = o3.selectSubRows, B3 = void 0 === P3 || P3, E3 = o3.isAllPageRowsSelected, I3 = o3.getSubRows, F3 = void 0 !== S3 ? S3 : !E3, G3 = r2({}, e2.selectedRowIds);
        return C3.forEach(function(e3) {
          return function e4(t5) {
            var n4 = x3[t5];
            if (n4.isGrouped || (F3 ? G3[t5] = true : delete G3[t5]), B3 && I3(n4))
              return I3(n4).forEach(function(t6) {
                return e4(t6.id);
              });
          }(e3.id);
        }), r2({}, e2, { selectedRowIds: G3 });
      }
      return e2;
    }
    function Rt2(e2) {
      var n3 = e2.data, o3 = e2.rows, r3 = e2.getHooks, i3 = e2.plugins, u3 = e2.rowsById, s3 = e2.nonGroupedRowsById, a3 = void 0 === s3 ? u3 : s3, c3 = e2.autoResetSelectedRows, d3 = void 0 === c3 || c3, p3 = e2.state.selectedRowIds, g3 = e2.selectSubRows, m3 = void 0 === g3 || g3, y3 = e2.dispatch, R3 = e2.page, b5 = e2.getSubRows;
      v2(i3, ["useFilters", "useGroupBy", "useSortBy", "useExpanded", "usePagination"], "useRowSelect");
      var S3 = t3.useMemo(function() {
        var e3 = [];
        return o3.forEach(function(t4) {
          var n4 = m3 ? function e4(t5, n5, o4) {
            if (n5[t5.id])
              return true;
            var r4 = o4(t5);
            if (r4 && r4.length) {
              var i4 = true, u4 = false;
              return r4.forEach(function(t6) {
                u4 && !i4 || (e4(t6, n5, o4) ? u4 = true : i4 = false);
              }), !!i4 || !!u4 && null;
            }
            return false;
          }(t4, p3, b5) : !!p3[t4.id];
          t4.isSelected = !!n4, t4.isSomeSelected = null === n4, n4 && e3.push(t4);
        }), e3;
      }, [o3, m3, p3, b5]), C3 = Boolean(Object.keys(a3).length && Object.keys(p3).length), x3 = C3;
      C3 && Object.keys(a3).some(function(e3) {
        return !p3[e3];
      }) && (C3 = false), C3 || R3 && R3.length && R3.some(function(e3) {
        var t4 = e3.id;
        return !p3[t4];
      }) && (x3 = false);
      var P3 = h2(d3);
      w2(function() {
        P3() && y3({ type: l2.resetSelectedRows });
      }, [y3, n3]);
      var B3 = t3.useCallback(function(e3) {
        return y3({ type: l2.toggleAllRowsSelected, value: e3 });
      }, [y3]), E3 = t3.useCallback(function(e3) {
        return y3({ type: l2.toggleAllPageRowsSelected, value: e3 });
      }, [y3]), I3 = t3.useCallback(function(e3, t4) {
        return y3({ type: l2.toggleRowSelected, id: e3, value: t4 });
      }, [y3]), F3 = h2(e2), G3 = f2(r3().getToggleAllRowsSelectedProps, { instance: F3() }), A3 = f2(r3().getToggleAllPageRowsSelectedProps, { instance: F3() });
      Object.assign(e2, { selectedFlatRows: S3, isAllRowsSelected: C3, isAllPageRowsSelected: x3, toggleRowSelected: I3, toggleAllRowsSelected: B3, getToggleAllRowsSelectedProps: G3, getToggleAllPageRowsSelectedProps: A3, toggleAllPageRowsSelected: E3 });
    }
    function bt2(e2, t4) {
      var n3 = t4.instance;
      e2.toggleRowSelected = function(t5) {
        return n3.toggleRowSelected(e2.id, t5);
      }, e2.getToggleRowSelectedProps = f2(n3.getHooks().getToggleRowSelectedProps, { instance: n3, row: e2 });
    }
    var St2 = function(e2) {
      return {};
    }, Ct2 = function(e2) {
      return {};
    };
    l2.setRowState = "setRowState", l2.setCellState = "setCellState", l2.resetRowState = "resetRowState";
    var xt2 = function(e2) {
      e2.stateReducers.push(Pt2), e2.useInstance.push(Bt2), e2.prepareRow.push(Et2);
    };
    function Pt2(e2, t4, n3, o3) {
      var i3 = o3.initialRowStateAccessor, u3 = void 0 === i3 ? St2 : i3, s3 = o3.initialCellStateAccessor, a3 = void 0 === s3 ? Ct2 : s3, c3 = o3.rowsById;
      if (t4.type === l2.init)
        return r2({ rowState: {} }, e2);
      if (t4.type === l2.resetRowState)
        return r2({}, e2, { rowState: o3.initialState.rowState || {} });
      if (t4.type === l2.setRowState) {
        var d3, f3 = t4.rowId, p3 = t4.value, g3 = void 0 !== e2.rowState[f3] ? e2.rowState[f3] : u3(c3[f3]);
        return r2({}, e2, { rowState: r2({}, e2.rowState, (d3 = {}, d3[f3] = m2(p3, g3), d3)) });
      }
      if (t4.type === l2.setCellState) {
        var v3, h3, y3, w3, R3, b5 = t4.rowId, S3 = t4.columnId, C3 = t4.value, x3 = void 0 !== e2.rowState[b5] ? e2.rowState[b5] : u3(c3[b5]), P3 = void 0 !== (null == x3 ? void 0 : null == (v3 = x3.cellState) ? void 0 : v3[S3]) ? x3.cellState[S3] : a3(null == (h3 = c3[b5]) ? void 0 : null == (y3 = h3.cells) ? void 0 : y3.find(function(e3) {
          return e3.column.id === S3;
        }));
        return r2({}, e2, { rowState: r2({}, e2.rowState, (R3 = {}, R3[b5] = r2({}, x3, { cellState: r2({}, x3.cellState || {}, (w3 = {}, w3[S3] = m2(C3, P3), w3)) }), R3)) });
      }
    }
    function Bt2(e2) {
      var n3 = e2.autoResetRowState, o3 = void 0 === n3 || n3, r3 = e2.data, i3 = e2.dispatch, u3 = t3.useCallback(function(e3, t4) {
        return i3({ type: l2.setRowState, rowId: e3, value: t4 });
      }, [i3]), s3 = t3.useCallback(function(e3, t4, n4) {
        return i3({ type: l2.setCellState, rowId: e3, columnId: t4, value: n4 });
      }, [i3]), a3 = h2(o3);
      w2(function() {
        a3() && i3({ type: l2.resetRowState });
      }, [r3]), Object.assign(e2, { setRowState: u3, setCellState: s3 });
    }
    function Et2(e2, t4) {
      var n3 = t4.instance, o3 = n3.initialRowStateAccessor, r3 = void 0 === o3 ? St2 : o3, i3 = n3.initialCellStateAccessor, u3 = void 0 === i3 ? Ct2 : i3, l3 = n3.state.rowState;
      e2 && (e2.state = void 0 !== l3[e2.id] ? l3[e2.id] : r3(e2), e2.setState = function(t5) {
        return n3.setRowState(e2.id, t5);
      }, e2.cells.forEach(function(t5) {
        e2.state.cellState || (e2.state.cellState = {}), t5.state = void 0 !== e2.state.cellState[t5.column.id] ? e2.state.cellState[t5.column.id] : u3(t5), t5.setState = function(o4) {
          return n3.setCellState(e2.id, t5.column.id, o4);
        };
      }));
    }
    xt2.pluginName = "useRowState", l2.resetColumnOrder = "resetColumnOrder", l2.setColumnOrder = "setColumnOrder";
    var It2 = function(e2) {
      e2.stateReducers.push(Ft2), e2.visibleColumnsDeps.push(function(e3, t4) {
        var n3 = t4.instance;
        return [].concat(e3, [n3.state.columnOrder]);
      }), e2.visibleColumns.push(Gt2), e2.useInstance.push(At2);
    };
    function Ft2(e2, t4, n3, o3) {
      return t4.type === l2.init ? r2({ columnOrder: [] }, e2) : t4.type === l2.resetColumnOrder ? r2({}, e2, { columnOrder: o3.initialState.columnOrder || [] }) : t4.type === l2.setColumnOrder ? r2({}, e2, { columnOrder: m2(t4.columnOrder, e2.columnOrder) }) : void 0;
    }
    function Gt2(e2, t4) {
      var n3 = t4.instance.state.columnOrder;
      if (!n3 || !n3.length)
        return e2;
      for (var o3 = [].concat(n3), r3 = [].concat(e2), i3 = [], u3 = function() {
        var e3 = o3.shift(), t5 = r3.findIndex(function(t6) {
          return t6.id === e3;
        });
        t5 > -1 && i3.push(r3.splice(t5, 1)[0]);
      }; r3.length && o3.length; )
        u3();
      return [].concat(i3, r3);
    }
    function At2(e2) {
      var n3 = e2.dispatch;
      e2.setColumnOrder = t3.useCallback(function(e3) {
        return n3({ type: l2.setColumnOrder, columnOrder: e3 });
      }, [n3]);
    }
    It2.pluginName = "useColumnOrder", c2.canResize = true, l2.columnStartResizing = "columnStartResizing", l2.columnResizing = "columnResizing", l2.columnDoneResizing = "columnDoneResizing", l2.resetResize = "resetResize";
    var kt2 = function(e2) {
      e2.getResizerProps = [Ht2], e2.getHeaderProps.push({ style: { position: "relative" } }), e2.stateReducers.push(Wt2), e2.useInstance.push(Tt2), e2.useInstanceBeforeDimensions.push(zt2);
    }, Ht2 = function(e2, t4) {
      var n3 = t4.instance, o3 = t4.header, r3 = n3.dispatch, i3 = function(e3, t5) {
        var n4 = false;
        if ("touchstart" === e3.type) {
          if (e3.touches && e3.touches.length > 1)
            return;
          n4 = true;
        }
        var o4, i4, u3 = function(e4) {
          var t6 = [];
          return function e5(n5) {
            n5.columns && n5.columns.length && n5.columns.map(e5);
            t6.push(n5);
          }(e4), t6;
        }(t5).map(function(e4) {
          return [e4.id, e4.totalWidth];
        }), s3 = n4 ? Math.round(e3.touches[0].clientX) : e3.clientX, a3 = function() {
          window.cancelAnimationFrame(o4), o4 = null, r3({ type: l2.columnDoneResizing });
        }, c3 = function() {
          window.cancelAnimationFrame(o4), o4 = null, r3({ type: l2.columnResizing, clientX: i4 });
        }, d3 = function(e4) {
          i4 = e4, o4 || (o4 = window.requestAnimationFrame(c3));
        }, f3 = { mouse: { moveEvent: "mousemove", moveHandler: function(e4) {
          return d3(e4.clientX);
        }, upEvent: "mouseup", upHandler: function(e4) {
          document.removeEventListener("mousemove", f3.mouse.moveHandler), document.removeEventListener("mouseup", f3.mouse.upHandler), a3();
        } }, touch: { moveEvent: "touchmove", moveHandler: function(e4) {
          return e4.cancelable && (e4.preventDefault(), e4.stopPropagation()), d3(e4.touches[0].clientX), false;
        }, upEvent: "touchend", upHandler: function(e4) {
          document.removeEventListener(f3.touch.moveEvent, f3.touch.moveHandler), document.removeEventListener(f3.touch.upEvent, f3.touch.moveHandler), a3();
        } } }, p3 = n4 ? f3.touch : f3.mouse, g3 = !!function() {
          if ("boolean" == typeof z2)
            return z2;
          var e4 = false;
          try {
            var t6 = { get passive() {
              return e4 = true, false;
            } };
            window.addEventListener("test", null, t6), window.removeEventListener("test", null, t6);
          } catch (t7) {
            e4 = false;
          }
          return z2 = e4;
        }() && { passive: false };
        document.addEventListener(p3.moveEvent, p3.moveHandler, g3), document.addEventListener(p3.upEvent, p3.upHandler, g3), r3({ type: l2.columnStartResizing, columnId: t5.id, columnWidth: t5.totalWidth, headerIdWidths: u3, clientX: s3 });
      };
      return [e2, { onMouseDown: function(e3) {
        return e3.persist() || i3(e3, o3);
      }, onTouchStart: function(e3) {
        return e3.persist() || i3(e3, o3);
      }, style: { cursor: "col-resize" }, draggable: false, role: "separator" }];
    };
    function Wt2(e2, t4) {
      if (t4.type === l2.init)
        return r2({ columnResizing: { columnWidths: {} } }, e2);
      if (t4.type === l2.resetResize)
        return r2({}, e2, { columnResizing: { columnWidths: {} } });
      if (t4.type === l2.columnStartResizing) {
        var n3 = t4.clientX, o3 = t4.columnId, i3 = t4.columnWidth, u3 = t4.headerIdWidths;
        return r2({}, e2, { columnResizing: r2({}, e2.columnResizing, { startX: n3, headerIdWidths: u3, columnWidth: i3, isResizingColumn: o3 }) });
      }
      if (t4.type === l2.columnResizing) {
        var s3 = t4.clientX, a3 = e2.columnResizing, c3 = a3.startX, d3 = a3.columnWidth, f3 = a3.headerIdWidths, p3 = (s3 - c3) / d3, g3 = {};
        return (void 0 === f3 ? [] : f3).forEach(function(e3) {
          var t5 = e3[0], n4 = e3[1];
          g3[t5] = Math.max(n4 + n4 * p3, 0);
        }), r2({}, e2, { columnResizing: r2({}, e2.columnResizing, { columnWidths: r2({}, e2.columnResizing.columnWidths, {}, g3) }) });
      }
      return t4.type === l2.columnDoneResizing ? r2({}, e2, { columnResizing: r2({}, e2.columnResizing, { startX: null, isResizingColumn: null }) }) : void 0;
    }
    kt2.pluginName = "useResizeColumns";
    var zt2 = function(e2) {
      var t4 = e2.flatHeaders, n3 = e2.disableResizing, o3 = e2.getHooks, r3 = e2.state.columnResizing, i3 = h2(e2);
      t4.forEach(function(e3) {
        var t5 = I2(true !== e3.disableResizing && void 0, true !== n3 && void 0, true);
        e3.canResize = t5, e3.width = r3.columnWidths[e3.id] || e3.originalWidth || e3.width, e3.isResizing = r3.isResizingColumn === e3.id, t5 && (e3.getResizerProps = f2(o3().getResizerProps, { instance: i3(), header: e3 }));
      });
    };
    function Tt2(e2) {
      var n3 = e2.plugins, o3 = e2.dispatch, r3 = e2.autoResetResize, i3 = void 0 === r3 || r3, u3 = e2.columns;
      v2(n3, ["useAbsoluteLayout"], "useResizeColumns");
      var s3 = h2(i3);
      w2(function() {
        s3() && o3({ type: l2.resetResize });
      }, [u3]);
      var a3 = t3.useCallback(function() {
        return o3({ type: l2.resetResize });
      }, [o3]);
      Object.assign(e2, { resetResizing: a3 });
    }
    var Ot2 = { position: "absolute", top: 0 }, Mt2 = function(e2) {
      e2.getTableBodyProps.push(jt2), e2.getRowProps.push(jt2), e2.getHeaderGroupProps.push(jt2), e2.getFooterGroupProps.push(jt2), e2.getHeaderProps.push(function(e3, t4) {
        var n3 = t4.column;
        return [e3, { style: r2({}, Ot2, { left: n3.totalLeft + "px", width: n3.totalWidth + "px" }) }];
      }), e2.getCellProps.push(function(e3, t4) {
        var n3 = t4.cell;
        return [e3, { style: r2({}, Ot2, { left: n3.column.totalLeft + "px", width: n3.column.totalWidth + "px" }) }];
      }), e2.getFooterProps.push(function(e3, t4) {
        var n3 = t4.column;
        return [e3, { style: r2({}, Ot2, { left: n3.totalLeft + "px", width: n3.totalWidth + "px" }) }];
      });
    };
    Mt2.pluginName = "useAbsoluteLayout";
    var jt2 = function(e2, t4) {
      return [e2, { style: { position: "relative", width: t4.instance.totalColumnsWidth + "px" } }];
    }, Lt2 = { display: "inline-block", boxSizing: "border-box" }, Nt2 = function(e2, t4) {
      return [e2, { style: { display: "flex", width: t4.instance.totalColumnsWidth + "px" } }];
    }, Dt2 = function(e2) {
      e2.getRowProps.push(Nt2), e2.getHeaderGroupProps.push(Nt2), e2.getFooterGroupProps.push(Nt2), e2.getHeaderProps.push(function(e3, t4) {
        var n3 = t4.column;
        return [e3, { style: r2({}, Lt2, { width: n3.totalWidth + "px" }) }];
      }), e2.getCellProps.push(function(e3, t4) {
        var n3 = t4.cell;
        return [e3, { style: r2({}, Lt2, { width: n3.column.totalWidth + "px" }) }];
      }), e2.getFooterProps.push(function(e3, t4) {
        var n3 = t4.column;
        return [e3, { style: r2({}, Lt2, { width: n3.totalWidth + "px" }) }];
      });
    };
    function Vt2(e2) {
      e2.getTableProps.push(_t2), e2.getRowProps.push(Xt2), e2.getHeaderGroupProps.push(Xt2), e2.getFooterGroupProps.push(Xt2), e2.getHeaderProps.push(qt2), e2.getCellProps.push(Kt2), e2.getFooterProps.push(Ut2);
    }
    Dt2.pluginName = "useBlockLayout", Vt2.pluginName = "useFlexLayout";
    var _t2 = function(e2, t4) {
      return [e2, { style: { minWidth: t4.instance.totalColumnsMinWidth + "px" } }];
    }, Xt2 = function(e2, t4) {
      return [e2, { style: { display: "flex", flex: "1 0 auto", minWidth: t4.instance.totalColumnsMinWidth + "px" } }];
    }, qt2 = function(e2, t4) {
      var n3 = t4.column;
      return [e2, { style: { boxSizing: "border-box", flex: n3.totalFlexWidth ? n3.totalFlexWidth + " 0 auto" : void 0, minWidth: n3.totalMinWidth + "px", width: n3.totalWidth + "px" } }];
    }, Kt2 = function(e2, t4) {
      var n3 = t4.cell;
      return [e2, { style: { boxSizing: "border-box", flex: n3.column.totalFlexWidth + " 0 auto", minWidth: n3.column.totalMinWidth + "px", width: n3.column.totalWidth + "px" } }];
    }, Ut2 = function(e2, t4) {
      var n3 = t4.column;
      return [e2, { style: { boxSizing: "border-box", flex: n3.totalFlexWidth ? n3.totalFlexWidth + " 0 auto" : void 0, minWidth: n3.totalMinWidth + "px", width: n3.totalWidth + "px" } }];
    };
    function $t2(e2) {
      e2.stateReducers.push(Zt2), e2.getTableProps.push(Jt2), e2.getHeaderProps.push(Yt2), e2.getRowProps.push(Qt2);
    }
    l2.columnStartResizing = "columnStartResizing", l2.columnResizing = "columnResizing", l2.columnDoneResizing = "columnDoneResizing", l2.resetResize = "resetResize", $t2.pluginName = "useGridLayout";
    var Jt2 = function(e2, t4) {
      var n3 = t4.instance;
      return [e2, { style: { display: "grid", gridTemplateColumns: n3.visibleColumns.map(function(e3) {
        var t5;
        return n3.state.gridLayout.columnWidths[e3.id] ? n3.state.gridLayout.columnWidths[e3.id] + "px" : (null == (t5 = n3.state.columnResizing) ? void 0 : t5.isResizingColumn) ? n3.state.gridLayout.startWidths[e3.id] + "px" : "number" == typeof e3.width ? e3.width + "px" : e3.width;
      }).join(" ") } }];
    }, Yt2 = function(e2, t4) {
      var n3 = t4.column;
      return [e2, { id: "header-cell-" + n3.id, style: { position: "sticky", gridColumn: "span " + n3.totalVisibleHeaderCount } }];
    }, Qt2 = function(e2, t4) {
      var n3 = t4.row;
      return n3.isExpanded ? [e2, { style: { gridColumn: "1 / " + (n3.cells.length + 1) } }] : [e2, {}];
    };
    function Zt2(e2, t4, n3, o3) {
      if (t4.type === l2.init)
        return r2({ gridLayout: { columnWidths: {} } }, e2);
      if (t4.type === l2.resetResize)
        return r2({}, e2, { gridLayout: { columnWidths: {} } });
      if (t4.type === l2.columnStartResizing) {
        var i3 = t4.columnId, u3 = t4.headerIdWidths, s3 = en(i3);
        if (void 0 !== s3) {
          var a3 = o3.visibleColumns.reduce(function(e3, t5) {
            var n4;
            return r2({}, e3, ((n4 = {})[t5.id] = en(t5.id), n4));
          }, {}), c3 = o3.visibleColumns.reduce(function(e3, t5) {
            var n4;
            return r2({}, e3, ((n4 = {})[t5.id] = t5.minWidth, n4));
          }, {}), d3 = o3.visibleColumns.reduce(function(e3, t5) {
            var n4;
            return r2({}, e3, ((n4 = {})[t5.id] = t5.maxWidth, n4));
          }, {}), f3 = u3.map(function(e3) {
            var t5 = e3[0];
            return [t5, en(t5)];
          });
          return r2({}, e2, { gridLayout: r2({}, e2.gridLayout, { startWidths: a3, minWidths: c3, maxWidths: d3, headerIdGridWidths: f3, columnWidth: s3 }) });
        }
        return e2;
      }
      if (t4.type === l2.columnResizing) {
        var p3 = t4.clientX, g3 = e2.columnResizing.startX, v3 = e2.gridLayout, m3 = v3.columnWidth, h3 = v3.minWidths, y3 = v3.maxWidths, w3 = v3.headerIdGridWidths, R3 = (p3 - g3) / m3, b5 = {};
        return (void 0 === w3 ? [] : w3).forEach(function(e3) {
          var t5 = e3[0], n4 = e3[1];
          b5[t5] = Math.min(Math.max(h3[t5], n4 + n4 * R3), y3[t5]);
        }), r2({}, e2, { gridLayout: r2({}, e2.gridLayout, { columnWidths: r2({}, e2.gridLayout.columnWidths, {}, b5) }) });
      }
      return t4.type === l2.columnDoneResizing ? r2({}, e2, { gridLayout: r2({}, e2.gridLayout, { startWidths: {}, minWidths: {}, maxWidths: {} }) }) : void 0;
    }
    function en(e2) {
      var t4, n3 = null == (t4 = document.getElementById("header-cell-" + e2)) ? void 0 : t4.offsetWidth;
      if (void 0 !== n3)
        return n3;
    }
    e._UNSTABLE_usePivotColumns = nt2, e.actions = l2, e.defaultColumn = c2, e.defaultGroupByFn = De2, e.defaultOrderByFn = Qe2, e.defaultRenderer = s2, e.emptyRenderer = a2, e.ensurePluginOrder = v2, e.flexRender = b3, e.functionalUpdate = m2, e.loopHooks = g2, e.makePropGetter = f2, e.makeRenderer = R2, e.reduceHooks = p2, e.safeUseLayoutEffect = y2, e.useAbsoluteLayout = Mt2, e.useAsyncDebounce = function(e2, n3) {
      void 0 === n3 && (n3 = 0);
      var r3 = t3.useRef({}), i3 = h2(e2), u3 = h2(n3);
      return t3.useCallback(function() {
        var e3 = o2(regeneratorRuntime.mark(function e4() {
          var t4, n4, l3, s3 = arguments;
          return regeneratorRuntime.wrap(function(e5) {
            for (; ; )
              switch (e5.prev = e5.next) {
                case 0:
                  for (t4 = s3.length, n4 = new Array(t4), l3 = 0; l3 < t4; l3++)
                    n4[l3] = s3[l3];
                  return r3.current.promise || (r3.current.promise = new Promise(function(e6, t5) {
                    r3.current.resolve = e6, r3.current.reject = t5;
                  })), r3.current.timeout && clearTimeout(r3.current.timeout), r3.current.timeout = setTimeout(o2(regeneratorRuntime.mark(function e6() {
                    return regeneratorRuntime.wrap(function(e7) {
                      for (; ; )
                        switch (e7.prev = e7.next) {
                          case 0:
                            return delete r3.current.timeout, e7.prev = 1, e7.t0 = r3.current, e7.next = 5, i3().apply(void 0, n4);
                          case 5:
                            e7.t1 = e7.sent, e7.t0.resolve.call(e7.t0, e7.t1), e7.next = 12;
                            break;
                          case 9:
                            e7.prev = 9, e7.t2 = e7.catch(1), r3.current.reject(e7.t2);
                          case 12:
                            return e7.prev = 12, delete r3.current.promise, e7.finish(12);
                          case 15:
                          case "end":
                            return e7.stop();
                        }
                    }, e6, null, [[1, 9, 12, 15]]);
                  })), u3()), e5.abrupt("return", r3.current.promise);
                case 5:
                case "end":
                  return e5.stop();
              }
          }, e4);
        }));
        return function() {
          return e3.apply(this, arguments);
        };
      }(), [i3, u3]);
    }, e.useBlockLayout = Dt2, e.useColumnOrder = It2, e.useExpanded = se2, e.useFilters = Pe2, e.useFlexLayout = Vt2, e.useGetLatest = h2, e.useGlobalFilter = Ie2, e.useGridLayout = $t2, e.useGroupBy = ze, e.useMountedLayoutEffect = w2, e.usePagination = Ze2, e.useResizeColumns = kt2, e.useRowSelect = vt2, e.useRowState = xt2, e.useSortBy = Ue2, e.useTable = function(e2) {
      for (var n3 = arguments.length, o3 = new Array(n3 > 1 ? n3 - 1 : 0), i3 = 1; i3 < n3; i3++)
        o3[i3 - 1] = arguments[i3];
      e2 = ie2(e2), o3 = [K2].concat(o3);
      var u3 = t3.useRef({}), s3 = h2(u3.current);
      Object.assign(s3(), r2({}, e2, { plugins: o3, hooks: q2() })), o3.filter(Boolean).forEach(function(e3) {
        e3(s3().hooks);
      });
      var a3 = h2(s3().hooks);
      s3().getHooks = a3, delete s3().hooks, Object.assign(s3(), p2(a3().useOptions, ie2(e2)));
      var c3 = s3(), d3 = c3.data, v3 = c3.columns, m3 = c3.initialState, y3 = c3.defaultColumn, w3 = c3.getSubRows, b5 = c3.getRowId, E3 = c3.stateReducer, I3 = c3.useControlledState, F3 = h2(E3), G3 = t3.useCallback(function(e3, t4) {
        if (!t4.type)
          throw console.info({ action: t4 }), new Error("Unknown Action \u{1F446}");
        return [].concat(a3().stateReducers, Array.isArray(F3()) ? F3() : [F3()]).reduce(function(n4, o4) {
          return o4(n4, t4, e3, s3()) || n4;
        }, e3);
      }, [a3, F3, s3]), A3 = t3.useReducer(G3, void 0, function() {
        return G3(m3, { type: l2.init });
      }), k4 = A3[0], H3 = A3[1], W3 = p2([].concat(a3().useControlledState, [I3]), k4, { instance: s3() });
      Object.assign(s3(), { state: W3, dispatch: H3 });
      var z3 = t3.useMemo(function() {
        return S2(p2(a3().columns, v3, { instance: s3() }));
      }, [a3, s3, v3].concat(p2(a3().columnsDeps, [], { instance: s3() })));
      s3().columns = z3;
      var T3 = t3.useMemo(function() {
        return p2(a3().allColumns, C2(z3), { instance: s3() }).map(x2);
      }, [z3, a3, s3].concat(p2(a3().allColumnsDeps, [], { instance: s3() })));
      s3().allColumns = T3;
      var O3 = t3.useMemo(function() {
        for (var e3 = [], t4 = [], n4 = {}, o4 = [].concat(T3); o4.length; ) {
          var r3 = o4.shift();
          le2({ data: d3, rows: e3, flatRows: t4, rowsById: n4, column: r3, getRowId: b5, getSubRows: w3, accessValueHooks: a3().accessValue, getInstance: s3 });
        }
        return [e3, t4, n4];
      }, [T3, d3, b5, w3, a3, s3]), M3 = O3[0], j3 = O3[1], L3 = O3[2];
      Object.assign(s3(), { rows: M3, initialRows: [].concat(M3), flatRows: j3, rowsById: L3 }), g2(a3().useInstanceAfterData, s3());
      var N3 = t3.useMemo(function() {
        return p2(a3().visibleColumns, T3, { instance: s3() }).map(function(e3) {
          return P2(e3, y3);
        });
      }, [a3, T3, s3, y3].concat(p2(a3().visibleColumnsDeps, [], { instance: s3() })));
      T3 = t3.useMemo(function() {
        var e3 = [].concat(N3);
        return T3.forEach(function(t4) {
          e3.find(function(e4) {
            return e4.id === t4.id;
          }) || e3.push(t4);
        }), e3;
      }, [T3, N3]), s3().allColumns = T3;
      var D3 = t3.useMemo(function() {
        return p2(a3().headerGroups, B2(N3, y3), s3());
      }, [a3, N3, y3, s3].concat(p2(a3().headerGroupsDeps, [], { instance: s3() })));
      s3().headerGroups = D3;
      var V3 = t3.useMemo(function() {
        return D3.length ? D3[0].headers : [];
      }, [D3]);
      s3().headers = V3, s3().flatHeaders = D3.reduce(function(e3, t4) {
        return [].concat(e3, t4.headers);
      }, []), g2(a3().useInstanceBeforeDimensions, s3());
      var _3 = N3.filter(function(e3) {
        return e3.isVisible;
      }).map(function(e3) {
        return e3.id;
      }).sort().join("_");
      N3 = t3.useMemo(function() {
        return N3.filter(function(e3) {
          return e3.isVisible;
        });
      }, [N3, _3]), s3().visibleColumns = N3;
      var X3 = ue2(V3), U3 = X3[0], $3 = X3[1], J3 = X3[2];
      return s3().totalColumnsMinWidth = U3, s3().totalColumnsWidth = $3, s3().totalColumnsMaxWidth = J3, g2(a3().useInstance, s3()), [].concat(s3().flatHeaders, s3().allColumns).forEach(function(e3) {
        e3.render = R2(s3(), e3), e3.getHeaderProps = f2(a3().getHeaderProps, { instance: s3(), column: e3 }), e3.getFooterProps = f2(a3().getFooterProps, { instance: s3(), column: e3 });
      }), s3().headerGroups = t3.useMemo(function() {
        return D3.filter(function(e3, t4) {
          return e3.headers = e3.headers.filter(function(e4) {
            return e4.headers ? function e5(t5) {
              return t5.filter(function(t6) {
                return t6.headers ? e5(t6.headers) : t6.isVisible;
              }).length;
            }(e4.headers) : e4.isVisible;
          }), !!e3.headers.length && (e3.getHeaderGroupProps = f2(a3().getHeaderGroupProps, { instance: s3(), headerGroup: e3, index: t4 }), e3.getFooterGroupProps = f2(a3().getFooterGroupProps, { instance: s3(), headerGroup: e3, index: t4 }), true);
        });
      }, [D3, s3, a3]), s3().footerGroups = [].concat(s3().headerGroups).reverse(), s3().prepareRow = t3.useCallback(function(e3) {
        e3.getRowProps = f2(a3().getRowProps, { instance: s3(), row: e3 }), e3.allCells = T3.map(function(t4) {
          var n4 = e3.values[t4.id], o4 = { column: t4, row: e3, value: n4 };
          return o4.getCellProps = f2(a3().getCellProps, { instance: s3(), cell: o4 }), o4.render = R2(s3(), t4, { row: e3, cell: o4, value: n4 }), o4;
        }), e3.cells = N3.map(function(t4) {
          return e3.allCells.find(function(e4) {
            return e4.column.id === t4.id;
          });
        }), g2(a3().prepareRow, e3, { instance: s3() });
      }, [a3, s3, T3, N3]), s3().getTableProps = f2(a3().getTableProps, { instance: s3() }), s3().getTableBodyProps = f2(a3().getTableBodyProps, { instance: s3() }), g2(a3().useFinalInstance, s3()), s3();
    }, Object.defineProperty(e, "__esModule", { value: true });
  });
})(reactTable_production_min$1, reactTable_production_min$1.exports);
var reactTable_production_min = /* @__PURE__ */ getDefaultExportFromCjs(reactTable_production_min$1.exports);
if (true) {
  reactTable$1.exports = reactTable_production_min$1.exports;
} else {
  module.exports = require("./dist/react-table.development.js");
}
var reactTable = reactTable$1.exports;
var Menu = "";
var Table$1 = "";
var filterOff = "/static/k2verify/assets/filter_off.3d9ea484.svg";
var filterOn = "/static/k2verify/assets/filter_on.6b5cc2ac.svg";
var sortArrow = "/static/k2verify/assets/sort_arrows.cb2e47ea.svg";
var sortArrowUp = "/static/k2verify/assets/sort_arrows_up.9ee7f9dd.svg";
var sortArrowDown = "/static/k2verify/assets/sort_arrows_down.de425f0f.svg";
var playOffIcon = "/static/k2verify/assets/play-off.68ab7835.svg";
var playIcon = "/static/k2verify/assets/play.8b700136.svg";
var stopcircleIcon = "/static/k2verify/assets/stop-circle.6a652e0f.svg";
var stopcircleIconDisabled = "/static/k2verify/assets/stop-circle-disabled.30c62ec7.svg";
var historyIcon = "/static/k2verify/assets/history.5f9764ca.svg";
var deleteIcon = "/static/k2verify/assets/delete-icon.2b6e22b6.svg";
var deleteIconDisabled = "/static/k2verify/assets/delete-icon-disabled.78d7fa3a.svg";
var infoIcon = "/static/k2verify/assets/info.ed4c016e.svg";
var optionsIcon = "/static/k2verify/assets/more_options.5c20aa42.svg";
var clipboardIcon = "/static/k2verify/assets/clipboard.43887793.svg";
function useOutsideAlerter(ref, callback, isOn) {
  react.exports.useEffect(() => {
    function handleClickOutside(event) {
      if (!isOn) {
        return;
      }
      if (ref.current && !ref.current.contains(event.target)) {
        callback();
      }
    }
    document.addEventListener("mousedown", handleClickOutside);
    return () => {
      document.removeEventListener("mousedown", handleClickOutside);
    };
  }, [ref, isOn, callback]);
}
function MenuActions({
  children,
  handleClose,
  show,
  x: x2,
  y: y2
}) {
  const menuRef = react.exports.useRef(null);
  useOutsideAlerter(menuRef, handleClose, show);
  const menuStyle = {
    display: show ? "block" : "none",
    left: x2,
    position: "absolute",
    top: y2,
    zIndex: 10,
    background: "white"
  };
  return /* @__PURE__ */ jsx("div", {
    ref: menuRef,
    style: menuStyle,
    children
  });
}
function MenuItem({
  item,
  actionClick
}) {
  const t3 = window.k2api.i18n.translate;
  const seperator = item && item.seperator;
  return /* @__PURE__ */ jsx("li", {
    style: {
      borderTop: !seperator ? "" : "1px solid var(--light-border-color)"
    },
    onClick: () => actionClick(item),
    children: t3(item.title)
  });
}
function DefaultColumnFilter$1({
  column: {
    filterValue,
    preFilteredRows,
    setFilter
  }
}) {
  const count = preFilteredRows.length;
  return /* @__PURE__ */ jsx("input", {
    value: filterValue || "",
    onChange: (e) => setFilter(e.target.value || void 0),
    placeholder: `Search ${count} records...`,
    autoFocus: true
  });
}
function SelectColumnFilter$1({
  column: {
    preFilteredRows,
    id: id2,
    setFilter,
    filterValue
  }
}) {
  const options = react.exports.useMemo(() => {
    const s2 = /* @__PURE__ */ new Set();
    preFilteredRows.forEach((row) => s2.add(row.values[id2]));
    return Array.from(s2);
  }, [preFilteredRows, id2]);
  return /* @__PURE__ */ jsxs("select", {
    value: filterValue || "",
    onChange: (e) => setFilter(e.target.value || void 0),
    children: [/* @__PURE__ */ jsx("option", {
      value: "",
      children: "All"
    }), options.map((o2) => /* @__PURE__ */ jsx("option", {
      value: o2 != null ? o2 : "",
      children: String(o2 != null ? o2 : "")
    }, String(o2)))]
  });
}
const HeaderResizer$1 = ({
  column
}) => {
  if (!(column == null ? void 0 : column.getResizerProps) || !(column == null ? void 0 : column.canResize))
    return null;
  const resizerProps = column.getResizerProps();
  return /* @__PURE__ */ jsx("div", {
    ...resizerProps,
    className: `resizer ${column.isResizing ? "isResizing" : ""}`,
    onMouseDown: (e) => {
      e.stopPropagation();
      resizerProps.onMouseDown && resizerProps.onMouseDown(e);
    },
    onTouchStart: (e) => {
      e.stopPropagation();
      resizerProps.onTouchStart && resizerProps.onTouchStart(e);
    }
  });
};
function ReactTable({
  data: data2,
  title,
  loading,
  getActions,
  callback,
  selectedRow,
  columnDef,
  staticWidth,
  pageSizeOptions = [5, 10, 20, 50],
  initialPageSize = 50,
  maxBodyHeight = 800,
  taskParams = false,
  onPlay = () => {
  },
  onStop = () => {
  },
  onHistory = () => {
  },
  onSave = () => {
  },
  onDelete = () => {
  },
  activeTaskIds = /* @__PURE__ */ new Set(),
  infoParams = false,
  onInfoClick = () => {
  },
  isOptionsRequired = false,
  onOptionView = () => {
  },
  resultSvgRequired = false,
  onClickResult = () => {
  },
  columns: userColumns,
  linkRouting = true,
  defaultMessage
}) {
  var _a2, _b2, _c;
  const navigate = useNavigate();
  const [allData, setAllData] = react.exports.useState([]);
  const [rowMenuOpen, setRowMenuOpen] = react.exports.useState(null);
  const [rowActions, setRowActions] = react.exports.useState([]);
  const [x2, setX] = react.exports.useState(0);
  const [y2, setY] = react.exports.useState(0);
  const [filterColumnsId, setFilterColumnsId] = react.exports.useState({});
  const columnsWidthRef = react.exports.useRef({});
  const computedFitWidthsRef = react.exports.useRef({});
  const containerRef = react.exports.useRef(null);
  const explicitSizeIdsRef = react.exports.useRef(/* @__PURE__ */ new Set());
  const [fitTick, setFitTick] = react.exports.useState(0);
  const isEmpty = !Array.isArray(data2) || data2.length === 0;
  const filterTypes = react.exports.useMemo(() => ({
    text: (rows2, id2, filterValue) => {
      if (filterValue == null || filterValue === "")
        return rows2;
      return rows2.filter((row) => {
        const rowValue = row.values[id2];
        return String(rowValue != null ? rowValue : "").toLowerCase().includes(String(filterValue != null ? filterValue : "").toLowerCase());
      });
    },
    equals: (rows2, id2, filterValue) => {
      if (filterValue == null || filterValue === "")
        return rows2;
      return rows2.filter((row) => {
        const rowValue = row.values[id2];
        return String(rowValue != null ? rowValue : "").toLowerCase() === String(filterValue != null ? filterValue : "").toLowerCase();
      });
    }
  }), []);
  const t3 = (k3) => {
    var _a3, _b3;
    if ((_b3 = (_a3 = window == null ? void 0 : window.k2api) == null ? void 0 : _a3.i18n) == null ? void 0 : _b3.translate)
      return window.k2api.i18n.translate(k3);
    if (k3 === "table.loading")
      return "Loading\u2026";
    if (k3 === "table.empty")
      return "No data";
    return k3;
  };
  const isTaskActive = react.exports.useCallback((taskId) => {
    return activeTaskIds.has(taskId);
  }, [activeTaskIds]);
  const columnNames = react.exports.useMemo(() => {
    if (!Array.isArray(data2) || data2.length === 0)
      return [];
    const columns = [];
    const seen2 = /* @__PURE__ */ new Set();
    for (const row of data2) {
      if (row && typeof row === "object") {
        for (const key of Object.keys(row)) {
          if (key === "taskParams" || key === "actions")
            continue;
          if (!seen2.has(key)) {
            seen2.add(key);
            columns.push(key);
          }
        }
      }
    }
    return columns;
  }, [data2]);
  const convertDataToTable = react.exports.useCallback((payload) => {
    if (!Array.isArray(payload))
      return [];
    return payload.map((row) => {
      const obj = {
        ...row
      };
      if (getActions) {
        obj["actions"] = /* @__PURE__ */ jsx("div", {
          onClick: (e) => showMenu(e, row),
          className: "k2-context-btn"
        });
      }
      if (taskParams) {
        const taskId = row.task_id;
        const isActive = isTaskActive(taskId);
        const hasStatus = row.task_status !== void 0 && row.task_status !== null;
        const isInactiveStatus = hasStatus && row.task_status.toLowerCase() === "inactive";
        obj["taskParams"] = /* @__PURE__ */ jsxs("div", {
          className: "taskparams-icons",
          style: {
            display: "flex",
            alignItems: "center",
            gap: 8,
            padding: "2px 6px"
          },
          children: [!isInactiveStatus && /* @__PURE__ */ jsxs(Fragment, {
            children: [/* @__PURE__ */ jsx("img", {
              src: isActive ? playOffIcon : playIcon,
              alt: isActive ? "Play Off" : "Play",
              title: isActive ? "Task Running" : "Play",
              className: "icons",
              style: {
                cursor: isActive ? "not-allowed" : "pointer",
                opacity: isActive ? 0.5 : 1
              },
              onClick: (e) => {
                if (!isActive) {
                  onPlay(obj, e);
                }
              }
            }), /* @__PURE__ */ jsx("img", {
              src: isActive ? stopcircleIcon : stopcircleIconDisabled,
              alt: "Stop Task",
              title: isActive ? "Stop Task" : "",
              className: "icons",
              style: {
                cursor: isActive ? "pointer" : "not-allowed",
                opacity: isActive ? 1 : 0.4
              },
              onClick: (e) => {
                if (isActive) {
                  onStop(obj, e);
                }
              }
            })]
          }), /* @__PURE__ */ jsx("img", {
            src: historyIcon,
            alt: isActive ? "Monitor" : "History",
            title: isActive ? "Monitor" : "History",
            className: "icons",
            style: {
              cursor: "pointer",
              opacity: 1
            },
            onClick: (e) => {
              e.stopPropagation();
              const taskId2 = row.task_id || obj.task_id;
              if (isActive) {
                navigate(`/execution/${encodeURIComponent(taskId2)}`);
              } else {
                navigate(`/history/${encodeURIComponent(taskId2)}`);
              }
            }
          }), /* @__PURE__ */ jsx("img", {
            src: isActive ? deleteIconDisabled : deleteIcon,
            alt: "Delete",
            title: isActive ? "" : "Delete Task",
            className: "icons",
            style: {
              cursor: isActive ? "not-allowed" : "pointer",
              opacity: isActive ? 0.5 : 1
            },
            onClick: (e) => {
              if (!isActive) {
                onDelete(obj, e);
              }
            }
          })]
        });
      }
      if (infoParams) {
        obj["infoParams"] = /* @__PURE__ */ jsx("div", {
          className: "infoparams-icons",
          style: {
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            width: "100%",
            height: "100%",
            padding: 0
          },
          children: /* @__PURE__ */ jsx("img", {
            src: infoIcon,
            alt: "Info",
            title: "Info",
            className: "icons",
            style: {
              cursor: "pointer",
              transition: "transform 0.2s ease",
              width: "22px",
              height: "22px",
              display: "block"
            },
            onMouseEnter: (e) => e.currentTarget.style.transform = "scale(1.2)",
            onMouseLeave: (e) => e.currentTarget.style.transform = "scale(1)",
            onClick: (e) => {
              e.stopPropagation();
              onInfoClick(row, e);
            }
          })
        });
      }
      if (resultSvgRequired) {
        obj["resultParams"] = /* @__PURE__ */ jsx("div", {
          className: "resultparams-icons",
          style: {
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            width: "100%",
            height: "100%"
          },
          children: /* @__PURE__ */ jsx("img", {
            src: clipboardIcon,
            alt: "Result",
            title: "Result",
            className: "icons",
            style: {
              cursor: "pointer",
              transition: "transform 0.2s ease",
              width: "20px",
              height: "20px"
            },
            onMouseEnter: (e) => e.currentTarget.style.transform = "scale(1.2)",
            onMouseLeave: (e) => e.currentTarget.style.transform = "scale(1)",
            onClick: (e) => {
              e.stopPropagation();
              onClickResult(row, e);
            }
          })
        });
      }
      if (isOptionsRequired) {
        obj["optionsParams"] = /* @__PURE__ */ jsx("div", {
          className: "optionsparams-icons",
          style: {
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            width: "100%",
            height: "100%"
          },
          children: /* @__PURE__ */ jsx("img", {
            src: optionsIcon,
            alt: "Options",
            title: "Options",
            className: "icons",
            style: {
              cursor: "pointer",
              transition: "transform 0.2s ease",
              width: "20px",
              height: "20px"
            },
            onMouseEnter: (e) => e.currentTarget.style.transform = "scale(1.2)",
            onMouseLeave: (e) => e.currentTarget.style.transform = "scale(1)",
            onClick: (e) => {
              e.stopPropagation();
              onOptionView(obj, e);
            }
          })
        });
      }
      return obj;
    });
  }, [getActions, taskParams, onPlay, onStop, onHistory, onSave, onDelete, isTaskActive, infoParams, onInfoClick, onOptionView, resultSvgRequired]);
  const getRows = react.exports.useMemo(() => allData != null ? allData : [], [allData]);
  const defaultColumn = react.exports.useMemo(() => ({
    Filter: DefaultColumnFilter$1,
    minWidth: 80,
    width: 140,
    maxWidth: Number.MAX_SAFE_INTEGER
  }), []);
  const hiddenColumns = react.exports.useMemo(() => {
    if (!Array.isArray(userColumns))
      return [];
    return userColumns.filter((c2) => {
      var _a3;
      return ((_a3 = c2 == null ? void 0 : c2.meta) == null ? void 0 : _a3.isVisible) === false;
    }).map((c2) => c2.id || c2.accessorKey || c2.header).filter(Boolean);
  }, [userColumns]);
  const mappedUserColumns = react.exports.useMemo(() => {
    explicitSizeIdsRef.current = /* @__PURE__ */ new Set();
    if (!Array.isArray(userColumns) || userColumns.length === 0)
      return [];
    return userColumns.map((uc2) => {
      var _a3, _b3, _c2, _d, _e2, _f, _g, _h;
      const id2 = uc2.id || uc2.accessorKey || String(uc2.header || "");
      const accessor = uc2.accessorKey || uc2.accessor || id2;
      const hasExplicitSize = uc2.size != null;
      if (hasExplicitSize)
        explicitSizeIdsRef.current.add(id2);
      const persisted = (_a3 = columnsWidthRef.current) == null ? void 0 : _a3[id2];
      const fitted = (_b3 = computedFitWidthsRef.current) == null ? void 0 : _b3[id2];
      const filterVariant = (_c2 = uc2.meta) == null ? void 0 : _c2.filterVariant;
      const Filter = uc2.enableColumnFilter === false ? () => null : filterVariant === "select" ? SelectColumnFilter$1 : DefaultColumnFilter$1;
      const userCell = uc2.cell;
      const RoutedCell = (cellProps) => {
        var _a4;
        const value = cellProps.value;
        if (userCell)
          return userCell({
            ...cellProps,
            value
          });
        const to = (_a4 = uc2.meta) == null ? void 0 : _a4.routingLink;
        if (linkRouting && to && value != null) {
          return /* @__PURE__ */ jsx(Link, {
            to: `${to}/${encodeURIComponent(String(value))}`,
            style: {
              color: "#1483F3",
              textDecoration: "none"
            },
            children: String(value)
          });
        }
        return /* @__PURE__ */ jsx("span", {
          children: String(value != null ? value : "")
        });
      };
      const baseWidth = staticWidth ? 380 : hasExplicitSize ? uc2.size : (_d = persisted != null ? persisted : fitted) != null ? _d : 300;
      return {
        id: id2,
        Header: (_e2 = uc2.header) != null ? _e2 : id2,
        accessor,
        width: baseWidth,
        minWidth: (_f = uc2.minSize) != null ? _f : hasExplicitSize ? uc2.size : 80,
        maxWidth: (_g = uc2.maxSize) != null ? _g : Number.MAX_SAFE_INTEGER,
        disableResizing: ((_h = uc2.meta) == null ? void 0 : _h.fixed) === true,
        disableFilters: uc2.enableColumnFilter === false,
        disableSortBy: uc2.enableSorting === false,
        Filter,
        Cell: RoutedCell,
        meta: {
          ...uc2.meta || {},
          hasExplicitSize
        }
      };
    });
  }, [userColumns, staticWidth, linkRouting]);
  const getColumns = react.exports.useMemo(() => {
    const cols = [];
    if (getActions) {
      cols.push({
        id: "actions",
        Header: "",
        accessor: "actions",
        width: 40,
        disableResizing: true,
        disableSortBy: true,
        disableFilters: true
      });
    }
    if (taskParams) {
      cols.push({
        id: "taskParams",
        Header: "",
        accessor: "taskParams",
        width: 150,
        minWidth: 140,
        disableResizing: true,
        disableSortBy: true,
        disableFilters: true
      });
    }
    if (infoParams) {
      cols.push({
        id: "infoParams",
        Header: "",
        accessor: "infoParams",
        width: 60,
        minWidth: 50,
        disableResizing: true,
        disableSortBy: true,
        disableFilters: true
      });
    }
    if (isOptionsRequired) {
      cols.push({
        id: "optionsParams",
        Header: "",
        accessor: "optionsParams",
        width: 60,
        minWidth: 50,
        disableResizing: true,
        disableSortBy: true,
        disableFilters: true
      });
    }
    if (resultSvgRequired) {
      cols.push({
        id: "resultParams",
        Header: "",
        accessor: "resultParams",
        width: 60,
        minWidth: 50,
        disableResizing: true,
        disableSortBy: true,
        disableFilters: true
      });
    }
    if (mappedUserColumns.length > 0) {
      const updated = mappedUserColumns.map((col) => {
        var _a3, _b3, _c2;
        const persisted = (_a3 = columnsWidthRef.current) == null ? void 0 : _a3[col.id];
        const fitted = (_b3 = computedFitWidthsRef.current) == null ? void 0 : _b3[col.id];
        const hasExplicit = explicitSizeIdsRef.current.has(col.id);
        return {
          ...col,
          width: staticWidth ? 380 : hasExplicit ? col.width : (_c2 = persisted != null ? persisted : fitted) != null ? _c2 : col.width
        };
      });
      cols.push(...updated);
    } else if (columnNames.length > 0) {
      columnNames.forEach((col) => {
        var _a3, _b3, _c2;
        const persisted = (_a3 = columnsWidthRef.current) == null ? void 0 : _a3[col];
        const fitted = (_b3 = computedFitWidthsRef.current) == null ? void 0 : _b3[col];
        cols.push({
          Header: col,
          accessor: col,
          width: staticWidth ? 380 : (_c2 = persisted != null ? persisted : fitted) != null ? _c2 : 300,
          minWidth: 80
        });
      });
    }
    return cols;
  }, [mappedUserColumns, columnNames, getActions, staticWidth, taskParams, infoParams, isOptionsRequired, resultSvgRequired, fitTick]);
  const {
    getTableProps,
    getTableBodyProps,
    headerGroups,
    rows,
    page,
    pageOptions,
    pageCount,
    prepareRow,
    preFilteredRows,
    state: {
      sortBy,
      globalFilter,
      pageIndex,
      pageSize,
      columnResizing: {
        columnWidths
      }
    },
    setFilter,
    setGlobalFilter,
    gotoPage,
    nextPage: nextPage2,
    previousPage,
    canNextPage,
    canPreviousPage,
    setPageSize,
    totalColumnsWidth
  } = reactTable$1.exports.useTable({
    columns: getColumns,
    data: getRows,
    defaultColumn,
    filterTypes,
    autoResetPage: false,
    autoResetSortBy: false,
    autoResetFilters: false,
    autoResetGlobalFilter: false,
    autoResetSelectedRows: false,
    autoResetGroupBy: false,
    autoResetExpanded: false,
    autoResetRowState: false,
    manualSortBy: true,
    initialState: {
      pageIndex: 0,
      pageSize: initialPageSize,
      hiddenColumns
    }
  }, reactTable$1.exports.useFilters, reactTable$1.exports.useGlobalFilter, reactTable$1.exports.useSortBy, reactTable$1.exports.useBlockLayout, reactTable$1.exports.useResizeColumns, reactTable$1.exports.usePagination);
  react.exports.useEffect(() => {
    if (JSON.stringify(columnsWidthRef.current) !== JSON.stringify(columnWidths) && columnWidths && Object.keys(columnWidths).length > 0) {
      const prev = columnsWidthRef.current;
      columnsWidthRef.current = {
        ...prev,
        ...columnWidths
      };
    }
  }, [columnWidths]);
  react.exports.useLayoutEffect(() => {
    var _a3, _b3;
    if (staticWidth)
      return;
    const wrapper = containerRef.current;
    if (!wrapper)
      return;
    const keys = mappedUserColumns.length ? mappedUserColumns.map((c2) => c2.id) : columnNames;
    if (!keys.length)
      return;
    const explicitIds = explicitSizeIdsRef.current;
    const scrollBarFudge = 8;
    const available = Math.max(0, wrapper.clientWidth - scrollBarFudge);
    const fixedUtility = (getActions ? 40 : 0) + (taskParams ? 150 : 0) + (infoParams ? 60 : 0) + (isOptionsRequired ? 60 : 0) + (resultSvgRequired ? 60 : 0);
    ;
    let explicitTotal = 0;
    for (const col of mappedUserColumns) {
      if (explicitIds.has(col.id)) {
        explicitTotal += (_b3 = (_a3 = col.width) != null ? _a3 : col.minWidth) != null ? _b3 : 0;
      }
    }
    const keysNeedingFit = keys.filter((k3) => !explicitIds.has(k3));
    const remaining = Math.max(0, available - fixedUtility - explicitTotal);
    const even = Math.max(80, Math.floor(remaining / Math.max(1, keysNeedingFit.length)));
    const next = {};
    for (const k3 of keysNeedingFit)
      next[k3] = even;
    computedFitWidthsRef.current = next;
    setFitTick((t22) => t22 + 1);
  }, [columnNames, mappedUserColumns, getActions, taskParams, infoParams, staticWidth, maxBodyHeight, isOptionsRequired, resultSvgRequired]);
  const showMenu = react.exports.useCallback((e, rowObj) => {
    let actions = [];
    if (getActions)
      actions = getActions(rowObj);
    if (!actions || actions.length === 0)
      return;
    setRowActions(actions);
    setRowMenuOpen(null);
    const innerHeight = window.innerHeight;
    const menuHeight = (actions.length + 1) * 30;
    setY(e.clientY + menuHeight > innerHeight ? e.clientY - menuHeight - 10 : e.clientY);
    setX(e.clientX);
    setRowMenuOpen(rowObj);
  }, [getActions]);
  const hideMenu = () => setRowMenuOpen(null);
  const actionClick = (action) => {
    action.callback(rowMenuOpen);
    setRowMenuOpen(null);
  };
  const mapActionsToElements = () => /* @__PURE__ */ jsx(MenuActions, {
    show: rowMenuOpen,
    handleClose: hideMenu,
    x: x2,
    y: y2,
    children: /* @__PURE__ */ jsx("ul", {
      className: "k2-context-menu",
      children: rowActions.map((action, idx) => /* @__PURE__ */ jsx(MenuItem, {
        item: action,
        actionClick
      }, idx))
    })
  });
  react.exports.useEffect(() => {
    const converted = convertDataToTable(data2);
    setAllData(converted);
  }, [convertDataToTable, data2]);
  const handleClickOnTD = (e, column, value, idx) => {
    if (!callback)
      return;
    callback(e, column, value, idx);
  };
  const getTDClassName = (row, aKey) => {
    var _a3;
    let classNames = "";
    if (columnDef && columnDef[aKey] && columnDef[aKey].cellBorder && selectedRow === row[aKey]) {
      classNames = columnDef[aKey].cellBorder;
    }
    if (columnDef && columnDef[aKey] && columnDef[aKey].cellColoring) {
      const key = typeof row[aKey] === "string" ? row[aKey].toLowerCase() : String((_a3 = row[aKey]) != null ? _a3 : "").toLowerCase();
      if (columnDef[aKey].cellColoring[key]) {
        classNames += columnDef[aKey].cellColoring[key];
      } else {
        classNames += "failed";
      }
    }
    return classNames;
  };
  const handleFilterClick = react.exports.useCallback((column) => {
    const next = {
      ...filterColumnsId
    };
    if (next[column.id]) {
      delete next[column.id];
      setFilterColumnsId(next);
      setFilter(column.id, void 0);
    } else {
      next[column.id] = column.id;
      setFilterColumnsId(next);
    }
  }, [filterColumnsId, setFilter]);
  const getSortIcon = react.exports.useCallback((column) => {
    return /* @__PURE__ */ jsx("span", {
      ...column.getSortByToggleProps(),
      children: column.isSorted ? column.isSortedDesc ? /* @__PURE__ */ jsx("img", {
        src: sortArrowUp,
        className: "icons",
        alt: "Arrow Up"
      }) : /* @__PURE__ */ jsx("img", {
        src: sortArrowDown,
        className: "icons",
        alt: "Arrow Down"
      }) : /* @__PURE__ */ jsx("img", {
        src: sortArrow,
        className: "icons",
        alt: "Arrow"
      })
    });
  }, []);
  const getFilterIcon = react.exports.useCallback((column) => /* @__PURE__ */ jsx("img", {
    alt: filterColumnsId[column.id] ? "Filter On" : "Filter Off",
    className: "icons",
    src: filterColumnsId[column.id] ? filterOn : filterOff,
    onClick: () => handleFilterClick(column),
    style: {
      cursor: "pointer"
    }
  }), [filterColumnsId, handleFilterClick]);
  const getProgressBar = react.exports.useCallback((row, cell) => {
    return /* @__PURE__ */ jsxs("div", {
      className: "completion",
      children: [/* @__PURE__ */ jsx("div", {
        className: "progress-bar",
        children: /* @__PURE__ */ jsx("div", {
          className: "progress",
          style: {
            width: `${row.original[cell.column.Header]}%`
          }
        })
      }), /* @__PURE__ */ jsxs("div", {
        className: "progress-percentage",
        children: [cell.render("Cell"), "%"]
      })]
    });
  }, []);
  const getCellData = react.exports.useCallback((row, cell) => {
    var _a3, _b3;
    const header = cell.column.Header;
    if (cell.column.id === "taskParams" || cell.column.id === "infoParams" || cell.column.id === "optionsParams" || cell.column.id === "resultParams") {
      return cell.value;
    }
    if (columnDef && ((_a3 = columnDef[header]) == null ? void 0 : _a3.progress)) {
      return getProgressBar(row, cell);
    }
    if (columnDef && ((_b3 = columnDef[header]) == null ? void 0 : _b3.progress) === false) {
      return /* @__PURE__ */ jsxs("span", {
        children: [cell.render("Cell"), "%"]
      });
    }
    if (row.original.highlight) {
      return /* @__PURE__ */ jsx("span", {
        style: {
          fontWeight: "bold"
        },
        children: cell.render("Cell")
      });
    }
    if (typeof cell.value === "boolean") {
      return /* @__PURE__ */ jsx("span", {
        children: `${cell.value}`
      });
    }
    if (typeof cell.value === "object" && header !== "") {
      const v2 = JSON.stringify(cell.value).split('"').join("");
      return /* @__PURE__ */ jsx("span", {
        children: v2
      });
    }
    return /* @__PURE__ */ jsx("span", {
      children: cell.render("Cell")
    });
  }, [columnDef, getProgressBar]);
  const handleSort = react.exports.useCallback((sortByArr) => {
    const prevAllData = convertDataToTable(data2);
    if (prevAllData && sortByArr && sortByArr.length > 0) {
      const sortedData = prevAllData.sort((a2, b3) => {
        const id2 = sortByArr[0]["id"];
        const desc = sortByArr[0]["desc"];
        const av = a2[id2];
        const bv = b3[id2];
        const cmp = (x22, y22) => (x22 == null) - (y22 == null) || (x22 > y22) - (x22 < y22);
        return desc ? cmp(bv, av) : cmp(av, bv);
      });
      setAllData([...sortedData]);
    } else if (prevAllData && sortByArr && sortByArr.length === 0) {
      setAllData(prevAllData);
    }
  }, [convertDataToTable, data2]);
  const cancelSorting = react.exports.useCallback((column) => {
    const prevAllData = convertDataToTable(data2);
    setAllData(prevAllData);
    column.clearSortBy();
  }, [convertDataToTable, data2]);
  react.exports.useEffect(() => {
    handleSort(sortBy);
  }, [handleSort, sortBy]);
  const hasBackendError = getRows && getRows.length > 0 && ((_a2 = getRows[0]) == null ? void 0 : _a2.error) && typeof getRows[0].error === "string";
  const totalFilteredEntries = rows.length;
  return /* @__PURE__ */ jsxs("div", {
    className: "table-container",
    children: [rowActions && rowActions.length > 0 ? mapActionsToElements() : null, title ? /* @__PURE__ */ jsx("h3", {
      children: title
    }) : null, isEmpty && !loading ? /* @__PURE__ */ jsx("span", {
      children: defaultMessage ? defaultMessage : "No records found."
    }) : /* @__PURE__ */ jsxs(react.exports.Fragment, {
      children: [/* @__PURE__ */ jsxs("div", {
        className: "hybrid-toolbar",
        style: {
          display: "flex",
          justifyContent: "space-between",
          alignItems: "center",
          gap: 12,
          padding: "6px 0",
          flexWrap: "wrap"
        },
        children: [/* @__PURE__ */ jsxs("div", {
          children: ["Show", " ", /* @__PURE__ */ jsx("select", {
            value: pageSize,
            onChange: (e) => {
              setPageSize(Number(e.target.value));
              gotoPage(0);
            },
            children: pageSizeOptions.map((ps) => /* @__PURE__ */ jsx("option", {
              value: ps,
              children: ps
            }, ps))
          }), " ", "entries"]
        }), /* @__PURE__ */ jsx("div", {
          children: /* @__PURE__ */ jsxs("span", {
            children: ["Search:", " ", /* @__PURE__ */ jsx("input", {
              type: "text",
              value: globalFilter || "",
              onChange: (e) => setGlobalFilter(e.target.value),
              placeholder: "Search all columns\u2026"
            })]
          })
        }), /* @__PURE__ */ jsx("div", {
          children: /* @__PURE__ */ jsxs("span", {
            children: ["Showing ", /* @__PURE__ */ jsx("strong", {
              children: pageIndex + 1
            }), " of", " ", /* @__PURE__ */ jsx("strong", {
              children: pageOptions.length || 1
            }), " pages for", " ", /* @__PURE__ */ jsx("strong", {
              children: totalFilteredEntries
            }), " entries"]
          })
        })]
      }), /* @__PURE__ */ jsx("div", {
        ref: containerRef,
        className: "scroll-x",
        style: {
          maxHeight: `${maxBodyHeight}px`
        },
        children: /* @__PURE__ */ jsxs("table", {
          className: "k2-table k2-refresh-fadeIn",
          ...getTableProps(),
          style: {
            width: "100%",
            borderCollapse: "separate",
            tableLayout: "fixed"
          },
          children: [headerGroups.length > 0 ? /* @__PURE__ */ jsx("colgroup", {
            children: headerGroups[0].headers.map((column) => {
              var _a3, _b3, _c2, _d, _e2;
              const headerProps = column.getHeaderProps();
              const colWidth = (_e2 = (_d = (_c2 = (_b3 = (_a3 = headerProps.style) == null ? void 0 : _a3.width) != null ? _b3 : column.totalWidth) != null ? _c2 : column.width) != null ? _d : column.minWidth) != null ? _e2 : 120;
              return /* @__PURE__ */ jsx("col", {
                style: {
                  width: colWidth
                }
              }, column.id);
            })
          }) : null, /* @__PURE__ */ jsx("thead", {
            style: {
              position: "sticky",
              top: 0,
              zIndex: 1,
              background: "white"
            },
            children: headerGroups.map((headerGroup) => {
              const hgProps = headerGroup.getHeaderGroupProps();
              return /* @__PURE__ */ react.exports.createElement("tr", {
                ...hgProps,
                key: hgProps.key
              }, headerGroup.headers.map((column) => {
                const headerProps = column.getHeaderProps();
                return /* @__PURE__ */ react.exports.createElement("th", {
                  ...headerProps,
                  key: headerProps.key,
                  style: {
                    ...headerProps.style,
                    boxSizing: "border-box",
                    padding: "8px"
                  }
                }, /* @__PURE__ */ jsxs("div", {
                  className: "header-cell",
                  style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "space-between",
                    gap: 4,
                    width: "100%"
                  },
                  children: [/* @__PURE__ */ jsx("span", {
                    onDoubleClick: () => cancelSorting(column),
                    style: {
                      display: "inline-flex",
                      alignItems: "center",
                      flex: 1,
                      minWidth: 0,
                      overflow: "hidden",
                      textOverflow: "ellipsis",
                      whiteSpace: "nowrap"
                    },
                    children: column.render("Header")
                  }), (column == null ? void 0 : column.id) !== "actions" && (column == null ? void 0 : column.id) !== "taskParams" && (column == null ? void 0 : column.id) !== "optionsParams" && (column == null ? void 0 : column.id) !== "resultParams" ? /* @__PURE__ */ jsxs("span", {
                    className: "icons-wrapper",
                    style: {
                      display: "flex",
                      alignItems: "center",
                      gap: 4,
                      flexShrink: 0
                    },
                    children: [!column.disableFilters && getFilterIcon(column), getSortIcon(column)]
                  }) : null, /* @__PURE__ */ jsx(HeaderResizer$1, {
                    column
                  })]
                }), /* @__PURE__ */ jsx("div", {
                  style: {
                    marginTop: 6
                  },
                  children: (column == null ? void 0 : column.id) !== "actions" && (column == null ? void 0 : column.id) !== "taskParams" && (column == null ? void 0 : column.id) !== "optionsParams" && !column.disableFilters && filterColumnsId[column.id] ? column.render("Filter") : null
                }));
              }));
            })
          }), /* @__PURE__ */ jsx("tbody", {
            ...getTableBodyProps(),
            children: loading ? /* @__PURE__ */ jsx("tr", {
              children: /* @__PURE__ */ jsx("td", {
                colSpan: ((_c = (_b2 = headerGroups[0]) == null ? void 0 : _b2.headers) == null ? void 0 : _c.length) || 1,
                style: {
                  textAlign: "center",
                  padding: 20
                },
                children: /* @__PURE__ */ jsx("div", {
                  className: "spinner",
                  style: {
                    width: 28,
                    height: 28,
                    border: "3px solid #ddd",
                    borderTopColor: "#777",
                    borderRadius: "50%",
                    animation: "spin 0.8s linear infinite",
                    display: "inline-block"
                  }
                })
              })
            }) : hasBackendError ? /* @__PURE__ */ jsx("tr", {
              children: /* @__PURE__ */ jsx("td", {
                colSpan: columnNames.length || 1,
                style: {
                  color: "red",
                  padding: 8
                },
                children: getRows[0].error
              })
            }) : page.length > 0 ? page.map((row) => {
              prepareRow(row);
              const rowProps = row.getRowProps();
              return /* @__PURE__ */ react.exports.createElement("tr", {
                ...rowProps,
                key: rowProps.key
              }, row.cells.map((cell) => {
                const cellProps = cell.getCellProps();
                const headerLabel = cell.column.Header;
                return /* @__PURE__ */ react.exports.createElement("td", {
                  ...cellProps,
                  key: cellProps.key,
                  title: cell.column.id === "taskParams" || cell.column.id === "actions" || cell.column.id === "infoParams" || cell.column.id === "optionsParams" || cell.column.id === "resultParams" ? void 0 : typeof row.original[headerLabel] === "string" || typeof row.original[headerLabel] === "number" ? row.original[headerLabel] : void 0,
                  className: `${getTDClassName(row.original, headerLabel)} cell`,
                  onClick: cell.column.id === "taskParams" || cell.column.id === "actions" || cell.column.id === "infoParams" || cell.column.id === "optionsParams" || cell.column.id === "resultParams" ? void 0 : (e) => handleClickOnTD(e, headerLabel, row.original[headerLabel], row.index),
                  style: {
                    ...cellProps.style,
                    cursor: callback ? "pointer" : "auto",
                    boxSizing: "border-box",
                    padding: "8px",
                    overflow: "hidden",
                    textOverflow: "ellipsis",
                    whiteSpace: "nowrap"
                  }
                }, getCellData(row, cell));
              }));
            }) : /* @__PURE__ */ jsx("tr", {
              children: /* @__PURE__ */ jsx("td", {
                colSpan: columnNames.length || 1,
                style: {
                  textAlign: "center",
                  padding: 12
                },
                children: (preFilteredRows == null ? void 0 : preFilteredRows.length) ? "There are no rows that match your criteria" : ""
              })
            })
          })]
        })
      }), /* @__PURE__ */ jsx("div", {
        style: {
          display: "flex",
          marginTop: "5px",
          justifyContent: "center"
        },
        children: /* @__PURE__ */ jsxs("div", {
          className: "table-buttons",
          style: {
            marginTop: 10
          },
          children: [/* @__PURE__ */ jsx("button", {
            onClick: () => gotoPage(0),
            disabled: !canPreviousPage,
            children: "First Page"
          }), /* @__PURE__ */ jsx("button", {
            onClick: () => previousPage(),
            disabled: !canPreviousPage,
            children: "Previous"
          }), /* @__PURE__ */ jsx("span", {
            style: {
              padding: 10
            },
            children: pageIndex + 1
          }), /* @__PURE__ */ jsx("button", {
            onClick: () => nextPage2(),
            disabled: !canNextPage,
            children: "Next"
          }), /* @__PURE__ */ jsx("button", {
            onClick: () => gotoPage(pageCount - 1),
            disabled: !canNextPage,
            children: "Last"
          })]
        })
      })]
    })]
  });
}
var taskdef = "";
function r(e) {
  var t3, f2, n2 = "";
  if ("string" == typeof e || "number" == typeof e)
    n2 += e;
  else if ("object" == typeof e)
    if (Array.isArray(e))
      for (t3 = 0; t3 < e.length; t3++)
        e[t3] && (f2 = r(e[t3])) && (n2 && (n2 += " "), n2 += f2);
    else
      for (t3 in e)
        e[t3] && (n2 && (n2 += " "), n2 += t3);
  return n2;
}
function clsx() {
  for (var e, t3, f2 = 0, n2 = ""; f2 < arguments.length; )
    (e = arguments[f2++]) && (t3 = r(e)) && (n2 && (n2 += " "), n2 += t3);
  return n2;
}
function _extends() {
  _extends = Object.assign || function(target) {
    for (var i2 = 1; i2 < arguments.length; i2++) {
      var source = arguments[i2];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null)
    return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i2;
  for (i2 = 0; i2 < sourceKeys.length; i2++) {
    key = sourceKeys[i2];
    if (excluded.indexOf(key) >= 0)
      continue;
    target[key] = source[key];
  }
  return target;
}
function isNum(v2) {
  return typeof v2 === "number" && !isNaN(v2);
}
function isBool(v2) {
  return typeof v2 === "boolean";
}
function isStr(v2) {
  return typeof v2 === "string";
}
function isFn(v2) {
  return typeof v2 === "function";
}
function parseClassName(v2) {
  return isStr(v2) || isFn(v2) ? v2 : null;
}
function isToastIdValid(toastId) {
  return toastId === 0 || toastId;
}
function getAutoCloseDelay(toastAutoClose, containerAutoClose) {
  return toastAutoClose === false || isNum(toastAutoClose) && toastAutoClose > 0 ? toastAutoClose : containerAutoClose;
}
var canUseDom = !!(typeof window !== "undefined" && window.document && window.document.createElement);
function canBeRendered(content) {
  return react.exports.isValidElement(content) || isStr(content) || isFn(content) || isNum(content);
}
var POSITION = {
  TOP_LEFT: "top-left",
  TOP_RIGHT: "top-right",
  TOP_CENTER: "top-center",
  BOTTOM_LEFT: "bottom-left",
  BOTTOM_RIGHT: "bottom-right",
  BOTTOM_CENTER: "bottom-center"
};
var TYPE$2 = {
  INFO: "info",
  SUCCESS: "success",
  WARNING: "warning",
  ERROR: "error",
  DEFAULT: "default",
  DARK: "dark"
};
function collapseToast(node, done, duration) {
  if (duration === void 0) {
    duration = 300;
  }
  var height = node.scrollHeight;
  var style = node.style;
  requestAnimationFrame(function() {
    style.minHeight = "initial";
    style.height = height + "px";
    style.transition = "all " + duration + "ms";
    requestAnimationFrame(function() {
      style.height = "0";
      style.padding = "0";
      style.margin = "0";
      setTimeout(done, duration);
    });
  });
}
function cssTransition(_ref) {
  var enter = _ref.enter, exit = _ref.exit, _ref$appendPosition = _ref.appendPosition, appendPosition = _ref$appendPosition === void 0 ? false : _ref$appendPosition, _ref$collapse = _ref.collapse, collapse = _ref$collapse === void 0 ? true : _ref$collapse, _ref$collapseDuration = _ref.collapseDuration, collapseDuration = _ref$collapseDuration === void 0 ? 300 : _ref$collapseDuration;
  return function ToastTransition(_ref2) {
    var children = _ref2.children, position = _ref2.position, preventExitTransition = _ref2.preventExitTransition, done = _ref2.done, nodeRef = _ref2.nodeRef, isIn = _ref2.isIn;
    var enterClassName = appendPosition ? enter + "--" + position : enter;
    var exitClassName = appendPosition ? exit + "--" + position : exit;
    var baseClassName = react.exports.useRef();
    var animationStep = react.exports.useRef(
      0
    );
    react.exports.useLayoutEffect(function() {
      onEnter();
    }, []);
    react.exports.useEffect(function() {
      if (!isIn)
        preventExitTransition ? onExited() : onExit();
    }, [isIn]);
    function onEnter() {
      var node = nodeRef.current;
      baseClassName.current = node.className;
      node.className += " " + enterClassName;
      node.addEventListener("animationend", onEntered);
    }
    function onEntered() {
      var node = nodeRef.current;
      node.removeEventListener("animationend", onEntered);
      if (animationStep.current === 0) {
        node.className = baseClassName.current;
      }
    }
    function onExit() {
      animationStep.current = 1;
      var node = nodeRef.current;
      node.className += " " + exitClassName;
      node.addEventListener("animationend", onExited);
    }
    function onExited() {
      var node = nodeRef.current;
      node.removeEventListener("animationend", onExited);
      collapse ? collapseToast(node, done, collapseDuration) : done();
    }
    return /* @__PURE__ */ jsx(Fragment, {
      children
    });
  };
}
var eventManager = {
  list: /* @__PURE__ */ new Map(),
  emitQueue: /* @__PURE__ */ new Map(),
  on: function on(event, callback) {
    this.list.has(event) || this.list.set(event, []);
    this.list.get(event).push(callback);
    return this;
  },
  off: function off(event, callback) {
    if (callback) {
      var cb2 = this.list.get(event).filter(function(cb3) {
        return cb3 !== callback;
      });
      this.list.set(event, cb2);
      return this;
    }
    this.list["delete"](event);
    return this;
  },
  cancelEmit: function cancelEmit(event) {
    var timers = this.emitQueue.get(event);
    if (timers) {
      timers.forEach(clearTimeout);
      this.emitQueue["delete"](event);
    }
    return this;
  },
  emit: function emit(event) {
    var _this = this;
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    this.list.has(event) && this.list.get(event).forEach(function(callback) {
      var timer = setTimeout(function() {
        callback.apply(void 0, args);
      }, 0);
      _this.emitQueue.has(event) || _this.emitQueue.set(event, []);
      _this.emitQueue.get(event).push(timer);
    });
  }
};
function useKeeper(arg, refresh) {
  if (refresh === void 0) {
    refresh = false;
  }
  var ref = react.exports.useRef(arg);
  react.exports.useEffect(function() {
    if (refresh)
      ref.current = arg;
  });
  return ref.current;
}
function reducer(state, action) {
  switch (action.type) {
    case 0:
      return [].concat(state, [action.toastId]).filter(function(id2) {
        return id2 !== action.staleId;
      });
    case 1:
      return isToastIdValid(action.toastId) ? state.filter(function(id2) {
        return id2 !== action.toastId;
      }) : [];
  }
}
function useToastContainer(props) {
  var _useReducer = react.exports.useReducer(function(x2) {
    return x2 + 1;
  }, 0), forceUpdate = _useReducer[1];
  var _useReducer2 = react.exports.useReducer(reducer, []), toast3 = _useReducer2[0], dispatch = _useReducer2[1];
  var containerRef = react.exports.useRef(null);
  var toastCount = useKeeper(0);
  var queue2 = useKeeper([]);
  var collection = useKeeper({});
  var instance = useKeeper({
    toastKey: 1,
    displayedToast: 0,
    props,
    containerId: null,
    isToastActive,
    getToast: function getToast2(id2) {
      return collection[id2] || null;
    }
  });
  react.exports.useEffect(function() {
    instance.containerId = props.containerId;
    eventManager.cancelEmit(
      3
    ).on(
      0,
      buildToast
    ).on(
      1,
      function(toastId) {
        return containerRef.current && removeToast(toastId);
      }
    ).on(
      5,
      clearWaitingQueue
    ).emit(
      2,
      instance
    );
    return function() {
      return eventManager.emit(
        3,
        instance
      );
    };
  }, []);
  react.exports.useEffect(function() {
    instance.isToastActive = isToastActive;
    instance.displayedToast = toast3.length;
    eventManager.emit(
      4,
      toast3.length,
      props.containerId
    );
  }, [toast3]);
  react.exports.useEffect(function() {
    instance.props = props;
  });
  function isToastActive(id2) {
    return toast3.indexOf(id2) !== -1;
  }
  function clearWaitingQueue(_ref) {
    var containerId = _ref.containerId;
    var limit = instance.props.limit;
    if (limit && (!containerId || instance.containerId === containerId)) {
      toastCount -= queue2.length;
      queue2 = [];
    }
  }
  function removeToast(toastId) {
    dispatch({
      type: 1,
      toastId
    });
  }
  function dequeueToast() {
    var _queue$shift = queue2.shift(), toastContent = _queue$shift.toastContent, toastProps = _queue$shift.toastProps, staleId = _queue$shift.staleId;
    appendToast(toastContent, toastProps, staleId);
  }
  function isNotValid(_ref2) {
    var containerId = _ref2.containerId, toastId = _ref2.toastId, updateId = _ref2.updateId;
    return !containerRef.current || instance.props.enableMultiContainer && containerId !== instance.props.containerId || collection[toastId] && updateId == null ? true : false;
  }
  function buildToast(content, _ref3) {
    var delay = _ref3.delay, staleId = _ref3.staleId, options = _objectWithoutPropertiesLoose(_ref3, ["delay", "staleId"]);
    if (!canBeRendered(content) || isNotValid(options))
      return;
    var toastId = options.toastId, updateId = options.updateId;
    var props2 = instance.props;
    var closeToast = function closeToast2() {
      return removeToast(toastId);
    };
    var isNotAnUpdate = options.updateId == null;
    if (isNotAnUpdate)
      toastCount++;
    var toastProps = {
      toastId,
      updateId,
      isIn: false,
      key: options.key || instance.toastKey++,
      type: options.type,
      closeToast,
      closeButton: options.closeButton,
      rtl: props2.rtl,
      position: options.position || props2.position,
      transition: options.transition || props2.transition,
      className: parseClassName(options.className || props2.toastClassName),
      bodyClassName: parseClassName(options.bodyClassName || props2.bodyClassName),
      style: options.style || props2.toastStyle,
      bodyStyle: options.bodyStyle || props2.bodyStyle,
      onClick: options.onClick || props2.onClick,
      pauseOnHover: isBool(options.pauseOnHover) ? options.pauseOnHover : props2.pauseOnHover,
      pauseOnFocusLoss: isBool(options.pauseOnFocusLoss) ? options.pauseOnFocusLoss : props2.pauseOnFocusLoss,
      draggable: isBool(options.draggable) ? options.draggable : props2.draggable,
      draggablePercent: isNum(options.draggablePercent) ? options.draggablePercent : props2.draggablePercent,
      draggableDirection: options.draggableDirection || props2.draggableDirection,
      closeOnClick: isBool(options.closeOnClick) ? options.closeOnClick : props2.closeOnClick,
      progressClassName: parseClassName(options.progressClassName || props2.progressClassName),
      progressStyle: options.progressStyle || props2.progressStyle,
      autoClose: getAutoCloseDelay(options.autoClose, props2.autoClose),
      hideProgressBar: isBool(options.hideProgressBar) ? options.hideProgressBar : props2.hideProgressBar,
      progress: options.progress,
      role: isStr(options.role) ? options.role : props2.role,
      deleteToast: function deleteToast() {
        removeFromCollection(toastId);
      }
    };
    if (isFn(options.onOpen))
      toastProps.onOpen = options.onOpen;
    if (isFn(options.onClose))
      toastProps.onClose = options.onClose;
    if (toastProps.draggableDirection === "y" && toastProps.draggablePercent === 80) {
      toastProps.draggablePercent *= 1.5;
    }
    var closeButton = props2.closeButton;
    if (options.closeButton === false || canBeRendered(options.closeButton)) {
      closeButton = options.closeButton;
    } else if (options.closeButton === true) {
      closeButton = canBeRendered(props2.closeButton) ? props2.closeButton : true;
    }
    toastProps.closeButton = closeButton;
    var toastContent = content;
    if (react.exports.isValidElement(content) && !isStr(content.type)) {
      toastContent = react.exports.cloneElement(content, {
        closeToast,
        toastProps
      });
    } else if (isFn(content)) {
      toastContent = content({
        closeToast,
        toastProps
      });
    }
    if (props2.limit && props2.limit > 0 && toastCount > props2.limit && isNotAnUpdate) {
      queue2.push({
        toastContent,
        toastProps,
        staleId
      });
    } else if (isNum(delay) && delay > 0) {
      setTimeout(function() {
        appendToast(toastContent, toastProps, staleId);
      }, delay);
    } else {
      appendToast(toastContent, toastProps, staleId);
    }
  }
  function appendToast(content, toastProps, staleId) {
    var toastId = toastProps.toastId;
    if (staleId)
      delete collection[staleId];
    collection[toastId] = {
      content,
      props: toastProps
    };
    dispatch({
      type: 0,
      toastId,
      staleId
    });
  }
  function removeFromCollection(toastId) {
    delete collection[toastId];
    var queueLen = queue2.length;
    toastCount = isToastIdValid(toastId) ? toastCount - 1 : toastCount - instance.displayedToast;
    if (toastCount < 0)
      toastCount = 0;
    if (queueLen > 0) {
      var freeSlot = isToastIdValid(toastId) ? 1 : instance.props.limit;
      if (queueLen === 1 || freeSlot === 1) {
        instance.displayedToast++;
        dequeueToast();
      } else {
        var toDequeue = freeSlot > queueLen ? queueLen : freeSlot;
        instance.displayedToast = toDequeue;
        for (var i2 = 0; i2 < toDequeue; i2++) {
          dequeueToast();
        }
      }
    } else {
      forceUpdate();
    }
  }
  function getToastToRender(cb2) {
    var toastToRender = {};
    var toastList = props.newestOnTop ? Object.keys(collection).reverse() : Object.keys(collection);
    for (var i2 = 0; i2 < toastList.length; i2++) {
      var _toast = collection[toastList[i2]];
      var position = _toast.props.position;
      toastToRender[position] || (toastToRender[position] = []);
      toastToRender[position].push(_toast);
    }
    return Object.keys(toastToRender).map(function(p2) {
      return cb2(p2, toastToRender[p2]);
    });
  }
  return {
    getToastToRender,
    collection,
    containerRef,
    isToastActive
  };
}
function getX(e) {
  return e.targetTouches && e.targetTouches.length >= 1 ? e.targetTouches[0].clientX : e.clientX;
}
function getY(e) {
  return e.targetTouches && e.targetTouches.length >= 1 ? e.targetTouches[0].clientY : e.clientY;
}
function useToast(props) {
  var _useState = react.exports.useState(true), isRunning = _useState[0], setIsRunning = _useState[1];
  var _useState2 = react.exports.useState(false), preventExitTransition = _useState2[0], setPreventExitTransition = _useState2[1];
  var toastRef = react.exports.useRef(null);
  var drag = useKeeper({
    start: 0,
    x: 0,
    y: 0,
    delta: 0,
    removalDistance: 0,
    canCloseOnClick: true,
    canDrag: false,
    boundingRect: null
  });
  var syncProps = useKeeper(props, true);
  var autoClose = props.autoClose, pauseOnHover = props.pauseOnHover, closeToast = props.closeToast, onClick = props.onClick, closeOnClick = props.closeOnClick;
  react.exports.useEffect(function() {
    if (isFn(props.onOpen))
      props.onOpen(react.exports.isValidElement(props.children) && props.children.props);
    return function() {
      if (isFn(syncProps.onClose))
        syncProps.onClose(react.exports.isValidElement(syncProps.children) && syncProps.children.props);
    };
  }, []);
  react.exports.useEffect(function() {
    props.draggable && bindDragEvents();
    return function() {
      props.draggable && unbindDragEvents();
    };
  }, [props.draggable]);
  react.exports.useEffect(function() {
    props.pauseOnFocusLoss && bindFocusEvents();
    return function() {
      props.pauseOnFocusLoss && unbindFocusEvents();
    };
  }, [props.pauseOnFocusLoss]);
  function onDragStart(e) {
    if (props.draggable) {
      var toast3 = toastRef.current;
      drag.canCloseOnClick = true;
      drag.canDrag = true;
      drag.boundingRect = toast3.getBoundingClientRect();
      toast3.style.transition = "";
      drag.x = getX(e.nativeEvent);
      drag.y = getY(e.nativeEvent);
      if (props.draggableDirection === "x") {
        drag.start = drag.x;
        drag.removalDistance = toast3.offsetWidth * (props.draggablePercent / 100);
      } else {
        drag.start = drag.y;
        drag.removalDistance = toast3.offsetHeight * (props.draggablePercent / 100);
      }
    }
  }
  function onDragTransitionEnd() {
    if (drag.boundingRect) {
      var _drag$boundingRect = drag.boundingRect, top = _drag$boundingRect.top, bottom = _drag$boundingRect.bottom, left = _drag$boundingRect.left, right = _drag$boundingRect.right;
      if (props.pauseOnHover && drag.x >= left && drag.x <= right && drag.y >= top && drag.y <= bottom) {
        pauseToast();
      } else {
        playToast();
      }
    }
  }
  function playToast() {
    setIsRunning(true);
  }
  function pauseToast() {
    setIsRunning(false);
  }
  function bindFocusEvents() {
    if (!document.hasFocus())
      pauseToast();
    window.addEventListener("focus", playToast);
    window.addEventListener("blur", pauseToast);
  }
  function unbindFocusEvents() {
    window.removeEventListener("focus", playToast);
    window.removeEventListener("blur", pauseToast);
  }
  function bindDragEvents() {
    document.addEventListener("mousemove", onDragMove);
    document.addEventListener("mouseup", onDragEnd);
    document.addEventListener("touchmove", onDragMove);
    document.addEventListener("touchend", onDragEnd);
  }
  function unbindDragEvents() {
    document.removeEventListener("mousemove", onDragMove);
    document.removeEventListener("mouseup", onDragEnd);
    document.removeEventListener("touchmove", onDragMove);
    document.removeEventListener("touchend", onDragEnd);
  }
  function onDragMove(e) {
    if (drag.canDrag) {
      e.preventDefault();
      var toast3 = toastRef.current;
      if (isRunning)
        pauseToast();
      drag.x = getX(e);
      drag.y = getY(e);
      if (props.draggableDirection === "x") {
        drag.delta = drag.x - drag.start;
      } else {
        drag.delta = drag.y - drag.start;
      }
      if (drag.start !== drag.x)
        drag.canCloseOnClick = false;
      toast3.style.transform = "translate" + props.draggableDirection + "(" + drag.delta + "px)";
      toast3.style.opacity = "" + (1 - Math.abs(drag.delta / drag.removalDistance));
    }
  }
  function onDragEnd() {
    var toast3 = toastRef.current;
    if (drag.canDrag) {
      drag.canDrag = false;
      if (Math.abs(drag.delta) > drag.removalDistance) {
        setPreventExitTransition(true);
        props.closeToast();
        return;
      }
      toast3.style.transition = "transform 0.2s, opacity 0.2s";
      toast3.style.transform = "translate" + props.draggableDirection + "(0)";
      toast3.style.opacity = "1";
    }
  }
  var eventHandlers = {
    onMouseDown: onDragStart,
    onTouchStart: onDragStart,
    onMouseUp: onDragTransitionEnd,
    onTouchEnd: onDragTransitionEnd
  };
  if (autoClose && pauseOnHover) {
    eventHandlers.onMouseEnter = pauseToast;
    eventHandlers.onMouseLeave = playToast;
  }
  if (closeOnClick) {
    eventHandlers.onClick = function(e) {
      onClick && onClick(e);
      drag.canCloseOnClick && closeToast();
    };
  }
  return {
    playToast,
    pauseToast,
    isRunning,
    preventExitTransition,
    toastRef,
    eventHandlers
  };
}
function CloseButton(_ref) {
  var closeToast = _ref.closeToast, type = _ref.type, _ref$ariaLabel = _ref.ariaLabel, ariaLabel = _ref$ariaLabel === void 0 ? "close" : _ref$ariaLabel;
  return react.exports.createElement("button", {
    className: "Toastify__close-button Toastify__close-button--" + type,
    type: "button",
    onClick: function onClick(e) {
      e.stopPropagation();
      closeToast(e);
    },
    "aria-label": ariaLabel
  }, react.exports.createElement("svg", {
    "aria-hidden": "true",
    viewBox: "0 0 14 16"
  }, react.exports.createElement("path", {
    fillRule: "evenodd",
    d: "M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"
  })));
}
function ProgressBar(_ref) {
  var _cx, _animationEvent;
  var delay = _ref.delay, isRunning = _ref.isRunning, closeToast = _ref.closeToast, type = _ref.type, hide = _ref.hide, className = _ref.className, userStyle = _ref.style, controlledProgress = _ref.controlledProgress, progress = _ref.progress, rtl = _ref.rtl, isIn = _ref.isIn;
  var style = _extends({}, userStyle, {
    animationDuration: delay + "ms",
    animationPlayState: isRunning ? "running" : "paused",
    opacity: hide ? 0 : 1
  });
  if (controlledProgress)
    style.transform = "scaleX(" + progress + ")";
  var defaultClassName = clsx("Toastify__progress-bar", controlledProgress ? "Toastify__progress-bar--controlled" : "Toastify__progress-bar--animated", "Toastify__progress-bar--" + type, (_cx = {}, _cx["Toastify__progress-bar--rtl"] = rtl, _cx));
  var classNames = isFn(className) ? className({
    rtl,
    type,
    defaultClassName
  }) : clsx(defaultClassName, className);
  var animationEvent = (_animationEvent = {}, _animationEvent[controlledProgress && progress >= 1 ? "onTransitionEnd" : "onAnimationEnd"] = controlledProgress && progress < 1 ? null : function() {
    isIn && closeToast();
  }, _animationEvent);
  return react.exports.createElement("div", Object.assign({
    role: "progressbar",
    "aria-hidden": hide ? "true" : "false",
    "aria-label": "notification timer",
    className: classNames,
    style
  }, animationEvent));
}
ProgressBar.defaultProps = {
  type: TYPE$2.DEFAULT,
  hide: false
};
var Toast = function Toast2(props) {
  var _cx;
  var _useToast = useToast(props), isRunning = _useToast.isRunning, preventExitTransition = _useToast.preventExitTransition, toastRef = _useToast.toastRef, eventHandlers = _useToast.eventHandlers;
  var closeButton = props.closeButton, children = props.children, autoClose = props.autoClose, onClick = props.onClick, type = props.type, hideProgressBar = props.hideProgressBar, closeToast = props.closeToast, Transition = props.transition, position = props.position, className = props.className, style = props.style, bodyClassName = props.bodyClassName, bodyStyle = props.bodyStyle, progressClassName = props.progressClassName, progressStyle = props.progressStyle, updateId = props.updateId, role = props.role, progress = props.progress, rtl = props.rtl, toastId = props.toastId, deleteToast = props.deleteToast, isIn = props.isIn;
  var defaultClassName = clsx("Toastify__toast", "Toastify__toast--" + type, (_cx = {}, _cx["Toastify__toast--rtl"] = rtl, _cx));
  var cssClasses = isFn(className) ? className({
    rtl,
    position,
    type,
    defaultClassName
  }) : clsx(defaultClassName, className);
  var isProgressControlled = !!progress;
  function renderCloseButton(closeButton2) {
    if (!closeButton2)
      return;
    var props2 = {
      closeToast,
      type
    };
    if (isFn(closeButton2))
      return closeButton2(props2);
    if (react.exports.isValidElement(closeButton2))
      return react.exports.cloneElement(closeButton2, props2);
  }
  return react.exports.createElement(Transition, {
    isIn,
    done: deleteToast,
    position,
    preventExitTransition,
    nodeRef: toastRef
  }, react.exports.createElement("div", Object.assign({
    id: toastId,
    onClick,
    className: cssClasses
  }, eventHandlers, {
    style,
    ref: toastRef
  }), react.exports.createElement("div", Object.assign({}, isIn && {
    role
  }, {
    className: isFn(bodyClassName) ? bodyClassName({
      type
    }) : clsx("Toastify__toast-body", bodyClassName),
    style: bodyStyle
  }), children), renderCloseButton(closeButton), (autoClose || isProgressControlled) && react.exports.createElement(ProgressBar, Object.assign({}, updateId && !isProgressControlled ? {
    key: "pb-" + updateId
  } : {}, {
    rtl,
    delay: autoClose,
    isRunning,
    isIn,
    closeToast,
    hide: hideProgressBar,
    type,
    style: progressStyle,
    className: progressClassName,
    controlledProgress: isProgressControlled,
    progress
  }))));
};
var Bounce = /* @__PURE__ */ cssTransition({
  enter: "Toastify--animate Toastify__bounce-enter",
  exit: "Toastify--animate Toastify__bounce-exit",
  appendPosition: true
});
var Slide = /* @__PURE__ */ cssTransition({
  enter: "Toastify--animate Toastify__slide-enter",
  exit: "Toastify--animate Toastify__slide-exit",
  appendPosition: true
});
var Zoom = /* @__PURE__ */ cssTransition({
  enter: "Toastify--animate Toastify__zoom-enter",
  exit: "Toastify--animate Toastify__zoom-exit"
});
var Flip = /* @__PURE__ */ cssTransition({
  enter: "Toastify--animate Toastify__flip-enter",
  exit: "Toastify--animate Toastify__flip-exit"
});
var ToastContainer = function ToastContainer2(props) {
  var _useToastContainer = useToastContainer(props), getToastToRender = _useToastContainer.getToastToRender, containerRef = _useToastContainer.containerRef, isToastActive = _useToastContainer.isToastActive;
  var className = props.className, style = props.style, rtl = props.rtl, containerId = props.containerId;
  function getClassName(position) {
    var _cx;
    var defaultClassName = clsx("Toastify__toast-container", "Toastify__toast-container--" + position, (_cx = {}, _cx["Toastify__toast-container--rtl"] = rtl, _cx));
    return isFn(className) ? className({
      position,
      rtl,
      defaultClassName
    }) : clsx(defaultClassName, parseClassName(className));
  }
  return react.exports.createElement("div", {
    ref: containerRef,
    className: "Toastify",
    id: containerId
  }, getToastToRender(function(position, toastList) {
    var containerStyle = toastList.length === 0 ? _extends({}, style, {
      pointerEvents: "none"
    }) : _extends({}, style);
    return react.exports.createElement("div", {
      className: getClassName(position),
      style: containerStyle,
      key: "container-" + position
    }, toastList.map(function(_ref) {
      var content = _ref.content, toastProps = _ref.props;
      return react.exports.createElement(Toast, Object.assign({}, toastProps, {
        isIn: isToastActive(toastProps.toastId),
        key: "toast-" + toastProps.key,
        closeButton: toastProps.closeButton === true ? CloseButton : toastProps.closeButton
      }), content);
    }));
  }));
};
ToastContainer.defaultProps = {
  position: POSITION.TOP_RIGHT,
  transition: Bounce,
  rtl: false,
  autoClose: 5e3,
  hideProgressBar: false,
  closeButton: CloseButton,
  pauseOnHover: true,
  pauseOnFocusLoss: true,
  closeOnClick: true,
  newestOnTop: false,
  draggable: true,
  draggablePercent: 80,
  draggableDirection: "x",
  role: "alert"
};
var containers = /* @__PURE__ */ new Map();
var latestInstance;
var containerDomNode;
var containerConfig;
var queue = [];
var lazy = false;
function isAnyContainerMounted() {
  return containers.size > 0;
}
function getToast(toastId, _ref) {
  var containerId = _ref.containerId;
  var container = containers.get(containerId || latestInstance);
  if (!container)
    return null;
  return container.getToast(toastId);
}
function generateToastId() {
  return Math.random().toString(36).substr(2, 9);
}
function getToastId(options) {
  if (options && (isStr(options.toastId) || isNum(options.toastId))) {
    return options.toastId;
  }
  return generateToastId();
}
function dispatchToast(content, options) {
  if (isAnyContainerMounted()) {
    eventManager.emit(
      0,
      content,
      options
    );
  } else {
    queue.push({
      content,
      options
    });
    if (lazy && canUseDom) {
      lazy = false;
      containerDomNode = document.createElement("div");
      document.body.appendChild(containerDomNode);
      reactDom$1.exports.render(react.exports.createElement(ToastContainer, Object.assign({}, containerConfig)), containerDomNode);
    }
  }
  return options.toastId;
}
function mergeOptions(type, options) {
  return _extends({}, options, {
    type: options && options.type || type,
    toastId: getToastId(options)
  });
}
var createToastByType = function createToastByType2(type) {
  return function(content, options) {
    return dispatchToast(content, mergeOptions(type, options));
  };
};
var toast = function toast2(content, options) {
  return dispatchToast(content, mergeOptions(TYPE$2.DEFAULT, options));
};
toast.success = /* @__PURE__ */ createToastByType(TYPE$2.SUCCESS);
toast.info = /* @__PURE__ */ createToastByType(TYPE$2.INFO);
toast.error = /* @__PURE__ */ createToastByType(TYPE$2.ERROR);
toast.warning = /* @__PURE__ */ createToastByType(TYPE$2.WARNING);
toast.dark = /* @__PURE__ */ createToastByType(TYPE$2.DARK);
toast.warn = toast.warning;
toast.dismiss = function(id2) {
  return eventManager.emit(
    1,
    id2
  );
};
toast.clearWaitingQueue = function(params) {
  if (params === void 0) {
    params = {};
  }
  return eventManager.emit(
    5,
    params
  );
};
toast.isActive = function(id2) {
  var isToastActive = false;
  containers.forEach(function(container) {
    if (container.isToastActive && container.isToastActive(id2)) {
      isToastActive = true;
    }
  });
  return isToastActive;
};
toast.update = function(toastId, options) {
  if (options === void 0) {
    options = {};
  }
  setTimeout(function() {
    var toast3 = getToast(toastId, options);
    if (toast3) {
      var oldOptions = toast3.props, oldContent = toast3.content;
      var nextOptions = _extends({}, oldOptions, options, {
        toastId: options.toastId || toastId,
        updateId: generateToastId()
      });
      if (nextOptions.toastId !== toastId)
        nextOptions.staleId = toastId;
      var content = nextOptions.render || oldContent;
      delete nextOptions.render;
      dispatchToast(content, nextOptions);
    }
  }, 0);
};
toast.done = function(id2) {
  toast.update(id2, {
    progress: 1
  });
};
toast.onChange = function(callback) {
  if (isFn(callback)) {
    eventManager.on(
      4,
      callback
    );
  }
  return function() {
    isFn(callback) && eventManager.off(
      4,
      callback
    );
  };
};
toast.configure = function(config) {
  if (config === void 0) {
    config = {};
  }
  lazy = true;
  containerConfig = config;
};
toast.POSITION = POSITION;
toast.TYPE = TYPE$2;
eventManager.on(
  2,
  function(containerInstance) {
    latestInstance = containerInstance.containerId || containerInstance;
    containers.set(latestInstance, containerInstance);
    queue.forEach(function(item) {
      eventManager.emit(
        0,
        item.content,
        item.options
      );
    });
    queue = [];
  }
).on(
  3,
  function(containerInstance) {
    containers["delete"](containerInstance.containerId || containerInstance);
    if (containers.size === 0) {
      eventManager.off(
        0
      ).off(
        1
      ).off(
        5
      );
    }
    if (canUseDom && containerDomNode) {
      document.body.removeChild(containerDomNode);
    }
  }
);
var ReactToastify = "";
function K2VerifyHomePage() {
  const navigate = useNavigate();
  window.k2api = window.k2api || window.parent.k2api;
  const t3 = window.k2api.i18n.translate;
  const [taskRows, setTaskRows] = react.exports.useState([]);
  const [deleteCandidate, setDeleteCandidate] = react.exports.useState(null);
  const [playError, setPlayError] = react.exports.useState(null);
  const {
    fetchData: fetchTaskData,
    loading: fetchLoading,
    error: fetchError
  } = useFetchData("/api/fabric-command?command=broadway%20K2Verify.bwK2VerifyTasks%20mode%20=%20'Active'%20RESULT_STRUCTURE=CURSOR");
  const {
    activeTaskIds
  } = useActiveTasksPolling(3e3);
  react.exports.useEffect(() => {
    let isMounted = true;
    (async () => {
      try {
        const data2 = await fetchTaskData();
        if (isMounted)
          setTaskRows(data2);
      } catch (err2) {
        toast.error((err2 == null ? void 0 : err2.message) || t3("k2verifyHome.toasts.loadFailed"));
      }
    })();
    return () => {
      isMounted = false;
    };
  }, [fetchTaskData]);
  react.exports.useEffect(() => {
    if (fetchError)
      toast.error((fetchError == null ? void 0 : fetchError.message) || t3("k2verifyHome.toasts.loadFailed"));
  }, [fetchError]);
  const columns = [{
    header: "Task Id",
    accessorKey: "task_id",
    size: 120,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      row,
      value
    }) => /* @__PURE__ */ jsx(Link, {
      to: "/task",
      state: {
        task_id: value,
        properties: row.original.properties
      },
      style: {
        color: "#1483F3",
        textDecoration: "none"
      },
      children: value
    })
  }, {
    header: "Task Title",
    accessorKey: "task_title",
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      row,
      value
    }) => /* @__PURE__ */ jsx(Link, {
      to: "/task",
      state: {
        task_id: row.original.task_id,
        properties: row.original.properties
      },
      style: {
        color: "#1483F3",
        textDecoration: "none"
      },
      children: value
    })
  }, {
    header: "Source Interface",
    accessorKey: "source_interface",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Target Interface",
    accessorKey: "target_interface",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Created By",
    accessorKey: "created_by",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Created At",
    accessorKey: "created_at",
    enableSorting: true,
    enableColumnFilter: true
  }];
  const handleExecution = react.exports.useCallback(async (row) => {
    try {
      const task_id = row == null ? void 0 : row["task_id"];
      if (!task_id)
        return void toast.error(t3("k2verifyHome.toasts.missingTaskId"));
      const validateCmd = `broadway K2Verify.bwK2VerifyValidateMTable task_id='${task_id}';`;
      try {
        await runFabricCommand(validateCmd);
      } catch (ve2) {
        setPlayError((ve2 == null ? void 0 : ve2.message) || t3("k2verifyHome.toasts.validationFailed") || "Validation failed");
        return;
      }
      const argsStr = JSON.stringify({
        task_id
      });
      const command = `startjob BROADWAY_JOB name='K2Verify.bwHandleTaskExecution' args='${argsStr}';`;
      await runFabricCommand(command);
      navigate(`/execution/${encodeURIComponent(task_id)}`, {
        state: {
          task_id
        }
      });
    } catch (err2) {
      toast.error((err2 == null ? void 0 : err2.message) || t3("k2verifyHome.toasts.executionFailed"));
      console.error(err2);
    }
  }, [navigate]);
  const handleStopExecution = react.exports.useCallback(async (row) => {
    try {
      const task_id = row == null ? void 0 : row["task_id"];
      if (!task_id)
        return void toast.error(t3("k2verifyHome.toasts.missingTaskId"));
      const command = `broadway K2Verify.bwK2VerifyCancelTask task_id='${task_id}';`;
      await runFabricCommand(command);
    } catch (err2) {
      toast.error((err2 == null ? void 0 : err2.message) || t3("k2verifyHome.toasts.stopFailed"));
      console.error(err2);
    }
  }, []);
  const handleDeleteTask = react.exports.useCallback(async (row) => {
    try {
      const task_id = row == null ? void 0 : row["task_id"];
      if (!task_id)
        return void toast.error(t3("k2verifyHome.toasts.missingTaskId"));
      const command = `broadway K2Verify.bwK2VerifyDeleteTask task_id='${task_id}';`;
      await runFabricCommand(command);
      setTaskRows((prev) => prev.filter((tt2) => tt2.task_id !== task_id));
      toast.success(t3("k2verifyHome.toasts.deletedOk", {
        taskId: task_id
      }) || `Task ${task_id} deleted`);
    } catch (err2) {
      toast.error((err2 == null ? void 0 : err2.message) || t3("k2verifyHome.toasts.deleteFailed"));
      console.error(err2);
    }
  }, []);
  const handleRequestDelete = (row) => setDeleteCandidate(row);
  const handleConfirmDelete = async () => {
    if (deleteCandidate) {
      await handleDeleteTask(deleteCandidate);
      setDeleteCandidate(null);
    }
  };
  const handleCancelDelete = () => setDeleteCandidate(null);
  const handleOkPlayError = () => setPlayError(null);
  return /* @__PURE__ */ jsxs("div", {
    style: {
      marginBottom: "45px",
      marginLeft: "30px",
      marginRight: "30px",
      backgroundColor: "white",
      boxShadow: "0 4px 6px rgba(0,0,0,0.1)",
      borderRadius: "8px",
      padding: "24px",
      position: "relative"
    },
    children: [/* @__PURE__ */ jsx(ToastContainer, {
      position: "top-right",
      autoClose: 5e3,
      hideProgressBar: false,
      newestOnTop: true,
      closeOnClick: true,
      pauseOnHover: true,
      draggable: true,
      theme: "colored"
    }), /* @__PURE__ */ jsxs("div", {
      style: {
        display: "flex",
        marginTop: "5px",
        justifyContent: "space-between",
        alignItems: "center"
      },
      children: [/* @__PURE__ */ jsx("h1", {
        children: t3("k2verifyHome.title")
      }), /* @__PURE__ */ jsxs("button", {
        type: "button",
        className: "new-task-btn",
        onClick: () => navigate("/task"),
        children: [/* @__PURE__ */ jsx("span", {
          children: t3("k2verifyHome.newTask")
        }), /* @__PURE__ */ jsx("i", {
          className: "fa fa-plus"
        })]
      })]
    }), /* @__PURE__ */ jsx("hr", {
      style: {
        margin: "25px 0",
        border: "1px solid #EAEAEA"
      }
    }), /* @__PURE__ */ jsx(ReactTable, {
      data: taskRows,
      columns,
      taskParams: true,
      loading: fetchLoading,
      onPlay: (row) => handleExecution(row),
      onStop: (row) => handleStopExecution(row),
      onDelete: (row) => handleRequestDelete(row),
      initialPageSize: 10,
      activeTaskIds
    }), /* @__PURE__ */ jsx(DeleteConfirmModal, {
      taskId: deleteCandidate == null ? void 0 : deleteCandidate.task_id,
      onConfirm: handleConfirmDelete,
      onCancel: handleCancelDelete
    }), playError && /* @__PURE__ */ jsx("div", {
      style: {
        position: "fixed",
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        background: "rgba(0,0,0,0.4)",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        zIndex: 9999
      },
      children: /* @__PURE__ */ jsxs("div", {
        style: {
          background: "white",
          borderRadius: "8px",
          padding: "20px",
          width: "420px",
          boxShadow: "0 4px 10px rgba(0,0,0,0.2)"
        },
        children: [/* @__PURE__ */ jsx("h3", {
          style: {
            marginTop: 0
          },
          children: t3("k2verifyHome.validationErrorTitle") || "Validation Error"
        }), /* @__PURE__ */ jsx("div", {
          style: {
            margin: "12px 0",
            whiteSpace: "pre-wrap"
          },
          children: playError
        }), /* @__PURE__ */ jsx("div", {
          style: {
            display: "flex",
            justifyContent: "flex-end",
            marginTop: "16px"
          },
          children: /* @__PURE__ */ jsx("button", {
            type: "button",
            className: "new-task-btn",
            onClick: handleOkPlayError,
            children: /* @__PURE__ */ jsx("span", {
              children: t3("popup.ok") || "OK"
            })
          })
        })]
      })
    })]
  });
}
function TableMappingMultiSelect({
  params,
  mtableData,
  mtableLoading,
  mtableError,
  handleInputChange,
  className = "group2",
  title = "Tables"
}) {
  const srcIF = ((params == null ? void 0 : params.K2VERIFY_INTERFACE_SRC) || "").trim();
  const tarIF = ((params == null ? void 0 : params.K2VERIFY_INTERFACE_TAR) || "").trim();
  const srcSC = ((params == null ? void 0 : params.K2VERIFY_SCHEMA_SRC) || "").trim();
  const tarSC = ((params == null ? void 0 : params.K2VERIFY_SCHEMA_TAR) || "").trim();
  const currentList = Array.isArray(params == null ? void 0 : params.K2VERIFY_TABLE_LIST) ? params.K2VERIFY_TABLE_LIST : [];
  const haveFilters = !!(srcIF && tarIF && srcSC && tarSC);
  const mrows = Array.isArray(mtableData) ? mtableData : [];
  const mkKey = (s2, t3) => `${s2}__\u2192__${t3}`;
  const listHas = (list, pair) => list.some((p2) => p2.src === pair.src && p2.tar === pair.tar);
  const tablePairs = react.exports.useMemo(() => {
    if (!haveFilters)
      return [];
    const pairs = mrows.filter((r2) => r2.Source_Interface === srcIF && r2.Target_Interface === tarIF && r2.Source_Schema === srcSC && r2.Target_Schema === tarSC).map((r2) => ({
      src: r2.Source_Table_Name,
      tar: r2.Target_Table_Name,
      key: mkKey(r2.Source_Table_Name, r2.Target_Table_Name)
    }));
    const seen2 = /* @__PURE__ */ new Set();
    return pairs.filter((p2) => {
      if (seen2.has(p2.key))
        return false;
      seen2.add(p2.key);
      return true;
    });
  }, [mrows, srcIF, tarIF, srcSC, tarSC, haveFilters]);
  const [showSelectedOnly, setShowSelectedOnly] = react.exports.useState(false);
  const [filterOpen, setFilterOpen] = react.exports.useState({
    src: false,
    tar: false
  });
  const [filters, setFilters] = react.exports.useState({
    src: "",
    tar: ""
  });
  const toggleFilter = react.exports.useCallback((col) => {
    setFilterOpen((prev) => ({
      ...prev,
      [col]: !prev[col]
    }));
  }, []);
  const setFilterValue = react.exports.useCallback((col, val) => {
    setFilters((prev) => ({
      ...prev,
      [col]: val
    }));
  }, []);
  react.exports.useEffect(() => {
    if (!haveFilters)
      return;
    if (!currentList.length)
      return;
    const validKeys = new Set(tablePairs.map((p2) => p2.key));
    const pruned = currentList.filter((p2) => validKeys.has(mkKey(p2.src, p2.tar)));
    if (pruned.length !== currentList.length) {
      handleInputChange({
        target: {
          name: "K2VERIFY_TABLE_LIST",
          value: pruned
        }
      });
    }
  }, [tablePairs, haveFilters]);
  const updateList = react.exports.useCallback((nextList) => {
    handleInputChange({
      target: {
        name: "K2VERIFY_TABLE_LIST",
        value: nextList
      }
    });
  }, [handleInputChange]);
  const togglePair = react.exports.useCallback((pair) => {
    if (listHas(currentList, pair)) {
      updateList(currentList.filter((p2) => !(p2.src === pair.src && p2.tar === pair.tar)));
    } else {
      updateList([...currentList, {
        src: pair.src,
        tar: pair.tar
      }]);
    }
  }, [currentList, updateList]);
  const selectAll = react.exports.useCallback(() => {
    updateList(tablePairs.map((p2) => ({
      src: p2.src,
      tar: p2.tar
    })));
  }, [tablePairs, updateList]);
  const clearAll = react.exports.useCallback(() => updateList([]), [updateList]);
  const filteredPairs = react.exports.useMemo(() => {
    const srcNeedle = filters.src.trim().toLowerCase();
    const tarNeedle = filters.tar.trim().toLowerCase();
    return tablePairs.filter((p2) => {
      var _a2, _b2;
      const srcOk = srcNeedle ? (_a2 = p2.src) == null ? void 0 : _a2.toLowerCase().includes(srcNeedle) : true;
      const tarOk = tarNeedle ? (_b2 = p2.tar) == null ? void 0 : _b2.toLowerCase().includes(tarNeedle) : true;
      return srcOk && tarOk;
    });
  }, [tablePairs, filters.src, filters.tar]);
  const visiblePairs = react.exports.useMemo(() => {
    if (!showSelectedOnly)
      return filteredPairs;
    const selectedKeys = new Set(currentList.map((p2) => mkKey(p2.src, p2.tar)));
    return filteredPairs.filter((p2) => selectedKeys.has(p2.key));
  }, [showSelectedOnly, filteredPairs, currentList]);
  const checkedCount = currentList.length;
  return /* @__PURE__ */ jsxs("div", {
    className,
    children: [/* @__PURE__ */ jsxs("label", {
      className: "label",
      children: [title, /* @__PURE__ */ jsx("span", {
        className: "required",
        children: "*"
      })]
    }), !haveFilters ? /* @__PURE__ */ jsx("div", {
      className: "miniTableBox",
      children: /* @__PURE__ */ jsx("div", {
        className: "miniTableWrap miniTableWrapPlaceholder",
        children: /* @__PURE__ */ jsx("div", {
          style: {
            padding: "10px 8px",
            color: "#6b7280",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            height: "100%",
            textAlign: "center"
          },
          children: "Select Source/Target Interface and Schema to load table pairs."
        })
      })
    }) : mtableLoading ? /* @__PURE__ */ jsx("div", {
      className: "note",
      children: "Loading table mappings\u2026"
    }) : mtableError ? /* @__PURE__ */ jsx("div", {
      className: "error",
      children: "Error loading table mappings"
    }) : tablePairs.length === 0 ? /* @__PURE__ */ jsx("div", {
      className: "miniTableBox",
      children: /* @__PURE__ */ jsx("div", {
        style: {
          padding: "10px 8px",
          color: "#6b7280"
        },
        children: "No table pairs found for the chosen interface + schema combination."
      })
    }) : /* @__PURE__ */ jsxs("div", {
      className: "miniTableBox",
      children: [/* @__PURE__ */ jsxs("div", {
        className: "miniTableActions",
        children: [/* @__PURE__ */ jsx("button", {
          type: "button",
          className: "btn btnAll",
          onClick: selectAll,
          children: "Select all"
        }), /* @__PURE__ */ jsx("button", {
          type: "button",
          className: "btn btnClearAll",
          onClick: clearAll,
          children: "Clear all"
        }), /* @__PURE__ */ jsxs("label", {
          style: {
            display: "inline-flex",
            alignItems: "center",
            gap: 6,
            marginLeft: 8,
            cursor: "pointer",
            userSelect: "none",
            fontSize: "0.9rem",
            color: "#374151",
            whiteSpace: "nowrap"
          },
          title: "Show only selected table pairs",
          children: [/* @__PURE__ */ jsx("input", {
            type: "checkbox",
            checked: showSelectedOnly,
            onChange: () => setShowSelectedOnly((v2) => !v2)
          }), "Show selected only"]
        }), /* @__PURE__ */ jsxs("span", {
          style: {
            marginLeft: "auto",
            fontSize: "0.9rem"
          },
          children: ["Selected: ", /* @__PURE__ */ jsx("strong", {
            children: checkedCount
          }), " / ", tablePairs.length]
        })]
      }), /* @__PURE__ */ jsx("div", {
        className: "miniTableWrap",
        children: /* @__PURE__ */ jsxs("table", {
          className: "miniTable",
          children: [/* @__PURE__ */ jsx("thead", {
            children: /* @__PURE__ */ jsxs("tr", {
              children: [/* @__PURE__ */ jsx("th", {
                style: {
                  width: 36
                }
              }), /* @__PURE__ */ jsxs("th", {
                children: [/* @__PURE__ */ jsxs("div", {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "space-between",
                    gap: 6
                  },
                  children: [/* @__PURE__ */ jsx("span", {
                    style: {
                      whiteSpace: "nowrap"
                    },
                    children: "Source table"
                  }), /* @__PURE__ */ jsx("img", {
                    src: filterOpen.src ? filterOn : filterOff,
                    alt: filterOpen.src ? "Filter On" : "Filter Off",
                    title: "Filter Source",
                    className: "icons",
                    style: {
                      cursor: "pointer",
                      width: 16,
                      height: 16
                    },
                    onClick: () => toggleFilter("src")
                  })]
                }), filterOpen.src && /* @__PURE__ */ jsx("div", {
                  style: {
                    marginTop: 6
                  },
                  children: /* @__PURE__ */ jsx("input", {
                    className: "k2-table-input",
                    placeholder: "Search source\u2026",
                    value: filters.src,
                    onChange: (e) => setFilterValue("src", e.target.value),
                    autoFocus: true
                  })
                })]
              }), /* @__PURE__ */ jsxs("th", {
                children: [/* @__PURE__ */ jsxs("div", {
                  style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "space-between",
                    gap: 6
                  },
                  children: [/* @__PURE__ */ jsx("span", {
                    style: {
                      whiteSpace: "nowrap"
                    },
                    children: "Target table"
                  }), /* @__PURE__ */ jsx("img", {
                    src: filterOpen.tar ? filterOn : filterOff,
                    alt: filterOpen.tar ? "Filter On" : "Filter Off",
                    title: "Filter Target",
                    className: "icons",
                    style: {
                      cursor: "pointer",
                      width: 16,
                      height: 16
                    },
                    onClick: () => toggleFilter("tar")
                  })]
                }), filterOpen.tar && /* @__PURE__ */ jsx("div", {
                  style: {
                    marginTop: 6
                  },
                  children: /* @__PURE__ */ jsx("input", {
                    className: "k2-table-input",
                    placeholder: "Search target\u2026",
                    value: filters.tar,
                    onChange: (e) => setFilterValue("tar", e.target.value)
                  })
                })]
              })]
            })
          }), /* @__PURE__ */ jsxs("tbody", {
            children: [visiblePairs.map((p2) => {
              const checked = listHas(currentList, p2);
              return /* @__PURE__ */ jsxs("tr", {
                children: [/* @__PURE__ */ jsx("td", {
                  children: /* @__PURE__ */ jsx("input", {
                    type: "checkbox",
                    checked,
                    onChange: () => togglePair(p2)
                  })
                }), /* @__PURE__ */ jsx("td", {
                  children: p2.src
                }), /* @__PURE__ */ jsx("td", {
                  children: p2.tar
                })]
              }, p2.key);
            }), visiblePairs.length === 0 && /* @__PURE__ */ jsx("tr", {
              children: /* @__PURE__ */ jsx("td", {
                colSpan: 3,
                style: {
                  padding: 12,
                  color: "#6b7280"
                },
                children: showSelectedOnly ? "No selected pairs to display." : "No pairs match your filter(s)."
              })
            })]
          })]
        })
      })]
    })]
  });
}
function K2VerifyTaskOptions({
  params,
  mtableData,
  mtableLoading,
  mtableError,
  handleInputChange,
  handleReset,
  handleCancel,
  handleExecution
}) {
  var _a2;
  window.k2api = window.k2api || window.parent.k2api;
  const t3 = window.k2api.i18n.translate;
  const tablesRequiredRef = react.exports.useRef(null);
  const selectedSrc = (params.K2VERIFY_INTERFACE_SRC || "").trim();
  const selectedTar = (params.K2VERIFY_INTERFACE_TAR || "").trim();
  const selectedSrcSchema = (params.K2VERIFY_SCHEMA_SRC || "").trim();
  const selectedTarSchema = (params.K2VERIFY_SCHEMA_TAR || "").trim();
  const tablePickerVisible = !!(selectedSrc && selectedTar && selectedSrcSchema && selectedTarSchema);
  const tablesChosenCount = Array.isArray(params.K2VERIFY_TABLE_LIST) ? params.K2VERIFY_TABLE_LIST.length : 0;
  react.exports.useEffect(() => {
    const el2 = tablesRequiredRef.current;
    if (!el2)
      return;
    if (!tablePickerVisible) {
      el2.required = false;
      el2.setCustomValidity("");
      return;
    }
    el2.required = true;
    el2.setCustomValidity(tablesChosenCount === 0 ? t3("k2verifyTaskOptions.validation.selectAtLeastOnePair") : "");
  }, [tablePickerVisible, tablesChosenCount]);
  const preventFormSubmission = (e) => e.preventDefault();
  const preventEnterSubmission = (e) => {
    if (e.key === "Enter" && e.target.tagName !== "TEXTAREA")
      e.preventDefault();
  };
  const handleRunProcess = () => {
    const form = document.querySelector("form");
    if (!form.checkValidity()) {
      form.reportValidity();
      return;
    }
    handleExecution();
  };
  const allowedSourceSet = selectedTar ? new Set(mtableData.filter((r2) => r2.Target_Interface === selectedTar).map((r2) => r2.Source_Interface)) : null;
  const allowedTargetSet = selectedSrc ? new Set(mtableData.filter((r2) => r2.Source_Interface === selectedSrc).map((r2) => r2.Target_Interface)) : null;
  const allSourceInterfaces = react.exports.useMemo(() => {
    if (!Array.isArray(mtableData))
      return [];
    return Array.from(new Set(mtableData.map((r2) => r2.Source_Interface).filter((v2) => typeof v2 === "string" && v2.trim()))).sort();
  }, [mtableData]);
  const allTargetInterfaces = react.exports.useMemo(() => {
    if (!Array.isArray(mtableData))
      return [];
    return Array.from(new Set(mtableData.map((r2) => r2.Target_Interface).filter((v2) => typeof v2 === "string" && v2.trim()))).sort();
  }, [mtableData]);
  const filteredSourceInterfaces = react.exports.useMemo(() => {
    if (!allowedSourceSet)
      return allSourceInterfaces;
    return allSourceInterfaces.filter((i2) => allowedSourceSet.has(i2));
  }, [allSourceInterfaces, allowedSourceSet]);
  const filteredTargetInterfaces = react.exports.useMemo(() => {
    if (!allowedTargetSet)
      return allTargetInterfaces;
    return allTargetInterfaces.filter((i2) => allowedTargetSet.has(i2));
  }, [allTargetInterfaces, allowedTargetSet]);
  const srcSchemas = react.exports.useMemo(() => {
    var _a3;
    if (!((_a3 = params.K2VERIFY_INTERFACE_SRC) == null ? void 0 : _a3.trim()))
      return [];
    return [...new Set(mtableData.filter((r2) => r2.Source_Interface === selectedSrc).map((r2) => r2.Source_Schema))];
  }, [mtableData, selectedSrc, params.K2VERIFY_INTERFACE_SRC]);
  const tarSchemas = react.exports.useMemo(() => {
    var _a3;
    if (!((_a3 = params.K2VERIFY_INTERFACE_TAR) == null ? void 0 : _a3.trim()))
      return [];
    return [...new Set(mtableData.filter((r2) => r2.Target_Interface === selectedTar).map((r2) => r2.Target_Schema))];
  }, [mtableData, selectedTar, params.K2VERIFY_INTERFACE_TAR]);
  return /* @__PURE__ */ jsxs("form", {
    className: "card",
    onSubmit: preventFormSubmission,
    onKeyDown: preventEnterSubmission,
    noValidate: false,
    children: [/* @__PURE__ */ jsx("h1", {
      children: t3("k2verifyTaskOptions.title")
    }), /* @__PURE__ */ jsx("hr", {
      style: {
        margin: "25px 0",
        border: "1px solid #EAEAEA",
        color: "#EAEAEA"
      }
    }), /* @__PURE__ */ jsxs("div", {
      className: "splitLayout",
      children: [/* @__PURE__ */ jsxs("section", {
        className: "splitLeft",
        children: [/* @__PURE__ */ jsxs("div", {
          className: "group2",
          children: [/* @__PURE__ */ jsxs("label", {
            className: "label",
            htmlFor: "K2VERIFY_TASK_TITLE",
            children: [t3("k2verifyTaskOptions.taskTitleLabel"), /* @__PURE__ */ jsx("span", {
              className: "required",
              children: "*"
            })]
          }), /* @__PURE__ */ jsx("input", {
            id: "K2VERIFY_TASK_TITLE",
            name: "K2VERIFY_TASK_TITLE",
            className: "input",
            type: "text",
            value: params.K2VERIFY_TASK_TITLE,
            onChange: handleInputChange,
            placeholder: t3("k2verifyTaskOptions.taskTitlePlaceholder"),
            required: true
          })]
        }), /* @__PURE__ */ jsxs("div", {
          className: "group2",
          children: [/* @__PURE__ */ jsx("label", {
            className: "label",
            htmlFor: "K2VERIFY_TASK_DESCRIPTION",
            children: t3("k2verifyTaskOptions.taskDescriptionLabel")
          }), /* @__PURE__ */ jsx("textarea", {
            id: "K2VERIFY_TASK_DESCRIPTION",
            name: "K2VERIFY_TASK_DESCRIPTION",
            className: "textarea",
            value: params.K2VERIFY_TASK_DESCRIPTION,
            onChange: handleInputChange,
            placeholder: t3("k2verifyTaskOptions.taskDescriptionPlaceholder")
          })]
        }), /* @__PURE__ */ jsxs("div", {
          className: "grid2",
          children: [/* @__PURE__ */ jsxs("div", {
            className: "group",
            children: [/* @__PURE__ */ jsxs("label", {
              className: "label",
              children: [t3("k2verifyTaskOptions.sourceInterfaceLabel"), /* @__PURE__ */ jsx("span", {
                className: "required",
                children: "*"
              })]
            }), /* @__PURE__ */ jsxs("select", {
              name: "K2VERIFY_INTERFACE_SRC",
              value: params.K2VERIFY_INTERFACE_SRC,
              onChange: handleInputChange,
              className: "select",
              required: true,
              children: [/* @__PURE__ */ jsx("option", {
                value: "",
                disabled: true,
                hidden: true,
                children: t3("k2verifyTaskOptions.sourceInterfaceSelectPlaceholder")
              }), mtableLoading ? /* @__PURE__ */ jsx("option", {
                children: t3("k2verifyTaskOptions.loading")
              }) : mtableError ? /* @__PURE__ */ jsx("option", {
                children: t3("k2verifyTaskOptions.errors.loadingInterfaces")
              }) : filteredSourceInterfaces.length === 0 ? /* @__PURE__ */ jsx("option", {
                disabled: true,
                value: "",
                children: selectedTar ? t3("k2verifyTaskOptions.errors.noCompatibleSource") : t3("k2verifyTaskOptions.errors.noSourceFound")
              }) : filteredSourceInterfaces.map((iface) => /* @__PURE__ */ jsx("option", {
                value: iface,
                children: iface
              }, `src-${iface}`))]
            })]
          }), /* @__PURE__ */ jsxs("div", {
            className: "group",
            children: [/* @__PURE__ */ jsxs("label", {
              className: "label",
              children: [t3("k2verifyTaskOptions.targetInterfaceLabel"), /* @__PURE__ */ jsx("span", {
                className: "required",
                children: "*"
              })]
            }), /* @__PURE__ */ jsxs("select", {
              name: "K2VERIFY_INTERFACE_TAR",
              value: params.K2VERIFY_INTERFACE_TAR,
              onChange: handleInputChange,
              className: "select",
              required: true,
              children: [/* @__PURE__ */ jsx("option", {
                value: "",
                disabled: true,
                hidden: true,
                children: t3("k2verifyTaskOptions.targetInterfaceSelectPlaceholder")
              }), mtableLoading ? /* @__PURE__ */ jsx("option", {
                children: t3("k2verifyTaskOptions.loading")
              }) : mtableError ? /* @__PURE__ */ jsx("option", {
                children: t3("k2verifyTaskOptions.errors.loadingInterfaces")
              }) : filteredTargetInterfaces.length === 0 ? /* @__PURE__ */ jsx("option", {
                disabled: true,
                value: "",
                children: selectedSrc ? t3("k2verifyTaskOptions.errors.noCompatibleTarget") : t3("k2verifyTaskOptions.errors.noTargetFound")
              }) : filteredTargetInterfaces.map((iface) => /* @__PURE__ */ jsx("option", {
                value: iface,
                children: iface
              }, `tar-${iface}`))]
            })]
          }), /* @__PURE__ */ jsxs("div", {
            className: "group",
            children: [/* @__PURE__ */ jsxs("label", {
              className: "label",
              children: [t3("k2verifyTaskOptions.sourceSchemaLabel"), /* @__PURE__ */ jsx("span", {
                className: "required",
                children: "*"
              })]
            }), /* @__PURE__ */ jsxs("select", {
              name: "K2VERIFY_SCHEMA_SRC",
              value: params.K2VERIFY_SCHEMA_SRC,
              onChange: handleInputChange,
              className: "select",
              required: true,
              children: [/* @__PURE__ */ jsx("option", {
                value: "",
                disabled: true,
                hidden: true,
                children: t3("k2verifyTaskOptions.sourceSchemaSelectPlaceholder")
              }), mtableLoading ? /* @__PURE__ */ jsx("option", {
                children: t3("k2verifyTaskOptions.loading")
              }) : mtableError ? /* @__PURE__ */ jsx("option", {
                children: t3("k2verifyTaskOptions.errors.loadingSchemas")
              }) : !selectedSrc ? /* @__PURE__ */ jsx("option", {
                disabled: true,
                value: "",
                children: t3("k2verifyTaskOptions.errors.selectSourceInterfaceFirst")
              }) : srcSchemas.length === 0 ? /* @__PURE__ */ jsx("option", {
                disabled: true,
                value: "",
                children: t3("k2verifyTaskOptions.errors.noSourceSchema")
              }) : srcSchemas.map((s2, i2) => /* @__PURE__ */ jsx("option", {
                value: s2,
                children: s2
              }, `src-schema-${i2}`))]
            })]
          }), /* @__PURE__ */ jsxs("div", {
            className: "group",
            children: [/* @__PURE__ */ jsxs("label", {
              className: "label",
              children: [t3("k2verifyTaskOptions.targetSchemaLabel"), /* @__PURE__ */ jsx("span", {
                className: "required",
                children: "*"
              })]
            }), /* @__PURE__ */ jsxs("select", {
              name: "K2VERIFY_SCHEMA_TAR",
              value: params.K2VERIFY_SCHEMA_TAR,
              onChange: handleInputChange,
              className: "select",
              required: true,
              children: [/* @__PURE__ */ jsx("option", {
                value: "",
                disabled: true,
                hidden: true,
                children: t3("k2verifyTaskOptions.targetSchemaSelectPlaceholder")
              }), mtableLoading ? /* @__PURE__ */ jsx("option", {
                children: t3("k2verifyTaskOptions.loading")
              }) : mtableError ? /* @__PURE__ */ jsx("option", {
                children: t3("k2verifyTaskOptions.errors.loadingSchemas")
              }) : !selectedTar ? /* @__PURE__ */ jsx("option", {
                disabled: true,
                value: "",
                children: t3("k2verifyTaskOptions.errors.selectTargetInterfaceFirst")
              }) : tarSchemas.length === 0 ? /* @__PURE__ */ jsx("option", {
                disabled: true,
                value: "",
                children: t3("k2verifyTaskOptions.errors.noTargetSchema")
              }) : tarSchemas.map((s2, i2) => /* @__PURE__ */ jsx("option", {
                value: s2,
                children: s2
              }, `tar-schema-${i2}`))]
            })]
          })]
        }), /* @__PURE__ */ jsx("input", {
          ref: tablesRequiredRef,
          name: "__required_table_selection",
          value: tablesChosenCount > 0 ? "has-tables" : "",
          onChange: () => {
          },
          style: {
            position: "absolute",
            opacity: 0,
            width: 0,
            height: 0,
            pointerEvents: "none"
          },
          "aria-hidden": "true",
          tabIndex: -1
        }), /* @__PURE__ */ jsxs("div", {
          className: "grid2",
          style: {
            marginTop: 16
          },
          children: [/* @__PURE__ */ jsxs("div", {
            className: "group",
            style: {
              display: "flex",
              marginTop: "auto"
            },
            children: [/* @__PURE__ */ jsx("label", {
              className: "label",
              htmlFor: "K2VERIFY_PII_ONLY_COMPARISON",
              style: {
                marginRight: 8
              },
              children: t3("k2verifyTaskOptions.piiOnlyLabel")
            }), /* @__PURE__ */ jsx("input", {
              id: "K2VERIFY_PII_ONLY_COMPARISON",
              name: "K2VERIFY_PII_ONLY_COMPARISON",
              type: "checkbox",
              checked: !!params.K2VERIFY_PII_ONLY_COMPARISON,
              onChange: handleInputChange,
              style: {
                transform: "scale(0.7)"
              }
            })]
          }), /* @__PURE__ */ jsxs("div", {
            className: "group",
            style: {
              display: "flex",
              marginTop: "auto"
            },
            children: [/* @__PURE__ */ jsx("label", {
              className: "label",
              htmlFor: "K2VERIFY_LOGPASS",
              style: {
                marginRight: 8
              },
              children: t3("k2verifyTaskOptions.logPassLabel")
            }), /* @__PURE__ */ jsx("input", {
              id: "K2VERIFY_LOGPASS",
              name: "K2VERIFY_LOGPASS",
              type: "checkbox",
              checked: !!params.K2VERIFY_LOGPASS,
              onChange: handleInputChange,
              style: {
                transform: "scale(0.7)"
              }
            })]
          }), /* @__PURE__ */ jsxs("div", {
            className: "group",
            children: [/* @__PURE__ */ jsx("label", {
              className: "label",
              htmlFor: "K2VERIFY_MAXWORKERSPERNODE",
              children: t3("k2verifyTaskOptions.concurrencyLabel")
            }), /* @__PURE__ */ jsx("input", {
              id: "K2VERIFY_MAXWORKERSPERNODE",
              name: "K2VERIFY_MAXWORKERSPERNODE",
              className: "input",
              type: "number",
              min: "1",
              step: "1",
              placeholder: t3("k2verifyTaskOptions.concurrencyPlaceholder"),
              value: (_a2 = params.K2VERIFY_MAXWORKERSPERNODE) != null ? _a2 : "",
              onChange: handleInputChange
            })]
          })]
        })]
      }), /* @__PURE__ */ jsx("section", {
        className: "splitRight",
        children: /* @__PURE__ */ jsx(TableMappingMultiSelect, {
          params,
          mtableData,
          mtableLoading,
          mtableError,
          handleInputChange
        })
      }), /* @__PURE__ */ jsx("div", {
        className: "splitFooter",
        children: /* @__PURE__ */ jsxs("div", {
          className: "buttons",
          children: [/* @__PURE__ */ jsx("button", {
            type: "button",
            onClick: handleRunProcess,
            className: "btn btnPrimary",
            children: t3("k2verifyTaskOptions.save")
          }), /* @__PURE__ */ jsx("button", {
            type: "button",
            onClick: handleReset,
            className: "btn btnSecondary",
            children: t3("k2verifyTaskOptions.reset")
          }), /* @__PURE__ */ jsx("button", {
            type: "button",
            onClick: handleCancel,
            className: "btn btnCancel",
            children: t3("k2verifyTaskOptions.cancel")
          })]
        })
      })]
    })]
  });
}
function K2VerifyTaskCreation() {
  var _a2, _b2;
  const navigate = useNavigate();
  const location2 = useLocation();
  const taskId = ((_a2 = location2.state) == null ? void 0 : _a2.task_id) || "";
  window.k2api = window.k2api || window.parent.k2api;
  const t3 = window.k2api.i18n.translate;
  const properties = react.exports.useMemo(() => {
    var _a3;
    const raw = (_a3 = location2.state) == null ? void 0 : _a3.properties;
    if (!raw)
      return null;
    if (typeof raw === "object")
      return raw;
    if (typeof raw === "string") {
      try {
        return JSON.parse(raw);
      } catch (e) {
        console.error("Failed to parse properties:", e);
        return null;
      }
    }
    return null;
  }, [(_b2 = location2.state) == null ? void 0 : _b2.properties]);
  const defaultParams = {
    K2VERIFY_TASK_TITLE: "",
    K2VERIFY_TASK_DESCRIPTION: "",
    K2VERIFY_INTERFACE_SRC: "",
    K2VERIFY_INTERFACE_TAR: "",
    K2VERIFY_SCHEMA_SRC: "",
    K2VERIFY_SCHEMA_TAR: "",
    K2VERIFY_TABLE_LIST: [],
    K2VERIFY_MAXWORKERSPERNODE: null,
    K2VERIFY_LOGPASS: false,
    K2VERIFY_PII_ONLY_COMPARISON: false
  };
  const initialParams = react.exports.useMemo(() => {
    if (properties)
      return {
        ...defaultParams,
        ...properties
      };
    return defaultParams;
  }, [properties]);
  const [params, setParams] = react.exports.useState(initialParams);
  const [encodedCommand, setEncodedCommand] = react.exports.useState(null);
  const [mtableData, setmtableData] = react.exports.useState([]);
  const [execError, setExecError] = react.exports.useState("");
  react.exports.useEffect(() => {
    setParams(initialParams);
  }, [initialParams]);
  const {
    fetchData: fetchmtableData,
    loading: mtableLoading,
    error: mtableError
  } = useFetchData("/api/fabric-command?command=broadway%20K2Verify.bwLookupTableNames%20RESULT_STRUCTURE=CURSOR");
  react.exports.useEffect(() => {
    if (mtableError) {
      toast.error((mtableError == null ? void 0 : mtableError.message) || t3("k2verifyTaskCreation.toasts.mtableFailed"));
    }
  }, [mtableError]);
  react.exports.useEffect(() => {
    (async () => setmtableData(await fetchmtableData()))();
  }, [fetchmtableData]);
  const handleInputChange = (e) => {
    const {
      name,
      type,
      value,
      checked
    } = e.target;
    let newValue;
    if (type === "number")
      newValue = value === "" ? null : Number(value);
    else if (type === "checkbox")
      newValue = !!checked;
    else
      newValue = value;
    setParams((prev) => ({
      ...prev,
      [name]: newValue
    }));
  };
  const handleReset = () => setParams(initialParams);
  const handleCancel = () => {
    setParams(initialParams);
    navigate("/cli-process");
  };
  const handleExecution = async () => {
    const cmds = [];
    const paramsString = JSON.stringify(params);
    cmds.push(`broadway K2Verify.bwK2VerifyTaskCreation task_params='${paramsString}' old_task_id='${taskId}';`);
    const command = cmds.join("\n");
    const encoded = encodeURIComponent(command);
    setEncodedCommand(encoded);
    try {
      setExecError("");
      const res = await fetch(`/api/fabric-command?command=${encoded}&allResultSets=false`);
      const body = await res.json();
      if (!res.ok) {
        const match = body.match(/"([^"]+)"/);
        const msg = match ? match[1] : body;
        throw new Error(msg);
      }
      navigate("/cli-process");
    } catch (err2) {
      toast.error(err2.message || t3("k2verifyTaskCreation.toasts.executionFailed"));
      console.error(err2);
    }
  };
  return /* @__PURE__ */ jsxs("div", {
    children: [/* @__PURE__ */ jsx(ToastContainer, {
      position: "top-right",
      autoClose: 5e3,
      theme: "colored"
    }), /* @__PURE__ */ jsx(K2VerifyTaskOptions, {
      params,
      mtableData,
      mtableLoading,
      mtableError,
      handleInputChange,
      handleReset,
      handleCancel,
      handleExecution
    }), execError && /* @__PURE__ */ jsx("div", {
      className: "alert alertError mt4",
      children: execError
    })]
  });
}
function K2VerifyTaskHistory() {
  const navigate = useNavigate();
  const {
    taskId
  } = useParams();
  window.k2api = window.k2api || window.parent.k2api;
  const t3 = window.k2api.i18n.translate;
  const decodedTaskId = react.exports.useMemo(() => {
    try {
      return taskId ? decodeURIComponent(taskId) : "";
    } catch {
      return taskId || "";
    }
  }, [taskId]);
  const columns = [{
    header: "Execution ID",
    accessorKey: "execution_id",
    size: 150,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => /* @__PURE__ */ jsx(Link, {
      to: `detailed/${value}`,
      style: {
        color: "#1483F3",
        textDecoration: "none"
      },
      children: value
    })
  }, {
    header: "Task Id",
    accessorKey: "task_id",
    size: 120,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Execution Status",
    accessorKey: "execution_status",
    size: 180,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => {
      const v2 = String(value != null ? value : "").toLowerCase();
      const isFailed = v2 === "failed";
      const isCompleted = v2 === "completed";
      const styles = isFailed ? {
        bg: "#FDECEC",
        text: "#B42323",
        border: "#F2B8B8"
      } : isCompleted ? {
        bg: "#E8F7EE",
        text: "#1F7A3E",
        border: "#BFE6CE"
      } : {
        bg: "#F4F5F7",
        text: "#444",
        border: "#E1E4E8"
      };
      return /* @__PURE__ */ jsx("span", {
        style: {
          padding: "2px 10px",
          borderRadius: "6px",
          backgroundColor: styles.bg,
          color: styles.text,
          fontSize: "0.8rem",
          fontWeight: 500,
          whiteSpace: "nowrap",
          border: `1px solid ${styles.border}`,
          lineHeight: 1.4,
          display: "inline-block"
        },
        children: value != null ? value : "\u2014"
      });
    }
  }, {
    header: "Table Completion Summary",
    accessorKey: "table_completion_summary",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Started By",
    accessorKey: "started_by",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Start Time",
    accessorKey: "start_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "End Time",
    accessorKey: "end_time",
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => value ? value : "\u2014"
  }];
  const [taskHistoryData, setTaskHistoryData] = react.exports.useState([]);
  const {
    fetchData: fetchTaskHistoryData,
    loading: taskHistoryLoading,
    error: taskHistoryError
  } = useFetchData(`/api/fabric-command?command=${encodeURIComponent(`broadway K2Verify.bwK2VerifyExecutionHistory task_id='${decodedTaskId}' RESULT_STRUCTURE=CURSOR`)}`);
  react.exports.useEffect(() => {
    if (!decodedTaskId)
      return;
    let alive = true;
    (async () => {
      try {
        const rows = await fetchTaskHistoryData();
        if (!alive)
          return;
        setTaskHistoryData(Array.isArray(rows) ? rows : []);
      } catch (err2) {
        toast.error((err2 == null ? void 0 : err2.message) || t3("k2verifyHistory.toasts.loadFailed"));
      }
    })();
    return () => {
      alive = false;
    };
  }, [fetchTaskHistoryData, decodedTaskId]);
  react.exports.useEffect(() => {
    if (taskHistoryError) {
      toast.error(taskHistoryError.message || t3("k2verifyHistory.toasts.loadFailed"));
    }
  }, [taskHistoryError]);
  if (!decodedTaskId) {
    return /* @__PURE__ */ jsxs("div", {
      style: {
        padding: 24
      },
      children: [/* @__PURE__ */ jsx(ToastContainer, {
        position: "top-right",
        autoClose: 5e3,
        hideProgressBar: false,
        newestOnTop: true,
        closeOnClick: true,
        pauseOnHover: true,
        draggable: true,
        theme: "colored"
      }), /* @__PURE__ */ jsx("h1", {
        children: t3("k2verifyHistory.title")
      }), /* @__PURE__ */ jsx("p", {
        children: t3("k2verifyHistory.missingTaskId")
      }), /* @__PURE__ */ jsx("button", {
        onClick: () => navigate(-1),
        children: t3("k2verifyHistory.goBack")
      })]
    });
  }
  return /* @__PURE__ */ jsxs("div", {
    style: {
      marginBottom: "45px",
      marginLeft: "30px",
      marginRight: "30px",
      backgroundColor: "white",
      boxShadow: "0 4px 6px rgba(0,0,0,0.1)",
      borderRadius: "8px",
      padding: "24px"
    },
    children: [/* @__PURE__ */ jsx(ToastContainer, {
      position: "top-right",
      autoClose: 5e3,
      hideProgressBar: false,
      newestOnTop: true,
      closeOnClick: true,
      pauseOnHover: true,
      draggable: true,
      theme: "colored"
    }), /* @__PURE__ */ jsx("div", {
      style: {
        display: "flex",
        marginTop: "5px",
        justifyContent: "space-between",
        alignItems: "center"
      },
      children: /* @__PURE__ */ jsxs("h1", {
        children: [t3("k2verifyHistory.summaryTitle"), " ", decodedTaskId]
      })
    }), /* @__PURE__ */ jsx("hr", {
      style: {
        margin: "25px 0",
        border: "1px solid #EAEAEA",
        color: "#EAEAEA"
      }
    }), /* @__PURE__ */ jsx(ReactTable, {
      data: taskHistoryData,
      columns,
      initialPageSize: 10,
      loading: taskHistoryLoading,
      resultSvgRequired: true,
      onClickResult: (row) => {
        navigate(`/results/${row.task_id}`, {
          state: row
        });
      }
    })]
  });
}
function K2VerifyExecution() {
  var _a2, _b2;
  const {
    taskId: taskIdParam
  } = useParams();
  const location2 = useLocation();
  const navigate = useNavigate();
  const rawTaskId = (_b2 = (_a2 = location2.state && location2.state.task_id) != null ? _a2 : taskIdParam) != null ? _b2 : "";
  window.k2api = window.k2api || window.parent.k2api;
  const t3 = window.k2api.i18n.translate;
  const decodedTaskId = react.exports.useMemo(() => {
    try {
      return rawTaskId ? decodeURIComponent(String(rawTaskId)) : "";
    } catch {
      return String(rawTaskId || "");
    }
  }, [rawTaskId]);
  const {
    taskExecutionMap
  } = useActiveTasksPolling(3e3);
  const executionId = react.exports.useMemo(() => {
    var _a3, _b3;
    if (!decodedTaskId || !taskExecutionMap)
      return "";
    const numId = Number(decodedTaskId);
    return (_b3 = (_a3 = taskExecutionMap.get(numId)) != null ? _a3 : taskExecutionMap.get(String(decodedTaskId))) != null ? _b3 : "";
  }, [decodedTaskId, taskExecutionMap]);
  const prevExecutionIdRef = react.exports.useRef(executionId);
  react.exports.useEffect(() => {
    const prev = prevExecutionIdRef.current;
    if (executionId) {
      prevExecutionIdRef.current = executionId;
      return;
    }
    if (!executionId && prev) {
      const toTask = encodeURIComponent(String(decodedTaskId));
      const toExec = encodeURIComponent(String(prev));
      const target = `/history/${toTask}/detailed/${toExec}`;
      if (location2.pathname !== target)
        navigate(target, {
          replace: true
        });
      prevExecutionIdRef.current = "";
    }
  }, [executionId, decodedTaskId, navigate, location2.pathname]);
  const endpoint = react.exports.useMemo(() => {
    if (!decodedTaskId || !executionId)
      return null;
    return `/api/fabric-command?command=${encodeURIComponent(`broadway K2Verify.bwK2VerifyExecutionDetails task_id='${decodedTaskId}' execution_id='${executionId}' RESULT_STRUCTURE=CURSOR`)}`;
  }, [decodedTaskId, executionId]);
  const {
    fetchData: fetchTaskHistoryData,
    error: detailError
  } = useFetchData(endpoint);
  const [taskHistoryData, setTaskHistoryData] = react.exports.useState([]);
  const inFlightRef = react.exports.useRef(false);
  const intervalRef = react.exports.useRef(null);
  const [tableName, setTableName] = react.exports.useState("");
  const [infoData, setInfoData] = react.exports.useState([]);
  const infoInFlightRef = react.exports.useRef(false);
  const infoIntervalRef = react.exports.useRef(null);
  const handleStopExecution = react.exports.useCallback(async () => {
    var _a3;
    try {
      if (!decodedTaskId)
        return void toast.error(t3("k2verifyExecution.toasts.missingTaskId"));
      const command = `broadway K2Verify.bwK2VerifyCancelTask task_id='${decodedTaskId}';`;
      const encoded = encodeURIComponent(command);
      const res = await fetch(`/api/fabric-command?command=${encoded}`);
      const result = await res.json().catch(() => null);
      if (!res.ok) {
        const msg = ((_a3 = result == null ? void 0 : result.error) == null ? void 0 : _a3.message) || (result == null ? void 0 : result.message) || (typeof result === "string" ? result : null) || t3("k2verifyExecution.toasts.executionFailed");
        toast.error(t3("k2verifyExecution.toasts.stopFailedWithMsg", {
          taskId: decodedTaskId,
          msg
        }) || `Failed to stop Task #${decodedTaskId}: ${msg}`);
        return;
      }
      toast.success(t3("k2verifyExecution.toasts.cancelRequested", {
        taskId: decodedTaskId
      }) || `Cancellation requested for Task #${decodedTaskId}`);
    } catch (err2) {
      toast.error((err2 == null ? void 0 : err2.message) || t3("k2verifyExecution.toasts.executionFailed"));
      console.error(err2);
    }
  }, [decodedTaskId]);
  const handleInfoClick = react.exports.useCallback((row) => {
    var _a3, _b3, _c;
    const name = (_c = (_b3 = (_a3 = row == null ? void 0 : row.original) == null ? void 0 : _a3.table_name) != null ? _b3 : row == null ? void 0 : row.table_name) != null ? _c : "";
    if (!name)
      return void toast.error(t3("k2verifyExecution.toasts.noTableName"));
    if (name === tableName) {
      setTableName("");
      setInfoData([]);
      if (infoIntervalRef.current) {
        window.clearInterval(infoIntervalRef.current);
        infoIntervalRef.current = null;
      }
      return;
    }
    setTableName(name);
    setInfoData([]);
  }, [tableName]);
  react.exports.useEffect(() => {
    if (!endpoint)
      return;
    let isActive = true;
    const tick = async () => {
      if (inFlightRef.current)
        return;
      inFlightRef.current = true;
      try {
        const rows = await fetchTaskHistoryData();
        if (isActive)
          setTaskHistoryData(rows || []);
      } catch (err2) {
        toast.error(detailError || t3("k2verifyExecution.toasts.fetchExecutionFailed"));
        console.error("execution details fetch error:", err2);
      } finally {
        inFlightRef.current = false;
      }
    };
    tick();
    intervalRef.current = window.setInterval(() => {
      if (!document.hidden)
        tick();
    }, 3e3);
    return () => {
      isActive = false;
      if (intervalRef.current)
        window.clearInterval(intervalRef.current);
    };
  }, [endpoint, fetchTaskHistoryData, detailError]);
  const endpoint2 = react.exports.useMemo(() => {
    if (!decodedTaskId || !executionId || !tableName)
      return null;
    return `/api/fabric-command?command=${encodeURIComponent(`broadway K2Verify.bwK2VerifyBucketDetails task_id='${decodedTaskId}' execution_id='${executionId}' table_name='${tableName}' RESULT_STRUCTURE=CURSOR`)}`;
  }, [decodedTaskId, executionId, tableName]);
  const {
    fetchData: fetchBucketDetailsData
  } = useFetchData(endpoint2);
  react.exports.useEffect(() => {
    if (infoIntervalRef.current) {
      window.clearInterval(infoIntervalRef.current);
      infoIntervalRef.current = null;
    }
    if (!endpoint2)
      return;
    let isActive = true;
    const tick = async () => {
      if (infoInFlightRef.current)
        return;
      infoInFlightRef.current = true;
      try {
        const rows = await fetchBucketDetailsData();
        if (isActive)
          setInfoData(rows || []);
      } catch (err2) {
        toast.error(t3("k2verifyExecution.toasts.fetchBucketFailed"));
        console.error("bucket details fetch error:", err2);
      } finally {
        infoInFlightRef.current = false;
      }
    };
    tick();
    infoIntervalRef.current = window.setInterval(() => {
      if (!document.hidden)
        tick();
    }, 3e3);
    return () => {
      isActive = false;
      if (infoIntervalRef.current)
        window.clearInterval(infoIntervalRef.current);
    };
  }, [endpoint2, fetchBucketDetailsData]);
  const columns = react.exports.useMemo(() => [{
    header: "Table Name",
    accessorKey: "table_name",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Batch ID",
    accessorKey: "batch_id",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Status",
    accessorKey: "status",
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => {
      const v2 = String(value != null ? value : "").trim().toLowerCase();
      const norm = v2.replace(/[\s-]+/g, "_");
      const styles = norm === "failed" ? {
        bg: "#FDECEC",
        text: "#B42323",
        border: "#F2B8B8"
      } : norm === "completed" ? {
        bg: "#E8F7EE",
        text: "#1F7A3E",
        border: "#BFE6CE"
      } : norm === "stopped" ? {
        bg: "#FFF4E5",
        text: "#B45309",
        border: "#FAD9A6"
      } : norm === "in_progress" ? {
        bg: "#E8F1FE",
        text: "#1D4ED8",
        border: "#C7DBFD"
      } : {
        bg: "#F4F5F7",
        text: "#444",
        border: "#E1E4E8"
      };
      return /* @__PURE__ */ jsx("span", {
        style: {
          padding: "2px 10px",
          borderRadius: "6px",
          backgroundColor: styles.bg,
          color: styles.text,
          fontSize: "0.8rem",
          fontWeight: 500,
          whiteSpace: "nowrap",
          border: `1px solid ${styles.border}`,
          lineHeight: 1.4,
          display: "inline-block"
        },
        children: value != null ? value : "\u2014"
      });
    }
  }, {
    header: "Start Time",
    accessorKey: "start_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "End Time",
    accessorKey: "end_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Bucket Completion Summary",
    accessorKey: "bucket_completion_summary",
    enableSorting: true,
    enableColumnFilter: true,
    size: 260
  }, {
    header: "Processed Records",
    accessorKey: "processed_records",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Failed Records",
    accessorKey: "failed_records",
    enableSorting: true,
    enableColumnFilter: true
  }], []);
  const infoColumns = react.exports.useMemo(() => [{
    header: "Bucket Id",
    accessorKey: "bucket_id",
    size: 137,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Status",
    accessorKey: "status",
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => {
      const v2 = String(value != null ? value : "").trim().toLowerCase();
      const norm = v2.replace(/[\s-]+/g, "_");
      const styles = norm === "failed" ? {
        bg: "#FDECEC",
        text: "#B42323",
        border: "#F2B8B8"
      } : norm === "completed" ? {
        bg: "#E8F7EE",
        text: "#1F7A3E",
        border: "#BFE6CE"
      } : norm === "stopped" ? {
        bg: "#FFF4E5",
        text: "#B45309",
        border: "#FAD9A6"
      } : norm === "in_progress" ? {
        bg: "#E8F1FE",
        text: "#1D4ED8",
        border: "#C7DBFD"
      } : {
        bg: "#F4F5F7",
        text: "#444",
        border: "#E1E4E8"
      };
      return /* @__PURE__ */ jsx("span", {
        style: {
          padding: "2px 10px",
          borderRadius: "6px",
          backgroundColor: styles.bg,
          color: styles.text,
          fontSize: "0.8rem",
          fontWeight: 500,
          whiteSpace: "nowrap",
          border: `1px solid ${styles.border}`,
          lineHeight: 1.4,
          display: "inline-block"
        },
        children: value != null ? value : "\u2014"
      });
    }
  }, {
    header: "Start Time",
    accessorKey: "start_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "End Time",
    accessorKey: "end_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Total Records",
    accessorKey: "total_records",
    size: 200,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Processed Records",
    accessorKey: "processed_records",
    size: 200,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Failed Records",
    accessorKey: "failed_records",
    size: 200,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Error Info",
    accessorKey: "error_info",
    enableSorting: true,
    enableColumnFilter: true
  }], []);
  return /* @__PURE__ */ jsxs("div", {
    style: {
      marginBottom: "45px",
      marginLeft: "30px",
      marginRight: "30px",
      backgroundColor: "white",
      boxShadow: "0 4px 6px rgba(0,0,0,0.1)",
      borderRadius: "8px",
      padding: "24px"
    },
    children: [/* @__PURE__ */ jsx(ToastContainer, {
      position: "top-right",
      autoClose: 5e3,
      hideProgressBar: false,
      newestOnTop: true,
      closeOnClick: true,
      pauseOnHover: true,
      draggable: true,
      theme: "colored"
    }), /* @__PURE__ */ jsxs("h1", {
      style: {
        display: "flex",
        alignItems: "center",
        justifyContent: "space-between"
      },
      children: [/* @__PURE__ */ jsxs("span", {
        children: [t3("k2verifyExecution.title"), " \u2014 ", t3("k2verifyExecution.taskIdLabel"), ": ", decodedTaskId, executionId && /* @__PURE__ */ jsxs(Fragment, {
          children: [" | ", t3("k2verifyExecution.executionIdLabel"), ": ", executionId]
        })]
      }), executionId && /* @__PURE__ */ jsx("img", {
        src: stopcircleIcon,
        alt: t3("k2verifyExecution.stopAlt"),
        title: t3("k2verifyExecution.stopTitle"),
        onClick: handleStopExecution,
        style: {
          width: "24px",
          height: "24px",
          cursor: "pointer"
        }
      })]
    }), /* @__PURE__ */ jsxs(Fragment, {
      children: [/* @__PURE__ */ jsx("hr", {
        style: {
          margin: "25px 0"
        }
      }), /* @__PURE__ */ jsx(ReactTable, {
        data: taskHistoryData,
        columns,
        initialPageSize: 5,
        infoParams: true,
        onInfoClick: handleInfoClick
      })]
    }), executionId && /* @__PURE__ */ jsxs("div", {
      style: {
        marginTop: "24px",
        padding: "16px"
      },
      children: [tableName ? /* @__PURE__ */ jsxs("div", {
        children: [/* @__PURE__ */ jsxs("h2", {
          style: {
            marginTop: 0
          },
          children: [t3("k2verifyExecution.bucketTitle"), " ", t3("k2verifyExecution.tableLabel"), " ", tableName || t3("k2verifyExecution.selectRowHint")]
        }), /* @__PURE__ */ jsx("hr", {
          style: {
            margin: "25px 0"
          }
        })]
      }) : /* @__PURE__ */ jsx("h3", {
        children: t3("k2verifyExecution.selectInfoHint")
      }), tableName && /* @__PURE__ */ jsx(Fragment, {
        children: infoData.length ? /* @__PURE__ */ jsx(ReactTable, {
          data: infoData,
          columns: infoColumns,
          initialPageSize: 10,
          infoParams: false
        }) : /* @__PURE__ */ jsx("div", {})
      })]
    })]
  });
}
function K2VerifyTaskHistoryDetailed() {
  var _a2, _b2, _c, _d;
  const navigate = useNavigate();
  const location2 = useLocation();
  window.k2api = window.k2api || window.parent.k2api;
  const tt2 = (key) => {
    var _a3;
    const api = window.k2api || window.parent.k2api;
    const tr = (_a3 = api == null ? void 0 : api.i18n) == null ? void 0 : _a3.translate;
    if (typeof tr !== "function")
      return key;
    return tr(key) || key;
  };
  const {
    taskId: taskIdParam,
    executionId: executionIdParam
  } = useParams();
  const rawTaskId = (_b2 = (_a2 = location2.state && location2.state.task_id) != null ? _a2 : taskIdParam) != null ? _b2 : "";
  const rawExecutionId = (_d = (_c = location2.state && location2.state.execution_id) != null ? _c : executionIdParam) != null ? _d : "";
  const decodedTaskId = react.exports.useMemo(() => {
    try {
      return rawTaskId ? decodeURIComponent(String(rawTaskId)) : "";
    } catch {
      return String(rawTaskId || "");
    }
  }, [rawTaskId]);
  const decodedExecutionId = react.exports.useMemo(() => {
    try {
      return rawExecutionId ? decodeURIComponent(String(rawExecutionId)) : "";
    } catch {
      return String(rawExecutionId || "");
    }
  }, [rawExecutionId]);
  const columns = [{
    header: "Table Name",
    accessorKey: "table_name",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Batch ID",
    accessorKey: "batch_id",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Status",
    accessorKey: "status",
    size: 180,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => {
      const v2 = String(value != null ? value : "").toLowerCase();
      const isFailed = v2 === "failed";
      const isCompleted = v2 === "completed";
      const styles = isFailed ? {
        bg: "#FDECEC",
        text: "#B42323",
        border: "#F2B8B8"
      } : isCompleted ? {
        bg: "#E8F7EE",
        text: "#1F7A3E",
        border: "#BFE6CE"
      } : {
        bg: "#F4F5F7",
        text: "#444",
        border: "#E1E4E8"
      };
      return /* @__PURE__ */ jsx("span", {
        style: {
          padding: "2px 10px",
          borderRadius: "6px",
          backgroundColor: styles.bg,
          color: styles.text,
          fontSize: "0.8rem",
          fontWeight: 500,
          whiteSpace: "nowrap",
          border: `1px solid ${styles.border}`,
          lineHeight: 1.4,
          display: "inline-block"
        },
        children: value != null ? value : "-"
      });
    }
  }, {
    header: "Start Time",
    accessorKey: "start_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "End Time",
    accessorKey: "end_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Bucket Completion Summary",
    accessorKey: "bucket_completion_summary",
    enableSorting: true,
    enableColumnFilter: true,
    size: 260
  }, {
    header: "Processed Records",
    accessorKey: "processed_records",
    enableSorting: true,
    enableColumnFilter: true,
    size: 202
  }, {
    header: "Failed Records",
    accessorKey: "failed_records",
    enableSorting: true,
    enableColumnFilter: true
  }];
  const infoColumns = react.exports.useMemo(() => [{
    header: "Bucket Id",
    accessorKey: "bucket_id",
    size: 137,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Status",
    accessorKey: "status",
    size: 180,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => {
      const v2 = String(value != null ? value : "").toLowerCase();
      const isFailed = v2 === "failed";
      const isCompleted = v2 === "completed";
      const styles = isFailed ? {
        bg: "#FDECEC",
        text: "#B42323",
        border: "#F2B8B8"
      } : isCompleted ? {
        bg: "#E8F7EE",
        text: "#1F7A3E",
        border: "#BFE6CE"
      } : {
        bg: "#F4F5F7",
        text: "#444",
        border: "#E1E4E8"
      };
      return /* @__PURE__ */ jsx("span", {
        style: {
          padding: "2px 10px",
          borderRadius: "6px",
          backgroundColor: styles.bg,
          color: styles.text,
          fontSize: "0.8rem",
          fontWeight: 500,
          whiteSpace: "nowrap",
          border: `1px solid ${styles.border}`,
          lineHeight: 1.4,
          display: "inline-block"
        },
        children: value != null ? value : "\u2014"
      });
    }
  }, {
    header: "Start Time",
    accessorKey: "start_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "End Time",
    accessorKey: "end_time",
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Total Records",
    accessorKey: "total_records",
    enableSorting: true,
    enableColumnFilter: true,
    size: 200
  }, {
    header: "Processed Records",
    accessorKey: "processed_records",
    enableSorting: true,
    enableColumnFilter: true,
    size: 200
  }, {
    header: "Failed Records",
    accessorKey: "failed_records",
    enableSorting: true,
    enableColumnFilter: true,
    size: 200
  }, {
    header: "Error Info",
    accessorKey: "error_info",
    enableSorting: true,
    enableColumnFilter: true
  }], []);
  const [taskHistoryData, setTaskHistoryData] = react.exports.useState([]);
  const [tableName, setTableName] = react.exports.useState("");
  const [infoData, setInfoData] = react.exports.useState([]);
  const [infoLoading, setInfoLoading] = react.exports.useState(false);
  const {
    fetchData: fetchTaskHistoryData,
    loading: fetchTaskHistoryLoading,
    error: taskHistoryError
  } = useFetchData(`/api/fabric-command?command=${encodeURIComponent(`broadway K2Verify.bwK2VerifyExecutionDetails task_id='${decodedTaskId}' execution_id='${decodedExecutionId}' RESULT_STRUCTURE=CURSOR`)}`);
  const bucketEndpoint = react.exports.useMemo(() => {
    if (!decodedTaskId || !decodedExecutionId || !tableName)
      return null;
    const safeTable = String(tableName).replace(/'/g, "''");
    return `/api/fabric-command?command=${encodeURIComponent(`broadway K2Verify.bwK2VerifyBucketDetails task_id='${decodedTaskId}' execution_id='${decodedExecutionId}' table_name='${safeTable}' RESULT_STRUCTURE=CURSOR`)}`;
  }, [decodedTaskId, decodedExecutionId, tableName]);
  const {
    fetchData: fetchBucketDetailsData,
    error: bucketError
  } = useFetchData(bucketEndpoint);
  react.exports.useEffect(() => {
    if (taskHistoryError) {
      toast.error(taskHistoryError.message || tt2("k2verifyHistoryDetailed.toasts.loadHistoryFailed"));
    }
  }, [taskHistoryError]);
  react.exports.useEffect(() => {
    (async () => {
      if (!decodedTaskId || !decodedExecutionId)
        return;
      const rows = await fetchTaskHistoryData();
      setTaskHistoryData(rows || []);
    })();
  }, [fetchTaskHistoryData, decodedTaskId, decodedExecutionId]);
  react.exports.useEffect(() => {
    if (bucketError) {
      toast.error(bucketError.message || tt2("k2verifyHistoryDetailed.toasts.loadBucketFailed"));
    }
  }, [bucketError]);
  react.exports.useEffect(() => {
    let cancel = false;
    const run = async () => {
      if (!bucketEndpoint)
        return;
      setInfoLoading(true);
      try {
        const rows = await fetchBucketDetailsData();
        if (!cancel)
          setInfoData(rows || []);
      } catch (err2) {
        if (!cancel)
          toast.error((err2 == null ? void 0 : err2.message) || tt2("k2verifyHistoryDetailed.toasts.loadBucketFailed"));
      } finally {
        if (!cancel)
          setInfoLoading(false);
      }
    };
    run();
    return () => {
      cancel = true;
    };
  }, [bucketEndpoint, fetchBucketDetailsData]);
  const handleInfoClick = react.exports.useCallback((row) => {
    var _a3, _b3, _c2;
    const name = (_c2 = (_b3 = (_a3 = row == null ? void 0 : row.original) == null ? void 0 : _a3.table_name) != null ? _b3 : row == null ? void 0 : row.table_name) != null ? _c2 : "";
    if (!name)
      return void toast.error(tt2("k2verifyHistoryDetailed.toasts.noTableName"));
    if (name === tableName) {
      setTableName("");
      setInfoData([]);
      return;
    }
    setTableName(name);
    setInfoData([]);
  }, [tableName]);
  if (!decodedTaskId || !decodedExecutionId) {
    return /* @__PURE__ */ jsxs("div", {
      style: {
        padding: 24
      },
      children: [/* @__PURE__ */ jsx("h1", {
        children: tt2("k2verifyHistoryDetailed.missingTitle")
      }), !decodedTaskId && /* @__PURE__ */ jsx("p", {
        children: tt2("k2verifyHistoryDetailed.missingTaskId")
      }), !decodedExecutionId && /* @__PURE__ */ jsx("p", {
        children: tt2("k2verifyHistoryDetailed.missingExecutionId")
      }), /* @__PURE__ */ jsx("button", {
        onClick: () => navigate(-1),
        children: tt2("k2verifyHistoryDetailed.goBack")
      })]
    });
  }
  return /* @__PURE__ */ jsxs("div", {
    style: {
      marginBottom: "45px",
      marginLeft: "30px",
      marginRight: "30px",
      backgroundColor: "white",
      boxShadow: "0 4px 6px rgba(0,0,0,0.1)",
      borderRadius: "8px",
      padding: "24px"
    },
    children: [/* @__PURE__ */ jsx(ToastContainer, {
      position: "top-right",
      autoClose: 5e3,
      hideProgressBar: false,
      newestOnTop: true,
      closeOnClick: true,
      pauseOnHover: true,
      draggable: true,
      theme: "colored"
    }), /* @__PURE__ */ jsx("div", {
      style: {
        display: "flex",
        marginTop: "5px",
        justifyContent: "space-between",
        alignItems: "center"
      },
      children: /* @__PURE__ */ jsxs("h1", {
        children: [tt2("k2verifyHistoryDetailed.title"), " ", tt2("k2verifyHistoryDetailed.taskIdLabel"), " ", decodedTaskId, ", ", tt2("k2verifyHistoryDetailed.executionIdLabel"), " ", decodedExecutionId]
      })
    }), /* @__PURE__ */ jsx("hr", {
      style: {
        margin: "25px 0",
        border: "1px solid #EAEAEA",
        color: "#EAEAEA"
      }
    }), /* @__PURE__ */ jsx(ReactTable, {
      data: taskHistoryData,
      columns,
      loading: fetchTaskHistoryLoading,
      initialPageSize: 10,
      infoParams: true,
      onInfoClick: handleInfoClick
    }), /* @__PURE__ */ jsx("div", {
      style: {
        marginTop: "24px",
        padding: "16px"
      },
      children: tableName ? /* @__PURE__ */ jsxs(Fragment, {
        children: [/* @__PURE__ */ jsxs("h2", {
          style: {
            marginTop: 0
          },
          children: [tt2("k2verifyHistoryDetailed.bucketTitle"), " ", tt2("k2verifyHistoryDetailed.tableLabel"), " ", tableName]
        }), /* @__PURE__ */ jsx("hr", {
          style: {
            margin: "25px 0"
          }
        }), infoLoading ? /* @__PURE__ */ jsx("div", {}) : infoData.length ? /* @__PURE__ */ jsx(ReactTable, {
          data: infoData,
          columns: infoColumns,
          initialPageSize: 10,
          infoParams: false
        }) : /* @__PURE__ */ jsx("div", {
          style: {
            fontSize: 14,
            color: "#777"
          },
          children: tt2("k2verifyHistoryDetailed.noBucketRows")
        })]
      }) : /* @__PURE__ */ jsx("h3", {
        style: {
          marginTop: 0
        },
        children: tt2("k2verifyHistoryDetailed.selectInfoHint")
      })
    })]
  });
}
function K2VerifyTaskResults() {
  const navigate = useNavigate();
  window.k2api = window.k2api || window.parent.k2api;
  const t3 = window.k2api.i18n.translate;
  const columns = [{
    header: "Execution Id",
    accessorKey: "execution_id",
    size: 151,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      row,
      value
    }) => /* @__PURE__ */ jsx(Link, {
      to: `/results/${value}`,
      style: {
        color: "#1483F3",
        textDecoration: "none"
      },
      state: row.original,
      children: value
    })
  }, {
    header: "Task Id",
    accessorKey: "task_id",
    size: 120,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Task Name",
    accessorKey: "task_name",
    size: 195,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Execution Status",
    accessorKey: "execution_status",
    size: 117,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => {
      const v2 = String(value != null ? value : "").toLowerCase();
      const isFailed = v2 === "failed";
      const isCompleted = v2 === "completed";
      const styles = isFailed ? {
        bg: "#FDECEC",
        text: "#B42323",
        border: "#F2B8B8"
      } : isCompleted ? {
        bg: "#E8F7EE",
        text: "#1F7A3E",
        border: "#BFE6CE"
      } : {
        bg: "#F4F5F7",
        text: "#444",
        border: "#E1E4E8"
      };
      return /* @__PURE__ */ jsx("span", {
        style: {
          padding: "2px 10px",
          borderRadius: "6px",
          backgroundColor: styles.bg,
          color: styles.text,
          fontSize: "0.8rem",
          fontWeight: 500,
          whiteSpace: "nowrap",
          border: `1px solid ${styles.border}`,
          lineHeight: 1.4,
          display: "inline-block"
        },
        children: value != null ? value : "\u2014"
      });
    }
  }, {
    header: "Start Time",
    accessorKey: "start_time",
    size: 200,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "End Time",
    accessorKey: "end_time",
    size: 200,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Source Interface",
    accessorKey: "source_interface",
    size: 186,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Target Interface",
    accessorKey: "target_interface",
    size: 183,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Total Tables",
    accessorKey: "total_tables",
    size: 148,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Total Tables Failed",
    accessorKey: "total_tables_failed",
    size: 188,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Non-Pass Count",
    accessorKey: "non_pass_count",
    size: 180,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Non-Pass Rate (%)",
    accessorKey: "percent_records_failed",
    size: 187,
    enableSorting: true,
    enableColumnFilter: true
  }];
  const [taskHistoryData, setTaskHistoryData] = react.exports.useState([]);
  const {
    fetchData: fetchTaskHistoryData,
    loading: taskHistoryLoading,
    error: taskHistoryError
  } = useFetchData(`/api/fabric-command?command=${encodeURIComponent(`broadway K2Verify.bwK2VerifyExecutionHistoryAll RESULT_STRUCTURE=CURSOR`)}`);
  react.exports.useEffect(() => {
    let alive = true;
    (async () => {
      try {
        const rows = await fetchTaskHistoryData();
        if (!alive)
          return;
        setTaskHistoryData(Array.isArray(rows) ? rows : []);
      } catch (err2) {
        toast.error((err2 == null ? void 0 : err2.message) || t3("k2verifyTaskResults.toasts.loadFailed"));
      }
    })();
    return () => {
      alive = false;
    };
  }, [fetchTaskHistoryData]);
  react.exports.useEffect(() => {
    if (taskHistoryError) {
      toast.error(taskHistoryError.message || t3("k2verifyTaskResults.toasts.loadFailed"));
    }
  }, [taskHistoryError]);
  return /* @__PURE__ */ jsxs("div", {
    style: {
      marginBottom: "45px",
      marginLeft: "30px",
      marginRight: "30px",
      backgroundColor: "white",
      boxShadow: "0 4px 6px rgba(0,0,0,0.1)",
      borderRadius: "8px",
      padding: "24px"
    },
    children: [/* @__PURE__ */ jsx(ToastContainer, {
      position: "top-right",
      autoClose: 5e3,
      hideProgressBar: false,
      newestOnTop: true,
      closeOnClick: true,
      pauseOnHover: true,
      draggable: true,
      theme: "colored"
    }), /* @__PURE__ */ jsx("div", {
      style: {
        display: "flex",
        marginTop: "5px",
        justifyContent: "space-between",
        alignItems: "center"
      },
      children: /* @__PURE__ */ jsx("h1", {
        children: t3("k2verifyTaskResults.title")
      })
    }), /* @__PURE__ */ jsx("hr", {
      style: {
        margin: "25px 0",
        border: "1px solid #EAEAEA",
        color: "#EAEAEA"
      }
    }), /* @__PURE__ */ jsx(ReactTable, {
      data: taskHistoryData,
      columns,
      initialPageSize: 10,
      loading: taskHistoryLoading
    })]
  });
}
function DefaultColumnFilter({
  column: {
    filterValue,
    preFilteredRows,
    setFilter
  }
}) {
  const count = preFilteredRows.length;
  return /* @__PURE__ */ jsx("input", {
    value: filterValue || "",
    onChange: (e) => setFilter(e.target.value || void 0),
    placeholder: `Search ${count} records...`,
    autoFocus: true
  });
}
function SelectColumnFilter({
  column: {
    preFilteredRows,
    id: id2,
    setFilter,
    filterValue
  }
}) {
  const options = react.exports.useMemo(() => {
    const s2 = /* @__PURE__ */ new Set();
    preFilteredRows.forEach((row) => s2.add(row.values[id2]));
    return Array.from(s2);
  }, [preFilteredRows, id2]);
  return /* @__PURE__ */ jsxs("select", {
    value: filterValue || "",
    onChange: (e) => setFilter(e.target.value || void 0),
    children: [/* @__PURE__ */ jsx("option", {
      value: "",
      children: "All"
    }), options.map((o2) => /* @__PURE__ */ jsx("option", {
      value: o2 != null ? o2 : "",
      children: String(o2 != null ? o2 : "")
    }, String(o2)))]
  });
}
const HeaderResizer = ({
  column
}) => {
  if (!(column == null ? void 0 : column.getResizerProps) || !(column == null ? void 0 : column.canResize))
    return null;
  const resizerProps = column.getResizerProps();
  return /* @__PURE__ */ jsx("div", {
    ...resizerProps,
    className: `resizer ${column.isResizing ? "isResizing" : ""}`,
    onMouseDown: (e) => {
      e.stopPropagation();
      resizerProps.onMouseDown && resizerProps.onMouseDown(e);
    },
    onTouchStart: (e) => {
      e.stopPropagation();
      resizerProps.onTouchStart && resizerProps.onTouchStart(e);
    }
  });
};
function ReactTablePaginate({
  data: data2,
  title,
  loading,
  getActions,
  callback,
  selectedRow,
  columnDef,
  staticWidth,
  pageSizeOptions = [5, 10, 20, 50],
  initialPageSize = 50,
  maxBodyHeight = 800,
  taskParams = false,
  onPlay = () => {
  },
  onStop = () => {
  },
  onHistory = () => {
  },
  onSave = () => {
  },
  onDelete = () => {
  },
  activeTaskIds = /* @__PURE__ */ new Set(),
  infoParams = false,
  onInfoClick = () => {
  },
  serverSidePagination = false,
  totalRows,
  externalPageCount,
  onPageChange,
  columns: userColumns,
  linkRouting = true
}) {
  var _a2, _b2, _c;
  const navigate = useNavigate();
  const [allData, setAllData] = react.exports.useState([]);
  const [rowMenuOpen, setRowMenuOpen] = react.exports.useState(null);
  const [rowActions, setRowActions] = react.exports.useState([]);
  const [x2, setX] = react.exports.useState(0);
  const [y2, setY] = react.exports.useState(0);
  const [filterColumnsId, setFilterColumnsId] = react.exports.useState({});
  const columnsWidthRef = react.exports.useRef({});
  const computedFitWidthsRef = react.exports.useRef({});
  const containerRef = react.exports.useRef(null);
  const explicitSizeIdsRef = react.exports.useRef(/* @__PURE__ */ new Set());
  const [fitTick, setFitTick] = react.exports.useState(0);
  const isEmpty = !Array.isArray(data2) || data2.length === 0;
  const filterTypes = react.exports.useMemo(() => ({
    text: (rows2, id2, filterValue) => {
      if (filterValue == null || filterValue === "")
        return rows2;
      return rows2.filter((row) => {
        const rowValue = row.values[id2];
        return String(rowValue != null ? rowValue : "").toLowerCase().includes(String(filterValue != null ? filterValue : "").toLowerCase());
      });
    },
    equals: (rows2, id2, filterValue) => {
      if (filterValue == null || filterValue === "")
        return rows2;
      return rows2.filter((row) => {
        const rowValue = row.values[id2];
        return String(rowValue != null ? rowValue : "").toLowerCase() === String(filterValue != null ? filterValue : "").toLowerCase();
      });
    }
  }), []);
  const t3 = (k3) => {
    var _a3, _b3;
    if ((_b3 = (_a3 = window == null ? void 0 : window.k2api) == null ? void 0 : _a3.i18n) == null ? void 0 : _b3.translate)
      return window.k2api.i18n.translate(k3);
    if (k3 === "table.loading")
      return "Loading\u2026";
    if (k3 === "table.empty")
      return "No data";
    return k3;
  };
  const isTaskActive = react.exports.useCallback((taskId) => {
    return activeTaskIds.has(taskId);
  }, [activeTaskIds]);
  const columnNames = react.exports.useMemo(() => {
    if (!Array.isArray(data2) || data2.length === 0)
      return [];
    const columns = [];
    const seen2 = /* @__PURE__ */ new Set();
    for (const row of data2) {
      if (row && typeof row === "object") {
        for (const key of Object.keys(row)) {
          if (key === "taskParams" || key === "actions")
            continue;
          if (!seen2.has(key)) {
            seen2.add(key);
            columns.push(key);
          }
        }
      }
    }
    return columns;
  }, [data2]);
  const convertDataToTable = react.exports.useCallback((payload) => {
    if (!Array.isArray(payload))
      return [];
    return payload.map((row) => {
      const obj = {
        ...row
      };
      if (getActions) {
        obj["actions"] = /* @__PURE__ */ jsx("div", {
          onClick: (e) => showMenu(e, row),
          className: "k2-context-btn"
        });
      }
      if (taskParams) {
        const taskId = row.task_id;
        const isActive = isTaskActive(taskId);
        const hasStatus = row.task_status !== void 0 && row.task_status !== null;
        const isInactiveStatus = hasStatus && row.task_status.toLowerCase() === "inactive";
        obj["taskParams"] = /* @__PURE__ */ jsxs("div", {
          className: "taskparams-icons",
          style: {
            display: "flex",
            alignItems: "center",
            gap: 8,
            padding: "2px 6px"
          },
          children: [!isInactiveStatus && /* @__PURE__ */ jsxs(Fragment, {
            children: [/* @__PURE__ */ jsx("img", {
              src: isActive ? playOffIcon : playIcon,
              alt: isActive ? "Play Off" : "Play",
              title: isActive ? "Task Running" : "Play",
              className: "icons",
              style: {
                cursor: isActive ? "not-allowed" : "pointer",
                opacity: isActive ? 0.5 : 1
              },
              onClick: (e) => {
                if (!isActive) {
                  onPlay(obj, e);
                }
              }
            }), /* @__PURE__ */ jsx("img", {
              src: isActive ? stopcircleIcon : stopcircleIconDisabled,
              alt: "Stop Task",
              title: isActive ? "Stop Task" : "",
              className: "icons",
              style: {
                cursor: isActive ? "pointer" : "not-allowed",
                opacity: isActive ? 1 : 0.4
              },
              onClick: (e) => {
                if (isActive) {
                  onStop(obj, e);
                }
              }
            })]
          }), /* @__PURE__ */ jsx("img", {
            src: historyIcon,
            alt: isActive ? "Monitor" : "History",
            title: isActive ? "Monitor" : "History",
            className: "icons",
            style: {
              cursor: "pointer",
              opacity: 1
            },
            onClick: (e) => {
              e.stopPropagation();
              const taskId2 = row.task_id || obj.task_id;
              if (isActive) {
                navigate(`/execution/${encodeURIComponent(taskId2)}`);
              } else {
                navigate(`/history/${encodeURIComponent(taskId2)}`);
              }
            }
          }), /* @__PURE__ */ jsx("img", {
            src: isActive ? deleteIconDisabled : deleteIcon,
            alt: "Delete",
            title: isActive ? "" : "Delete Task",
            className: "icons",
            style: {
              cursor: isActive ? "not-allowed" : "pointer",
              opacity: isActive ? 0.5 : 1
            },
            onClick: (e) => {
              if (!isActive) {
                onDelete(obj, e);
              }
            }
          })]
        });
      }
      if (infoParams) {
        obj["infoParams"] = /* @__PURE__ */ jsx("div", {
          className: "infoparams-icons",
          style: {
            display: "flex",
            alignItems: "center",
            padding: "2px 6px"
          },
          children: /* @__PURE__ */ jsx("img", {
            src: infoIcon,
            alt: "Info",
            title: "Info",
            className: "icons",
            style: {
              cursor: "pointer",
              transition: "transform 0.2s ease",
              width: "20px",
              height: "20px"
            },
            onMouseEnter: (e) => e.currentTarget.style.transform = "scale(1.2)",
            onMouseLeave: (e) => e.currentTarget.style.transform = "scale(1)",
            onClick: (e) => {
              e.stopPropagation();
              onInfoClick(obj, e);
            }
          })
        });
      }
      return obj;
    });
  }, [getActions, taskParams, onPlay, onStop, onHistory, onSave, onDelete, isTaskActive, infoParams, onInfoClick]);
  const getRows = react.exports.useMemo(() => allData != null ? allData : [], [allData]);
  const defaultColumn = react.exports.useMemo(() => ({
    Filter: DefaultColumnFilter,
    minWidth: 80,
    width: 300,
    maxWidth: Number.MAX_SAFE_INTEGER
  }), []);
  const hiddenColumns = react.exports.useMemo(() => {
    if (!Array.isArray(userColumns))
      return [];
    return userColumns.filter((c2) => {
      var _a3;
      return ((_a3 = c2 == null ? void 0 : c2.meta) == null ? void 0 : _a3.isVisible) === false;
    }).map((c2) => c2.id || c2.accessorKey || c2.header).filter(Boolean);
  }, [userColumns]);
  const mappedUserColumns = react.exports.useMemo(() => {
    explicitSizeIdsRef.current = /* @__PURE__ */ new Set();
    if (!Array.isArray(userColumns) || userColumns.length === 0)
      return [];
    return userColumns.map((uc2) => {
      var _a3, _b3, _c2, _d, _e2, _f, _g, _h;
      const id2 = uc2.id || uc2.accessorKey || String(uc2.header || "");
      const accessor = uc2.accessorKey || uc2.accessor || id2;
      const hasExplicitSize = uc2.size != null;
      if (hasExplicitSize)
        explicitSizeIdsRef.current.add(id2);
      const persisted = (_a3 = columnsWidthRef.current) == null ? void 0 : _a3[id2];
      const fitted = (_b3 = computedFitWidthsRef.current) == null ? void 0 : _b3[id2];
      const filterVariant = (_c2 = uc2.meta) == null ? void 0 : _c2.filterVariant;
      const Filter = uc2.enableColumnFilter === false ? () => null : filterVariant === "select" ? SelectColumnFilter : DefaultColumnFilter;
      const userCell = uc2.cell;
      const RoutedCell = (cellProps) => {
        var _a4;
        const value = cellProps.value;
        if (userCell)
          return userCell({
            ...cellProps,
            value
          });
        const to = (_a4 = uc2.meta) == null ? void 0 : _a4.routingLink;
        if (linkRouting && to && value != null) {
          return /* @__PURE__ */ jsx(Link, {
            to: `${to}/${encodeURIComponent(String(value))}`,
            style: {
              color: "#1483F3",
              textDecoration: "none"
            },
            children: String(value)
          });
        }
        return /* @__PURE__ */ jsx("span", {
          children: String(value != null ? value : "")
        });
      };
      const baseWidth = staticWidth ? 380 : hasExplicitSize ? uc2.size : (_d = persisted != null ? persisted : fitted) != null ? _d : 300;
      return {
        id: id2,
        Header: (_e2 = uc2.header) != null ? _e2 : id2,
        accessor,
        width: baseWidth,
        minWidth: (_f = uc2.minSize) != null ? _f : hasExplicitSize ? uc2.size : 80,
        maxWidth: (_g = uc2.maxSize) != null ? _g : Number.MAX_SAFE_INTEGER,
        disableResizing: ((_h = uc2.meta) == null ? void 0 : _h.fixed) === true,
        disableFilters: uc2.enableColumnFilter === false,
        disableSortBy: uc2.enableSorting === false,
        Filter,
        Cell: RoutedCell,
        meta: {
          ...uc2.meta || {},
          hasExplicitSize
        }
      };
    });
  }, [userColumns, staticWidth, linkRouting]);
  const getColumns = react.exports.useMemo(() => {
    const cols = [];
    if (getActions) {
      cols.push({
        id: "actions",
        Header: "",
        accessor: "actions",
        width: 40,
        disableResizing: true,
        disableSortBy: true,
        disableFilters: true
      });
    }
    if (taskParams) {
      cols.push({
        id: "taskParams",
        Header: "",
        accessor: "taskParams",
        width: 150,
        minWidth: 140,
        disableResizing: true,
        disableSortBy: true,
        disableFilters: true
      });
    }
    if (infoParams) {
      cols.push({
        id: "infoParams",
        Header: "",
        accessor: "infoParams",
        width: 60,
        minWidth: 50,
        disableResizing: true,
        disableSortBy: true,
        disableFilters: true
      });
    }
    if (mappedUserColumns.length > 0) {
      const updated = mappedUserColumns.map((col) => {
        var _a3, _b3, _c2;
        const persisted = (_a3 = columnsWidthRef.current) == null ? void 0 : _a3[col.id];
        const fitted = (_b3 = computedFitWidthsRef.current) == null ? void 0 : _b3[col.id];
        const hasExplicit = explicitSizeIdsRef.current.has(col.id);
        return {
          ...col,
          width: staticWidth ? 380 : hasExplicit ? col.width : (_c2 = persisted != null ? persisted : fitted) != null ? _c2 : col.width
        };
      });
      cols.push(...updated);
    } else if (columnNames.length > 0) {
      columnNames.forEach((col) => {
        var _a3, _b3, _c2;
        const persisted = (_a3 = columnsWidthRef.current) == null ? void 0 : _a3[col];
        const fitted = (_b3 = computedFitWidthsRef.current) == null ? void 0 : _b3[col];
        cols.push({
          Header: col,
          accessor: col,
          width: staticWidth ? 380 : (_c2 = persisted != null ? persisted : fitted) != null ? _c2 : 300,
          minWidth: 80
        });
      });
    }
    return cols;
  }, [mappedUserColumns, columnNames, getActions, staticWidth, taskParams, infoParams, fitTick]);
  const {
    getTableProps,
    getTableBodyProps,
    headerGroups,
    rows,
    page,
    pageOptions,
    pageCount,
    prepareRow,
    preFilteredRows,
    state: {
      sortBy,
      globalFilter,
      pageIndex,
      pageSize,
      columnResizing: {
        columnWidths
      }
    },
    setFilter,
    setGlobalFilter,
    gotoPage,
    nextPage: nextPage2,
    previousPage,
    canNextPage,
    canPreviousPage,
    setPageSize,
    totalColumnsWidth
  } = reactTable$1.exports.useTable({
    columns: getColumns,
    data: getRows,
    defaultColumn,
    filterTypes,
    autoResetPage: false,
    autoResetSortBy: false,
    autoResetFilters: false,
    autoResetGlobalFilter: false,
    autoResetSelectedRows: false,
    autoResetGroupBy: false,
    autoResetExpanded: false,
    autoResetRowState: false,
    manualSortBy: true,
    manualPagination: serverSidePagination,
    pageCount: serverSidePagination ? externalPageCount != null ? externalPageCount : 0 : void 0,
    initialState: {
      pageIndex: 0,
      pageSize: initialPageSize,
      hiddenColumns
    }
  }, reactTable$1.exports.useFilters, reactTable$1.exports.useGlobalFilter, reactTable$1.exports.useSortBy, reactTable$1.exports.useBlockLayout, reactTable$1.exports.useResizeColumns, reactTable$1.exports.usePagination);
  react.exports.useEffect(() => {
    if (JSON.stringify(columnsWidthRef.current) !== JSON.stringify(columnWidths) && columnWidths && Object.keys(columnWidths).length > 0) {
      const prev = columnsWidthRef.current;
      columnsWidthRef.current = {
        ...prev,
        ...columnWidths
      };
    }
  }, [columnWidths]);
  react.exports.useLayoutEffect(() => {
    var _a3, _b3;
    if (staticWidth)
      return;
    const wrapper = containerRef.current;
    if (!wrapper)
      return;
    const keys = mappedUserColumns.length ? mappedUserColumns.map((c2) => c2.id) : columnNames;
    if (!keys.length)
      return;
    const explicitIds = explicitSizeIdsRef.current;
    const scrollBarFudge = 8;
    const available = Math.max(0, wrapper.clientWidth - scrollBarFudge);
    const fixedUtility = (getActions ? 40 : 0) + (taskParams ? 150 : 0) + (infoParams ? 60 : 0);
    let explicitTotal = 0;
    for (const col of mappedUserColumns) {
      if (explicitIds.has(col.id)) {
        explicitTotal += (_b3 = (_a3 = col.width) != null ? _a3 : col.minWidth) != null ? _b3 : 0;
      }
    }
    const keysNeedingFit = keys.filter((k3) => !explicitIds.has(k3));
    const remaining = Math.max(0, available - fixedUtility - explicitTotal);
    const even = Math.max(80, Math.floor(remaining / Math.max(1, keysNeedingFit.length)));
    const next = {};
    for (const k3 of keysNeedingFit)
      next[k3] = even;
    computedFitWidthsRef.current = next;
    setFitTick((t22) => t22 + 1);
  }, [columnNames, mappedUserColumns, getActions, taskParams, infoParams, staticWidth, maxBodyHeight]);
  const showMenu = react.exports.useCallback((e, rowObj) => {
    let actions = [];
    if (getActions)
      actions = getActions(rowObj);
    if (!actions || actions.length === 0)
      return;
    setRowActions(actions);
    setRowMenuOpen(null);
    const innerHeight = window.innerHeight;
    const menuHeight = (actions.length + 1) * 30;
    setY(e.clientY + menuHeight > innerHeight ? e.clientY - menuHeight - 10 : e.clientY);
    setX(e.clientX);
    setRowMenuOpen(rowObj);
  }, [getActions]);
  const hideMenu = () => setRowMenuOpen(null);
  const actionClick = (action) => {
    action.callback(rowMenuOpen);
    setRowMenuOpen(null);
  };
  const mapActionsToElements = () => /* @__PURE__ */ jsx(MenuActions, {
    show: rowMenuOpen,
    handleClose: hideMenu,
    x: x2,
    y: y2,
    children: /* @__PURE__ */ jsx("ul", {
      className: "k2-context-menu",
      children: rowActions.map((action, idx) => /* @__PURE__ */ jsx(MenuItem, {
        item: action,
        actionClick
      }, idx))
    })
  });
  react.exports.useEffect(() => {
    const converted = convertDataToTable(data2);
    setAllData(converted);
  }, [convertDataToTable, data2]);
  const handleClickOnTD = (e, column, value, idx) => {
    if (!callback)
      return;
    callback(e, column, value, idx);
  };
  const getTDClassName = (row, aKey) => {
    var _a3;
    let classNames = "";
    if (columnDef && columnDef[aKey] && columnDef[aKey].cellBorder && selectedRow === row[aKey]) {
      classNames = columnDef[aKey].cellBorder;
    }
    if (columnDef && columnDef[aKey] && columnDef[aKey].cellColoring) {
      const key = typeof row[aKey] === "string" ? row[aKey].toLowerCase() : String((_a3 = row[aKey]) != null ? _a3 : "").toLowerCase();
      if (columnDef[aKey].cellColoring[key]) {
        classNames += columnDef[aKey].cellColoring[key];
      } else {
        classNames += "failed";
      }
    }
    return classNames;
  };
  const handleFilterClick = react.exports.useCallback((column) => {
    const next = {
      ...filterColumnsId
    };
    if (next[column.id]) {
      delete next[column.id];
      setFilterColumnsId(next);
      setFilter(column.id, void 0);
    } else {
      next[column.id] = column.id;
      setFilterColumnsId(next);
    }
  }, [filterColumnsId, setFilter]);
  const getSortIcon = react.exports.useCallback((column) => {
    return /* @__PURE__ */ jsx("span", {
      ...column.getSortByToggleProps(),
      children: column.isSorted ? column.isSortedDesc ? /* @__PURE__ */ jsx("img", {
        src: sortArrowUp,
        className: "icons",
        alt: "Arrow Up"
      }) : /* @__PURE__ */ jsx("img", {
        src: sortArrowDown,
        className: "icons",
        alt: "Arrow Down"
      }) : /* @__PURE__ */ jsx("img", {
        src: sortArrow,
        className: "icons",
        alt: "Arrow"
      })
    });
  }, []);
  const getFilterIcon = react.exports.useCallback((column) => /* @__PURE__ */ jsx("img", {
    alt: filterColumnsId[column.id] ? "Filter On" : "Filter Off",
    className: "icons",
    src: filterColumnsId[column.id] ? filterOn : filterOff,
    onClick: () => handleFilterClick(column),
    style: {
      cursor: "pointer"
    }
  }), [filterColumnsId, handleFilterClick]);
  const getProgressBar = react.exports.useCallback((row, cell) => {
    return /* @__PURE__ */ jsxs("div", {
      className: "completion",
      children: [/* @__PURE__ */ jsx("div", {
        className: "progress-bar",
        children: /* @__PURE__ */ jsx("div", {
          className: "progress",
          style: {
            width: `${row.original[cell.column.Header]}%`
          }
        })
      }), /* @__PURE__ */ jsxs("div", {
        className: "progress-percentage",
        children: [cell.render("Cell"), "%"]
      })]
    });
  }, []);
  const getCellData = react.exports.useCallback((row, cell) => {
    var _a3, _b3;
    const header = cell.column.Header;
    if (cell.column.id === "taskParams" || cell.column.id === "infoParams") {
      return cell.value;
    }
    if (columnDef && ((_a3 = columnDef[header]) == null ? void 0 : _a3.progress)) {
      return getProgressBar(row, cell);
    }
    if (columnDef && ((_b3 = columnDef[header]) == null ? void 0 : _b3.progress) === false) {
      return /* @__PURE__ */ jsxs("span", {
        children: [cell.render("Cell"), "%"]
      });
    }
    if (row.original.highlight) {
      return /* @__PURE__ */ jsx("span", {
        style: {
          fontWeight: "bold"
        },
        children: cell.render("Cell")
      });
    }
    if (typeof cell.value === "boolean") {
      return /* @__PURE__ */ jsx("span", {
        children: `${cell.value}`
      });
    }
    if (typeof cell.value === "object" && header !== "") {
      const v2 = JSON.stringify(cell.value).split('"').join("");
      return /* @__PURE__ */ jsx("span", {
        children: v2
      });
    }
    return /* @__PURE__ */ jsx("span", {
      children: cell.render("Cell")
    });
  }, [columnDef, getProgressBar]);
  const handleSort = react.exports.useCallback((sortByArr) => {
    const prevAllData = convertDataToTable(data2);
    if (prevAllData && sortByArr && sortByArr.length > 0) {
      const sortedData = prevAllData.sort((a2, b3) => {
        const id2 = sortByArr[0]["id"];
        const desc = sortByArr[0]["desc"];
        const av = a2[id2];
        const bv = b3[id2];
        const cmp = (x22, y22) => (x22 == null) - (y22 == null) || (x22 > y22) - (x22 < y22);
        return desc ? cmp(bv, av) : cmp(av, bv);
      });
      setAllData([...sortedData]);
    } else if (prevAllData && sortByArr && sortByArr.length === 0) {
      setAllData(prevAllData);
    }
  }, [convertDataToTable, data2]);
  const cancelSorting = react.exports.useCallback((column) => {
    const prevAllData = convertDataToTable(data2);
    setAllData(prevAllData);
    column.clearSortBy();
  }, [convertDataToTable, data2]);
  react.exports.useEffect(() => {
    handleSort(sortBy);
  }, [handleSort, sortBy]);
  const hasBackendError = getRows && getRows.length > 0 && ((_a2 = getRows[0]) == null ? void 0 : _a2.error) && typeof getRows[0].error === "string";
  const totalFilteredEntries = rows.length;
  const effectiveTotalRows = serverSidePagination ? totalRows != null ? totalRows : rows.length : totalFilteredEntries;
  const effectiveTotalPages = serverSidePagination ? externalPageCount != null ? externalPageCount : 1 : pageOptions.length || 1;
  const displayedRows = serverSidePagination ? rows : page;
  react.exports.useEffect(() => {
    if (!serverSidePagination || typeof onPageChange !== "function")
      return;
    onPageChange({
      pageIndex,
      pageSize
    });
  }, [serverSidePagination, pageIndex, pageSize]);
  return /* @__PURE__ */ jsxs("div", {
    className: "table-container",
    children: [rowActions && rowActions.length > 0 ? mapActionsToElements() : null, title ? /* @__PURE__ */ jsx("h3", {
      children: title
    }) : null, isEmpty && !loading ? /* @__PURE__ */ jsx("h3", {
      children: "No tasks run yet"
    }) : /* @__PURE__ */ jsxs(react.exports.Fragment, {
      children: [/* @__PURE__ */ jsxs("div", {
        className: "hybrid-toolbar",
        style: {
          display: "flex",
          justifyContent: "space-between",
          alignItems: "center",
          gap: 12,
          padding: "6px 0",
          flexWrap: "wrap"
        },
        children: [/* @__PURE__ */ jsxs("div", {
          children: ["Show", " ", /* @__PURE__ */ jsx("select", {
            value: pageSize,
            onChange: (e) => {
              setPageSize(Number(e.target.value));
              gotoPage(0);
            },
            children: pageSizeOptions.map((ps) => /* @__PURE__ */ jsx("option", {
              value: ps,
              children: ps
            }, ps))
          }), " ", "entries"]
        }), /* @__PURE__ */ jsx("div", {}), /* @__PURE__ */ jsx("div", {
          children: /* @__PURE__ */ jsxs("span", {
            children: ["Showing ", /* @__PURE__ */ jsx("strong", {
              children: pageIndex + 1
            }), " of", " ", /* @__PURE__ */ jsx("strong", {
              children: effectiveTotalPages
            }), " pages for", " ", /* @__PURE__ */ jsx("strong", {
              children: effectiveTotalRows
            }), " entries"]
          })
        })]
      }), /* @__PURE__ */ jsx("div", {
        ref: containerRef,
        className: "scroll-x",
        style: {
          maxHeight: `${maxBodyHeight}px`
        },
        children: /* @__PURE__ */ jsxs("table", {
          className: "k2-table k2-refresh-fadeIn",
          ...getTableProps(),
          style: {
            width: "100%",
            borderCollapse: "separate",
            tableLayout: "fixed"
          },
          children: [headerGroups.length > 0 ? /* @__PURE__ */ jsx("colgroup", {
            children: headerGroups[0].headers.map((column) => {
              var _a3, _b3, _c2, _d, _e2;
              const headerProps = column.getHeaderProps();
              const colWidth = (_e2 = (_d = (_c2 = (_b3 = (_a3 = headerProps.style) == null ? void 0 : _a3.width) != null ? _b3 : column.totalWidth) != null ? _c2 : column.width) != null ? _d : column.minWidth) != null ? _e2 : 120;
              return /* @__PURE__ */ jsx("col", {
                style: {
                  width: colWidth
                }
              }, column.id);
            })
          }) : null, /* @__PURE__ */ jsx("thead", {
            style: {
              position: "sticky",
              top: 0,
              zIndex: 1,
              background: "white",
              userSelect: "none"
            },
            children: headerGroups.map((headerGroup) => {
              const hgProps = headerGroup.getHeaderGroupProps();
              return /* @__PURE__ */ react.exports.createElement("tr", {
                ...hgProps,
                key: hgProps.key
              }, headerGroup.headers.map((column) => {
                const headerProps = column.getHeaderProps();
                return /* @__PURE__ */ react.exports.createElement("th", {
                  ...headerProps,
                  key: headerProps.key,
                  style: {
                    ...headerProps.style,
                    boxSizing: "border-box",
                    padding: "8px",
                    userSelect: "none"
                  }
                }, /* @__PURE__ */ jsxs("div", {
                  className: "header-cell",
                  style: {
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "space-between",
                    gap: 4,
                    width: "100%",
                    userSelect: "none"
                  },
                  children: [/* @__PURE__ */ jsx("span", {
                    onDoubleClick: () => cancelSorting(column),
                    style: {
                      display: "inline-flex",
                      alignItems: "center",
                      flex: 1,
                      minWidth: 0,
                      overflow: "hidden",
                      textOverflow: "ellipsis",
                      whiteSpace: "nowrap",
                      userSelect: "none"
                    },
                    children: column.render("Header")
                  }), (column == null ? void 0 : column.id) !== "actions" && (column == null ? void 0 : column.id) !== "taskParams" && (column == null ? void 0 : column.id) !== "infoParams" ? /* @__PURE__ */ jsxs("span", {
                    className: "icons-wrapper",
                    style: {
                      display: "flex",
                      alignItems: "center",
                      gap: 4,
                      flexShrink: 0,
                      userSelect: "none"
                    },
                    children: [!column.disableFilters && getFilterIcon(column), getSortIcon(column)]
                  }) : null, /* @__PURE__ */ jsx(HeaderResizer, {
                    column
                  })]
                }), /* @__PURE__ */ jsx("div", {
                  style: {
                    marginTop: 6
                  },
                  children: (column == null ? void 0 : column.id) !== "actions" && (column == null ? void 0 : column.id) !== "taskParams" && (column == null ? void 0 : column.id) !== "infoParams" && !column.disableFilters && filterColumnsId[column.id] ? column.render("Filter") : null
                }));
              }));
            })
          }), /* @__PURE__ */ jsx("tbody", {
            ...getTableBodyProps(),
            children: loading ? /* @__PURE__ */ jsx("tr", {
              children: /* @__PURE__ */ jsx("td", {
                colSpan: ((_c = (_b2 = headerGroups[0]) == null ? void 0 : _b2.headers) == null ? void 0 : _c.length) || 1,
                style: {
                  textAlign: "center",
                  padding: 20
                },
                children: /* @__PURE__ */ jsx("div", {
                  className: "spinner"
                })
              })
            }) : hasBackendError ? /* @__PURE__ */ jsx("tr", {
              children: /* @__PURE__ */ jsx("td", {
                colSpan: columnNames.length || 1,
                style: {
                  color: "red",
                  padding: 8
                },
                children: getRows[0].error
              })
            }) : displayedRows.length > 0 ? displayedRows.map((row) => {
              prepareRow(row);
              const rowProps = row.getRowProps();
              return /* @__PURE__ */ react.exports.createElement("tr", {
                ...rowProps,
                key: rowProps.key
              }, row.cells.map((cell) => {
                const cellProps = cell.getCellProps();
                const headerLabel = cell.column.Header;
                return /* @__PURE__ */ react.exports.createElement("td", {
                  ...cellProps,
                  key: cellProps.key,
                  title: cell.column.id === "taskParams" || cell.column.id === "actions" || cell.column.id === "infoParams" ? void 0 : typeof row.original[headerLabel] === "string" || typeof row.original[headerLabel] === "number" ? row.original[headerLabel] : void 0,
                  className: `${getTDClassName(row.original, headerLabel)} cell`,
                  onClick: cell.column.id === "taskParams" || cell.column.id === "actions" || cell.column.id === "infoParams" ? void 0 : (e) => handleClickOnTD(e, headerLabel, row.original[headerLabel], row.index),
                  style: {
                    ...cellProps.style,
                    cursor: callback ? "pointer" : "auto",
                    boxSizing: "border-box",
                    padding: "8px",
                    overflow: "hidden",
                    textOverflow: "ellipsis",
                    whiteSpace: "nowrap"
                  }
                }, getCellData(row, cell));
              }));
            }) : /* @__PURE__ */ jsx("tr", {
              children: /* @__PURE__ */ jsx("td", {
                colSpan: columnNames.length || 1,
                style: {
                  textAlign: "center",
                  padding: 12
                },
                children: (preFilteredRows == null ? void 0 : preFilteredRows.length) ? "There are no rows that match your criteria" : ""
              })
            })
          })]
        })
      }), /* @__PURE__ */ jsx("div", {
        style: {
          display: "flex",
          marginTop: "5px",
          justifyContent: "center"
        },
        children: /* @__PURE__ */ jsxs("div", {
          className: "table-buttons",
          style: {
            marginTop: 10
          },
          children: [/* @__PURE__ */ jsx("button", {
            onClick: () => gotoPage(0),
            disabled: !canPreviousPage,
            children: "First Page"
          }), /* @__PURE__ */ jsx("button", {
            onClick: () => previousPage(),
            disabled: !canPreviousPage,
            children: "Previous"
          }), /* @__PURE__ */ jsx("span", {
            style: {
              padding: 10
            },
            children: pageIndex + 1
          }), /* @__PURE__ */ jsx("button", {
            onClick: () => nextPage2(),
            disabled: !canNextPage,
            children: "Next"
          }), /* @__PURE__ */ jsx("button", {
            onClick: () => gotoPage(pageCount - 1),
            disabled: !canNextPage,
            children: "Last"
          })]
        })
      })]
    })]
  });
}
function ResultsHeader({
  executionResult,
  statusStyles,
  taskId,
  taskName,
  executionId,
  startTime,
  endTime,
  totalTables,
  failedTables,
  percentFailed,
  pdfButton,
  onDownloadReport
}) {
  var _a2, _b2;
  const t3 = (_b2 = (_a2 = window == null ? void 0 : window.k2api) == null ? void 0 : _a2.i18n) == null ? void 0 : _b2.translate;
  const statusText = executionResult;
  return /* @__PURE__ */ jsxs("div", {
    style: {
      marginBottom: "32px",
      marginLeft: "30px",
      marginRight: "30px",
      backgroundColor: "white",
      boxShadow: "0 4px 6px rgba(0,0,0,0.1)",
      borderRadius: "8px",
      padding: "20px"
    },
    children: [/* @__PURE__ */ jsxs("div", {
      style: {
        display: "flex",
        alignItems: "center",
        justifyContent: "space-between",
        gap: "12px",
        marginBottom: "16px"
      },
      children: [/* @__PURE__ */ jsx("div", {
        style: {
          flexShrink: 0
        },
        children: /* @__PURE__ */ jsx("span", {
          style: {
            padding: "2px 10px",
            borderRadius: "6px",
            backgroundColor: statusStyles.bg,
            color: statusStyles.text,
            fontSize: "1 rem",
            fontWeight: 500,
            whiteSpace: "nowrap",
            border: `1px solid ${statusStyles.border}`,
            lineHeight: 1.4,
            display: "inline-block"
          },
          children: statusText
        })
      }), /* @__PURE__ */ jsx("div", {
        style: {
          flex: 1,
          textAlign: "center",
          overflow: "hidden"
        },
        children: /* @__PURE__ */ jsxs("h2", {
          style: {
            margin: 0,
            whiteSpace: "nowrap",
            overflow: "hidden",
            textOverflow: "ellipsis",
            fontSize: "1.1rem",
            fontWeight: 400
          },
          title: `Task #${taskId} ${taskName} \u2014 execution #${executionId}`,
          children: ["Task #", taskId, " ", taskName, " \u2014 execution #", executionId]
        })
      }), /* @__PURE__ */ jsxs("div", {
        style: {
          flexShrink: 0
        },
        children: [pdfButton, !pdfButton && onDownloadReport && /* @__PURE__ */ jsxs("button", {
          type: "button",
          className: "new-task-btn",
          onClick: onDownloadReport,
          style: {
            display: "inline-flex",
            alignItems: "center",
            gap: 8
          },
          children: [/* @__PURE__ */ jsx("i", {
            className: "fa fa-download",
            "aria-hidden": "true"
          }), t3 && t3("k2verifyResults.downloadReport") || "Download Report"]
        })]
      })]
    }), /* @__PURE__ */ jsxs("div", {
      style: {
        display: "grid",
        gridTemplateColumns: "repeat(5, 1fr)",
        gap: "16px",
        textAlign: "center"
      },
      children: [/* @__PURE__ */ jsxs("div", {
        style: {
          padding: "10px 12px",
          borderRadius: "8px",
          backgroundColor: "#f1f1f1"
        },
        children: [/* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "12px",
            color: "#64748b "
          },
          children: "Total Tables"
        }), /* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "15px",
            fontWeight: 400
          },
          children: totalTables
        })]
      }), /* @__PURE__ */ jsxs("div", {
        style: {
          padding: "10px 12px",
          borderRadius: "8px",
          backgroundColor: "#f1f1f1"
        },
        children: [/* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "12px",
            color: "#64748b "
          },
          children: "Failed Tables"
        }), /* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "15px",
            fontWeight: 400
          },
          children: failedTables
        })]
      }), /* @__PURE__ */ jsxs("div", {
        style: {
          padding: "10px 12px",
          borderRadius: "8px",
          backgroundColor: "#f1f1f1"
        },
        children: [/* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "12px",
            color: "#64748b "
          },
          children: "Failed %"
        }), /* @__PURE__ */ jsxs("div", {
          style: {
            fontSize: "15px",
            fontWeight: 400
          },
          children: [percentFailed, "%"]
        })]
      }), /* @__PURE__ */ jsxs("div", {
        style: {
          padding: "10px 12px",
          borderRadius: "8px",
          backgroundColor: "#f1f1f1"
        },
        children: [/* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "12px",
            color: "#64748b "
          },
          children: "Start Time"
        }), /* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "15px",
            fontWeight: 400
          },
          children: startTime || "N/A"
        })]
      }), /* @__PURE__ */ jsxs("div", {
        style: {
          padding: "10px 12px",
          borderRadius: "8px",
          backgroundColor: "#f1f1f1"
        },
        children: [/* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "12px",
            color: "#64748b "
          },
          children: "End Time"
        }), /* @__PURE__ */ jsx("div", {
          style: {
            fontSize: "15px",
            fontWeight: 400
          },
          children: endTime || "N/A"
        })]
      })]
    })]
  });
}
var K2VerifyResultsDetailed$1 = "";
const scriptRel = "modulepreload";
const seen = {};
const base = "/static/k2verify/";
const __vitePreload = function preload(baseModule, deps) {
  if (!deps || deps.length === 0) {
    return baseModule();
  }
  return Promise.all(deps.map((dep) => {
    dep = `${base}${dep}`;
    if (dep in seen)
      return;
    seen[dep] = true;
    const isCss = dep.endsWith(".css");
    const cssSelector = isCss ? '[rel="stylesheet"]' : "";
    if (document.querySelector(`link[href="${dep}"]${cssSelector}`)) {
      return;
    }
    const link = document.createElement("link");
    link.rel = isCss ? "stylesheet" : scriptRel;
    if (!isCss) {
      link.as = "script";
      link.crossOrigin = "";
    }
    link.href = dep;
    document.head.appendChild(link);
    if (isCss) {
      return new Promise((res, rej) => {
        link.addEventListener("load", res);
        link.addEventListener("error", () => rej(new Error(`Unable to preload CSS for ${dep}`)));
      });
    }
  })).then(() => baseModule());
};
function _typeof(o2) {
  "@babel/helpers - typeof";
  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o3) {
    return typeof o3;
  } : function(o3) {
    return o3 && "function" == typeof Symbol && o3.constructor === Symbol && o3 !== Symbol.prototype ? "symbol" : typeof o3;
  }, _typeof(o2);
}
var ch2 = {};
var wk = function(c2, id2, msg, transfer, cb2) {
  var w2 = new Worker(ch2[id2] || (ch2[id2] = URL.createObjectURL(new Blob([
    c2 + ';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'
  ], { type: "text/javascript" }))));
  w2.onmessage = function(e) {
    var d2 = e.data, ed2 = d2.$e$;
    if (ed2) {
      var err2 = new Error(ed2[0]);
      err2["code"] = ed2[1];
      err2.stack = ed2[2];
      cb2(err2, null);
    } else
      cb2(null, d2);
  };
  w2.postMessage(msg, transfer);
  return w2;
};
var u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;
var fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]);
var fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]);
var clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
var freb = function(eb2, start) {
  var b3 = new u16(31);
  for (var i2 = 0; i2 < 31; ++i2) {
    b3[i2] = start += 1 << eb2[i2 - 1];
  }
  var r2 = new i32(b3[30]);
  for (var i2 = 1; i2 < 30; ++i2) {
    for (var j2 = b3[i2]; j2 < b3[i2 + 1]; ++j2) {
      r2[j2] = j2 - b3[i2] << 5 | i2;
    }
  }
  return { b: b3, r: r2 };
};
var _a$1 = freb(fleb, 2), fl = _a$1.b, revfl = _a$1.r;
fl[28] = 258, revfl[258] = 28;
var _b = freb(fdeb, 0), fd = _b.b, revfd = _b.r;
var rev = new u16(32768);
for (var i$1 = 0; i$1 < 32768; ++i$1) {
  var x$1 = (i$1 & 43690) >> 1 | (i$1 & 21845) << 1;
  x$1 = (x$1 & 52428) >> 2 | (x$1 & 13107) << 2;
  x$1 = (x$1 & 61680) >> 4 | (x$1 & 3855) << 4;
  rev[i$1] = ((x$1 & 65280) >> 8 | (x$1 & 255) << 8) >> 1;
}
var hMap = function(cd2, mb2, r2) {
  var s2 = cd2.length;
  var i2 = 0;
  var l2 = new u16(mb2);
  for (; i2 < s2; ++i2) {
    if (cd2[i2])
      ++l2[cd2[i2] - 1];
  }
  var le2 = new u16(mb2);
  for (i2 = 1; i2 < mb2; ++i2) {
    le2[i2] = le2[i2 - 1] + l2[i2 - 1] << 1;
  }
  var co;
  if (r2) {
    co = new u16(1 << mb2);
    var rvb = 15 - mb2;
    for (i2 = 0; i2 < s2; ++i2) {
      if (cd2[i2]) {
        var sv = i2 << 4 | cd2[i2];
        var r_1 = mb2 - cd2[i2];
        var v2 = le2[cd2[i2] - 1]++ << r_1;
        for (var m2 = v2 | (1 << r_1) - 1; v2 <= m2; ++v2) {
          co[rev[v2] >> rvb] = sv;
        }
      }
    }
  } else {
    co = new u16(s2);
    for (i2 = 0; i2 < s2; ++i2) {
      if (cd2[i2]) {
        co[i2] = rev[le2[cd2[i2] - 1]++] >> 15 - cd2[i2];
      }
    }
  }
  return co;
};
var flt = new u8(288);
for (var i$1 = 0; i$1 < 144; ++i$1)
  flt[i$1] = 8;
for (var i$1 = 144; i$1 < 256; ++i$1)
  flt[i$1] = 9;
for (var i$1 = 256; i$1 < 280; ++i$1)
  flt[i$1] = 7;
for (var i$1 = 280; i$1 < 288; ++i$1)
  flt[i$1] = 8;
var fdt = new u8(32);
for (var i$1 = 0; i$1 < 32; ++i$1)
  fdt[i$1] = 5;
var flm = /* @__PURE__ */ hMap(flt, 9, 0), flrm = /* @__PURE__ */ hMap(flt, 9, 1);
var fdm = /* @__PURE__ */ hMap(fdt, 5, 0), fdrm = /* @__PURE__ */ hMap(fdt, 5, 1);
var max = function(a2) {
  var m2 = a2[0];
  for (var i2 = 1; i2 < a2.length; ++i2) {
    if (a2[i2] > m2)
      m2 = a2[i2];
  }
  return m2;
};
var bits = function(d2, p2, m2) {
  var o2 = p2 / 8 | 0;
  return (d2[o2] | d2[o2 + 1] << 8) >> (p2 & 7) & m2;
};
var bits16 = function(d2, p2) {
  var o2 = p2 / 8 | 0;
  return (d2[o2] | d2[o2 + 1] << 8 | d2[o2 + 2] << 16) >> (p2 & 7);
};
var shft = function(p2) {
  return (p2 + 7) / 8 | 0;
};
var slc = function(v2, s2, e) {
  if (s2 == null || s2 < 0)
    s2 = 0;
  if (e == null || e > v2.length)
    e = v2.length;
  return new u8(v2.subarray(s2, e));
};
var FlateErrorCode = {
  UnexpectedEOF: 0,
  InvalidBlockType: 1,
  InvalidLengthLiteral: 2,
  InvalidDistance: 3,
  StreamFinished: 4,
  NoStreamHandler: 5,
  InvalidHeader: 6,
  NoCallback: 7,
  InvalidUTF8: 8,
  ExtraFieldTooLong: 9,
  InvalidDate: 10,
  FilenameTooLong: 11,
  StreamFinishing: 12,
  InvalidZipData: 13,
  UnknownCompressionMethod: 14
};
var ec = [
  "unexpected EOF",
  "invalid block type",
  "invalid length/literal",
  "invalid distance",
  "stream finished",
  "no stream handler",
  ,
  "no callback",
  "invalid UTF-8 data",
  "extra field too long",
  "date not in range 1980-2099",
  "filename too long",
  "stream finishing",
  "invalid zip data"
];
;
var err$1 = function(ind, msg, nt2) {
  var e = new Error(msg || ec[ind]);
  e.code = ind;
  if (Error.captureStackTrace)
    Error.captureStackTrace(e, err$1);
  if (!nt2)
    throw e;
  return e;
};
var inflt = function(dat, st2, buf, dict) {
  var sl2 = dat.length, dl2 = dict ? dict.length : 0;
  if (!sl2 || st2.f && !st2.l)
    return buf || new u8(0);
  var noBuf = !buf;
  var resize = noBuf || st2.i != 2;
  var noSt = st2.i;
  if (noBuf)
    buf = new u8(sl2 * 3);
  var cbuf = function(l3) {
    var bl2 = buf.length;
    if (l3 > bl2) {
      var nbuf = new u8(Math.max(bl2 * 2, l3));
      nbuf.set(buf);
      buf = nbuf;
    }
  };
  var final = st2.f || 0, pos = st2.p || 0, bt2 = st2.b || 0, lm = st2.l, dm = st2.d, lbt = st2.m, dbt = st2.n;
  var tbts = sl2 * 8;
  do {
    if (!lm) {
      final = bits(dat, pos, 1);
      var type = bits(dat, pos + 1, 3);
      pos += 3;
      if (!type) {
        var s2 = shft(pos) + 4, l2 = dat[s2 - 4] | dat[s2 - 3] << 8, t3 = s2 + l2;
        if (t3 > sl2) {
          if (noSt)
            err$1(0);
          break;
        }
        if (resize)
          cbuf(bt2 + l2);
        buf.set(dat.subarray(s2, t3), bt2);
        st2.b = bt2 += l2, st2.p = pos = t3 * 8, st2.f = final;
        continue;
      } else if (type == 1)
        lm = flrm, dm = fdrm, lbt = 9, dbt = 5;
      else if (type == 2) {
        var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;
        var tl2 = hLit + bits(dat, pos + 5, 31) + 1;
        pos += 14;
        var ldt = new u8(tl2);
        var clt = new u8(19);
        for (var i2 = 0; i2 < hcLen; ++i2) {
          clt[clim[i2]] = bits(dat, pos + i2 * 3, 7);
        }
        pos += hcLen * 3;
        var clb = max(clt), clbmsk = (1 << clb) - 1;
        var clm = hMap(clt, clb, 1);
        for (var i2 = 0; i2 < tl2; ) {
          var r2 = clm[bits(dat, pos, clbmsk)];
          pos += r2 & 15;
          var s2 = r2 >> 4;
          if (s2 < 16) {
            ldt[i2++] = s2;
          } else {
            var c2 = 0, n2 = 0;
            if (s2 == 16)
              n2 = 3 + bits(dat, pos, 3), pos += 2, c2 = ldt[i2 - 1];
            else if (s2 == 17)
              n2 = 3 + bits(dat, pos, 7), pos += 3;
            else if (s2 == 18)
              n2 = 11 + bits(dat, pos, 127), pos += 7;
            while (n2--)
              ldt[i2++] = c2;
          }
        }
        var lt2 = ldt.subarray(0, hLit), dt2 = ldt.subarray(hLit);
        lbt = max(lt2);
        dbt = max(dt2);
        lm = hMap(lt2, lbt, 1);
        dm = hMap(dt2, dbt, 1);
      } else
        err$1(1);
      if (pos > tbts) {
        if (noSt)
          err$1(0);
        break;
      }
    }
    if (resize)
      cbuf(bt2 + 131072);
    var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;
    var lpos = pos;
    for (; ; lpos = pos) {
      var c2 = lm[bits16(dat, pos) & lms], sym = c2 >> 4;
      pos += c2 & 15;
      if (pos > tbts) {
        if (noSt)
          err$1(0);
        break;
      }
      if (!c2)
        err$1(2);
      if (sym < 256)
        buf[bt2++] = sym;
      else if (sym == 256) {
        lpos = pos, lm = null;
        break;
      } else {
        var add = sym - 254;
        if (sym > 264) {
          var i2 = sym - 257, b3 = fleb[i2];
          add = bits(dat, pos, (1 << b3) - 1) + fl[i2];
          pos += b3;
        }
        var d2 = dm[bits16(dat, pos) & dms], dsym = d2 >> 4;
        if (!d2)
          err$1(3);
        pos += d2 & 15;
        var dt2 = fd[dsym];
        if (dsym > 3) {
          var b3 = fdeb[dsym];
          dt2 += bits16(dat, pos) & (1 << b3) - 1, pos += b3;
        }
        if (pos > tbts) {
          if (noSt)
            err$1(0);
          break;
        }
        if (resize)
          cbuf(bt2 + 131072);
        var end = bt2 + add;
        if (bt2 < dt2) {
          var shift = dl2 - dt2, dend = Math.min(dt2, end);
          if (shift + bt2 < 0)
            err$1(3);
          for (; bt2 < dend; ++bt2)
            buf[bt2] = dict[shift + bt2];
        }
        for (; bt2 < end; ++bt2)
          buf[bt2] = buf[bt2 - dt2];
      }
    }
    st2.l = lm, st2.p = lpos, st2.b = bt2, st2.f = final;
    if (lm)
      final = 1, st2.m = lbt, st2.d = dm, st2.n = dbt;
  } while (!final);
  return bt2 != buf.length && noBuf ? slc(buf, 0, bt2) : buf.subarray(0, bt2);
};
var wbits = function(d2, p2, v2) {
  v2 <<= p2 & 7;
  var o2 = p2 / 8 | 0;
  d2[o2] |= v2;
  d2[o2 + 1] |= v2 >> 8;
};
var wbits16 = function(d2, p2, v2) {
  v2 <<= p2 & 7;
  var o2 = p2 / 8 | 0;
  d2[o2] |= v2;
  d2[o2 + 1] |= v2 >> 8;
  d2[o2 + 2] |= v2 >> 16;
};
var hTree = function(d2, mb2) {
  var t3 = [];
  for (var i2 = 0; i2 < d2.length; ++i2) {
    if (d2[i2])
      t3.push({ s: i2, f: d2[i2] });
  }
  var s2 = t3.length;
  var t22 = t3.slice();
  if (!s2)
    return { t: et$1, l: 0 };
  if (s2 == 1) {
    var v2 = new u8(t3[0].s + 1);
    v2[t3[0].s] = 1;
    return { t: v2, l: 1 };
  }
  t3.sort(function(a2, b3) {
    return a2.f - b3.f;
  });
  t3.push({ s: -1, f: 25001 });
  var l2 = t3[0], r2 = t3[1], i0 = 0, i1 = 1, i22 = 2;
  t3[0] = { s: -1, f: l2.f + r2.f, l: l2, r: r2 };
  while (i1 != s2 - 1) {
    l2 = t3[t3[i0].f < t3[i22].f ? i0++ : i22++];
    r2 = t3[i0 != i1 && t3[i0].f < t3[i22].f ? i0++ : i22++];
    t3[i1++] = { s: -1, f: l2.f + r2.f, l: l2, r: r2 };
  }
  var maxSym = t22[0].s;
  for (var i2 = 1; i2 < s2; ++i2) {
    if (t22[i2].s > maxSym)
      maxSym = t22[i2].s;
  }
  var tr = new u16(maxSym + 1);
  var mbt = ln(t3[i1 - 1], tr, 0);
  if (mbt > mb2) {
    var i2 = 0, dt2 = 0;
    var lft = mbt - mb2, cst = 1 << lft;
    t22.sort(function(a2, b3) {
      return tr[b3.s] - tr[a2.s] || a2.f - b3.f;
    });
    for (; i2 < s2; ++i2) {
      var i2_1 = t22[i2].s;
      if (tr[i2_1] > mb2) {
        dt2 += cst - (1 << mbt - tr[i2_1]);
        tr[i2_1] = mb2;
      } else
        break;
    }
    dt2 >>= lft;
    while (dt2 > 0) {
      var i2_2 = t22[i2].s;
      if (tr[i2_2] < mb2)
        dt2 -= 1 << mb2 - tr[i2_2]++ - 1;
      else
        ++i2;
    }
    for (; i2 >= 0 && dt2; --i2) {
      var i2_3 = t22[i2].s;
      if (tr[i2_3] == mb2) {
        --tr[i2_3];
        ++dt2;
      }
    }
    mbt = mb2;
  }
  return { t: new u8(tr), l: mbt };
};
var ln = function(n2, l2, d2) {
  return n2.s == -1 ? Math.max(ln(n2.l, l2, d2 + 1), ln(n2.r, l2, d2 + 1)) : l2[n2.s] = d2;
};
var lc = function(c2) {
  var s2 = c2.length;
  while (s2 && !c2[--s2])
    ;
  var cl2 = new u16(++s2);
  var cli = 0, cln = c2[0], cls = 1;
  var w2 = function(v2) {
    cl2[cli++] = v2;
  };
  for (var i2 = 1; i2 <= s2; ++i2) {
    if (c2[i2] == cln && i2 != s2)
      ++cls;
    else {
      if (!cln && cls > 2) {
        for (; cls > 138; cls -= 138)
          w2(32754);
        if (cls > 2) {
          w2(cls > 10 ? cls - 11 << 5 | 28690 : cls - 3 << 5 | 12305);
          cls = 0;
        }
      } else if (cls > 3) {
        w2(cln), --cls;
        for (; cls > 6; cls -= 6)
          w2(8304);
        if (cls > 2)
          w2(cls - 3 << 5 | 8208), cls = 0;
      }
      while (cls--)
        w2(cln);
      cls = 1;
      cln = c2[i2];
    }
  }
  return { c: cl2.subarray(0, cli), n: s2 };
};
var clen = function(cf2, cl2) {
  var l2 = 0;
  for (var i2 = 0; i2 < cl2.length; ++i2)
    l2 += cf2[i2] * cl2[i2];
  return l2;
};
var wfblk = function(out, pos, dat) {
  var s2 = dat.length;
  var o2 = shft(pos + 2);
  out[o2] = s2 & 255;
  out[o2 + 1] = s2 >> 8;
  out[o2 + 2] = out[o2] ^ 255;
  out[o2 + 3] = out[o2 + 1] ^ 255;
  for (var i2 = 0; i2 < s2; ++i2)
    out[o2 + i2 + 4] = dat[i2];
  return (o2 + 4 + s2) * 8;
};
var wblk = function(dat, out, final, syms, lf2, df2, eb2, li2, bs, bl2, p2) {
  wbits(out, p2++, final);
  ++lf2[256];
  var _a2 = hTree(lf2, 15), dlt = _a2.t, mlb = _a2.l;
  var _b2 = hTree(df2, 15), ddt = _b2.t, mdb = _b2.l;
  var _c = lc(dlt), lclt = _c.c, nlc = _c.n;
  var _d = lc(ddt), lcdt = _d.c, ndc = _d.n;
  var lcfreq = new u16(19);
  for (var i2 = 0; i2 < lclt.length; ++i2)
    ++lcfreq[lclt[i2] & 31];
  for (var i2 = 0; i2 < lcdt.length; ++i2)
    ++lcfreq[lcdt[i2] & 31];
  var _e2 = hTree(lcfreq, 7), lct = _e2.t, mlcb = _e2.l;
  var nlcc = 19;
  for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)
    ;
  var flen = bl2 + 5 << 3;
  var ftlen = clen(lf2, flt) + clen(df2, fdt) + eb2;
  var dtlen = clen(lf2, dlt) + clen(df2, ddt) + eb2 + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];
  if (bs >= 0 && flen <= ftlen && flen <= dtlen)
    return wfblk(out, p2, dat.subarray(bs, bs + bl2));
  var lm, ll2, dm, dl2;
  wbits(out, p2, 1 + (dtlen < ftlen)), p2 += 2;
  if (dtlen < ftlen) {
    lm = hMap(dlt, mlb, 0), ll2 = dlt, dm = hMap(ddt, mdb, 0), dl2 = ddt;
    var llm = hMap(lct, mlcb, 0);
    wbits(out, p2, nlc - 257);
    wbits(out, p2 + 5, ndc - 1);
    wbits(out, p2 + 10, nlcc - 4);
    p2 += 14;
    for (var i2 = 0; i2 < nlcc; ++i2)
      wbits(out, p2 + 3 * i2, lct[clim[i2]]);
    p2 += 3 * nlcc;
    var lcts = [lclt, lcdt];
    for (var it2 = 0; it2 < 2; ++it2) {
      var clct = lcts[it2];
      for (var i2 = 0; i2 < clct.length; ++i2) {
        var len = clct[i2] & 31;
        wbits(out, p2, llm[len]), p2 += lct[len];
        if (len > 15)
          wbits(out, p2, clct[i2] >> 5 & 127), p2 += clct[i2] >> 12;
      }
    }
  } else {
    lm = flm, ll2 = flt, dm = fdm, dl2 = fdt;
  }
  for (var i2 = 0; i2 < li2; ++i2) {
    var sym = syms[i2];
    if (sym > 255) {
      var len = sym >> 18 & 31;
      wbits16(out, p2, lm[len + 257]), p2 += ll2[len + 257];
      if (len > 7)
        wbits(out, p2, sym >> 23 & 31), p2 += fleb[len];
      var dst = sym & 31;
      wbits16(out, p2, dm[dst]), p2 += dl2[dst];
      if (dst > 3)
        wbits16(out, p2, sym >> 5 & 8191), p2 += fdeb[dst];
    } else {
      wbits16(out, p2, lm[sym]), p2 += ll2[sym];
    }
  }
  wbits16(out, p2, lm[256]);
  return p2 + ll2[256];
};
var deo = /* @__PURE__ */ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);
var et$1 = /* @__PURE__ */ new u8(0);
var dflt = function(dat, lvl, plvl, pre, post, st2) {
  var s2 = st2.z || dat.length;
  var o2 = new u8(pre + s2 + 5 * (1 + Math.ceil(s2 / 7e3)) + post);
  var w2 = o2.subarray(pre, o2.length - post);
  var lst = st2.l;
  var pos = (st2.r || 0) & 7;
  if (lvl) {
    if (pos)
      w2[0] = st2.r >> 3;
    var opt = deo[lvl - 1];
    var n2 = opt >> 13, c2 = opt & 8191;
    var msk_1 = (1 << plvl) - 1;
    var prev = st2.p || new u16(32768), head = st2.h || new u16(msk_1 + 1);
    var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;
    var hsh = function(i3) {
      return (dat[i3] ^ dat[i3 + 1] << bs1_1 ^ dat[i3 + 2] << bs2_1) & msk_1;
    };
    var syms = new i32(25e3);
    var lf2 = new u16(288), df2 = new u16(32);
    var lc_1 = 0, eb2 = 0, i2 = st2.i || 0, li2 = 0, wi2 = st2.w || 0, bs = 0;
    for (; i2 + 2 < s2; ++i2) {
      var hv = hsh(i2);
      var imod = i2 & 32767, pimod = head[hv];
      prev[imod] = pimod;
      head[hv] = imod;
      if (wi2 <= i2) {
        var rem = s2 - i2;
        if ((lc_1 > 7e3 || li2 > 24576) && (rem > 423 || !lst)) {
          pos = wblk(dat, w2, 0, syms, lf2, df2, eb2, li2, bs, i2 - bs, pos);
          li2 = lc_1 = eb2 = 0, bs = i2;
          for (var j2 = 0; j2 < 286; ++j2)
            lf2[j2] = 0;
          for (var j2 = 0; j2 < 30; ++j2)
            df2[j2] = 0;
        }
        var l2 = 2, d2 = 0, ch_1 = c2, dif = imod - pimod & 32767;
        if (rem > 2 && hv == hsh(i2 - dif)) {
          var maxn = Math.min(n2, rem) - 1;
          var maxd = Math.min(32767, i2);
          var ml2 = Math.min(258, rem);
          while (dif <= maxd && --ch_1 && imod != pimod) {
            if (dat[i2 + l2] == dat[i2 + l2 - dif]) {
              var nl2 = 0;
              for (; nl2 < ml2 && dat[i2 + nl2] == dat[i2 + nl2 - dif]; ++nl2)
                ;
              if (nl2 > l2) {
                l2 = nl2, d2 = dif;
                if (nl2 > maxn)
                  break;
                var mmd = Math.min(dif, nl2 - 2);
                var md2 = 0;
                for (var j2 = 0; j2 < mmd; ++j2) {
                  var ti2 = i2 - dif + j2 & 32767;
                  var pti = prev[ti2];
                  var cd2 = ti2 - pti & 32767;
                  if (cd2 > md2)
                    md2 = cd2, pimod = ti2;
                }
              }
            }
            imod = pimod, pimod = prev[imod];
            dif += imod - pimod & 32767;
          }
        }
        if (d2) {
          syms[li2++] = 268435456 | revfl[l2] << 18 | revfd[d2];
          var lin = revfl[l2] & 31, din = revfd[d2] & 31;
          eb2 += fleb[lin] + fdeb[din];
          ++lf2[257 + lin];
          ++df2[din];
          wi2 = i2 + l2;
          ++lc_1;
        } else {
          syms[li2++] = dat[i2];
          ++lf2[dat[i2]];
        }
      }
    }
    for (i2 = Math.max(i2, wi2); i2 < s2; ++i2) {
      syms[li2++] = dat[i2];
      ++lf2[dat[i2]];
    }
    pos = wblk(dat, w2, lst, syms, lf2, df2, eb2, li2, bs, i2 - bs, pos);
    if (!lst) {
      st2.r = pos & 7 | w2[pos / 8 | 0] << 3;
      pos -= 7;
      st2.h = head, st2.p = prev, st2.i = i2, st2.w = wi2;
    }
  } else {
    for (var i2 = st2.w || 0; i2 < s2 + lst; i2 += 65535) {
      var e = i2 + 65535;
      if (e >= s2) {
        w2[pos / 8 | 0] = lst;
        e = s2;
      }
      pos = wfblk(w2, pos + 1, dat.subarray(i2, e));
    }
    st2.i = s2;
  }
  return slc(o2, 0, pre + shft(pos) + post);
};
var crct = /* @__PURE__ */ function() {
  var t3 = new Int32Array(256);
  for (var i2 = 0; i2 < 256; ++i2) {
    var c2 = i2, k3 = 9;
    while (--k3)
      c2 = (c2 & 1 && -306674912) ^ c2 >>> 1;
    t3[i2] = c2;
  }
  return t3;
}();
var crc$1 = function() {
  var c2 = -1;
  return {
    p: function(d2) {
      var cr = c2;
      for (var i2 = 0; i2 < d2.length; ++i2)
        cr = crct[cr & 255 ^ d2[i2]] ^ cr >>> 8;
      c2 = cr;
    },
    d: function() {
      return ~c2;
    }
  };
};
var adler = function() {
  var a2 = 1, b3 = 0;
  return {
    p: function(d2) {
      var n2 = a2, m2 = b3;
      var l2 = d2.length | 0;
      for (var i2 = 0; i2 != l2; ) {
        var e = Math.min(i2 + 2655, l2);
        for (; i2 < e; ++i2)
          m2 += n2 += d2[i2];
        n2 = (n2 & 65535) + 15 * (n2 >> 16), m2 = (m2 & 65535) + 15 * (m2 >> 16);
      }
      a2 = n2, b3 = m2;
    },
    d: function() {
      a2 %= 65521, b3 %= 65521;
      return (a2 & 255) << 24 | (a2 & 65280) << 8 | (b3 & 255) << 8 | b3 >> 8;
    }
  };
};
;
var dopt = function(dat, opt, pre, post, st2) {
  if (!st2) {
    st2 = { l: 1 };
    if (opt.dictionary) {
      var dict = opt.dictionary.subarray(-32768);
      var newDat = new u8(dict.length + dat.length);
      newDat.set(dict);
      newDat.set(dat, dict.length);
      dat = newDat;
      st2.w = dict.length;
    }
  }
  return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? st2.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20 : 12 + opt.mem, pre, post, st2);
};
var mrg = function(a2, b3) {
  var o2 = {};
  for (var k3 in a2)
    o2[k3] = a2[k3];
  for (var k3 in b3)
    o2[k3] = b3[k3];
  return o2;
};
var wcln = function(fn, fnStr, td2) {
  var dt2 = fn();
  var st2 = fn.toString();
  var ks = st2.slice(st2.indexOf("[") + 1, st2.lastIndexOf("]")).replace(/\s+/g, "").split(",");
  for (var i2 = 0; i2 < dt2.length; ++i2) {
    var v2 = dt2[i2], k3 = ks[i2];
    if (typeof v2 == "function") {
      fnStr += ";" + k3 + "=";
      var st_1 = v2.toString();
      if (v2.prototype) {
        if (st_1.indexOf("[native code]") != -1) {
          var spInd = st_1.indexOf(" ", 8) + 1;
          fnStr += st_1.slice(spInd, st_1.indexOf("(", spInd));
        } else {
          fnStr += st_1;
          for (var t3 in v2.prototype)
            fnStr += ";" + k3 + ".prototype." + t3 + "=" + v2.prototype[t3].toString();
        }
      } else
        fnStr += st_1;
    } else
      td2[k3] = v2;
  }
  return fnStr;
};
var ch = [];
var cbfs = function(v2) {
  var tl2 = [];
  for (var k3 in v2) {
    if (v2[k3].buffer) {
      tl2.push((v2[k3] = new v2[k3].constructor(v2[k3])).buffer);
    }
  }
  return tl2;
};
var wrkr = function(fns, init, id2, cb2) {
  if (!ch[id2]) {
    var fnStr = "", td_1 = {}, m2 = fns.length - 1;
    for (var i2 = 0; i2 < m2; ++i2)
      fnStr = wcln(fns[i2], fnStr, td_1);
    ch[id2] = { c: wcln(fns[m2], fnStr, td_1), e: td_1 };
  }
  var td2 = mrg({}, ch[id2].e);
  return wk(ch[id2].c + ";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=" + init.toString() + "}", id2, td2, cbfs(td2), cb2);
};
var bInflt = function() {
  return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err$1, inflt, inflateSync, pbf, gopt];
};
var bDflt = function() {
  return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et$1, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf];
};
var gze = function() {
  return [gzh, gzhl, wbytes, crc$1, crct];
};
var guze = function() {
  return [gzs, gzl];
};
var zle = function() {
  return [zlh, wbytes, adler];
};
var zule = function() {
  return [zls];
};
var pbf = function(msg) {
  return postMessage(msg, [msg.buffer]);
};
var gopt = function(o2) {
  return o2 && {
    out: o2.size && new u8(o2.size),
    dictionary: o2.dictionary
  };
};
var cbify = function(dat, opts, fns, init, id2, cb2) {
  var w2 = wrkr(fns, init, id2, function(err2, dat2) {
    w2.terminate();
    cb2(err2, dat2);
  });
  w2.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);
  return function() {
    w2.terminate();
  };
};
var astrm = function(strm) {
  strm.ondata = function(dat, final) {
    return postMessage([dat, final], [dat.buffer]);
  };
  return function(ev) {
    if (ev.data.length) {
      strm.push(ev.data[0], ev.data[1]);
      postMessage([ev.data[0].length]);
    } else
      strm.flush();
  };
};
var astrmify = function(fns, strm, opts, init, id2, flush, ext) {
  var t3;
  var w2 = wrkr(fns, init, id2, function(err2, dat) {
    if (err2)
      w2.terminate(), strm.ondata.call(strm, err2);
    else if (!Array.isArray(dat))
      ext(dat);
    else if (dat.length == 1) {
      strm.queuedSize -= dat[0];
      if (strm.ondrain)
        strm.ondrain(dat[0]);
    } else {
      if (dat[1])
        w2.terminate();
      strm.ondata.call(strm, err2, dat[0], dat[1]);
    }
  });
  w2.postMessage(opts);
  strm.queuedSize = 0;
  strm.push = function(d2, f2) {
    if (!strm.ondata)
      err$1(5);
    if (t3)
      strm.ondata(err$1(4, 0, 1), null, !!f2);
    strm.queuedSize += d2.length;
    w2.postMessage([d2, t3 = f2], [d2.buffer]);
  };
  strm.terminate = function() {
    w2.terminate();
  };
  if (flush) {
    strm.flush = function() {
      w2.postMessage([]);
    };
  }
};
var b2 = function(d2, b3) {
  return d2[b3] | d2[b3 + 1] << 8;
};
var b4 = function(d2, b3) {
  return (d2[b3] | d2[b3 + 1] << 8 | d2[b3 + 2] << 16 | d2[b3 + 3] << 24) >>> 0;
};
var b8 = function(d2, b3) {
  return b4(d2, b3) + b4(d2, b3 + 4) * 4294967296;
};
var wbytes = function(d2, b3, v2) {
  for (; v2; ++b3)
    d2[b3] = v2, v2 >>>= 8;
};
var gzh = function(c2, o2) {
  var fn = o2.filename;
  c2[0] = 31, c2[1] = 139, c2[2] = 8, c2[8] = o2.level < 2 ? 4 : o2.level == 9 ? 2 : 0, c2[9] = 3;
  if (o2.mtime != 0)
    wbytes(c2, 4, Math.floor(new Date(o2.mtime || Date.now()) / 1e3));
  if (fn) {
    c2[3] = 8;
    for (var i2 = 0; i2 <= fn.length; ++i2)
      c2[i2 + 10] = fn.charCodeAt(i2);
  }
};
var gzs = function(d2) {
  if (d2[0] != 31 || d2[1] != 139 || d2[2] != 8)
    err$1(6, "invalid gzip data");
  var flg = d2[3];
  var st2 = 10;
  if (flg & 4)
    st2 += (d2[10] | d2[11] << 8) + 2;
  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d2[st2++])
    ;
  return st2 + (flg & 2);
};
var gzl = function(d2) {
  var l2 = d2.length;
  return (d2[l2 - 4] | d2[l2 - 3] << 8 | d2[l2 - 2] << 16 | d2[l2 - 1] << 24) >>> 0;
};
var gzhl = function(o2) {
  return 10 + (o2.filename ? o2.filename.length + 1 : 0);
};
var zlh = function(c2, o2) {
  var lv = o2.level, fl2 = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;
  c2[0] = 120, c2[1] = fl2 << 6 | (o2.dictionary && 32);
  c2[1] |= 31 - (c2[0] << 8 | c2[1]) % 31;
  if (o2.dictionary) {
    var h2 = adler();
    h2.p(o2.dictionary);
    wbytes(c2, 2, h2.d());
  }
};
var zls = function(d2, dict) {
  if ((d2[0] & 15) != 8 || d2[0] >> 4 > 7 || (d2[0] << 8 | d2[1]) % 31)
    err$1(6, "invalid zlib data");
  if ((d2[1] >> 5 & 1) == +!dict)
    err$1(6, "invalid zlib data: " + (d2[1] & 32 ? "need" : "unexpected") + " dictionary");
  return (d2[1] >> 3 & 4) + 2;
};
function StrmOpt(opts, cb2) {
  if (typeof opts == "function")
    cb2 = opts, opts = {};
  this.ondata = cb2;
  return opts;
}
var Deflate$2 = /* @__PURE__ */ function() {
  function Deflate2(opts, cb2) {
    if (typeof opts == "function")
      cb2 = opts, opts = {};
    this.ondata = cb2;
    this.o = opts || {};
    this.s = { l: 0, i: 32768, w: 32768, z: 32768 };
    this.b = new u8(98304);
    if (this.o.dictionary) {
      var dict = this.o.dictionary.subarray(-32768);
      this.b.set(dict, 32768 - dict.length);
      this.s.i = 32768 - dict.length;
    }
  }
  Deflate2.prototype.p = function(c2, f2) {
    this.ondata(dopt(c2, this.o, 0, 0, this.s), f2);
  };
  Deflate2.prototype.push = function(chunk, final) {
    if (!this.ondata)
      err$1(5);
    if (this.s.l)
      err$1(4);
    var endLen = chunk.length + this.s.z;
    if (endLen > this.b.length) {
      if (endLen > 2 * this.b.length - 32768) {
        var newBuf = new u8(endLen & -32768);
        newBuf.set(this.b.subarray(0, this.s.z));
        this.b = newBuf;
      }
      var split = this.b.length - this.s.z;
      this.b.set(chunk.subarray(0, split), this.s.z);
      this.s.z = this.b.length;
      this.p(this.b, false);
      this.b.set(this.b.subarray(-32768));
      this.b.set(chunk.subarray(split), 32768);
      this.s.z = chunk.length - split + 32768;
      this.s.i = 32766, this.s.w = 32768;
    } else {
      this.b.set(chunk, this.s.z);
      this.s.z += chunk.length;
    }
    this.s.l = final & 1;
    if (this.s.z > this.s.w + 8191 || final) {
      this.p(this.b, final || false);
      this.s.w = this.s.i, this.s.i -= 2;
    }
  };
  Deflate2.prototype.flush = function() {
    if (!this.ondata)
      err$1(5);
    if (this.s.l)
      err$1(4);
    this.p(this.b, false);
    this.s.w = this.s.i, this.s.i -= 2;
  };
  return Deflate2;
}();
var AsyncDeflate = /* @__PURE__ */ function() {
  function AsyncDeflate2(opts, cb2) {
    astrmify([
      bDflt,
      function() {
        return [astrm, Deflate$2];
      }
    ], this, StrmOpt.call(this, opts, cb2), function(ev) {
      var strm = new Deflate$2(ev.data);
      onmessage = astrm(strm);
    }, 6, 1);
  }
  return AsyncDeflate2;
}();
function deflate$3(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  return cbify(data2, opts, [
    bDflt
  ], function(ev) {
    return pbf(deflateSync(ev.data[0], ev.data[1]));
  }, 0, cb2);
}
function deflateSync(data2, opts) {
  return dopt(data2, opts || {}, 0, 0);
}
var Inflate$2 = /* @__PURE__ */ function() {
  function Inflate2(opts, cb2) {
    if (typeof opts == "function")
      cb2 = opts, opts = {};
    this.ondata = cb2;
    var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);
    this.s = { i: 0, b: dict ? dict.length : 0 };
    this.o = new u8(32768);
    this.p = new u8(0);
    if (dict)
      this.o.set(dict);
  }
  Inflate2.prototype.e = function(c2) {
    if (!this.ondata)
      err$1(5);
    if (this.d)
      err$1(4);
    if (!this.p.length)
      this.p = c2;
    else if (c2.length) {
      var n2 = new u8(this.p.length + c2.length);
      n2.set(this.p), n2.set(c2, this.p.length), this.p = n2;
    }
  };
  Inflate2.prototype.c = function(final) {
    this.s.i = +(this.d = final || false);
    var bts = this.s.b;
    var dt2 = inflt(this.p, this.s, this.o);
    this.ondata(slc(dt2, bts, this.s.b), this.d);
    this.o = slc(dt2, this.s.b - 32768), this.s.b = this.o.length;
    this.p = slc(this.p, this.s.p / 8 | 0), this.s.p &= 7;
  };
  Inflate2.prototype.push = function(chunk, final) {
    this.e(chunk), this.c(final);
  };
  return Inflate2;
}();
var AsyncInflate = /* @__PURE__ */ function() {
  function AsyncInflate2(opts, cb2) {
    astrmify([
      bInflt,
      function() {
        return [astrm, Inflate$2];
      }
    ], this, StrmOpt.call(this, opts, cb2), function(ev) {
      var strm = new Inflate$2(ev.data);
      onmessage = astrm(strm);
    }, 7, 0);
  }
  return AsyncInflate2;
}();
function inflate$3(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  return cbify(data2, opts, [
    bInflt
  ], function(ev) {
    return pbf(inflateSync(ev.data[0], gopt(ev.data[1])));
  }, 1, cb2);
}
function inflateSync(data2, opts) {
  return inflt(data2, { i: 2 }, opts && opts.out, opts && opts.dictionary);
}
var Gzip = /* @__PURE__ */ function() {
  function Gzip2(opts, cb2) {
    this.c = crc$1();
    this.l = 0;
    this.v = 1;
    Deflate$2.call(this, opts, cb2);
  }
  Gzip2.prototype.push = function(chunk, final) {
    this.c.p(chunk);
    this.l += chunk.length;
    Deflate$2.prototype.push.call(this, chunk, final);
  };
  Gzip2.prototype.p = function(c2, f2) {
    var raw = dopt(c2, this.o, this.v && gzhl(this.o), f2 && 8, this.s);
    if (this.v)
      gzh(raw, this.o), this.v = 0;
    if (f2)
      wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);
    this.ondata(raw, f2);
  };
  Gzip2.prototype.flush = function() {
    Deflate$2.prototype.flush.call(this);
  };
  return Gzip2;
}();
var AsyncGzip = /* @__PURE__ */ function() {
  function AsyncGzip2(opts, cb2) {
    astrmify([
      bDflt,
      gze,
      function() {
        return [astrm, Deflate$2, Gzip];
      }
    ], this, StrmOpt.call(this, opts, cb2), function(ev) {
      var strm = new Gzip(ev.data);
      onmessage = astrm(strm);
    }, 8, 1);
  }
  return AsyncGzip2;
}();
function gzip$2(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  return cbify(data2, opts, [
    bDflt,
    gze,
    function() {
      return [gzipSync];
    }
  ], function(ev) {
    return pbf(gzipSync(ev.data[0], ev.data[1]));
  }, 2, cb2);
}
function gzipSync(data2, opts) {
  if (!opts)
    opts = {};
  var c2 = crc$1(), l2 = data2.length;
  c2.p(data2);
  var d2 = dopt(data2, opts, gzhl(opts), 8), s2 = d2.length;
  return gzh(d2, opts), wbytes(d2, s2 - 8, c2.d()), wbytes(d2, s2 - 4, l2), d2;
}
var Gunzip = /* @__PURE__ */ function() {
  function Gunzip2(opts, cb2) {
    this.v = 1;
    this.r = 0;
    Inflate$2.call(this, opts, cb2);
  }
  Gunzip2.prototype.push = function(chunk, final) {
    Inflate$2.prototype.e.call(this, chunk);
    this.r += chunk.length;
    if (this.v) {
      var p2 = this.p.subarray(this.v - 1);
      var s2 = p2.length > 3 ? gzs(p2) : 4;
      if (s2 > p2.length) {
        if (!final)
          return;
      } else if (this.v > 1 && this.onmember) {
        this.onmember(this.r - p2.length);
      }
      this.p = p2.subarray(s2), this.v = 0;
    }
    Inflate$2.prototype.c.call(this, final);
    if (this.s.f && !this.s.l && !final) {
      this.v = shft(this.s.p) + 9;
      this.s = { i: 0 };
      this.o = new u8(0);
      this.push(new u8(0), final);
    }
  };
  return Gunzip2;
}();
var AsyncGunzip = /* @__PURE__ */ function() {
  function AsyncGunzip2(opts, cb2) {
    var _this = this;
    astrmify([
      bInflt,
      guze,
      function() {
        return [astrm, Inflate$2, Gunzip];
      }
    ], this, StrmOpt.call(this, opts, cb2), function(ev) {
      var strm = new Gunzip(ev.data);
      strm.onmember = function(offset) {
        return postMessage(offset);
      };
      onmessage = astrm(strm);
    }, 9, 0, function(offset) {
      return _this.onmember && _this.onmember(offset);
    });
  }
  return AsyncGunzip2;
}();
function gunzip(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  return cbify(data2, opts, [
    bInflt,
    guze,
    function() {
      return [gunzipSync];
    }
  ], function(ev) {
    return pbf(gunzipSync(ev.data[0], ev.data[1]));
  }, 3, cb2);
}
function gunzipSync(data2, opts) {
  var st2 = gzs(data2);
  if (st2 + 8 > data2.length)
    err$1(6, "invalid gzip data");
  return inflt(data2.subarray(st2, -8), { i: 2 }, opts && opts.out || new u8(gzl(data2)), opts && opts.dictionary);
}
var Zlib = /* @__PURE__ */ function() {
  function Zlib2(opts, cb2) {
    this.c = adler();
    this.v = 1;
    Deflate$2.call(this, opts, cb2);
  }
  Zlib2.prototype.push = function(chunk, final) {
    this.c.p(chunk);
    Deflate$2.prototype.push.call(this, chunk, final);
  };
  Zlib2.prototype.p = function(c2, f2) {
    var raw = dopt(c2, this.o, this.v && (this.o.dictionary ? 6 : 2), f2 && 4, this.s);
    if (this.v)
      zlh(raw, this.o), this.v = 0;
    if (f2)
      wbytes(raw, raw.length - 4, this.c.d());
    this.ondata(raw, f2);
  };
  Zlib2.prototype.flush = function() {
    Deflate$2.prototype.flush.call(this);
  };
  return Zlib2;
}();
var AsyncZlib = /* @__PURE__ */ function() {
  function AsyncZlib2(opts, cb2) {
    astrmify([
      bDflt,
      zle,
      function() {
        return [astrm, Deflate$2, Zlib];
      }
    ], this, StrmOpt.call(this, opts, cb2), function(ev) {
      var strm = new Zlib(ev.data);
      onmessage = astrm(strm);
    }, 10, 1);
  }
  return AsyncZlib2;
}();
function zlib(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  return cbify(data2, opts, [
    bDflt,
    zle,
    function() {
      return [zlibSync];
    }
  ], function(ev) {
    return pbf(zlibSync(ev.data[0], ev.data[1]));
  }, 4, cb2);
}
function zlibSync(data2, opts) {
  if (!opts)
    opts = {};
  var a2 = adler();
  a2.p(data2);
  var d2 = dopt(data2, opts, opts.dictionary ? 6 : 2, 4);
  return zlh(d2, opts), wbytes(d2, d2.length - 4, a2.d()), d2;
}
var Unzlib = /* @__PURE__ */ function() {
  function Unzlib2(opts, cb2) {
    Inflate$2.call(this, opts, cb2);
    this.v = opts && opts.dictionary ? 2 : 1;
  }
  Unzlib2.prototype.push = function(chunk, final) {
    Inflate$2.prototype.e.call(this, chunk);
    if (this.v) {
      if (this.p.length < 6 && !final)
        return;
      this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;
    }
    if (final) {
      if (this.p.length < 4)
        err$1(6, "invalid zlib data");
      this.p = this.p.subarray(0, -4);
    }
    Inflate$2.prototype.c.call(this, final);
  };
  return Unzlib2;
}();
var AsyncUnzlib = /* @__PURE__ */ function() {
  function AsyncUnzlib2(opts, cb2) {
    astrmify([
      bInflt,
      zule,
      function() {
        return [astrm, Inflate$2, Unzlib];
      }
    ], this, StrmOpt.call(this, opts, cb2), function(ev) {
      var strm = new Unzlib(ev.data);
      onmessage = astrm(strm);
    }, 11, 0);
  }
  return AsyncUnzlib2;
}();
function unzlib(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  return cbify(data2, opts, [
    bInflt,
    zule,
    function() {
      return [unzlibSync];
    }
  ], function(ev) {
    return pbf(unzlibSync(ev.data[0], gopt(ev.data[1])));
  }, 5, cb2);
}
function unzlibSync(data2, opts) {
  return inflt(data2.subarray(zls(data2, opts && opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);
}
var Decompress = /* @__PURE__ */ function() {
  function Decompress2(opts, cb2) {
    this.o = StrmOpt.call(this, opts, cb2) || {};
    this.G = Gunzip;
    this.I = Inflate$2;
    this.Z = Unzlib;
  }
  Decompress2.prototype.i = function() {
    var _this = this;
    this.s.ondata = function(dat, final) {
      _this.ondata(dat, final);
    };
  };
  Decompress2.prototype.push = function(chunk, final) {
    if (!this.ondata)
      err$1(5);
    if (!this.s) {
      if (this.p && this.p.length) {
        var n2 = new u8(this.p.length + chunk.length);
        n2.set(this.p), n2.set(chunk, this.p.length);
      } else
        this.p = chunk;
      if (this.p.length > 2) {
        this.s = this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8 ? new this.G(this.o) : (this.p[0] & 15) != 8 || this.p[0] >> 4 > 7 || (this.p[0] << 8 | this.p[1]) % 31 ? new this.I(this.o) : new this.Z(this.o);
        this.i();
        this.s.push(this.p, final);
        this.p = null;
      }
    } else
      this.s.push(chunk, final);
  };
  return Decompress2;
}();
var AsyncDecompress = /* @__PURE__ */ function() {
  function AsyncDecompress2(opts, cb2) {
    Decompress.call(this, opts, cb2);
    this.queuedSize = 0;
    this.G = AsyncGunzip;
    this.I = AsyncInflate;
    this.Z = AsyncUnzlib;
  }
  AsyncDecompress2.prototype.i = function() {
    var _this = this;
    this.s.ondata = function(err2, dat, final) {
      _this.ondata(err2, dat, final);
    };
    this.s.ondrain = function(size) {
      _this.queuedSize -= size;
      if (_this.ondrain)
        _this.ondrain(size);
    };
  };
  AsyncDecompress2.prototype.push = function(chunk, final) {
    this.queuedSize += chunk.length;
    Decompress.prototype.push.call(this, chunk, final);
  };
  return AsyncDecompress2;
}();
function decompress(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  return data2[0] == 31 && data2[1] == 139 && data2[2] == 8 ? gunzip(data2, opts, cb2) : (data2[0] & 15) != 8 || data2[0] >> 4 > 7 || (data2[0] << 8 | data2[1]) % 31 ? inflate$3(data2, opts, cb2) : unzlib(data2, opts, cb2);
}
function decompressSync(data2, opts) {
  return data2[0] == 31 && data2[1] == 139 && data2[2] == 8 ? gunzipSync(data2, opts) : (data2[0] & 15) != 8 || data2[0] >> 4 > 7 || (data2[0] << 8 | data2[1]) % 31 ? inflateSync(data2, opts) : unzlibSync(data2, opts);
}
var fltn = function(d2, p2, t3, o2) {
  for (var k3 in d2) {
    var val = d2[k3], n2 = p2 + k3, op = o2;
    if (Array.isArray(val))
      op = mrg(o2, val[1]), val = val[0];
    if (val instanceof u8)
      t3[n2] = [val, op];
    else {
      t3[n2 += "/"] = [new u8(0), op];
      fltn(val, n2, t3, o2);
    }
  }
};
var te$1 = typeof TextEncoder != "undefined" && /* @__PURE__ */ new TextEncoder();
var td = typeof TextDecoder != "undefined" && /* @__PURE__ */ new TextDecoder();
var tds = 0;
try {
  td.decode(et$1, { stream: true });
  tds = 1;
} catch (e) {
}
var dutf8 = function(d2) {
  for (var r2 = "", i2 = 0; ; ) {
    var c2 = d2[i2++];
    var eb2 = (c2 > 127) + (c2 > 223) + (c2 > 239);
    if (i2 + eb2 > d2.length)
      return { s: r2, r: slc(d2, i2 - 1) };
    if (!eb2)
      r2 += String.fromCharCode(c2);
    else if (eb2 == 3) {
      c2 = ((c2 & 15) << 18 | (d2[i2++] & 63) << 12 | (d2[i2++] & 63) << 6 | d2[i2++] & 63) - 65536, r2 += String.fromCharCode(55296 | c2 >> 10, 56320 | c2 & 1023);
    } else if (eb2 & 1)
      r2 += String.fromCharCode((c2 & 31) << 6 | d2[i2++] & 63);
    else
      r2 += String.fromCharCode((c2 & 15) << 12 | (d2[i2++] & 63) << 6 | d2[i2++] & 63);
  }
};
var DecodeUTF8 = /* @__PURE__ */ function() {
  function DecodeUTF82(cb2) {
    this.ondata = cb2;
    if (tds)
      this.t = new TextDecoder();
    else
      this.p = et$1;
  }
  DecodeUTF82.prototype.push = function(chunk, final) {
    if (!this.ondata)
      err$1(5);
    final = !!final;
    if (this.t) {
      this.ondata(this.t.decode(chunk, { stream: true }), final);
      if (final) {
        if (this.t.decode().length)
          err$1(8);
        this.t = null;
      }
      return;
    }
    if (!this.p)
      err$1(4);
    var dat = new u8(this.p.length + chunk.length);
    dat.set(this.p);
    dat.set(chunk, this.p.length);
    var _a2 = dutf8(dat), s2 = _a2.s, r2 = _a2.r;
    if (final) {
      if (r2.length)
        err$1(8);
      this.p = null;
    } else
      this.p = r2;
    this.ondata(s2, final);
  };
  return DecodeUTF82;
}();
var EncodeUTF8 = /* @__PURE__ */ function() {
  function EncodeUTF82(cb2) {
    this.ondata = cb2;
  }
  EncodeUTF82.prototype.push = function(chunk, final) {
    if (!this.ondata)
      err$1(5);
    if (this.d)
      err$1(4);
    this.ondata(strToU8(chunk), this.d = final || false);
  };
  return EncodeUTF82;
}();
function strToU8(str, latin1) {
  if (latin1) {
    var ar_1 = new u8(str.length);
    for (var i2 = 0; i2 < str.length; ++i2)
      ar_1[i2] = str.charCodeAt(i2);
    return ar_1;
  }
  if (te$1)
    return te$1.encode(str);
  var l2 = str.length;
  var ar = new u8(str.length + (str.length >> 1));
  var ai2 = 0;
  var w2 = function(v2) {
    ar[ai2++] = v2;
  };
  for (var i2 = 0; i2 < l2; ++i2) {
    if (ai2 + 5 > ar.length) {
      var n2 = new u8(ai2 + 8 + (l2 - i2 << 1));
      n2.set(ar);
      ar = n2;
    }
    var c2 = str.charCodeAt(i2);
    if (c2 < 128 || latin1)
      w2(c2);
    else if (c2 < 2048)
      w2(192 | c2 >> 6), w2(128 | c2 & 63);
    else if (c2 > 55295 && c2 < 57344)
      c2 = 65536 + (c2 & 1023 << 10) | str.charCodeAt(++i2) & 1023, w2(240 | c2 >> 18), w2(128 | c2 >> 12 & 63), w2(128 | c2 >> 6 & 63), w2(128 | c2 & 63);
    else
      w2(224 | c2 >> 12), w2(128 | c2 >> 6 & 63), w2(128 | c2 & 63);
  }
  return slc(ar, 0, ai2);
}
function strFromU8(dat, latin1) {
  if (latin1) {
    var r2 = "";
    for (var i2 = 0; i2 < dat.length; i2 += 16384)
      r2 += String.fromCharCode.apply(null, dat.subarray(i2, i2 + 16384));
    return r2;
  } else if (td) {
    return td.decode(dat);
  } else {
    var _a2 = dutf8(dat), s2 = _a2.s, r2 = _a2.r;
    if (r2.length)
      err$1(8);
    return s2;
  }
}
;
var dbf = function(l2) {
  return l2 == 1 ? 3 : l2 < 6 ? 2 : l2 == 9 ? 1 : 0;
};
var slzh = function(d2, b3) {
  return b3 + 30 + b2(d2, b3 + 26) + b2(d2, b3 + 28);
};
var zh = function(d2, b3, z2) {
  var fnl = b2(d2, b3 + 28), fn = strFromU8(d2.subarray(b3 + 46, b3 + 46 + fnl), !(b2(d2, b3 + 8) & 2048)), es = b3 + 46 + fnl, bs = b4(d2, b3 + 20);
  var _a2 = z2 && bs == 4294967295 ? z64e(d2, es) : [bs, b4(d2, b3 + 24), b4(d2, b3 + 42)], sc2 = _a2[0], su = _a2[1], off2 = _a2[2];
  return [b2(d2, b3 + 10), sc2, su, fn, es + b2(d2, b3 + 30) + b2(d2, b3 + 32), off2];
};
var z64e = function(d2, b3) {
  for (; b2(d2, b3) != 1; b3 += 4 + b2(d2, b3 + 2))
    ;
  return [b8(d2, b3 + 12), b8(d2, b3 + 4), b8(d2, b3 + 20)];
};
var exfl = function(ex) {
  var le2 = 0;
  if (ex) {
    for (var k3 in ex) {
      var l2 = ex[k3].length;
      if (l2 > 65535)
        err$1(9);
      le2 += l2 + 4;
    }
  }
  return le2;
};
var wzh = function(d2, b3, f2, fn, u2, c2, ce2, co) {
  var fl2 = fn.length, ex = f2.extra, col = co && co.length;
  var exl = exfl(ex);
  wbytes(d2, b3, ce2 != null ? 33639248 : 67324752), b3 += 4;
  if (ce2 != null)
    d2[b3++] = 20, d2[b3++] = f2.os;
  d2[b3] = 20, b3 += 2;
  d2[b3++] = f2.flag << 1 | (c2 < 0 && 8), d2[b3++] = u2 && 8;
  d2[b3++] = f2.compression & 255, d2[b3++] = f2.compression >> 8;
  var dt2 = new Date(f2.mtime == null ? Date.now() : f2.mtime), y2 = dt2.getFullYear() - 1980;
  if (y2 < 0 || y2 > 119)
    err$1(10);
  wbytes(d2, b3, y2 << 25 | dt2.getMonth() + 1 << 21 | dt2.getDate() << 16 | dt2.getHours() << 11 | dt2.getMinutes() << 5 | dt2.getSeconds() >> 1), b3 += 4;
  if (c2 != -1) {
    wbytes(d2, b3, f2.crc);
    wbytes(d2, b3 + 4, c2 < 0 ? -c2 - 2 : c2);
    wbytes(d2, b3 + 8, f2.size);
  }
  wbytes(d2, b3 + 12, fl2);
  wbytes(d2, b3 + 14, exl), b3 += 16;
  if (ce2 != null) {
    wbytes(d2, b3, col);
    wbytes(d2, b3 + 6, f2.attrs);
    wbytes(d2, b3 + 10, ce2), b3 += 14;
  }
  d2.set(fn, b3);
  b3 += fl2;
  if (exl) {
    for (var k3 in ex) {
      var exf = ex[k3], l2 = exf.length;
      wbytes(d2, b3, +k3);
      wbytes(d2, b3 + 2, l2);
      d2.set(exf, b3 + 4), b3 += 4 + l2;
    }
  }
  if (col)
    d2.set(co, b3), b3 += col;
  return b3;
};
var wzf = function(o2, b3, c2, d2, e) {
  wbytes(o2, b3, 101010256);
  wbytes(o2, b3 + 8, c2);
  wbytes(o2, b3 + 10, c2);
  wbytes(o2, b3 + 12, d2);
  wbytes(o2, b3 + 16, e);
};
var ZipPassThrough = /* @__PURE__ */ function() {
  function ZipPassThrough2(filename) {
    this.filename = filename;
    this.c = crc$1();
    this.size = 0;
    this.compression = 0;
  }
  ZipPassThrough2.prototype.process = function(chunk, final) {
    this.ondata(null, chunk, final);
  };
  ZipPassThrough2.prototype.push = function(chunk, final) {
    if (!this.ondata)
      err$1(5);
    this.c.p(chunk);
    this.size += chunk.length;
    if (final)
      this.crc = this.c.d();
    this.process(chunk, final || false);
  };
  return ZipPassThrough2;
}();
var ZipDeflate = /* @__PURE__ */ function() {
  function ZipDeflate2(filename, opts) {
    var _this = this;
    if (!opts)
      opts = {};
    ZipPassThrough.call(this, filename);
    this.d = new Deflate$2(opts, function(dat, final) {
      _this.ondata(null, dat, final);
    });
    this.compression = 8;
    this.flag = dbf(opts.level);
  }
  ZipDeflate2.prototype.process = function(chunk, final) {
    try {
      this.d.push(chunk, final);
    } catch (e) {
      this.ondata(e, null, final);
    }
  };
  ZipDeflate2.prototype.push = function(chunk, final) {
    ZipPassThrough.prototype.push.call(this, chunk, final);
  };
  return ZipDeflate2;
}();
var AsyncZipDeflate = /* @__PURE__ */ function() {
  function AsyncZipDeflate2(filename, opts) {
    var _this = this;
    if (!opts)
      opts = {};
    ZipPassThrough.call(this, filename);
    this.d = new AsyncDeflate(opts, function(err2, dat, final) {
      _this.ondata(err2, dat, final);
    });
    this.compression = 8;
    this.flag = dbf(opts.level);
    this.terminate = this.d.terminate;
  }
  AsyncZipDeflate2.prototype.process = function(chunk, final) {
    this.d.push(chunk, final);
  };
  AsyncZipDeflate2.prototype.push = function(chunk, final) {
    ZipPassThrough.prototype.push.call(this, chunk, final);
  };
  return AsyncZipDeflate2;
}();
var Zip = /* @__PURE__ */ function() {
  function Zip2(cb2) {
    this.ondata = cb2;
    this.u = [];
    this.d = 1;
  }
  Zip2.prototype.add = function(file) {
    var _this = this;
    if (!this.ondata)
      err$1(5);
    if (this.d & 2)
      this.ondata(err$1(4 + (this.d & 1) * 8, 0, 1), null, false);
    else {
      var f2 = strToU8(file.filename), fl_1 = f2.length;
      var com = file.comment, o2 = com && strToU8(com);
      var u2 = fl_1 != file.filename.length || o2 && com.length != o2.length;
      var hl_1 = fl_1 + exfl(file.extra) + 30;
      if (fl_1 > 65535)
        this.ondata(err$1(11, 0, 1), null, false);
      var header = new u8(hl_1);
      wzh(header, 0, file, f2, u2, -1);
      var chks_1 = [header];
      var pAll_1 = function() {
        for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {
          var chk = chks_2[_i];
          _this.ondata(null, chk, false);
        }
        chks_1 = [];
      };
      var tr_1 = this.d;
      this.d = 0;
      var ind_1 = this.u.length;
      var uf_1 = mrg(file, {
        f: f2,
        u: u2,
        o: o2,
        t: function() {
          if (file.terminate)
            file.terminate();
        },
        r: function() {
          pAll_1();
          if (tr_1) {
            var nxt = _this.u[ind_1 + 1];
            if (nxt)
              nxt.r();
            else
              _this.d = 1;
          }
          tr_1 = 1;
        }
      });
      var cl_1 = 0;
      file.ondata = function(err2, dat, final) {
        if (err2) {
          _this.ondata(err2, dat, final);
          _this.terminate();
        } else {
          cl_1 += dat.length;
          chks_1.push(dat);
          if (final) {
            var dd2 = new u8(16);
            wbytes(dd2, 0, 134695760);
            wbytes(dd2, 4, file.crc);
            wbytes(dd2, 8, cl_1);
            wbytes(dd2, 12, file.size);
            chks_1.push(dd2);
            uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;
            if (tr_1)
              uf_1.r();
            tr_1 = 1;
          } else if (tr_1)
            pAll_1();
        }
      };
      this.u.push(uf_1);
    }
  };
  Zip2.prototype.end = function() {
    var _this = this;
    if (this.d & 2) {
      this.ondata(err$1(4 + (this.d & 1) * 8, 0, 1), null, true);
      return;
    }
    if (this.d)
      this.e();
    else
      this.u.push({
        r: function() {
          if (!(_this.d & 1))
            return;
          _this.u.splice(-1, 1);
          _this.e();
        },
        t: function() {
        }
      });
    this.d = 3;
  };
  Zip2.prototype.e = function() {
    var bt2 = 0, l2 = 0, tl2 = 0;
    for (var _i = 0, _a2 = this.u; _i < _a2.length; _i++) {
      var f2 = _a2[_i];
      tl2 += 46 + f2.f.length + exfl(f2.extra) + (f2.o ? f2.o.length : 0);
    }
    var out = new u8(tl2 + 22);
    for (var _b2 = 0, _c = this.u; _b2 < _c.length; _b2++) {
      var f2 = _c[_b2];
      wzh(out, bt2, f2, f2.f, f2.u, -f2.c - 2, l2, f2.o);
      bt2 += 46 + f2.f.length + exfl(f2.extra) + (f2.o ? f2.o.length : 0), l2 += f2.b;
    }
    wzf(out, bt2, this.u.length, tl2, l2);
    this.ondata(null, out, true);
    this.d = 2;
  };
  Zip2.prototype.terminate = function() {
    for (var _i = 0, _a2 = this.u; _i < _a2.length; _i++) {
      var f2 = _a2[_i];
      f2.t();
    }
    this.d = 2;
  };
  return Zip2;
}();
function zip(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  var r2 = {};
  fltn(data2, "", r2, opts);
  var k3 = Object.keys(r2);
  var lft = k3.length, o2 = 0, tot = 0;
  var slft = lft, files = new Array(lft);
  var term = [];
  var tAll = function() {
    for (var i3 = 0; i3 < term.length; ++i3)
      term[i3]();
  };
  var cbd = function(a2, b3) {
    mt$1(function() {
      cb2(a2, b3);
    });
  };
  mt$1(function() {
    cbd = cb2;
  });
  var cbf = function() {
    var out = new u8(tot + 22), oe2 = o2, cdl = tot - o2;
    tot = 0;
    for (var i3 = 0; i3 < slft; ++i3) {
      var f2 = files[i3];
      try {
        var l2 = f2.c.length;
        wzh(out, tot, f2, f2.f, f2.u, l2);
        var badd = 30 + f2.f.length + exfl(f2.extra);
        var loc = tot + badd;
        out.set(f2.c, loc);
        wzh(out, o2, f2, f2.f, f2.u, l2, tot, f2.m), o2 += 16 + badd + (f2.m ? f2.m.length : 0), tot = loc + l2;
      } catch (e) {
        return cbd(e, null);
      }
    }
    wzf(out, o2, files.length, cdl, oe2);
    cbd(null, out);
  };
  if (!lft)
    cbf();
  var _loop_1 = function(i3) {
    var fn = k3[i3];
    var _a2 = r2[fn], file = _a2[0], p2 = _a2[1];
    var c2 = crc$1(), size = file.length;
    c2.p(file);
    var f2 = strToU8(fn), s2 = f2.length;
    var com = p2.comment, m2 = com && strToU8(com), ms = m2 && m2.length;
    var exl = exfl(p2.extra);
    var compression = p2.level == 0 ? 0 : 8;
    var cbl = function(e, d2) {
      if (e) {
        tAll();
        cbd(e, null);
      } else {
        var l2 = d2.length;
        files[i3] = mrg(p2, {
          size,
          crc: c2.d(),
          c: d2,
          f: f2,
          m: m2,
          u: s2 != fn.length || m2 && com.length != ms,
          compression
        });
        o2 += 30 + s2 + exl + l2;
        tot += 76 + 2 * (s2 + exl) + (ms || 0) + l2;
        if (!--lft)
          cbf();
      }
    };
    if (s2 > 65535)
      cbl(err$1(11, 0, 1), null);
    if (!compression)
      cbl(null, file);
    else if (size < 16e4) {
      try {
        cbl(null, deflateSync(file, p2));
      } catch (e) {
        cbl(e, null);
      }
    } else
      term.push(deflate$3(file, p2, cbl));
  };
  for (var i2 = 0; i2 < slft; ++i2) {
    _loop_1(i2);
  }
  return tAll;
}
function zipSync(data2, opts) {
  if (!opts)
    opts = {};
  var r2 = {};
  var files = [];
  fltn(data2, "", r2, opts);
  var o2 = 0;
  var tot = 0;
  for (var fn in r2) {
    var _a2 = r2[fn], file = _a2[0], p2 = _a2[1];
    var compression = p2.level == 0 ? 0 : 8;
    var f2 = strToU8(fn), s2 = f2.length;
    var com = p2.comment, m2 = com && strToU8(com), ms = m2 && m2.length;
    var exl = exfl(p2.extra);
    if (s2 > 65535)
      err$1(11);
    var d2 = compression ? deflateSync(file, p2) : file, l2 = d2.length;
    var c2 = crc$1();
    c2.p(file);
    files.push(mrg(p2, {
      size: file.length,
      crc: c2.d(),
      c: d2,
      f: f2,
      m: m2,
      u: s2 != fn.length || m2 && com.length != ms,
      o: o2,
      compression
    }));
    o2 += 30 + s2 + exl + l2;
    tot += 76 + 2 * (s2 + exl) + (ms || 0) + l2;
  }
  var out = new u8(tot + 22), oe2 = o2, cdl = tot - o2;
  for (var i2 = 0; i2 < files.length; ++i2) {
    var f2 = files[i2];
    wzh(out, f2.o, f2, f2.f, f2.u, f2.c.length);
    var badd = 30 + f2.f.length + exfl(f2.extra);
    out.set(f2.c, f2.o + badd);
    wzh(out, o2, f2, f2.f, f2.u, f2.c.length, f2.o, f2.m), o2 += 16 + badd + (f2.m ? f2.m.length : 0);
  }
  wzf(out, o2, files.length, cdl, oe2);
  return out;
}
var UnzipPassThrough = /* @__PURE__ */ function() {
  function UnzipPassThrough2() {
  }
  UnzipPassThrough2.prototype.push = function(data2, final) {
    this.ondata(null, data2, final);
  };
  UnzipPassThrough2.compression = 0;
  return UnzipPassThrough2;
}();
var UnzipInflate = /* @__PURE__ */ function() {
  function UnzipInflate2() {
    var _this = this;
    this.i = new Inflate$2(function(dat, final) {
      _this.ondata(null, dat, final);
    });
  }
  UnzipInflate2.prototype.push = function(data2, final) {
    try {
      this.i.push(data2, final);
    } catch (e) {
      this.ondata(e, null, final);
    }
  };
  UnzipInflate2.compression = 8;
  return UnzipInflate2;
}();
var AsyncUnzipInflate = /* @__PURE__ */ function() {
  function AsyncUnzipInflate2(_2, sz) {
    var _this = this;
    if (sz < 32e4) {
      this.i = new Inflate$2(function(dat, final) {
        _this.ondata(null, dat, final);
      });
    } else {
      this.i = new AsyncInflate(function(err2, dat, final) {
        _this.ondata(err2, dat, final);
      });
      this.terminate = this.i.terminate;
    }
  }
  AsyncUnzipInflate2.prototype.push = function(data2, final) {
    if (this.i.terminate)
      data2 = slc(data2, 0);
    this.i.push(data2, final);
  };
  AsyncUnzipInflate2.compression = 8;
  return AsyncUnzipInflate2;
}();
var Unzip = /* @__PURE__ */ function() {
  function Unzip2(cb2) {
    this.onfile = cb2;
    this.k = [];
    this.o = {
      0: UnzipPassThrough
    };
    this.p = et$1;
  }
  Unzip2.prototype.push = function(chunk, final) {
    var _this = this;
    if (!this.onfile)
      err$1(5);
    if (!this.p)
      err$1(4);
    if (this.c > 0) {
      var len = Math.min(this.c, chunk.length);
      var toAdd = chunk.subarray(0, len);
      this.c -= len;
      if (this.d)
        this.d.push(toAdd, !this.c);
      else
        this.k[0].push(toAdd);
      chunk = chunk.subarray(len);
      if (chunk.length)
        return this.push(chunk, final);
    } else {
      var f2 = 0, i2 = 0, is = void 0, buf = void 0;
      if (!this.p.length)
        buf = chunk;
      else if (!chunk.length)
        buf = this.p;
      else {
        buf = new u8(this.p.length + chunk.length);
        buf.set(this.p), buf.set(chunk, this.p.length);
      }
      var l2 = buf.length, oc2 = this.c, add = oc2 && this.d;
      var _loop_2 = function() {
        var _a2;
        var sig = b4(buf, i2);
        if (sig == 67324752) {
          f2 = 1, is = i2;
          this_1.d = null;
          this_1.c = 0;
          var bf2 = b2(buf, i2 + 6), cmp_1 = b2(buf, i2 + 8), u2 = bf2 & 2048, dd2 = bf2 & 8, fnl = b2(buf, i2 + 26), es = b2(buf, i2 + 28);
          if (l2 > i2 + 30 + fnl + es) {
            var chks_3 = [];
            this_1.k.unshift(chks_3);
            f2 = 2;
            var sc_1 = b4(buf, i2 + 18), su_1 = b4(buf, i2 + 22);
            var fn_1 = strFromU8(buf.subarray(i2 + 30, i2 += 30 + fnl), !u2);
            if (sc_1 == 4294967295) {
              _a2 = dd2 ? [-2] : z64e(buf, i2), sc_1 = _a2[0], su_1 = _a2[1];
            } else if (dd2)
              sc_1 = -1;
            i2 += es;
            this_1.c = sc_1;
            var d_1;
            var file_1 = {
              name: fn_1,
              compression: cmp_1,
              start: function() {
                if (!file_1.ondata)
                  err$1(5);
                if (!sc_1)
                  file_1.ondata(null, et$1, true);
                else {
                  var ctr = _this.o[cmp_1];
                  if (!ctr)
                    file_1.ondata(err$1(14, "unknown compression type " + cmp_1, 1), null, false);
                  d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);
                  d_1.ondata = function(err2, dat3, final2) {
                    file_1.ondata(err2, dat3, final2);
                  };
                  for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {
                    var dat2 = chks_4[_i];
                    d_1.push(dat2, false);
                  }
                  if (_this.k[0] == chks_3 && _this.c)
                    _this.d = d_1;
                  else
                    d_1.push(et$1, true);
                }
              },
              terminate: function() {
                if (d_1 && d_1.terminate)
                  d_1.terminate();
              }
            };
            if (sc_1 >= 0)
              file_1.size = sc_1, file_1.originalSize = su_1;
            this_1.onfile(file_1);
          }
          return "break";
        } else if (oc2) {
          if (sig == 134695760) {
            is = i2 += 12 + (oc2 == -2 && 8), f2 = 3, this_1.c = 0;
            return "break";
          } else if (sig == 33639248) {
            is = i2 -= 4, f2 = 3, this_1.c = 0;
            return "break";
          }
        }
      };
      var this_1 = this;
      for (; i2 < l2 - 4; ++i2) {
        var state_1 = _loop_2();
        if (state_1 === "break")
          break;
      }
      this.p = et$1;
      if (oc2 < 0) {
        var dat = f2 ? buf.subarray(0, is - 12 - (oc2 == -2 && 8) - (b4(buf, is - 16) == 134695760 && 4)) : buf.subarray(0, i2);
        if (add)
          add.push(dat, !!f2);
        else
          this.k[+(f2 == 2)].push(dat);
      }
      if (f2 & 2)
        return this.push(buf.subarray(i2), final);
      this.p = buf.subarray(i2);
    }
    if (final) {
      if (this.c)
        err$1(13);
      this.p = null;
    }
  };
  Unzip2.prototype.register = function(decoder) {
    this.o[decoder.compression] = decoder;
  };
  return Unzip2;
}();
var mt$1 = typeof queueMicrotask == "function" ? queueMicrotask : typeof setTimeout == "function" ? setTimeout : function(fn) {
  fn();
};
function unzip(data2, opts, cb2) {
  if (!cb2)
    cb2 = opts, opts = {};
  if (typeof cb2 != "function")
    err$1(7);
  var term = [];
  var tAll = function() {
    for (var i3 = 0; i3 < term.length; ++i3)
      term[i3]();
  };
  var files = {};
  var cbd = function(a2, b3) {
    mt$1(function() {
      cb2(a2, b3);
    });
  };
  mt$1(function() {
    cbd = cb2;
  });
  var e = data2.length - 22;
  for (; b4(data2, e) != 101010256; --e) {
    if (!e || data2.length - e > 65558) {
      cbd(err$1(13, 0, 1), null);
      return tAll;
    }
  }
  ;
  var lft = b2(data2, e + 8);
  if (lft) {
    var c2 = lft;
    var o2 = b4(data2, e + 16);
    var z2 = o2 == 4294967295 || c2 == 65535;
    if (z2) {
      var ze = b4(data2, e - 12);
      z2 = b4(data2, ze) == 101075792;
      if (z2) {
        c2 = lft = b4(data2, ze + 32);
        o2 = b4(data2, ze + 48);
      }
    }
    var fltr = opts && opts.filter;
    var _loop_3 = function(i3) {
      var _a2 = zh(data2, o2, z2), c_1 = _a2[0], sc2 = _a2[1], su = _a2[2], fn = _a2[3], no = _a2[4], off2 = _a2[5], b3 = slzh(data2, off2);
      o2 = no;
      var cbl = function(e2, d2) {
        if (e2) {
          tAll();
          cbd(e2, null);
        } else {
          if (d2)
            files[fn] = d2;
          if (!--lft)
            cbd(null, files);
        }
      };
      if (!fltr || fltr({
        name: fn,
        size: sc2,
        originalSize: su,
        compression: c_1
      })) {
        if (!c_1)
          cbl(null, slc(data2, b3, b3 + sc2));
        else if (c_1 == 8) {
          var infl = data2.subarray(b3, b3 + sc2);
          if (su < 524288 || sc2 > 0.8 * su) {
            try {
              cbl(null, inflateSync(infl, { out: new u8(su) }));
            } catch (e2) {
              cbl(e2, null);
            }
          } else
            term.push(inflate$3(infl, { size: su }, cbl));
        } else
          cbl(err$1(14, "unknown compression type " + c_1, 1), null);
      } else
        cbl(null, null);
    };
    for (var i2 = 0; i2 < c2; ++i2) {
      _loop_3(i2);
    }
  } else
    cbd(null, {});
  return tAll;
}
function unzipSync(data2, opts) {
  var files = {};
  var e = data2.length - 22;
  for (; b4(data2, e) != 101010256; --e) {
    if (!e || data2.length - e > 65558)
      err$1(13);
  }
  ;
  var c2 = b2(data2, e + 8);
  if (!c2)
    return {};
  var o2 = b4(data2, e + 16);
  var z2 = o2 == 4294967295 || c2 == 65535;
  if (z2) {
    var ze = b4(data2, e - 12);
    z2 = b4(data2, ze) == 101075792;
    if (z2) {
      c2 = b4(data2, ze + 32);
      o2 = b4(data2, ze + 48);
    }
  }
  var fltr = opts && opts.filter;
  for (var i2 = 0; i2 < c2; ++i2) {
    var _a2 = zh(data2, o2, z2), c_2 = _a2[0], sc2 = _a2[1], su = _a2[2], fn = _a2[3], no = _a2[4], off2 = _a2[5], b3 = slzh(data2, off2);
    o2 = no;
    if (!fltr || fltr({
      name: fn,
      size: sc2,
      originalSize: su,
      compression: c_2
    })) {
      if (!c_2)
        files[fn] = slc(data2, b3, b3 + sc2);
      else if (c_2 == 8)
        files[fn] = inflateSync(data2.subarray(b3, b3 + sc2), { out: new u8(su) });
      else
        err$1(14, "unknown compression type " + c_2);
    }
  }
  return files;
}
function _arrayWithHoles(r2) {
  if (Array.isArray(r2))
    return r2;
}
function _iterableToArrayLimit(r2, l2) {
  var t3 = null == r2 ? null : "undefined" != typeof Symbol && r2[Symbol.iterator] || r2["@@iterator"];
  if (null != t3) {
    var e, n2, i2, u2, a2 = [], f2 = true, o2 = false;
    try {
      if (i2 = (t3 = t3.call(r2)).next, 0 === l2) {
        if (Object(t3) !== t3)
          return;
        f2 = false;
      } else
        for (; !(f2 = (e = i2.call(t3)).done) && (a2.push(e.value), a2.length !== l2); f2 = true)
          ;
    } catch (r3) {
      o2 = true, n2 = r3;
    } finally {
      try {
        if (!f2 && null != t3["return"] && (u2 = t3["return"](), Object(u2) !== u2))
          return;
      } finally {
        if (o2)
          throw n2;
      }
    }
    return a2;
  }
}
function _arrayLikeToArray(r2, a2) {
  (null == a2 || a2 > r2.length) && (a2 = r2.length);
  for (var e = 0, n2 = Array(a2); e < a2; e++)
    n2[e] = r2[e];
  return n2;
}
function _unsupportedIterableToArray(r2, a2) {
  if (r2) {
    if ("string" == typeof r2)
      return _arrayLikeToArray(r2, a2);
    var t3 = {}.toString.call(r2).slice(8, -1);
    return "Object" === t3 && r2.constructor && (t3 = r2.constructor.name), "Map" === t3 || "Set" === t3 ? Array.from(r2) : "Arguments" === t3 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t3) ? _arrayLikeToArray(r2, a2) : void 0;
  }
}
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
function _slicedToArray(r2, e) {
  return _arrayWithHoles(r2) || _iterableToArrayLimit(r2, e) || _unsupportedIterableToArray(r2, e) || _nonIterableRest();
}
function decode(bytes, encoding = "utf8") {
  const decoder = new TextDecoder(encoding);
  return decoder.decode(bytes);
}
const encoder = new TextEncoder();
function encode(str) {
  return encoder.encode(str);
}
const defaultByteLength = 1024 * 8;
const hostBigEndian = (() => {
  const array = new Uint8Array(4);
  const view = new Uint32Array(array.buffer);
  return !((view[0] = 1) & array[0]);
})();
const typedArrays = {
  int8: globalThis.Int8Array,
  uint8: globalThis.Uint8Array,
  int16: globalThis.Int16Array,
  uint16: globalThis.Uint16Array,
  int32: globalThis.Int32Array,
  uint32: globalThis.Uint32Array,
  uint64: globalThis.BigUint64Array,
  int64: globalThis.BigInt64Array,
  float32: globalThis.Float32Array,
  float64: globalThis.Float64Array
};
class IOBuffer {
  constructor(data2 = defaultByteLength, options = {}) {
    __publicField(this, "buffer");
    __publicField(this, "byteLength");
    __publicField(this, "byteOffset");
    __publicField(this, "length");
    __publicField(this, "offset");
    __publicField(this, "lastWrittenByte");
    __publicField(this, "littleEndian");
    __publicField(this, "_data");
    __publicField(this, "_mark");
    __publicField(this, "_marks");
    let dataIsGiven = false;
    if (typeof data2 === "number") {
      data2 = new ArrayBuffer(data2);
    } else {
      dataIsGiven = true;
      this.lastWrittenByte = data2.byteLength;
    }
    const offset = options.offset ? options.offset >>> 0 : 0;
    const byteLength = data2.byteLength - offset;
    let dvOffset = offset;
    if (ArrayBuffer.isView(data2) || data2 instanceof IOBuffer) {
      if (data2.byteLength !== data2.buffer.byteLength) {
        dvOffset = data2.byteOffset + offset;
      }
      data2 = data2.buffer;
    }
    if (dataIsGiven) {
      this.lastWrittenByte = byteLength;
    } else {
      this.lastWrittenByte = 0;
    }
    this.buffer = data2;
    this.length = byteLength;
    this.byteLength = byteLength;
    this.byteOffset = dvOffset;
    this.offset = 0;
    this.littleEndian = true;
    this._data = new DataView(this.buffer, dvOffset, byteLength);
    this._mark = 0;
    this._marks = [];
  }
  available(byteLength = 1) {
    return this.offset + byteLength <= this.length;
  }
  isLittleEndian() {
    return this.littleEndian;
  }
  setLittleEndian() {
    this.littleEndian = true;
    return this;
  }
  isBigEndian() {
    return !this.littleEndian;
  }
  setBigEndian() {
    this.littleEndian = false;
    return this;
  }
  skip(n2 = 1) {
    this.offset += n2;
    return this;
  }
  back(n2 = 1) {
    this.offset -= n2;
    return this;
  }
  seek(offset) {
    this.offset = offset;
    return this;
  }
  mark() {
    this._mark = this.offset;
    return this;
  }
  reset() {
    this.offset = this._mark;
    return this;
  }
  pushMark() {
    this._marks.push(this.offset);
    return this;
  }
  popMark() {
    const offset = this._marks.pop();
    if (offset === void 0) {
      throw new Error("Mark stack empty");
    }
    this.seek(offset);
    return this;
  }
  rewind() {
    this.offset = 0;
    return this;
  }
  ensureAvailable(byteLength = 1) {
    if (!this.available(byteLength)) {
      const lengthNeeded = this.offset + byteLength;
      const newLength = lengthNeeded * 2;
      const newArray = new Uint8Array(newLength);
      newArray.set(new Uint8Array(this.buffer));
      this.buffer = newArray.buffer;
      this.length = newLength;
      this.byteLength = newLength;
      this._data = new DataView(this.buffer);
    }
    return this;
  }
  readBoolean() {
    return this.readUint8() !== 0;
  }
  readInt8() {
    return this._data.getInt8(this.offset++);
  }
  readUint8() {
    return this._data.getUint8(this.offset++);
  }
  readByte() {
    return this.readUint8();
  }
  readBytes(n2 = 1) {
    return this.readArray(n2, "uint8");
  }
  readArray(size, type) {
    const bytes = typedArrays[type].BYTES_PER_ELEMENT * size;
    const offset = this.byteOffset + this.offset;
    const slice = this.buffer.slice(offset, offset + bytes);
    if (this.littleEndian === hostBigEndian && type !== "uint8" && type !== "int8") {
      const slice2 = new Uint8Array(this.buffer.slice(offset, offset + bytes));
      slice2.reverse();
      const returnArray2 = new typedArrays[type](slice2.buffer);
      this.offset += bytes;
      returnArray2.reverse();
      return returnArray2;
    }
    const returnArray = new typedArrays[type](slice);
    this.offset += bytes;
    return returnArray;
  }
  readInt16() {
    const value = this._data.getInt16(this.offset, this.littleEndian);
    this.offset += 2;
    return value;
  }
  readUint16() {
    const value = this._data.getUint16(this.offset, this.littleEndian);
    this.offset += 2;
    return value;
  }
  readInt32() {
    const value = this._data.getInt32(this.offset, this.littleEndian);
    this.offset += 4;
    return value;
  }
  readUint32() {
    const value = this._data.getUint32(this.offset, this.littleEndian);
    this.offset += 4;
    return value;
  }
  readFloat32() {
    const value = this._data.getFloat32(this.offset, this.littleEndian);
    this.offset += 4;
    return value;
  }
  readFloat64() {
    const value = this._data.getFloat64(this.offset, this.littleEndian);
    this.offset += 8;
    return value;
  }
  readBigInt64() {
    const value = this._data.getBigInt64(this.offset, this.littleEndian);
    this.offset += 8;
    return value;
  }
  readBigUint64() {
    const value = this._data.getBigUint64(this.offset, this.littleEndian);
    this.offset += 8;
    return value;
  }
  readChar() {
    return String.fromCharCode(this.readInt8());
  }
  readChars(n2 = 1) {
    let result = "";
    for (let i2 = 0; i2 < n2; i2++) {
      result += this.readChar();
    }
    return result;
  }
  readUtf8(n2 = 1) {
    return decode(this.readBytes(n2));
  }
  decodeText(n2 = 1, encoding = "utf8") {
    return decode(this.readBytes(n2), encoding);
  }
  writeBoolean(value) {
    this.writeUint8(value ? 255 : 0);
    return this;
  }
  writeInt8(value) {
    this.ensureAvailable(1);
    this._data.setInt8(this.offset++, value);
    this._updateLastWrittenByte();
    return this;
  }
  writeUint8(value) {
    this.ensureAvailable(1);
    this._data.setUint8(this.offset++, value);
    this._updateLastWrittenByte();
    return this;
  }
  writeByte(value) {
    return this.writeUint8(value);
  }
  writeBytes(bytes) {
    this.ensureAvailable(bytes.length);
    for (let i2 = 0; i2 < bytes.length; i2++) {
      this._data.setUint8(this.offset++, bytes[i2]);
    }
    this._updateLastWrittenByte();
    return this;
  }
  writeInt16(value) {
    this.ensureAvailable(2);
    this._data.setInt16(this.offset, value, this.littleEndian);
    this.offset += 2;
    this._updateLastWrittenByte();
    return this;
  }
  writeUint16(value) {
    this.ensureAvailable(2);
    this._data.setUint16(this.offset, value, this.littleEndian);
    this.offset += 2;
    this._updateLastWrittenByte();
    return this;
  }
  writeInt32(value) {
    this.ensureAvailable(4);
    this._data.setInt32(this.offset, value, this.littleEndian);
    this.offset += 4;
    this._updateLastWrittenByte();
    return this;
  }
  writeUint32(value) {
    this.ensureAvailable(4);
    this._data.setUint32(this.offset, value, this.littleEndian);
    this.offset += 4;
    this._updateLastWrittenByte();
    return this;
  }
  writeFloat32(value) {
    this.ensureAvailable(4);
    this._data.setFloat32(this.offset, value, this.littleEndian);
    this.offset += 4;
    this._updateLastWrittenByte();
    return this;
  }
  writeFloat64(value) {
    this.ensureAvailable(8);
    this._data.setFloat64(this.offset, value, this.littleEndian);
    this.offset += 8;
    this._updateLastWrittenByte();
    return this;
  }
  writeBigInt64(value) {
    this.ensureAvailable(8);
    this._data.setBigInt64(this.offset, value, this.littleEndian);
    this.offset += 8;
    this._updateLastWrittenByte();
    return this;
  }
  writeBigUint64(value) {
    this.ensureAvailable(8);
    this._data.setBigUint64(this.offset, value, this.littleEndian);
    this.offset += 8;
    this._updateLastWrittenByte();
    return this;
  }
  writeChar(str) {
    return this.writeUint8(str.charCodeAt(0));
  }
  writeChars(str) {
    for (let i2 = 0; i2 < str.length; i2++) {
      this.writeUint8(str.charCodeAt(i2));
    }
    return this;
  }
  writeUtf8(str) {
    return this.writeBytes(encode(str));
  }
  toArray() {
    return new Uint8Array(this.buffer, this.byteOffset, this.lastWrittenByte);
  }
  getWrittenByteLength() {
    return this.lastWrittenByte - this.byteOffset;
  }
  _updateLastWrittenByte() {
    if (this.offset > this.lastWrittenByte) {
      this.lastWrittenByte = this.offset;
    }
  }
}
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
const Z_FIXED$1 = 4;
const Z_BINARY = 0;
const Z_TEXT = 1;
const Z_UNKNOWN$1 = 2;
function zero$1(buf) {
  let len = buf.length;
  while (--len >= 0) {
    buf[len] = 0;
  }
}
const STORED_BLOCK = 0;
const STATIC_TREES = 1;
const DYN_TREES = 2;
const MIN_MATCH$1 = 3;
const MAX_MATCH$1 = 258;
const LENGTH_CODES$1 = 29;
const LITERALS$1 = 256;
const L_CODES$1 = LITERALS$1 + 1 + LENGTH_CODES$1;
const D_CODES$1 = 30;
const BL_CODES$1 = 19;
const HEAP_SIZE$1 = 2 * L_CODES$1 + 1;
const MAX_BITS$1 = 15;
const Buf_size = 16;
const MAX_BL_BITS = 7;
const END_BLOCK = 256;
const REP_3_6 = 16;
const REPZ_3_10 = 17;
const REPZ_11_138 = 18;
const extra_lbits = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]);
const extra_dbits = new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]);
const extra_blbits = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]);
const bl_order = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
const DIST_CODE_LEN = 512;
const static_ltree = new Array((L_CODES$1 + 2) * 2);
zero$1(static_ltree);
const static_dtree = new Array(D_CODES$1 * 2);
zero$1(static_dtree);
const _dist_code = new Array(DIST_CODE_LEN);
zero$1(_dist_code);
const _length_code = new Array(MAX_MATCH$1 - MIN_MATCH$1 + 1);
zero$1(_length_code);
const base_length = new Array(LENGTH_CODES$1);
zero$1(base_length);
const base_dist = new Array(D_CODES$1);
zero$1(base_dist);
function StaticTreeDesc(static_tree, extra_bits, extra_base, elems, max_length) {
  this.static_tree = static_tree;
  this.extra_bits = extra_bits;
  this.extra_base = extra_base;
  this.elems = elems;
  this.max_length = max_length;
  this.has_stree = static_tree && static_tree.length;
}
let static_l_desc;
let static_d_desc;
let static_bl_desc;
function TreeDesc(dyn_tree, stat_desc) {
  this.dyn_tree = dyn_tree;
  this.max_code = 0;
  this.stat_desc = stat_desc;
}
const d_code = (dist) => {
  return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];
};
const put_short = (s2, w2) => {
  s2.pending_buf[s2.pending++] = w2 & 255;
  s2.pending_buf[s2.pending++] = w2 >>> 8 & 255;
};
const send_bits = (s2, value, length) => {
  if (s2.bi_valid > Buf_size - length) {
    s2.bi_buf |= value << s2.bi_valid & 65535;
    put_short(s2, s2.bi_buf);
    s2.bi_buf = value >> Buf_size - s2.bi_valid;
    s2.bi_valid += length - Buf_size;
  } else {
    s2.bi_buf |= value << s2.bi_valid & 65535;
    s2.bi_valid += length;
  }
};
const send_code = (s2, c2, tree) => {
  send_bits(s2, tree[c2 * 2], tree[c2 * 2 + 1]);
};
const bi_reverse = (code, len) => {
  let res = 0;
  do {
    res |= code & 1;
    code >>>= 1;
    res <<= 1;
  } while (--len > 0);
  return res >>> 1;
};
const bi_flush = (s2) => {
  if (s2.bi_valid === 16) {
    put_short(s2, s2.bi_buf);
    s2.bi_buf = 0;
    s2.bi_valid = 0;
  } else if (s2.bi_valid >= 8) {
    s2.pending_buf[s2.pending++] = s2.bi_buf & 255;
    s2.bi_buf >>= 8;
    s2.bi_valid -= 8;
  }
};
const gen_bitlen = (s2, desc) => {
  const tree = desc.dyn_tree;
  const max_code = desc.max_code;
  const stree = desc.stat_desc.static_tree;
  const has_stree = desc.stat_desc.has_stree;
  const extra = desc.stat_desc.extra_bits;
  const base2 = desc.stat_desc.extra_base;
  const max_length = desc.stat_desc.max_length;
  let h2;
  let n2, m2;
  let bits2;
  let xbits;
  let f2;
  let overflow = 0;
  for (bits2 = 0; bits2 <= MAX_BITS$1; bits2++) {
    s2.bl_count[bits2] = 0;
  }
  tree[s2.heap[s2.heap_max] * 2 + 1] = 0;
  for (h2 = s2.heap_max + 1; h2 < HEAP_SIZE$1; h2++) {
    n2 = s2.heap[h2];
    bits2 = tree[tree[n2 * 2 + 1] * 2 + 1] + 1;
    if (bits2 > max_length) {
      bits2 = max_length;
      overflow++;
    }
    tree[n2 * 2 + 1] = bits2;
    if (n2 > max_code) {
      continue;
    }
    s2.bl_count[bits2]++;
    xbits = 0;
    if (n2 >= base2) {
      xbits = extra[n2 - base2];
    }
    f2 = tree[n2 * 2];
    s2.opt_len += f2 * (bits2 + xbits);
    if (has_stree) {
      s2.static_len += f2 * (stree[n2 * 2 + 1] + xbits);
    }
  }
  if (overflow === 0) {
    return;
  }
  do {
    bits2 = max_length - 1;
    while (s2.bl_count[bits2] === 0) {
      bits2--;
    }
    s2.bl_count[bits2]--;
    s2.bl_count[bits2 + 1] += 2;
    s2.bl_count[max_length]--;
    overflow -= 2;
  } while (overflow > 0);
  for (bits2 = max_length; bits2 !== 0; bits2--) {
    n2 = s2.bl_count[bits2];
    while (n2 !== 0) {
      m2 = s2.heap[--h2];
      if (m2 > max_code) {
        continue;
      }
      if (tree[m2 * 2 + 1] !== bits2) {
        s2.opt_len += (bits2 - tree[m2 * 2 + 1]) * tree[m2 * 2];
        tree[m2 * 2 + 1] = bits2;
      }
      n2--;
    }
  }
};
const gen_codes = (tree, max_code, bl_count) => {
  const next_code = new Array(MAX_BITS$1 + 1);
  let code = 0;
  let bits2;
  let n2;
  for (bits2 = 1; bits2 <= MAX_BITS$1; bits2++) {
    code = code + bl_count[bits2 - 1] << 1;
    next_code[bits2] = code;
  }
  for (n2 = 0; n2 <= max_code; n2++) {
    let len = tree[n2 * 2 + 1];
    if (len === 0) {
      continue;
    }
    tree[n2 * 2] = bi_reverse(next_code[len]++, len);
  }
};
const tr_static_init = () => {
  let n2;
  let bits2;
  let length;
  let code;
  let dist;
  const bl_count = new Array(MAX_BITS$1 + 1);
  length = 0;
  for (code = 0; code < LENGTH_CODES$1 - 1; code++) {
    base_length[code] = length;
    for (n2 = 0; n2 < 1 << extra_lbits[code]; n2++) {
      _length_code[length++] = code;
    }
  }
  _length_code[length - 1] = code;
  dist = 0;
  for (code = 0; code < 16; code++) {
    base_dist[code] = dist;
    for (n2 = 0; n2 < 1 << extra_dbits[code]; n2++) {
      _dist_code[dist++] = code;
    }
  }
  dist >>= 7;
  for (; code < D_CODES$1; code++) {
    base_dist[code] = dist << 7;
    for (n2 = 0; n2 < 1 << extra_dbits[code] - 7; n2++) {
      _dist_code[256 + dist++] = code;
    }
  }
  for (bits2 = 0; bits2 <= MAX_BITS$1; bits2++) {
    bl_count[bits2] = 0;
  }
  n2 = 0;
  while (n2 <= 143) {
    static_ltree[n2 * 2 + 1] = 8;
    n2++;
    bl_count[8]++;
  }
  while (n2 <= 255) {
    static_ltree[n2 * 2 + 1] = 9;
    n2++;
    bl_count[9]++;
  }
  while (n2 <= 279) {
    static_ltree[n2 * 2 + 1] = 7;
    n2++;
    bl_count[7]++;
  }
  while (n2 <= 287) {
    static_ltree[n2 * 2 + 1] = 8;
    n2++;
    bl_count[8]++;
  }
  gen_codes(static_ltree, L_CODES$1 + 1, bl_count);
  for (n2 = 0; n2 < D_CODES$1; n2++) {
    static_dtree[n2 * 2 + 1] = 5;
    static_dtree[n2 * 2] = bi_reverse(n2, 5);
  }
  static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS$1 + 1, L_CODES$1, MAX_BITS$1);
  static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0, D_CODES$1, MAX_BITS$1);
  static_bl_desc = new StaticTreeDesc(new Array(0), extra_blbits, 0, BL_CODES$1, MAX_BL_BITS);
};
const init_block = (s2) => {
  let n2;
  for (n2 = 0; n2 < L_CODES$1; n2++) {
    s2.dyn_ltree[n2 * 2] = 0;
  }
  for (n2 = 0; n2 < D_CODES$1; n2++) {
    s2.dyn_dtree[n2 * 2] = 0;
  }
  for (n2 = 0; n2 < BL_CODES$1; n2++) {
    s2.bl_tree[n2 * 2] = 0;
  }
  s2.dyn_ltree[END_BLOCK * 2] = 1;
  s2.opt_len = s2.static_len = 0;
  s2.sym_next = s2.matches = 0;
};
const bi_windup = (s2) => {
  if (s2.bi_valid > 8) {
    put_short(s2, s2.bi_buf);
  } else if (s2.bi_valid > 0) {
    s2.pending_buf[s2.pending++] = s2.bi_buf;
  }
  s2.bi_buf = 0;
  s2.bi_valid = 0;
};
const smaller = (tree, n2, m2, depth) => {
  const _n2 = n2 * 2;
  const _m2 = m2 * 2;
  return tree[_n2] < tree[_m2] || tree[_n2] === tree[_m2] && depth[n2] <= depth[m2];
};
const pqdownheap = (s2, tree, k3) => {
  const v2 = s2.heap[k3];
  let j2 = k3 << 1;
  while (j2 <= s2.heap_len) {
    if (j2 < s2.heap_len && smaller(tree, s2.heap[j2 + 1], s2.heap[j2], s2.depth)) {
      j2++;
    }
    if (smaller(tree, v2, s2.heap[j2], s2.depth)) {
      break;
    }
    s2.heap[k3] = s2.heap[j2];
    k3 = j2;
    j2 <<= 1;
  }
  s2.heap[k3] = v2;
};
const compress_block = (s2, ltree, dtree) => {
  let dist;
  let lc2;
  let sx = 0;
  let code;
  let extra;
  if (s2.sym_next !== 0) {
    do {
      dist = s2.pending_buf[s2.sym_buf + sx++] & 255;
      dist += (s2.pending_buf[s2.sym_buf + sx++] & 255) << 8;
      lc2 = s2.pending_buf[s2.sym_buf + sx++];
      if (dist === 0) {
        send_code(s2, lc2, ltree);
      } else {
        code = _length_code[lc2];
        send_code(s2, code + LITERALS$1 + 1, ltree);
        extra = extra_lbits[code];
        if (extra !== 0) {
          lc2 -= base_length[code];
          send_bits(s2, lc2, extra);
        }
        dist--;
        code = d_code(dist);
        send_code(s2, code, dtree);
        extra = extra_dbits[code];
        if (extra !== 0) {
          dist -= base_dist[code];
          send_bits(s2, dist, extra);
        }
      }
    } while (sx < s2.sym_next);
  }
  send_code(s2, END_BLOCK, ltree);
};
const build_tree = (s2, desc) => {
  const tree = desc.dyn_tree;
  const stree = desc.stat_desc.static_tree;
  const has_stree = desc.stat_desc.has_stree;
  const elems = desc.stat_desc.elems;
  let n2, m2;
  let max_code = -1;
  let node;
  s2.heap_len = 0;
  s2.heap_max = HEAP_SIZE$1;
  for (n2 = 0; n2 < elems; n2++) {
    if (tree[n2 * 2] !== 0) {
      s2.heap[++s2.heap_len] = max_code = n2;
      s2.depth[n2] = 0;
    } else {
      tree[n2 * 2 + 1] = 0;
    }
  }
  while (s2.heap_len < 2) {
    node = s2.heap[++s2.heap_len] = max_code < 2 ? ++max_code : 0;
    tree[node * 2] = 1;
    s2.depth[node] = 0;
    s2.opt_len--;
    if (has_stree) {
      s2.static_len -= stree[node * 2 + 1];
    }
  }
  desc.max_code = max_code;
  for (n2 = s2.heap_len >> 1; n2 >= 1; n2--) {
    pqdownheap(s2, tree, n2);
  }
  node = elems;
  do {
    n2 = s2.heap[1];
    s2.heap[1] = s2.heap[s2.heap_len--];
    pqdownheap(s2, tree, 1);
    m2 = s2.heap[1];
    s2.heap[--s2.heap_max] = n2;
    s2.heap[--s2.heap_max] = m2;
    tree[node * 2] = tree[n2 * 2] + tree[m2 * 2];
    s2.depth[node] = (s2.depth[n2] >= s2.depth[m2] ? s2.depth[n2] : s2.depth[m2]) + 1;
    tree[n2 * 2 + 1] = tree[m2 * 2 + 1] = node;
    s2.heap[1] = node++;
    pqdownheap(s2, tree, 1);
  } while (s2.heap_len >= 2);
  s2.heap[--s2.heap_max] = s2.heap[1];
  gen_bitlen(s2, desc);
  gen_codes(tree, max_code, s2.bl_count);
};
const scan_tree = (s2, tree, max_code) => {
  let n2;
  let prevlen = -1;
  let curlen;
  let nextlen = tree[0 * 2 + 1];
  let count = 0;
  let max_count = 7;
  let min_count = 4;
  if (nextlen === 0) {
    max_count = 138;
    min_count = 3;
  }
  tree[(max_code + 1) * 2 + 1] = 65535;
  for (n2 = 0; n2 <= max_code; n2++) {
    curlen = nextlen;
    nextlen = tree[(n2 + 1) * 2 + 1];
    if (++count < max_count && curlen === nextlen) {
      continue;
    } else if (count < min_count) {
      s2.bl_tree[curlen * 2] += count;
    } else if (curlen !== 0) {
      if (curlen !== prevlen) {
        s2.bl_tree[curlen * 2]++;
      }
      s2.bl_tree[REP_3_6 * 2]++;
    } else if (count <= 10) {
      s2.bl_tree[REPZ_3_10 * 2]++;
    } else {
      s2.bl_tree[REPZ_11_138 * 2]++;
    }
    count = 0;
    prevlen = curlen;
    if (nextlen === 0) {
      max_count = 138;
      min_count = 3;
    } else if (curlen === nextlen) {
      max_count = 6;
      min_count = 3;
    } else {
      max_count = 7;
      min_count = 4;
    }
  }
};
const send_tree = (s2, tree, max_code) => {
  let n2;
  let prevlen = -1;
  let curlen;
  let nextlen = tree[0 * 2 + 1];
  let count = 0;
  let max_count = 7;
  let min_count = 4;
  if (nextlen === 0) {
    max_count = 138;
    min_count = 3;
  }
  for (n2 = 0; n2 <= max_code; n2++) {
    curlen = nextlen;
    nextlen = tree[(n2 + 1) * 2 + 1];
    if (++count < max_count && curlen === nextlen) {
      continue;
    } else if (count < min_count) {
      do {
        send_code(s2, curlen, s2.bl_tree);
      } while (--count !== 0);
    } else if (curlen !== 0) {
      if (curlen !== prevlen) {
        send_code(s2, curlen, s2.bl_tree);
        count--;
      }
      send_code(s2, REP_3_6, s2.bl_tree);
      send_bits(s2, count - 3, 2);
    } else if (count <= 10) {
      send_code(s2, REPZ_3_10, s2.bl_tree);
      send_bits(s2, count - 3, 3);
    } else {
      send_code(s2, REPZ_11_138, s2.bl_tree);
      send_bits(s2, count - 11, 7);
    }
    count = 0;
    prevlen = curlen;
    if (nextlen === 0) {
      max_count = 138;
      min_count = 3;
    } else if (curlen === nextlen) {
      max_count = 6;
      min_count = 3;
    } else {
      max_count = 7;
      min_count = 4;
    }
  }
};
const build_bl_tree = (s2) => {
  let max_blindex;
  scan_tree(s2, s2.dyn_ltree, s2.l_desc.max_code);
  scan_tree(s2, s2.dyn_dtree, s2.d_desc.max_code);
  build_tree(s2, s2.bl_desc);
  for (max_blindex = BL_CODES$1 - 1; max_blindex >= 3; max_blindex--) {
    if (s2.bl_tree[bl_order[max_blindex] * 2 + 1] !== 0) {
      break;
    }
  }
  s2.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4;
  return max_blindex;
};
const send_all_trees = (s2, lcodes, dcodes, blcodes) => {
  let rank2;
  send_bits(s2, lcodes - 257, 5);
  send_bits(s2, dcodes - 1, 5);
  send_bits(s2, blcodes - 4, 4);
  for (rank2 = 0; rank2 < blcodes; rank2++) {
    send_bits(s2, s2.bl_tree[bl_order[rank2] * 2 + 1], 3);
  }
  send_tree(s2, s2.dyn_ltree, lcodes - 1);
  send_tree(s2, s2.dyn_dtree, dcodes - 1);
};
const detect_data_type = (s2) => {
  let block_mask = 4093624447;
  let n2;
  for (n2 = 0; n2 <= 31; n2++, block_mask >>>= 1) {
    if (block_mask & 1 && s2.dyn_ltree[n2 * 2] !== 0) {
      return Z_BINARY;
    }
  }
  if (s2.dyn_ltree[9 * 2] !== 0 || s2.dyn_ltree[10 * 2] !== 0 || s2.dyn_ltree[13 * 2] !== 0) {
    return Z_TEXT;
  }
  for (n2 = 32; n2 < LITERALS$1; n2++) {
    if (s2.dyn_ltree[n2 * 2] !== 0) {
      return Z_TEXT;
    }
  }
  return Z_BINARY;
};
let static_init_done = false;
const _tr_init$1 = (s2) => {
  if (!static_init_done) {
    tr_static_init();
    static_init_done = true;
  }
  s2.l_desc = new TreeDesc(s2.dyn_ltree, static_l_desc);
  s2.d_desc = new TreeDesc(s2.dyn_dtree, static_d_desc);
  s2.bl_desc = new TreeDesc(s2.bl_tree, static_bl_desc);
  s2.bi_buf = 0;
  s2.bi_valid = 0;
  init_block(s2);
};
const _tr_stored_block$1 = (s2, buf, stored_len, last) => {
  send_bits(s2, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);
  bi_windup(s2);
  put_short(s2, stored_len);
  put_short(s2, ~stored_len);
  if (stored_len) {
    s2.pending_buf.set(s2.window.subarray(buf, buf + stored_len), s2.pending);
  }
  s2.pending += stored_len;
};
const _tr_align$1 = (s2) => {
  send_bits(s2, STATIC_TREES << 1, 3);
  send_code(s2, END_BLOCK, static_ltree);
  bi_flush(s2);
};
const _tr_flush_block$1 = (s2, buf, stored_len, last) => {
  let opt_lenb, static_lenb;
  let max_blindex = 0;
  if (s2.level > 0) {
    if (s2.strm.data_type === Z_UNKNOWN$1) {
      s2.strm.data_type = detect_data_type(s2);
    }
    build_tree(s2, s2.l_desc);
    build_tree(s2, s2.d_desc);
    max_blindex = build_bl_tree(s2);
    opt_lenb = s2.opt_len + 3 + 7 >>> 3;
    static_lenb = s2.static_len + 3 + 7 >>> 3;
    if (static_lenb <= opt_lenb) {
      opt_lenb = static_lenb;
    }
  } else {
    opt_lenb = static_lenb = stored_len + 5;
  }
  if (stored_len + 4 <= opt_lenb && buf !== -1) {
    _tr_stored_block$1(s2, buf, stored_len, last);
  } else if (s2.strategy === Z_FIXED$1 || static_lenb === opt_lenb) {
    send_bits(s2, (STATIC_TREES << 1) + (last ? 1 : 0), 3);
    compress_block(s2, static_ltree, static_dtree);
  } else {
    send_bits(s2, (DYN_TREES << 1) + (last ? 1 : 0), 3);
    send_all_trees(s2, s2.l_desc.max_code + 1, s2.d_desc.max_code + 1, max_blindex + 1);
    compress_block(s2, s2.dyn_ltree, s2.dyn_dtree);
  }
  init_block(s2);
  if (last) {
    bi_windup(s2);
  }
};
const _tr_tally$1 = (s2, dist, lc2) => {
  s2.pending_buf[s2.sym_buf + s2.sym_next++] = dist;
  s2.pending_buf[s2.sym_buf + s2.sym_next++] = dist >> 8;
  s2.pending_buf[s2.sym_buf + s2.sym_next++] = lc2;
  if (dist === 0) {
    s2.dyn_ltree[lc2 * 2]++;
  } else {
    s2.matches++;
    dist--;
    s2.dyn_ltree[(_length_code[lc2] + LITERALS$1 + 1) * 2]++;
    s2.dyn_dtree[d_code(dist) * 2]++;
  }
  return s2.sym_next === s2.sym_end;
};
var _tr_init_1 = _tr_init$1;
var _tr_stored_block_1 = _tr_stored_block$1;
var _tr_flush_block_1 = _tr_flush_block$1;
var _tr_tally_1 = _tr_tally$1;
var _tr_align_1 = _tr_align$1;
var trees = {
  _tr_init: _tr_init_1,
  _tr_stored_block: _tr_stored_block_1,
  _tr_flush_block: _tr_flush_block_1,
  _tr_tally: _tr_tally_1,
  _tr_align: _tr_align_1
};
const adler32 = (adler2, buf, len, pos) => {
  let s1 = adler2 & 65535 | 0, s2 = adler2 >>> 16 & 65535 | 0, n2 = 0;
  while (len !== 0) {
    n2 = len > 2e3 ? 2e3 : len;
    len -= n2;
    do {
      s1 = s1 + buf[pos++] | 0;
      s2 = s2 + s1 | 0;
    } while (--n2);
    s1 %= 65521;
    s2 %= 65521;
  }
  return s1 | s2 << 16 | 0;
};
var adler32_1 = adler32;
const makeTable = () => {
  let c2, table = [];
  for (var n2 = 0; n2 < 256; n2++) {
    c2 = n2;
    for (var k3 = 0; k3 < 8; k3++) {
      c2 = c2 & 1 ? 3988292384 ^ c2 >>> 1 : c2 >>> 1;
    }
    table[n2] = c2;
  }
  return table;
};
const crcTable$1 = new Uint32Array(makeTable());
const crc32 = (crc2, buf, len, pos) => {
  const t3 = crcTable$1;
  const end = pos + len;
  crc2 ^= -1;
  for (let i2 = pos; i2 < end; i2++) {
    crc2 = crc2 >>> 8 ^ t3[(crc2 ^ buf[i2]) & 255];
  }
  return crc2 ^ -1;
};
var crc32_1 = crc32;
var messages = {
  2: "need dictionary",
  1: "stream end",
  0: "",
  "-1": "file error",
  "-2": "stream error",
  "-3": "data error",
  "-4": "insufficient memory",
  "-5": "buffer error",
  "-6": "incompatible version"
};
var constants$2 = {
  Z_NO_FLUSH: 0,
  Z_PARTIAL_FLUSH: 1,
  Z_SYNC_FLUSH: 2,
  Z_FULL_FLUSH: 3,
  Z_FINISH: 4,
  Z_BLOCK: 5,
  Z_TREES: 6,
  Z_OK: 0,
  Z_STREAM_END: 1,
  Z_NEED_DICT: 2,
  Z_ERRNO: -1,
  Z_STREAM_ERROR: -2,
  Z_DATA_ERROR: -3,
  Z_MEM_ERROR: -4,
  Z_BUF_ERROR: -5,
  Z_NO_COMPRESSION: 0,
  Z_BEST_SPEED: 1,
  Z_BEST_COMPRESSION: 9,
  Z_DEFAULT_COMPRESSION: -1,
  Z_FILTERED: 1,
  Z_HUFFMAN_ONLY: 2,
  Z_RLE: 3,
  Z_FIXED: 4,
  Z_DEFAULT_STRATEGY: 0,
  Z_BINARY: 0,
  Z_TEXT: 1,
  Z_UNKNOWN: 2,
  Z_DEFLATED: 8
};
const { _tr_init, _tr_stored_block, _tr_flush_block, _tr_tally, _tr_align } = trees;
const {
  Z_NO_FLUSH: Z_NO_FLUSH$2,
  Z_PARTIAL_FLUSH,
  Z_FULL_FLUSH: Z_FULL_FLUSH$1,
  Z_FINISH: Z_FINISH$3,
  Z_BLOCK: Z_BLOCK$1,
  Z_OK: Z_OK$3,
  Z_STREAM_END: Z_STREAM_END$3,
  Z_STREAM_ERROR: Z_STREAM_ERROR$2,
  Z_DATA_ERROR: Z_DATA_ERROR$2,
  Z_BUF_ERROR: Z_BUF_ERROR$1,
  Z_DEFAULT_COMPRESSION: Z_DEFAULT_COMPRESSION$1,
  Z_FILTERED,
  Z_HUFFMAN_ONLY,
  Z_RLE,
  Z_FIXED,
  Z_DEFAULT_STRATEGY: Z_DEFAULT_STRATEGY$1,
  Z_UNKNOWN,
  Z_DEFLATED: Z_DEFLATED$2
} = constants$2;
const MAX_MEM_LEVEL = 9;
const MAX_WBITS$1 = 15;
const DEF_MEM_LEVEL = 8;
const LENGTH_CODES = 29;
const LITERALS = 256;
const L_CODES = LITERALS + 1 + LENGTH_CODES;
const D_CODES = 30;
const BL_CODES = 19;
const HEAP_SIZE = 2 * L_CODES + 1;
const MAX_BITS = 15;
const MIN_MATCH = 3;
const MAX_MATCH = 258;
const MIN_LOOKAHEAD = MAX_MATCH + MIN_MATCH + 1;
const PRESET_DICT = 32;
const INIT_STATE = 42;
const GZIP_STATE = 57;
const EXTRA_STATE = 69;
const NAME_STATE = 73;
const COMMENT_STATE = 91;
const HCRC_STATE = 103;
const BUSY_STATE = 113;
const FINISH_STATE = 666;
const BS_NEED_MORE = 1;
const BS_BLOCK_DONE = 2;
const BS_FINISH_STARTED = 3;
const BS_FINISH_DONE = 4;
const OS_CODE = 3;
const err = (strm, errorCode) => {
  strm.msg = messages[errorCode];
  return errorCode;
};
const rank = (f2) => {
  return f2 * 2 - (f2 > 4 ? 9 : 0);
};
const zero = (buf) => {
  let len = buf.length;
  while (--len >= 0) {
    buf[len] = 0;
  }
};
const slide_hash = (s2) => {
  let n2, m2;
  let p2;
  let wsize = s2.w_size;
  n2 = s2.hash_size;
  p2 = n2;
  do {
    m2 = s2.head[--p2];
    s2.head[p2] = m2 >= wsize ? m2 - wsize : 0;
  } while (--n2);
  n2 = wsize;
  p2 = n2;
  do {
    m2 = s2.prev[--p2];
    s2.prev[p2] = m2 >= wsize ? m2 - wsize : 0;
  } while (--n2);
};
let HASH_ZLIB = (s2, prev, data2) => (prev << s2.hash_shift ^ data2) & s2.hash_mask;
let HASH = HASH_ZLIB;
const flush_pending = (strm) => {
  const s2 = strm.state;
  let len = s2.pending;
  if (len > strm.avail_out) {
    len = strm.avail_out;
  }
  if (len === 0) {
    return;
  }
  strm.output.set(s2.pending_buf.subarray(s2.pending_out, s2.pending_out + len), strm.next_out);
  strm.next_out += len;
  s2.pending_out += len;
  strm.total_out += len;
  strm.avail_out -= len;
  s2.pending -= len;
  if (s2.pending === 0) {
    s2.pending_out = 0;
  }
};
const flush_block_only = (s2, last) => {
  _tr_flush_block(s2, s2.block_start >= 0 ? s2.block_start : -1, s2.strstart - s2.block_start, last);
  s2.block_start = s2.strstart;
  flush_pending(s2.strm);
};
const put_byte = (s2, b3) => {
  s2.pending_buf[s2.pending++] = b3;
};
const putShortMSB = (s2, b3) => {
  s2.pending_buf[s2.pending++] = b3 >>> 8 & 255;
  s2.pending_buf[s2.pending++] = b3 & 255;
};
const read_buf = (strm, buf, start, size) => {
  let len = strm.avail_in;
  if (len > size) {
    len = size;
  }
  if (len === 0) {
    return 0;
  }
  strm.avail_in -= len;
  buf.set(strm.input.subarray(strm.next_in, strm.next_in + len), start);
  if (strm.state.wrap === 1) {
    strm.adler = adler32_1(strm.adler, buf, len, start);
  } else if (strm.state.wrap === 2) {
    strm.adler = crc32_1(strm.adler, buf, len, start);
  }
  strm.next_in += len;
  strm.total_in += len;
  return len;
};
const longest_match = (s2, cur_match) => {
  let chain_length = s2.max_chain_length;
  let scan = s2.strstart;
  let match;
  let len;
  let best_len = s2.prev_length;
  let nice_match = s2.nice_match;
  const limit = s2.strstart > s2.w_size - MIN_LOOKAHEAD ? s2.strstart - (s2.w_size - MIN_LOOKAHEAD) : 0;
  const _win = s2.window;
  const wmask = s2.w_mask;
  const prev = s2.prev;
  const strend = s2.strstart + MAX_MATCH;
  let scan_end1 = _win[scan + best_len - 1];
  let scan_end = _win[scan + best_len];
  if (s2.prev_length >= s2.good_match) {
    chain_length >>= 2;
  }
  if (nice_match > s2.lookahead) {
    nice_match = s2.lookahead;
  }
  do {
    match = cur_match;
    if (_win[match + best_len] !== scan_end || _win[match + best_len - 1] !== scan_end1 || _win[match] !== _win[scan] || _win[++match] !== _win[scan + 1]) {
      continue;
    }
    scan += 2;
    match++;
    do {
    } while (_win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && _win[++scan] === _win[++match] && scan < strend);
    len = MAX_MATCH - (strend - scan);
    scan = strend - MAX_MATCH;
    if (len > best_len) {
      s2.match_start = cur_match;
      best_len = len;
      if (len >= nice_match) {
        break;
      }
      scan_end1 = _win[scan + best_len - 1];
      scan_end = _win[scan + best_len];
    }
  } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);
  if (best_len <= s2.lookahead) {
    return best_len;
  }
  return s2.lookahead;
};
const fill_window = (s2) => {
  const _w_size = s2.w_size;
  let n2, more, str;
  do {
    more = s2.window_size - s2.lookahead - s2.strstart;
    if (s2.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {
      s2.window.set(s2.window.subarray(_w_size, _w_size + _w_size - more), 0);
      s2.match_start -= _w_size;
      s2.strstart -= _w_size;
      s2.block_start -= _w_size;
      if (s2.insert > s2.strstart) {
        s2.insert = s2.strstart;
      }
      slide_hash(s2);
      more += _w_size;
    }
    if (s2.strm.avail_in === 0) {
      break;
    }
    n2 = read_buf(s2.strm, s2.window, s2.strstart + s2.lookahead, more);
    s2.lookahead += n2;
    if (s2.lookahead + s2.insert >= MIN_MATCH) {
      str = s2.strstart - s2.insert;
      s2.ins_h = s2.window[str];
      s2.ins_h = HASH(s2, s2.ins_h, s2.window[str + 1]);
      while (s2.insert) {
        s2.ins_h = HASH(s2, s2.ins_h, s2.window[str + MIN_MATCH - 1]);
        s2.prev[str & s2.w_mask] = s2.head[s2.ins_h];
        s2.head[s2.ins_h] = str;
        str++;
        s2.insert--;
        if (s2.lookahead + s2.insert < MIN_MATCH) {
          break;
        }
      }
    }
  } while (s2.lookahead < MIN_LOOKAHEAD && s2.strm.avail_in !== 0);
};
const deflate_stored = (s2, flush) => {
  let min_block = s2.pending_buf_size - 5 > s2.w_size ? s2.w_size : s2.pending_buf_size - 5;
  let len, left, have, last = 0;
  let used = s2.strm.avail_in;
  do {
    len = 65535;
    have = s2.bi_valid + 42 >> 3;
    if (s2.strm.avail_out < have) {
      break;
    }
    have = s2.strm.avail_out - have;
    left = s2.strstart - s2.block_start;
    if (len > left + s2.strm.avail_in) {
      len = left + s2.strm.avail_in;
    }
    if (len > have) {
      len = have;
    }
    if (len < min_block && (len === 0 && flush !== Z_FINISH$3 || flush === Z_NO_FLUSH$2 || len !== left + s2.strm.avail_in)) {
      break;
    }
    last = flush === Z_FINISH$3 && len === left + s2.strm.avail_in ? 1 : 0;
    _tr_stored_block(s2, 0, 0, last);
    s2.pending_buf[s2.pending - 4] = len;
    s2.pending_buf[s2.pending - 3] = len >> 8;
    s2.pending_buf[s2.pending - 2] = ~len;
    s2.pending_buf[s2.pending - 1] = ~len >> 8;
    flush_pending(s2.strm);
    if (left) {
      if (left > len) {
        left = len;
      }
      s2.strm.output.set(s2.window.subarray(s2.block_start, s2.block_start + left), s2.strm.next_out);
      s2.strm.next_out += left;
      s2.strm.avail_out -= left;
      s2.strm.total_out += left;
      s2.block_start += left;
      len -= left;
    }
    if (len) {
      read_buf(s2.strm, s2.strm.output, s2.strm.next_out, len);
      s2.strm.next_out += len;
      s2.strm.avail_out -= len;
      s2.strm.total_out += len;
    }
  } while (last === 0);
  used -= s2.strm.avail_in;
  if (used) {
    if (used >= s2.w_size) {
      s2.matches = 2;
      s2.window.set(s2.strm.input.subarray(s2.strm.next_in - s2.w_size, s2.strm.next_in), 0);
      s2.strstart = s2.w_size;
      s2.insert = s2.strstart;
    } else {
      if (s2.window_size - s2.strstart <= used) {
        s2.strstart -= s2.w_size;
        s2.window.set(s2.window.subarray(s2.w_size, s2.w_size + s2.strstart), 0);
        if (s2.matches < 2) {
          s2.matches++;
        }
        if (s2.insert > s2.strstart) {
          s2.insert = s2.strstart;
        }
      }
      s2.window.set(s2.strm.input.subarray(s2.strm.next_in - used, s2.strm.next_in), s2.strstart);
      s2.strstart += used;
      s2.insert += used > s2.w_size - s2.insert ? s2.w_size - s2.insert : used;
    }
    s2.block_start = s2.strstart;
  }
  if (s2.high_water < s2.strstart) {
    s2.high_water = s2.strstart;
  }
  if (last) {
    return BS_FINISH_DONE;
  }
  if (flush !== Z_NO_FLUSH$2 && flush !== Z_FINISH$3 && s2.strm.avail_in === 0 && s2.strstart === s2.block_start) {
    return BS_BLOCK_DONE;
  }
  have = s2.window_size - s2.strstart;
  if (s2.strm.avail_in > have && s2.block_start >= s2.w_size) {
    s2.block_start -= s2.w_size;
    s2.strstart -= s2.w_size;
    s2.window.set(s2.window.subarray(s2.w_size, s2.w_size + s2.strstart), 0);
    if (s2.matches < 2) {
      s2.matches++;
    }
    have += s2.w_size;
    if (s2.insert > s2.strstart) {
      s2.insert = s2.strstart;
    }
  }
  if (have > s2.strm.avail_in) {
    have = s2.strm.avail_in;
  }
  if (have) {
    read_buf(s2.strm, s2.window, s2.strstart, have);
    s2.strstart += have;
    s2.insert += have > s2.w_size - s2.insert ? s2.w_size - s2.insert : have;
  }
  if (s2.high_water < s2.strstart) {
    s2.high_water = s2.strstart;
  }
  have = s2.bi_valid + 42 >> 3;
  have = s2.pending_buf_size - have > 65535 ? 65535 : s2.pending_buf_size - have;
  min_block = have > s2.w_size ? s2.w_size : have;
  left = s2.strstart - s2.block_start;
  if (left >= min_block || (left || flush === Z_FINISH$3) && flush !== Z_NO_FLUSH$2 && s2.strm.avail_in === 0 && left <= have) {
    len = left > have ? have : left;
    last = flush === Z_FINISH$3 && s2.strm.avail_in === 0 && len === left ? 1 : 0;
    _tr_stored_block(s2, s2.block_start, len, last);
    s2.block_start += len;
    flush_pending(s2.strm);
  }
  return last ? BS_FINISH_STARTED : BS_NEED_MORE;
};
const deflate_fast = (s2, flush) => {
  let hash_head;
  let bflush;
  for (; ; ) {
    if (s2.lookahead < MIN_LOOKAHEAD) {
      fill_window(s2);
      if (s2.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH$2) {
        return BS_NEED_MORE;
      }
      if (s2.lookahead === 0) {
        break;
      }
    }
    hash_head = 0;
    if (s2.lookahead >= MIN_MATCH) {
      s2.ins_h = HASH(s2, s2.ins_h, s2.window[s2.strstart + MIN_MATCH - 1]);
      hash_head = s2.prev[s2.strstart & s2.w_mask] = s2.head[s2.ins_h];
      s2.head[s2.ins_h] = s2.strstart;
    }
    if (hash_head !== 0 && s2.strstart - hash_head <= s2.w_size - MIN_LOOKAHEAD) {
      s2.match_length = longest_match(s2, hash_head);
    }
    if (s2.match_length >= MIN_MATCH) {
      bflush = _tr_tally(s2, s2.strstart - s2.match_start, s2.match_length - MIN_MATCH);
      s2.lookahead -= s2.match_length;
      if (s2.match_length <= s2.max_lazy_match && s2.lookahead >= MIN_MATCH) {
        s2.match_length--;
        do {
          s2.strstart++;
          s2.ins_h = HASH(s2, s2.ins_h, s2.window[s2.strstart + MIN_MATCH - 1]);
          hash_head = s2.prev[s2.strstart & s2.w_mask] = s2.head[s2.ins_h];
          s2.head[s2.ins_h] = s2.strstart;
        } while (--s2.match_length !== 0);
        s2.strstart++;
      } else {
        s2.strstart += s2.match_length;
        s2.match_length = 0;
        s2.ins_h = s2.window[s2.strstart];
        s2.ins_h = HASH(s2, s2.ins_h, s2.window[s2.strstart + 1]);
      }
    } else {
      bflush = _tr_tally(s2, 0, s2.window[s2.strstart]);
      s2.lookahead--;
      s2.strstart++;
    }
    if (bflush) {
      flush_block_only(s2, false);
      if (s2.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    }
  }
  s2.insert = s2.strstart < MIN_MATCH - 1 ? s2.strstart : MIN_MATCH - 1;
  if (flush === Z_FINISH$3) {
    flush_block_only(s2, true);
    if (s2.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s2.sym_next) {
    flush_block_only(s2, false);
    if (s2.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_BLOCK_DONE;
};
const deflate_slow = (s2, flush) => {
  let hash_head;
  let bflush;
  let max_insert;
  for (; ; ) {
    if (s2.lookahead < MIN_LOOKAHEAD) {
      fill_window(s2);
      if (s2.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH$2) {
        return BS_NEED_MORE;
      }
      if (s2.lookahead === 0) {
        break;
      }
    }
    hash_head = 0;
    if (s2.lookahead >= MIN_MATCH) {
      s2.ins_h = HASH(s2, s2.ins_h, s2.window[s2.strstart + MIN_MATCH - 1]);
      hash_head = s2.prev[s2.strstart & s2.w_mask] = s2.head[s2.ins_h];
      s2.head[s2.ins_h] = s2.strstart;
    }
    s2.prev_length = s2.match_length;
    s2.prev_match = s2.match_start;
    s2.match_length = MIN_MATCH - 1;
    if (hash_head !== 0 && s2.prev_length < s2.max_lazy_match && s2.strstart - hash_head <= s2.w_size - MIN_LOOKAHEAD) {
      s2.match_length = longest_match(s2, hash_head);
      if (s2.match_length <= 5 && (s2.strategy === Z_FILTERED || s2.match_length === MIN_MATCH && s2.strstart - s2.match_start > 4096)) {
        s2.match_length = MIN_MATCH - 1;
      }
    }
    if (s2.prev_length >= MIN_MATCH && s2.match_length <= s2.prev_length) {
      max_insert = s2.strstart + s2.lookahead - MIN_MATCH;
      bflush = _tr_tally(s2, s2.strstart - 1 - s2.prev_match, s2.prev_length - MIN_MATCH);
      s2.lookahead -= s2.prev_length - 1;
      s2.prev_length -= 2;
      do {
        if (++s2.strstart <= max_insert) {
          s2.ins_h = HASH(s2, s2.ins_h, s2.window[s2.strstart + MIN_MATCH - 1]);
          hash_head = s2.prev[s2.strstart & s2.w_mask] = s2.head[s2.ins_h];
          s2.head[s2.ins_h] = s2.strstart;
        }
      } while (--s2.prev_length !== 0);
      s2.match_available = 0;
      s2.match_length = MIN_MATCH - 1;
      s2.strstart++;
      if (bflush) {
        flush_block_only(s2, false);
        if (s2.strm.avail_out === 0) {
          return BS_NEED_MORE;
        }
      }
    } else if (s2.match_available) {
      bflush = _tr_tally(s2, 0, s2.window[s2.strstart - 1]);
      if (bflush) {
        flush_block_only(s2, false);
      }
      s2.strstart++;
      s2.lookahead--;
      if (s2.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    } else {
      s2.match_available = 1;
      s2.strstart++;
      s2.lookahead--;
    }
  }
  if (s2.match_available) {
    bflush = _tr_tally(s2, 0, s2.window[s2.strstart - 1]);
    s2.match_available = 0;
  }
  s2.insert = s2.strstart < MIN_MATCH - 1 ? s2.strstart : MIN_MATCH - 1;
  if (flush === Z_FINISH$3) {
    flush_block_only(s2, true);
    if (s2.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s2.sym_next) {
    flush_block_only(s2, false);
    if (s2.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_BLOCK_DONE;
};
const deflate_rle = (s2, flush) => {
  let bflush;
  let prev;
  let scan, strend;
  const _win = s2.window;
  for (; ; ) {
    if (s2.lookahead <= MAX_MATCH) {
      fill_window(s2);
      if (s2.lookahead <= MAX_MATCH && flush === Z_NO_FLUSH$2) {
        return BS_NEED_MORE;
      }
      if (s2.lookahead === 0) {
        break;
      }
    }
    s2.match_length = 0;
    if (s2.lookahead >= MIN_MATCH && s2.strstart > 0) {
      scan = s2.strstart - 1;
      prev = _win[scan];
      if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {
        strend = s2.strstart + MAX_MATCH;
        do {
        } while (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan] && scan < strend);
        s2.match_length = MAX_MATCH - (strend - scan);
        if (s2.match_length > s2.lookahead) {
          s2.match_length = s2.lookahead;
        }
      }
    }
    if (s2.match_length >= MIN_MATCH) {
      bflush = _tr_tally(s2, 1, s2.match_length - MIN_MATCH);
      s2.lookahead -= s2.match_length;
      s2.strstart += s2.match_length;
      s2.match_length = 0;
    } else {
      bflush = _tr_tally(s2, 0, s2.window[s2.strstart]);
      s2.lookahead--;
      s2.strstart++;
    }
    if (bflush) {
      flush_block_only(s2, false);
      if (s2.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    }
  }
  s2.insert = 0;
  if (flush === Z_FINISH$3) {
    flush_block_only(s2, true);
    if (s2.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s2.sym_next) {
    flush_block_only(s2, false);
    if (s2.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_BLOCK_DONE;
};
const deflate_huff = (s2, flush) => {
  let bflush;
  for (; ; ) {
    if (s2.lookahead === 0) {
      fill_window(s2);
      if (s2.lookahead === 0) {
        if (flush === Z_NO_FLUSH$2) {
          return BS_NEED_MORE;
        }
        break;
      }
    }
    s2.match_length = 0;
    bflush = _tr_tally(s2, 0, s2.window[s2.strstart]);
    s2.lookahead--;
    s2.strstart++;
    if (bflush) {
      flush_block_only(s2, false);
      if (s2.strm.avail_out === 0) {
        return BS_NEED_MORE;
      }
    }
  }
  s2.insert = 0;
  if (flush === Z_FINISH$3) {
    flush_block_only(s2, true);
    if (s2.strm.avail_out === 0) {
      return BS_FINISH_STARTED;
    }
    return BS_FINISH_DONE;
  }
  if (s2.sym_next) {
    flush_block_only(s2, false);
    if (s2.strm.avail_out === 0) {
      return BS_NEED_MORE;
    }
  }
  return BS_BLOCK_DONE;
};
function Config(good_length, max_lazy, nice_length, max_chain, func) {
  this.good_length = good_length;
  this.max_lazy = max_lazy;
  this.nice_length = nice_length;
  this.max_chain = max_chain;
  this.func = func;
}
const configuration_table = [
  new Config(0, 0, 0, 0, deflate_stored),
  new Config(4, 4, 8, 4, deflate_fast),
  new Config(4, 5, 16, 8, deflate_fast),
  new Config(4, 6, 32, 32, deflate_fast),
  new Config(4, 4, 16, 16, deflate_slow),
  new Config(8, 16, 32, 32, deflate_slow),
  new Config(8, 16, 128, 128, deflate_slow),
  new Config(8, 32, 128, 256, deflate_slow),
  new Config(32, 128, 258, 1024, deflate_slow),
  new Config(32, 258, 258, 4096, deflate_slow)
];
const lm_init = (s2) => {
  s2.window_size = 2 * s2.w_size;
  zero(s2.head);
  s2.max_lazy_match = configuration_table[s2.level].max_lazy;
  s2.good_match = configuration_table[s2.level].good_length;
  s2.nice_match = configuration_table[s2.level].nice_length;
  s2.max_chain_length = configuration_table[s2.level].max_chain;
  s2.strstart = 0;
  s2.block_start = 0;
  s2.lookahead = 0;
  s2.insert = 0;
  s2.match_length = s2.prev_length = MIN_MATCH - 1;
  s2.match_available = 0;
  s2.ins_h = 0;
};
function DeflateState() {
  this.strm = null;
  this.status = 0;
  this.pending_buf = null;
  this.pending_buf_size = 0;
  this.pending_out = 0;
  this.pending = 0;
  this.wrap = 0;
  this.gzhead = null;
  this.gzindex = 0;
  this.method = Z_DEFLATED$2;
  this.last_flush = -1;
  this.w_size = 0;
  this.w_bits = 0;
  this.w_mask = 0;
  this.window = null;
  this.window_size = 0;
  this.prev = null;
  this.head = null;
  this.ins_h = 0;
  this.hash_size = 0;
  this.hash_bits = 0;
  this.hash_mask = 0;
  this.hash_shift = 0;
  this.block_start = 0;
  this.match_length = 0;
  this.prev_match = 0;
  this.match_available = 0;
  this.strstart = 0;
  this.match_start = 0;
  this.lookahead = 0;
  this.prev_length = 0;
  this.max_chain_length = 0;
  this.max_lazy_match = 0;
  this.level = 0;
  this.strategy = 0;
  this.good_match = 0;
  this.nice_match = 0;
  this.dyn_ltree = new Uint16Array(HEAP_SIZE * 2);
  this.dyn_dtree = new Uint16Array((2 * D_CODES + 1) * 2);
  this.bl_tree = new Uint16Array((2 * BL_CODES + 1) * 2);
  zero(this.dyn_ltree);
  zero(this.dyn_dtree);
  zero(this.bl_tree);
  this.l_desc = null;
  this.d_desc = null;
  this.bl_desc = null;
  this.bl_count = new Uint16Array(MAX_BITS + 1);
  this.heap = new Uint16Array(2 * L_CODES + 1);
  zero(this.heap);
  this.heap_len = 0;
  this.heap_max = 0;
  this.depth = new Uint16Array(2 * L_CODES + 1);
  zero(this.depth);
  this.sym_buf = 0;
  this.lit_bufsize = 0;
  this.sym_next = 0;
  this.sym_end = 0;
  this.opt_len = 0;
  this.static_len = 0;
  this.matches = 0;
  this.insert = 0;
  this.bi_buf = 0;
  this.bi_valid = 0;
}
const deflateStateCheck = (strm) => {
  if (!strm) {
    return 1;
  }
  const s2 = strm.state;
  if (!s2 || s2.strm !== strm || s2.status !== INIT_STATE && s2.status !== GZIP_STATE && s2.status !== EXTRA_STATE && s2.status !== NAME_STATE && s2.status !== COMMENT_STATE && s2.status !== HCRC_STATE && s2.status !== BUSY_STATE && s2.status !== FINISH_STATE) {
    return 1;
  }
  return 0;
};
const deflateResetKeep = (strm) => {
  if (deflateStateCheck(strm)) {
    return err(strm, Z_STREAM_ERROR$2);
  }
  strm.total_in = strm.total_out = 0;
  strm.data_type = Z_UNKNOWN;
  const s2 = strm.state;
  s2.pending = 0;
  s2.pending_out = 0;
  if (s2.wrap < 0) {
    s2.wrap = -s2.wrap;
  }
  s2.status = s2.wrap === 2 ? GZIP_STATE : s2.wrap ? INIT_STATE : BUSY_STATE;
  strm.adler = s2.wrap === 2 ? 0 : 1;
  s2.last_flush = -2;
  _tr_init(s2);
  return Z_OK$3;
};
const deflateReset = (strm) => {
  const ret = deflateResetKeep(strm);
  if (ret === Z_OK$3) {
    lm_init(strm.state);
  }
  return ret;
};
const deflateSetHeader = (strm, head) => {
  if (deflateStateCheck(strm) || strm.state.wrap !== 2) {
    return Z_STREAM_ERROR$2;
  }
  strm.state.gzhead = head;
  return Z_OK$3;
};
const deflateInit2 = (strm, level, method, windowBits, memLevel, strategy) => {
  if (!strm) {
    return Z_STREAM_ERROR$2;
  }
  let wrap = 1;
  if (level === Z_DEFAULT_COMPRESSION$1) {
    level = 6;
  }
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  } else if (windowBits > 15) {
    wrap = 2;
    windowBits -= 16;
  }
  if (memLevel < 1 || memLevel > MAX_MEM_LEVEL || method !== Z_DEFLATED$2 || windowBits < 8 || windowBits > 15 || level < 0 || level > 9 || strategy < 0 || strategy > Z_FIXED || windowBits === 8 && wrap !== 1) {
    return err(strm, Z_STREAM_ERROR$2);
  }
  if (windowBits === 8) {
    windowBits = 9;
  }
  const s2 = new DeflateState();
  strm.state = s2;
  s2.strm = strm;
  s2.status = INIT_STATE;
  s2.wrap = wrap;
  s2.gzhead = null;
  s2.w_bits = windowBits;
  s2.w_size = 1 << s2.w_bits;
  s2.w_mask = s2.w_size - 1;
  s2.hash_bits = memLevel + 7;
  s2.hash_size = 1 << s2.hash_bits;
  s2.hash_mask = s2.hash_size - 1;
  s2.hash_shift = ~~((s2.hash_bits + MIN_MATCH - 1) / MIN_MATCH);
  s2.window = new Uint8Array(s2.w_size * 2);
  s2.head = new Uint16Array(s2.hash_size);
  s2.prev = new Uint16Array(s2.w_size);
  s2.lit_bufsize = 1 << memLevel + 6;
  s2.pending_buf_size = s2.lit_bufsize * 4;
  s2.pending_buf = new Uint8Array(s2.pending_buf_size);
  s2.sym_buf = s2.lit_bufsize;
  s2.sym_end = (s2.lit_bufsize - 1) * 3;
  s2.level = level;
  s2.strategy = strategy;
  s2.method = method;
  return deflateReset(strm);
};
const deflateInit = (strm, level) => {
  return deflateInit2(strm, level, Z_DEFLATED$2, MAX_WBITS$1, DEF_MEM_LEVEL, Z_DEFAULT_STRATEGY$1);
};
const deflate$2 = (strm, flush) => {
  if (deflateStateCheck(strm) || flush > Z_BLOCK$1 || flush < 0) {
    return strm ? err(strm, Z_STREAM_ERROR$2) : Z_STREAM_ERROR$2;
  }
  const s2 = strm.state;
  if (!strm.output || strm.avail_in !== 0 && !strm.input || s2.status === FINISH_STATE && flush !== Z_FINISH$3) {
    return err(strm, strm.avail_out === 0 ? Z_BUF_ERROR$1 : Z_STREAM_ERROR$2);
  }
  const old_flush = s2.last_flush;
  s2.last_flush = flush;
  if (s2.pending !== 0) {
    flush_pending(strm);
    if (strm.avail_out === 0) {
      s2.last_flush = -1;
      return Z_OK$3;
    }
  } else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) && flush !== Z_FINISH$3) {
    return err(strm, Z_BUF_ERROR$1);
  }
  if (s2.status === FINISH_STATE && strm.avail_in !== 0) {
    return err(strm, Z_BUF_ERROR$1);
  }
  if (s2.status === INIT_STATE && s2.wrap === 0) {
    s2.status = BUSY_STATE;
  }
  if (s2.status === INIT_STATE) {
    let header = Z_DEFLATED$2 + (s2.w_bits - 8 << 4) << 8;
    let level_flags = -1;
    if (s2.strategy >= Z_HUFFMAN_ONLY || s2.level < 2) {
      level_flags = 0;
    } else if (s2.level < 6) {
      level_flags = 1;
    } else if (s2.level === 6) {
      level_flags = 2;
    } else {
      level_flags = 3;
    }
    header |= level_flags << 6;
    if (s2.strstart !== 0) {
      header |= PRESET_DICT;
    }
    header += 31 - header % 31;
    putShortMSB(s2, header);
    if (s2.strstart !== 0) {
      putShortMSB(s2, strm.adler >>> 16);
      putShortMSB(s2, strm.adler & 65535);
    }
    strm.adler = 1;
    s2.status = BUSY_STATE;
    flush_pending(strm);
    if (s2.pending !== 0) {
      s2.last_flush = -1;
      return Z_OK$3;
    }
  }
  if (s2.status === GZIP_STATE) {
    strm.adler = 0;
    put_byte(s2, 31);
    put_byte(s2, 139);
    put_byte(s2, 8);
    if (!s2.gzhead) {
      put_byte(s2, 0);
      put_byte(s2, 0);
      put_byte(s2, 0);
      put_byte(s2, 0);
      put_byte(s2, 0);
      put_byte(s2, s2.level === 9 ? 2 : s2.strategy >= Z_HUFFMAN_ONLY || s2.level < 2 ? 4 : 0);
      put_byte(s2, OS_CODE);
      s2.status = BUSY_STATE;
      flush_pending(strm);
      if (s2.pending !== 0) {
        s2.last_flush = -1;
        return Z_OK$3;
      }
    } else {
      put_byte(
        s2,
        (s2.gzhead.text ? 1 : 0) + (s2.gzhead.hcrc ? 2 : 0) + (!s2.gzhead.extra ? 0 : 4) + (!s2.gzhead.name ? 0 : 8) + (!s2.gzhead.comment ? 0 : 16)
      );
      put_byte(s2, s2.gzhead.time & 255);
      put_byte(s2, s2.gzhead.time >> 8 & 255);
      put_byte(s2, s2.gzhead.time >> 16 & 255);
      put_byte(s2, s2.gzhead.time >> 24 & 255);
      put_byte(s2, s2.level === 9 ? 2 : s2.strategy >= Z_HUFFMAN_ONLY || s2.level < 2 ? 4 : 0);
      put_byte(s2, s2.gzhead.os & 255);
      if (s2.gzhead.extra && s2.gzhead.extra.length) {
        put_byte(s2, s2.gzhead.extra.length & 255);
        put_byte(s2, s2.gzhead.extra.length >> 8 & 255);
      }
      if (s2.gzhead.hcrc) {
        strm.adler = crc32_1(strm.adler, s2.pending_buf, s2.pending, 0);
      }
      s2.gzindex = 0;
      s2.status = EXTRA_STATE;
    }
  }
  if (s2.status === EXTRA_STATE) {
    if (s2.gzhead.extra) {
      let beg = s2.pending;
      let left = (s2.gzhead.extra.length & 65535) - s2.gzindex;
      while (s2.pending + left > s2.pending_buf_size) {
        let copy = s2.pending_buf_size - s2.pending;
        s2.pending_buf.set(s2.gzhead.extra.subarray(s2.gzindex, s2.gzindex + copy), s2.pending);
        s2.pending = s2.pending_buf_size;
        if (s2.gzhead.hcrc && s2.pending > beg) {
          strm.adler = crc32_1(strm.adler, s2.pending_buf, s2.pending - beg, beg);
        }
        s2.gzindex += copy;
        flush_pending(strm);
        if (s2.pending !== 0) {
          s2.last_flush = -1;
          return Z_OK$3;
        }
        beg = 0;
        left -= copy;
      }
      let gzhead_extra = new Uint8Array(s2.gzhead.extra);
      s2.pending_buf.set(gzhead_extra.subarray(s2.gzindex, s2.gzindex + left), s2.pending);
      s2.pending += left;
      if (s2.gzhead.hcrc && s2.pending > beg) {
        strm.adler = crc32_1(strm.adler, s2.pending_buf, s2.pending - beg, beg);
      }
      s2.gzindex = 0;
    }
    s2.status = NAME_STATE;
  }
  if (s2.status === NAME_STATE) {
    if (s2.gzhead.name) {
      let beg = s2.pending;
      let val;
      do {
        if (s2.pending === s2.pending_buf_size) {
          if (s2.gzhead.hcrc && s2.pending > beg) {
            strm.adler = crc32_1(strm.adler, s2.pending_buf, s2.pending - beg, beg);
          }
          flush_pending(strm);
          if (s2.pending !== 0) {
            s2.last_flush = -1;
            return Z_OK$3;
          }
          beg = 0;
        }
        if (s2.gzindex < s2.gzhead.name.length) {
          val = s2.gzhead.name.charCodeAt(s2.gzindex++) & 255;
        } else {
          val = 0;
        }
        put_byte(s2, val);
      } while (val !== 0);
      if (s2.gzhead.hcrc && s2.pending > beg) {
        strm.adler = crc32_1(strm.adler, s2.pending_buf, s2.pending - beg, beg);
      }
      s2.gzindex = 0;
    }
    s2.status = COMMENT_STATE;
  }
  if (s2.status === COMMENT_STATE) {
    if (s2.gzhead.comment) {
      let beg = s2.pending;
      let val;
      do {
        if (s2.pending === s2.pending_buf_size) {
          if (s2.gzhead.hcrc && s2.pending > beg) {
            strm.adler = crc32_1(strm.adler, s2.pending_buf, s2.pending - beg, beg);
          }
          flush_pending(strm);
          if (s2.pending !== 0) {
            s2.last_flush = -1;
            return Z_OK$3;
          }
          beg = 0;
        }
        if (s2.gzindex < s2.gzhead.comment.length) {
          val = s2.gzhead.comment.charCodeAt(s2.gzindex++) & 255;
        } else {
          val = 0;
        }
        put_byte(s2, val);
      } while (val !== 0);
      if (s2.gzhead.hcrc && s2.pending > beg) {
        strm.adler = crc32_1(strm.adler, s2.pending_buf, s2.pending - beg, beg);
      }
    }
    s2.status = HCRC_STATE;
  }
  if (s2.status === HCRC_STATE) {
    if (s2.gzhead.hcrc) {
      if (s2.pending + 2 > s2.pending_buf_size) {
        flush_pending(strm);
        if (s2.pending !== 0) {
          s2.last_flush = -1;
          return Z_OK$3;
        }
      }
      put_byte(s2, strm.adler & 255);
      put_byte(s2, strm.adler >> 8 & 255);
      strm.adler = 0;
    }
    s2.status = BUSY_STATE;
    flush_pending(strm);
    if (s2.pending !== 0) {
      s2.last_flush = -1;
      return Z_OK$3;
    }
  }
  if (strm.avail_in !== 0 || s2.lookahead !== 0 || flush !== Z_NO_FLUSH$2 && s2.status !== FINISH_STATE) {
    let bstate = s2.level === 0 ? deflate_stored(s2, flush) : s2.strategy === Z_HUFFMAN_ONLY ? deflate_huff(s2, flush) : s2.strategy === Z_RLE ? deflate_rle(s2, flush) : configuration_table[s2.level].func(s2, flush);
    if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {
      s2.status = FINISH_STATE;
    }
    if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {
      if (strm.avail_out === 0) {
        s2.last_flush = -1;
      }
      return Z_OK$3;
    }
    if (bstate === BS_BLOCK_DONE) {
      if (flush === Z_PARTIAL_FLUSH) {
        _tr_align(s2);
      } else if (flush !== Z_BLOCK$1) {
        _tr_stored_block(s2, 0, 0, false);
        if (flush === Z_FULL_FLUSH$1) {
          zero(s2.head);
          if (s2.lookahead === 0) {
            s2.strstart = 0;
            s2.block_start = 0;
            s2.insert = 0;
          }
        }
      }
      flush_pending(strm);
      if (strm.avail_out === 0) {
        s2.last_flush = -1;
        return Z_OK$3;
      }
    }
  }
  if (flush !== Z_FINISH$3) {
    return Z_OK$3;
  }
  if (s2.wrap <= 0) {
    return Z_STREAM_END$3;
  }
  if (s2.wrap === 2) {
    put_byte(s2, strm.adler & 255);
    put_byte(s2, strm.adler >> 8 & 255);
    put_byte(s2, strm.adler >> 16 & 255);
    put_byte(s2, strm.adler >> 24 & 255);
    put_byte(s2, strm.total_in & 255);
    put_byte(s2, strm.total_in >> 8 & 255);
    put_byte(s2, strm.total_in >> 16 & 255);
    put_byte(s2, strm.total_in >> 24 & 255);
  } else {
    putShortMSB(s2, strm.adler >>> 16);
    putShortMSB(s2, strm.adler & 65535);
  }
  flush_pending(strm);
  if (s2.wrap > 0) {
    s2.wrap = -s2.wrap;
  }
  return s2.pending !== 0 ? Z_OK$3 : Z_STREAM_END$3;
};
const deflateEnd = (strm) => {
  if (deflateStateCheck(strm)) {
    return Z_STREAM_ERROR$2;
  }
  const status = strm.state.status;
  strm.state = null;
  return status === BUSY_STATE ? err(strm, Z_DATA_ERROR$2) : Z_OK$3;
};
const deflateSetDictionary = (strm, dictionary) => {
  let dictLength = dictionary.length;
  if (deflateStateCheck(strm)) {
    return Z_STREAM_ERROR$2;
  }
  const s2 = strm.state;
  const wrap = s2.wrap;
  if (wrap === 2 || wrap === 1 && s2.status !== INIT_STATE || s2.lookahead) {
    return Z_STREAM_ERROR$2;
  }
  if (wrap === 1) {
    strm.adler = adler32_1(strm.adler, dictionary, dictLength, 0);
  }
  s2.wrap = 0;
  if (dictLength >= s2.w_size) {
    if (wrap === 0) {
      zero(s2.head);
      s2.strstart = 0;
      s2.block_start = 0;
      s2.insert = 0;
    }
    let tmpDict = new Uint8Array(s2.w_size);
    tmpDict.set(dictionary.subarray(dictLength - s2.w_size, dictLength), 0);
    dictionary = tmpDict;
    dictLength = s2.w_size;
  }
  const avail = strm.avail_in;
  const next = strm.next_in;
  const input = strm.input;
  strm.avail_in = dictLength;
  strm.next_in = 0;
  strm.input = dictionary;
  fill_window(s2);
  while (s2.lookahead >= MIN_MATCH) {
    let str = s2.strstart;
    let n2 = s2.lookahead - (MIN_MATCH - 1);
    do {
      s2.ins_h = HASH(s2, s2.ins_h, s2.window[str + MIN_MATCH - 1]);
      s2.prev[str & s2.w_mask] = s2.head[s2.ins_h];
      s2.head[s2.ins_h] = str;
      str++;
    } while (--n2);
    s2.strstart = str;
    s2.lookahead = MIN_MATCH - 1;
    fill_window(s2);
  }
  s2.strstart += s2.lookahead;
  s2.block_start = s2.strstart;
  s2.insert = s2.lookahead;
  s2.lookahead = 0;
  s2.match_length = s2.prev_length = MIN_MATCH - 1;
  s2.match_available = 0;
  strm.next_in = next;
  strm.input = input;
  strm.avail_in = avail;
  s2.wrap = wrap;
  return Z_OK$3;
};
var deflateInit_1 = deflateInit;
var deflateInit2_1 = deflateInit2;
var deflateReset_1 = deflateReset;
var deflateResetKeep_1 = deflateResetKeep;
var deflateSetHeader_1 = deflateSetHeader;
var deflate_2$1 = deflate$2;
var deflateEnd_1 = deflateEnd;
var deflateSetDictionary_1 = deflateSetDictionary;
var deflateInfo = "pako deflate (from Nodeca project)";
var deflate_1$2 = {
  deflateInit: deflateInit_1,
  deflateInit2: deflateInit2_1,
  deflateReset: deflateReset_1,
  deflateResetKeep: deflateResetKeep_1,
  deflateSetHeader: deflateSetHeader_1,
  deflate: deflate_2$1,
  deflateEnd: deflateEnd_1,
  deflateSetDictionary: deflateSetDictionary_1,
  deflateInfo
};
const _has = (obj, key) => {
  return Object.prototype.hasOwnProperty.call(obj, key);
};
var assign$1 = function(obj) {
  const sources = Array.prototype.slice.call(arguments, 1);
  while (sources.length) {
    const source = sources.shift();
    if (!source) {
      continue;
    }
    if (typeof source !== "object") {
      throw new TypeError(source + "must be non-object");
    }
    for (const p2 in source) {
      if (_has(source, p2)) {
        obj[p2] = source[p2];
      }
    }
  }
  return obj;
};
var flattenChunks = (chunks) => {
  let len = 0;
  for (let i2 = 0, l2 = chunks.length; i2 < l2; i2++) {
    len += chunks[i2].length;
  }
  const result = new Uint8Array(len);
  for (let i2 = 0, pos = 0, l2 = chunks.length; i2 < l2; i2++) {
    let chunk = chunks[i2];
    result.set(chunk, pos);
    pos += chunk.length;
  }
  return result;
};
var common = {
  assign: assign$1,
  flattenChunks
};
let STR_APPLY_UIA_OK = true;
try {
  String.fromCharCode.apply(null, new Uint8Array(1));
} catch (__) {
  STR_APPLY_UIA_OK = false;
}
const _utf8len = new Uint8Array(256);
for (let q2 = 0; q2 < 256; q2++) {
  _utf8len[q2] = q2 >= 252 ? 6 : q2 >= 248 ? 5 : q2 >= 240 ? 4 : q2 >= 224 ? 3 : q2 >= 192 ? 2 : 1;
}
_utf8len[254] = _utf8len[254] = 1;
var string2buf = (str) => {
  if (typeof TextEncoder === "function" && TextEncoder.prototype.encode) {
    return new TextEncoder().encode(str);
  }
  let buf, c2, c22, m_pos, i2, str_len = str.length, buf_len = 0;
  for (m_pos = 0; m_pos < str_len; m_pos++) {
    c2 = str.charCodeAt(m_pos);
    if ((c2 & 64512) === 55296 && m_pos + 1 < str_len) {
      c22 = str.charCodeAt(m_pos + 1);
      if ((c22 & 64512) === 56320) {
        c2 = 65536 + (c2 - 55296 << 10) + (c22 - 56320);
        m_pos++;
      }
    }
    buf_len += c2 < 128 ? 1 : c2 < 2048 ? 2 : c2 < 65536 ? 3 : 4;
  }
  buf = new Uint8Array(buf_len);
  for (i2 = 0, m_pos = 0; i2 < buf_len; m_pos++) {
    c2 = str.charCodeAt(m_pos);
    if ((c2 & 64512) === 55296 && m_pos + 1 < str_len) {
      c22 = str.charCodeAt(m_pos + 1);
      if ((c22 & 64512) === 56320) {
        c2 = 65536 + (c2 - 55296 << 10) + (c22 - 56320);
        m_pos++;
      }
    }
    if (c2 < 128) {
      buf[i2++] = c2;
    } else if (c2 < 2048) {
      buf[i2++] = 192 | c2 >>> 6;
      buf[i2++] = 128 | c2 & 63;
    } else if (c2 < 65536) {
      buf[i2++] = 224 | c2 >>> 12;
      buf[i2++] = 128 | c2 >>> 6 & 63;
      buf[i2++] = 128 | c2 & 63;
    } else {
      buf[i2++] = 240 | c2 >>> 18;
      buf[i2++] = 128 | c2 >>> 12 & 63;
      buf[i2++] = 128 | c2 >>> 6 & 63;
      buf[i2++] = 128 | c2 & 63;
    }
  }
  return buf;
};
const buf2binstring = (buf, len) => {
  if (len < 65534) {
    if (buf.subarray && STR_APPLY_UIA_OK) {
      return String.fromCharCode.apply(null, buf.length === len ? buf : buf.subarray(0, len));
    }
  }
  let result = "";
  for (let i2 = 0; i2 < len; i2++) {
    result += String.fromCharCode(buf[i2]);
  }
  return result;
};
var buf2string = (buf, max2) => {
  const len = max2 || buf.length;
  if (typeof TextDecoder === "function" && TextDecoder.prototype.decode) {
    return new TextDecoder().decode(buf.subarray(0, max2));
  }
  let i2, out;
  const utf16buf = new Array(len * 2);
  for (out = 0, i2 = 0; i2 < len; ) {
    let c2 = buf[i2++];
    if (c2 < 128) {
      utf16buf[out++] = c2;
      continue;
    }
    let c_len = _utf8len[c2];
    if (c_len > 4) {
      utf16buf[out++] = 65533;
      i2 += c_len - 1;
      continue;
    }
    c2 &= c_len === 2 ? 31 : c_len === 3 ? 15 : 7;
    while (c_len > 1 && i2 < len) {
      c2 = c2 << 6 | buf[i2++] & 63;
      c_len--;
    }
    if (c_len > 1) {
      utf16buf[out++] = 65533;
      continue;
    }
    if (c2 < 65536) {
      utf16buf[out++] = c2;
    } else {
      c2 -= 65536;
      utf16buf[out++] = 55296 | c2 >> 10 & 1023;
      utf16buf[out++] = 56320 | c2 & 1023;
    }
  }
  return buf2binstring(utf16buf, out);
};
var utf8border = (buf, max2) => {
  max2 = max2 || buf.length;
  if (max2 > buf.length) {
    max2 = buf.length;
  }
  let pos = max2 - 1;
  while (pos >= 0 && (buf[pos] & 192) === 128) {
    pos--;
  }
  if (pos < 0) {
    return max2;
  }
  if (pos === 0) {
    return max2;
  }
  return pos + _utf8len[buf[pos]] > max2 ? pos : max2;
};
var strings = {
  string2buf,
  buf2string,
  utf8border
};
function ZStream() {
  this.input = null;
  this.next_in = 0;
  this.avail_in = 0;
  this.total_in = 0;
  this.output = null;
  this.next_out = 0;
  this.avail_out = 0;
  this.total_out = 0;
  this.msg = "";
  this.state = null;
  this.data_type = 2;
  this.adler = 0;
}
var zstream = ZStream;
const toString$1 = Object.prototype.toString;
const {
  Z_NO_FLUSH: Z_NO_FLUSH$1,
  Z_SYNC_FLUSH,
  Z_FULL_FLUSH,
  Z_FINISH: Z_FINISH$2,
  Z_OK: Z_OK$2,
  Z_STREAM_END: Z_STREAM_END$2,
  Z_DEFAULT_COMPRESSION,
  Z_DEFAULT_STRATEGY,
  Z_DEFLATED: Z_DEFLATED$1
} = constants$2;
function Deflate$1(options) {
  this.options = common.assign({
    level: Z_DEFAULT_COMPRESSION,
    method: Z_DEFLATED$1,
    chunkSize: 16384,
    windowBits: 15,
    memLevel: 8,
    strategy: Z_DEFAULT_STRATEGY
  }, options || {});
  let opt = this.options;
  if (opt.raw && opt.windowBits > 0) {
    opt.windowBits = -opt.windowBits;
  } else if (opt.gzip && opt.windowBits > 0 && opt.windowBits < 16) {
    opt.windowBits += 16;
  }
  this.err = 0;
  this.msg = "";
  this.ended = false;
  this.chunks = [];
  this.strm = new zstream();
  this.strm.avail_out = 0;
  let status = deflate_1$2.deflateInit2(
    this.strm,
    opt.level,
    opt.method,
    opt.windowBits,
    opt.memLevel,
    opt.strategy
  );
  if (status !== Z_OK$2) {
    throw new Error(messages[status]);
  }
  if (opt.header) {
    deflate_1$2.deflateSetHeader(this.strm, opt.header);
  }
  if (opt.dictionary) {
    let dict;
    if (typeof opt.dictionary === "string") {
      dict = strings.string2buf(opt.dictionary);
    } else if (toString$1.call(opt.dictionary) === "[object ArrayBuffer]") {
      dict = new Uint8Array(opt.dictionary);
    } else {
      dict = opt.dictionary;
    }
    status = deflate_1$2.deflateSetDictionary(this.strm, dict);
    if (status !== Z_OK$2) {
      throw new Error(messages[status]);
    }
    this._dict_set = true;
  }
}
Deflate$1.prototype.push = function(data2, flush_mode) {
  const strm = this.strm;
  const chunkSize = this.options.chunkSize;
  let status, _flush_mode;
  if (this.ended) {
    return false;
  }
  if (flush_mode === ~~flush_mode)
    _flush_mode = flush_mode;
  else
    _flush_mode = flush_mode === true ? Z_FINISH$2 : Z_NO_FLUSH$1;
  if (typeof data2 === "string") {
    strm.input = strings.string2buf(data2);
  } else if (toString$1.call(data2) === "[object ArrayBuffer]") {
    strm.input = new Uint8Array(data2);
  } else {
    strm.input = data2;
  }
  strm.next_in = 0;
  strm.avail_in = strm.input.length;
  for (; ; ) {
    if (strm.avail_out === 0) {
      strm.output = new Uint8Array(chunkSize);
      strm.next_out = 0;
      strm.avail_out = chunkSize;
    }
    if ((_flush_mode === Z_SYNC_FLUSH || _flush_mode === Z_FULL_FLUSH) && strm.avail_out <= 6) {
      this.onData(strm.output.subarray(0, strm.next_out));
      strm.avail_out = 0;
      continue;
    }
    status = deflate_1$2.deflate(strm, _flush_mode);
    if (status === Z_STREAM_END$2) {
      if (strm.next_out > 0) {
        this.onData(strm.output.subarray(0, strm.next_out));
      }
      status = deflate_1$2.deflateEnd(this.strm);
      this.onEnd(status);
      this.ended = true;
      return status === Z_OK$2;
    }
    if (strm.avail_out === 0) {
      this.onData(strm.output);
      continue;
    }
    if (_flush_mode > 0 && strm.next_out > 0) {
      this.onData(strm.output.subarray(0, strm.next_out));
      strm.avail_out = 0;
      continue;
    }
    if (strm.avail_in === 0)
      break;
  }
  return true;
};
Deflate$1.prototype.onData = function(chunk) {
  this.chunks.push(chunk);
};
Deflate$1.prototype.onEnd = function(status) {
  if (status === Z_OK$2) {
    this.result = common.flattenChunks(this.chunks);
  }
  this.chunks = [];
  this.err = status;
  this.msg = this.strm.msg;
};
function deflate$1(input, options) {
  const deflator = new Deflate$1(options);
  deflator.push(input, true);
  if (deflator.err) {
    throw deflator.msg || messages[deflator.err];
  }
  return deflator.result;
}
function deflateRaw$1(input, options) {
  options = options || {};
  options.raw = true;
  return deflate$1(input, options);
}
function gzip$1(input, options) {
  options = options || {};
  options.gzip = true;
  return deflate$1(input, options);
}
var Deflate_1$1 = Deflate$1;
var deflate_2 = deflate$1;
var deflateRaw_1$1 = deflateRaw$1;
var gzip_1$1 = gzip$1;
var constants$1 = constants$2;
var deflate_1$1 = {
  Deflate: Deflate_1$1,
  deflate: deflate_2,
  deflateRaw: deflateRaw_1$1,
  gzip: gzip_1$1,
  constants: constants$1
};
const BAD$1 = 16209;
const TYPE$1 = 16191;
var inffast = function inflate_fast(strm, start) {
  let _in;
  let last;
  let _out;
  let beg;
  let end;
  let dmax;
  let wsize;
  let whave;
  let wnext;
  let s_window;
  let hold;
  let bits2;
  let lcode;
  let dcode;
  let lmask;
  let dmask;
  let here;
  let op;
  let len;
  let dist;
  let from;
  let from_source;
  let input, output;
  const state = strm.state;
  _in = strm.next_in;
  input = strm.input;
  last = _in + (strm.avail_in - 5);
  _out = strm.next_out;
  output = strm.output;
  beg = _out - (start - strm.avail_out);
  end = _out + (strm.avail_out - 257);
  dmax = state.dmax;
  wsize = state.wsize;
  whave = state.whave;
  wnext = state.wnext;
  s_window = state.window;
  hold = state.hold;
  bits2 = state.bits;
  lcode = state.lencode;
  dcode = state.distcode;
  lmask = (1 << state.lenbits) - 1;
  dmask = (1 << state.distbits) - 1;
  top:
    do {
      if (bits2 < 15) {
        hold += input[_in++] << bits2;
        bits2 += 8;
        hold += input[_in++] << bits2;
        bits2 += 8;
      }
      here = lcode[hold & lmask];
      dolen:
        for (; ; ) {
          op = here >>> 24;
          hold >>>= op;
          bits2 -= op;
          op = here >>> 16 & 255;
          if (op === 0) {
            output[_out++] = here & 65535;
          } else if (op & 16) {
            len = here & 65535;
            op &= 15;
            if (op) {
              if (bits2 < op) {
                hold += input[_in++] << bits2;
                bits2 += 8;
              }
              len += hold & (1 << op) - 1;
              hold >>>= op;
              bits2 -= op;
            }
            if (bits2 < 15) {
              hold += input[_in++] << bits2;
              bits2 += 8;
              hold += input[_in++] << bits2;
              bits2 += 8;
            }
            here = dcode[hold & dmask];
            dodist:
              for (; ; ) {
                op = here >>> 24;
                hold >>>= op;
                bits2 -= op;
                op = here >>> 16 & 255;
                if (op & 16) {
                  dist = here & 65535;
                  op &= 15;
                  if (bits2 < op) {
                    hold += input[_in++] << bits2;
                    bits2 += 8;
                    if (bits2 < op) {
                      hold += input[_in++] << bits2;
                      bits2 += 8;
                    }
                  }
                  dist += hold & (1 << op) - 1;
                  if (dist > dmax) {
                    strm.msg = "invalid distance too far back";
                    state.mode = BAD$1;
                    break top;
                  }
                  hold >>>= op;
                  bits2 -= op;
                  op = _out - beg;
                  if (dist > op) {
                    op = dist - op;
                    if (op > whave) {
                      if (state.sane) {
                        strm.msg = "invalid distance too far back";
                        state.mode = BAD$1;
                        break top;
                      }
                    }
                    from = 0;
                    from_source = s_window;
                    if (wnext === 0) {
                      from += wsize - op;
                      if (op < len) {
                        len -= op;
                        do {
                          output[_out++] = s_window[from++];
                        } while (--op);
                        from = _out - dist;
                        from_source = output;
                      }
                    } else if (wnext < op) {
                      from += wsize + wnext - op;
                      op -= wnext;
                      if (op < len) {
                        len -= op;
                        do {
                          output[_out++] = s_window[from++];
                        } while (--op);
                        from = 0;
                        if (wnext < len) {
                          op = wnext;
                          len -= op;
                          do {
                            output[_out++] = s_window[from++];
                          } while (--op);
                          from = _out - dist;
                          from_source = output;
                        }
                      }
                    } else {
                      from += wnext - op;
                      if (op < len) {
                        len -= op;
                        do {
                          output[_out++] = s_window[from++];
                        } while (--op);
                        from = _out - dist;
                        from_source = output;
                      }
                    }
                    while (len > 2) {
                      output[_out++] = from_source[from++];
                      output[_out++] = from_source[from++];
                      output[_out++] = from_source[from++];
                      len -= 3;
                    }
                    if (len) {
                      output[_out++] = from_source[from++];
                      if (len > 1) {
                        output[_out++] = from_source[from++];
                      }
                    }
                  } else {
                    from = _out - dist;
                    do {
                      output[_out++] = output[from++];
                      output[_out++] = output[from++];
                      output[_out++] = output[from++];
                      len -= 3;
                    } while (len > 2);
                    if (len) {
                      output[_out++] = output[from++];
                      if (len > 1) {
                        output[_out++] = output[from++];
                      }
                    }
                  }
                } else if ((op & 64) === 0) {
                  here = dcode[(here & 65535) + (hold & (1 << op) - 1)];
                  continue dodist;
                } else {
                  strm.msg = "invalid distance code";
                  state.mode = BAD$1;
                  break top;
                }
                break;
              }
          } else if ((op & 64) === 0) {
            here = lcode[(here & 65535) + (hold & (1 << op) - 1)];
            continue dolen;
          } else if (op & 32) {
            state.mode = TYPE$1;
            break top;
          } else {
            strm.msg = "invalid literal/length code";
            state.mode = BAD$1;
            break top;
          }
          break;
        }
    } while (_in < last && _out < end);
  len = bits2 >> 3;
  _in -= len;
  bits2 -= len << 3;
  hold &= (1 << bits2) - 1;
  strm.next_in = _in;
  strm.next_out = _out;
  strm.avail_in = _in < last ? 5 + (last - _in) : 5 - (_in - last);
  strm.avail_out = _out < end ? 257 + (end - _out) : 257 - (_out - end);
  state.hold = hold;
  state.bits = bits2;
  return;
};
const MAXBITS = 15;
const ENOUGH_LENS$1 = 852;
const ENOUGH_DISTS$1 = 592;
const CODES$1 = 0;
const LENS$1 = 1;
const DISTS$1 = 2;
const lbase = new Uint16Array([
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  13,
  15,
  17,
  19,
  23,
  27,
  31,
  35,
  43,
  51,
  59,
  67,
  83,
  99,
  115,
  131,
  163,
  195,
  227,
  258,
  0,
  0
]);
const lext = new Uint8Array([
  16,
  16,
  16,
  16,
  16,
  16,
  16,
  16,
  17,
  17,
  17,
  17,
  18,
  18,
  18,
  18,
  19,
  19,
  19,
  19,
  20,
  20,
  20,
  20,
  21,
  21,
  21,
  21,
  16,
  72,
  78
]);
const dbase = new Uint16Array([
  1,
  2,
  3,
  4,
  5,
  7,
  9,
  13,
  17,
  25,
  33,
  49,
  65,
  97,
  129,
  193,
  257,
  385,
  513,
  769,
  1025,
  1537,
  2049,
  3073,
  4097,
  6145,
  8193,
  12289,
  16385,
  24577,
  0,
  0
]);
const dext = new Uint8Array([
  16,
  16,
  16,
  16,
  17,
  17,
  18,
  18,
  19,
  19,
  20,
  20,
  21,
  21,
  22,
  22,
  23,
  23,
  24,
  24,
  25,
  25,
  26,
  26,
  27,
  27,
  28,
  28,
  29,
  29,
  64,
  64
]);
const inflate_table = (type, lens, lens_index, codes, table, table_index, work, opts) => {
  const bits2 = opts.bits;
  let len = 0;
  let sym = 0;
  let min = 0, max2 = 0;
  let root = 0;
  let curr = 0;
  let drop = 0;
  let left = 0;
  let used = 0;
  let huff = 0;
  let incr;
  let fill;
  let low;
  let mask;
  let next;
  let base2 = null;
  let match;
  const count = new Uint16Array(MAXBITS + 1);
  const offs = new Uint16Array(MAXBITS + 1);
  let extra = null;
  let here_bits, here_op, here_val;
  for (len = 0; len <= MAXBITS; len++) {
    count[len] = 0;
  }
  for (sym = 0; sym < codes; sym++) {
    count[lens[lens_index + sym]]++;
  }
  root = bits2;
  for (max2 = MAXBITS; max2 >= 1; max2--) {
    if (count[max2] !== 0) {
      break;
    }
  }
  if (root > max2) {
    root = max2;
  }
  if (max2 === 0) {
    table[table_index++] = 1 << 24 | 64 << 16 | 0;
    table[table_index++] = 1 << 24 | 64 << 16 | 0;
    opts.bits = 1;
    return 0;
  }
  for (min = 1; min < max2; min++) {
    if (count[min] !== 0) {
      break;
    }
  }
  if (root < min) {
    root = min;
  }
  left = 1;
  for (len = 1; len <= MAXBITS; len++) {
    left <<= 1;
    left -= count[len];
    if (left < 0) {
      return -1;
    }
  }
  if (left > 0 && (type === CODES$1 || max2 !== 1)) {
    return -1;
  }
  offs[1] = 0;
  for (len = 1; len < MAXBITS; len++) {
    offs[len + 1] = offs[len] + count[len];
  }
  for (sym = 0; sym < codes; sym++) {
    if (lens[lens_index + sym] !== 0) {
      work[offs[lens[lens_index + sym]]++] = sym;
    }
  }
  if (type === CODES$1) {
    base2 = extra = work;
    match = 20;
  } else if (type === LENS$1) {
    base2 = lbase;
    extra = lext;
    match = 257;
  } else {
    base2 = dbase;
    extra = dext;
    match = 0;
  }
  huff = 0;
  sym = 0;
  len = min;
  next = table_index;
  curr = root;
  drop = 0;
  low = -1;
  used = 1 << root;
  mask = used - 1;
  if (type === LENS$1 && used > ENOUGH_LENS$1 || type === DISTS$1 && used > ENOUGH_DISTS$1) {
    return 1;
  }
  for (; ; ) {
    here_bits = len - drop;
    if (work[sym] + 1 < match) {
      here_op = 0;
      here_val = work[sym];
    } else if (work[sym] >= match) {
      here_op = extra[work[sym] - match];
      here_val = base2[work[sym] - match];
    } else {
      here_op = 32 + 64;
      here_val = 0;
    }
    incr = 1 << len - drop;
    fill = 1 << curr;
    min = fill;
    do {
      fill -= incr;
      table[next + (huff >> drop) + fill] = here_bits << 24 | here_op << 16 | here_val | 0;
    } while (fill !== 0);
    incr = 1 << len - 1;
    while (huff & incr) {
      incr >>= 1;
    }
    if (incr !== 0) {
      huff &= incr - 1;
      huff += incr;
    } else {
      huff = 0;
    }
    sym++;
    if (--count[len] === 0) {
      if (len === max2) {
        break;
      }
      len = lens[lens_index + work[sym]];
    }
    if (len > root && (huff & mask) !== low) {
      if (drop === 0) {
        drop = root;
      }
      next += min;
      curr = len - drop;
      left = 1 << curr;
      while (curr + drop < max2) {
        left -= count[curr + drop];
        if (left <= 0) {
          break;
        }
        curr++;
        left <<= 1;
      }
      used += 1 << curr;
      if (type === LENS$1 && used > ENOUGH_LENS$1 || type === DISTS$1 && used > ENOUGH_DISTS$1) {
        return 1;
      }
      low = huff & mask;
      table[low] = root << 24 | curr << 16 | next - table_index | 0;
    }
  }
  if (huff !== 0) {
    table[next + huff] = len - drop << 24 | 64 << 16 | 0;
  }
  opts.bits = root;
  return 0;
};
var inftrees = inflate_table;
const CODES = 0;
const LENS = 1;
const DISTS = 2;
const {
  Z_FINISH: Z_FINISH$1,
  Z_BLOCK,
  Z_TREES,
  Z_OK: Z_OK$1,
  Z_STREAM_END: Z_STREAM_END$1,
  Z_NEED_DICT: Z_NEED_DICT$1,
  Z_STREAM_ERROR: Z_STREAM_ERROR$1,
  Z_DATA_ERROR: Z_DATA_ERROR$1,
  Z_MEM_ERROR: Z_MEM_ERROR$1,
  Z_BUF_ERROR,
  Z_DEFLATED
} = constants$2;
const HEAD = 16180;
const FLAGS = 16181;
const TIME = 16182;
const OS = 16183;
const EXLEN = 16184;
const EXTRA = 16185;
const NAME = 16186;
const COMMENT = 16187;
const HCRC = 16188;
const DICTID = 16189;
const DICT = 16190;
const TYPE = 16191;
const TYPEDO = 16192;
const STORED = 16193;
const COPY_ = 16194;
const COPY = 16195;
const TABLE = 16196;
const LENLENS = 16197;
const CODELENS = 16198;
const LEN_ = 16199;
const LEN = 16200;
const LENEXT = 16201;
const DIST = 16202;
const DISTEXT = 16203;
const MATCH = 16204;
const LIT = 16205;
const CHECK = 16206;
const LENGTH = 16207;
const DONE = 16208;
const BAD = 16209;
const MEM = 16210;
const SYNC = 16211;
const ENOUGH_LENS = 852;
const ENOUGH_DISTS = 592;
const MAX_WBITS = 15;
const DEF_WBITS = MAX_WBITS;
const zswap32 = (q2) => {
  return (q2 >>> 24 & 255) + (q2 >>> 8 & 65280) + ((q2 & 65280) << 8) + ((q2 & 255) << 24);
};
function InflateState() {
  this.strm = null;
  this.mode = 0;
  this.last = false;
  this.wrap = 0;
  this.havedict = false;
  this.flags = 0;
  this.dmax = 0;
  this.check = 0;
  this.total = 0;
  this.head = null;
  this.wbits = 0;
  this.wsize = 0;
  this.whave = 0;
  this.wnext = 0;
  this.window = null;
  this.hold = 0;
  this.bits = 0;
  this.length = 0;
  this.offset = 0;
  this.extra = 0;
  this.lencode = null;
  this.distcode = null;
  this.lenbits = 0;
  this.distbits = 0;
  this.ncode = 0;
  this.nlen = 0;
  this.ndist = 0;
  this.have = 0;
  this.next = null;
  this.lens = new Uint16Array(320);
  this.work = new Uint16Array(288);
  this.lendyn = null;
  this.distdyn = null;
  this.sane = 0;
  this.back = 0;
  this.was = 0;
}
const inflateStateCheck = (strm) => {
  if (!strm) {
    return 1;
  }
  const state = strm.state;
  if (!state || state.strm !== strm || state.mode < HEAD || state.mode > SYNC) {
    return 1;
  }
  return 0;
};
const inflateResetKeep = (strm) => {
  if (inflateStateCheck(strm)) {
    return Z_STREAM_ERROR$1;
  }
  const state = strm.state;
  strm.total_in = strm.total_out = state.total = 0;
  strm.msg = "";
  if (state.wrap) {
    strm.adler = state.wrap & 1;
  }
  state.mode = HEAD;
  state.last = 0;
  state.havedict = 0;
  state.flags = -1;
  state.dmax = 32768;
  state.head = null;
  state.hold = 0;
  state.bits = 0;
  state.lencode = state.lendyn = new Int32Array(ENOUGH_LENS);
  state.distcode = state.distdyn = new Int32Array(ENOUGH_DISTS);
  state.sane = 1;
  state.back = -1;
  return Z_OK$1;
};
const inflateReset = (strm) => {
  if (inflateStateCheck(strm)) {
    return Z_STREAM_ERROR$1;
  }
  const state = strm.state;
  state.wsize = 0;
  state.whave = 0;
  state.wnext = 0;
  return inflateResetKeep(strm);
};
const inflateReset2 = (strm, windowBits) => {
  let wrap;
  if (inflateStateCheck(strm)) {
    return Z_STREAM_ERROR$1;
  }
  const state = strm.state;
  if (windowBits < 0) {
    wrap = 0;
    windowBits = -windowBits;
  } else {
    wrap = (windowBits >> 4) + 5;
    if (windowBits < 48) {
      windowBits &= 15;
    }
  }
  if (windowBits && (windowBits < 8 || windowBits > 15)) {
    return Z_STREAM_ERROR$1;
  }
  if (state.window !== null && state.wbits !== windowBits) {
    state.window = null;
  }
  state.wrap = wrap;
  state.wbits = windowBits;
  return inflateReset(strm);
};
const inflateInit2 = (strm, windowBits) => {
  if (!strm) {
    return Z_STREAM_ERROR$1;
  }
  const state = new InflateState();
  strm.state = state;
  state.strm = strm;
  state.window = null;
  state.mode = HEAD;
  const ret = inflateReset2(strm, windowBits);
  if (ret !== Z_OK$1) {
    strm.state = null;
  }
  return ret;
};
const inflateInit = (strm) => {
  return inflateInit2(strm, DEF_WBITS);
};
let virgin = true;
let lenfix, distfix;
const fixedtables = (state) => {
  if (virgin) {
    lenfix = new Int32Array(512);
    distfix = new Int32Array(32);
    let sym = 0;
    while (sym < 144) {
      state.lens[sym++] = 8;
    }
    while (sym < 256) {
      state.lens[sym++] = 9;
    }
    while (sym < 280) {
      state.lens[sym++] = 7;
    }
    while (sym < 288) {
      state.lens[sym++] = 8;
    }
    inftrees(LENS, state.lens, 0, 288, lenfix, 0, state.work, { bits: 9 });
    sym = 0;
    while (sym < 32) {
      state.lens[sym++] = 5;
    }
    inftrees(DISTS, state.lens, 0, 32, distfix, 0, state.work, { bits: 5 });
    virgin = false;
  }
  state.lencode = lenfix;
  state.lenbits = 9;
  state.distcode = distfix;
  state.distbits = 5;
};
const updatewindow = (strm, src, end, copy) => {
  let dist;
  const state = strm.state;
  if (state.window === null) {
    state.wsize = 1 << state.wbits;
    state.wnext = 0;
    state.whave = 0;
    state.window = new Uint8Array(state.wsize);
  }
  if (copy >= state.wsize) {
    state.window.set(src.subarray(end - state.wsize, end), 0);
    state.wnext = 0;
    state.whave = state.wsize;
  } else {
    dist = state.wsize - state.wnext;
    if (dist > copy) {
      dist = copy;
    }
    state.window.set(src.subarray(end - copy, end - copy + dist), state.wnext);
    copy -= dist;
    if (copy) {
      state.window.set(src.subarray(end - copy, end), 0);
      state.wnext = copy;
      state.whave = state.wsize;
    } else {
      state.wnext += dist;
      if (state.wnext === state.wsize) {
        state.wnext = 0;
      }
      if (state.whave < state.wsize) {
        state.whave += dist;
      }
    }
  }
  return 0;
};
const inflate$2 = (strm, flush) => {
  let state;
  let input, output;
  let next;
  let put;
  let have, left;
  let hold;
  let bits2;
  let _in, _out;
  let copy;
  let from;
  let from_source;
  let here = 0;
  let here_bits, here_op, here_val;
  let last_bits, last_op, last_val;
  let len;
  let ret;
  const hbuf = new Uint8Array(4);
  let opts;
  let n2;
  const order = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
  if (inflateStateCheck(strm) || !strm.output || !strm.input && strm.avail_in !== 0) {
    return Z_STREAM_ERROR$1;
  }
  state = strm.state;
  if (state.mode === TYPE) {
    state.mode = TYPEDO;
  }
  put = strm.next_out;
  output = strm.output;
  left = strm.avail_out;
  next = strm.next_in;
  input = strm.input;
  have = strm.avail_in;
  hold = state.hold;
  bits2 = state.bits;
  _in = have;
  _out = left;
  ret = Z_OK$1;
  inf_leave:
    for (; ; ) {
      switch (state.mode) {
        case HEAD:
          if (state.wrap === 0) {
            state.mode = TYPEDO;
            break;
          }
          while (bits2 < 16) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          if (state.wrap & 2 && hold === 35615) {
            if (state.wbits === 0) {
              state.wbits = 15;
            }
            state.check = 0;
            hbuf[0] = hold & 255;
            hbuf[1] = hold >>> 8 & 255;
            state.check = crc32_1(state.check, hbuf, 2, 0);
            hold = 0;
            bits2 = 0;
            state.mode = FLAGS;
            break;
          }
          if (state.head) {
            state.head.done = false;
          }
          if (!(state.wrap & 1) || (((hold & 255) << 8) + (hold >> 8)) % 31) {
            strm.msg = "incorrect header check";
            state.mode = BAD;
            break;
          }
          if ((hold & 15) !== Z_DEFLATED) {
            strm.msg = "unknown compression method";
            state.mode = BAD;
            break;
          }
          hold >>>= 4;
          bits2 -= 4;
          len = (hold & 15) + 8;
          if (state.wbits === 0) {
            state.wbits = len;
          }
          if (len > 15 || len > state.wbits) {
            strm.msg = "invalid window size";
            state.mode = BAD;
            break;
          }
          state.dmax = 1 << state.wbits;
          state.flags = 0;
          strm.adler = state.check = 1;
          state.mode = hold & 512 ? DICTID : TYPE;
          hold = 0;
          bits2 = 0;
          break;
        case FLAGS:
          while (bits2 < 16) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          state.flags = hold;
          if ((state.flags & 255) !== Z_DEFLATED) {
            strm.msg = "unknown compression method";
            state.mode = BAD;
            break;
          }
          if (state.flags & 57344) {
            strm.msg = "unknown header flags set";
            state.mode = BAD;
            break;
          }
          if (state.head) {
            state.head.text = hold >> 8 & 1;
          }
          if (state.flags & 512 && state.wrap & 4) {
            hbuf[0] = hold & 255;
            hbuf[1] = hold >>> 8 & 255;
            state.check = crc32_1(state.check, hbuf, 2, 0);
          }
          hold = 0;
          bits2 = 0;
          state.mode = TIME;
        case TIME:
          while (bits2 < 32) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          if (state.head) {
            state.head.time = hold;
          }
          if (state.flags & 512 && state.wrap & 4) {
            hbuf[0] = hold & 255;
            hbuf[1] = hold >>> 8 & 255;
            hbuf[2] = hold >>> 16 & 255;
            hbuf[3] = hold >>> 24 & 255;
            state.check = crc32_1(state.check, hbuf, 4, 0);
          }
          hold = 0;
          bits2 = 0;
          state.mode = OS;
        case OS:
          while (bits2 < 16) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          if (state.head) {
            state.head.xflags = hold & 255;
            state.head.os = hold >> 8;
          }
          if (state.flags & 512 && state.wrap & 4) {
            hbuf[0] = hold & 255;
            hbuf[1] = hold >>> 8 & 255;
            state.check = crc32_1(state.check, hbuf, 2, 0);
          }
          hold = 0;
          bits2 = 0;
          state.mode = EXLEN;
        case EXLEN:
          if (state.flags & 1024) {
            while (bits2 < 16) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            state.length = hold;
            if (state.head) {
              state.head.extra_len = hold;
            }
            if (state.flags & 512 && state.wrap & 4) {
              hbuf[0] = hold & 255;
              hbuf[1] = hold >>> 8 & 255;
              state.check = crc32_1(state.check, hbuf, 2, 0);
            }
            hold = 0;
            bits2 = 0;
          } else if (state.head) {
            state.head.extra = null;
          }
          state.mode = EXTRA;
        case EXTRA:
          if (state.flags & 1024) {
            copy = state.length;
            if (copy > have) {
              copy = have;
            }
            if (copy) {
              if (state.head) {
                len = state.head.extra_len - state.length;
                if (!state.head.extra) {
                  state.head.extra = new Uint8Array(state.head.extra_len);
                }
                state.head.extra.set(
                  input.subarray(
                    next,
                    next + copy
                  ),
                  len
                );
              }
              if (state.flags & 512 && state.wrap & 4) {
                state.check = crc32_1(state.check, input, copy, next);
              }
              have -= copy;
              next += copy;
              state.length -= copy;
            }
            if (state.length) {
              break inf_leave;
            }
          }
          state.length = 0;
          state.mode = NAME;
        case NAME:
          if (state.flags & 2048) {
            if (have === 0) {
              break inf_leave;
            }
            copy = 0;
            do {
              len = input[next + copy++];
              if (state.head && len && state.length < 65536) {
                state.head.name += String.fromCharCode(len);
              }
            } while (len && copy < have);
            if (state.flags & 512 && state.wrap & 4) {
              state.check = crc32_1(state.check, input, copy, next);
            }
            have -= copy;
            next += copy;
            if (len) {
              break inf_leave;
            }
          } else if (state.head) {
            state.head.name = null;
          }
          state.length = 0;
          state.mode = COMMENT;
        case COMMENT:
          if (state.flags & 4096) {
            if (have === 0) {
              break inf_leave;
            }
            copy = 0;
            do {
              len = input[next + copy++];
              if (state.head && len && state.length < 65536) {
                state.head.comment += String.fromCharCode(len);
              }
            } while (len && copy < have);
            if (state.flags & 512 && state.wrap & 4) {
              state.check = crc32_1(state.check, input, copy, next);
            }
            have -= copy;
            next += copy;
            if (len) {
              break inf_leave;
            }
          } else if (state.head) {
            state.head.comment = null;
          }
          state.mode = HCRC;
        case HCRC:
          if (state.flags & 512) {
            while (bits2 < 16) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            if (state.wrap & 4 && hold !== (state.check & 65535)) {
              strm.msg = "header crc mismatch";
              state.mode = BAD;
              break;
            }
            hold = 0;
            bits2 = 0;
          }
          if (state.head) {
            state.head.hcrc = state.flags >> 9 & 1;
            state.head.done = true;
          }
          strm.adler = state.check = 0;
          state.mode = TYPE;
          break;
        case DICTID:
          while (bits2 < 32) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          strm.adler = state.check = zswap32(hold);
          hold = 0;
          bits2 = 0;
          state.mode = DICT;
        case DICT:
          if (state.havedict === 0) {
            strm.next_out = put;
            strm.avail_out = left;
            strm.next_in = next;
            strm.avail_in = have;
            state.hold = hold;
            state.bits = bits2;
            return Z_NEED_DICT$1;
          }
          strm.adler = state.check = 1;
          state.mode = TYPE;
        case TYPE:
          if (flush === Z_BLOCK || flush === Z_TREES) {
            break inf_leave;
          }
        case TYPEDO:
          if (state.last) {
            hold >>>= bits2 & 7;
            bits2 -= bits2 & 7;
            state.mode = CHECK;
            break;
          }
          while (bits2 < 3) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          state.last = hold & 1;
          hold >>>= 1;
          bits2 -= 1;
          switch (hold & 3) {
            case 0:
              state.mode = STORED;
              break;
            case 1:
              fixedtables(state);
              state.mode = LEN_;
              if (flush === Z_TREES) {
                hold >>>= 2;
                bits2 -= 2;
                break inf_leave;
              }
              break;
            case 2:
              state.mode = TABLE;
              break;
            case 3:
              strm.msg = "invalid block type";
              state.mode = BAD;
          }
          hold >>>= 2;
          bits2 -= 2;
          break;
        case STORED:
          hold >>>= bits2 & 7;
          bits2 -= bits2 & 7;
          while (bits2 < 32) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          if ((hold & 65535) !== (hold >>> 16 ^ 65535)) {
            strm.msg = "invalid stored block lengths";
            state.mode = BAD;
            break;
          }
          state.length = hold & 65535;
          hold = 0;
          bits2 = 0;
          state.mode = COPY_;
          if (flush === Z_TREES) {
            break inf_leave;
          }
        case COPY_:
          state.mode = COPY;
        case COPY:
          copy = state.length;
          if (copy) {
            if (copy > have) {
              copy = have;
            }
            if (copy > left) {
              copy = left;
            }
            if (copy === 0) {
              break inf_leave;
            }
            output.set(input.subarray(next, next + copy), put);
            have -= copy;
            next += copy;
            left -= copy;
            put += copy;
            state.length -= copy;
            break;
          }
          state.mode = TYPE;
          break;
        case TABLE:
          while (bits2 < 14) {
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          state.nlen = (hold & 31) + 257;
          hold >>>= 5;
          bits2 -= 5;
          state.ndist = (hold & 31) + 1;
          hold >>>= 5;
          bits2 -= 5;
          state.ncode = (hold & 15) + 4;
          hold >>>= 4;
          bits2 -= 4;
          if (state.nlen > 286 || state.ndist > 30) {
            strm.msg = "too many length or distance symbols";
            state.mode = BAD;
            break;
          }
          state.have = 0;
          state.mode = LENLENS;
        case LENLENS:
          while (state.have < state.ncode) {
            while (bits2 < 3) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            state.lens[order[state.have++]] = hold & 7;
            hold >>>= 3;
            bits2 -= 3;
          }
          while (state.have < 19) {
            state.lens[order[state.have++]] = 0;
          }
          state.lencode = state.lendyn;
          state.lenbits = 7;
          opts = { bits: state.lenbits };
          ret = inftrees(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);
          state.lenbits = opts.bits;
          if (ret) {
            strm.msg = "invalid code lengths set";
            state.mode = BAD;
            break;
          }
          state.have = 0;
          state.mode = CODELENS;
        case CODELENS:
          while (state.have < state.nlen + state.ndist) {
            for (; ; ) {
              here = state.lencode[hold & (1 << state.lenbits) - 1];
              here_bits = here >>> 24;
              here_op = here >>> 16 & 255;
              here_val = here & 65535;
              if (here_bits <= bits2) {
                break;
              }
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            if (here_val < 16) {
              hold >>>= here_bits;
              bits2 -= here_bits;
              state.lens[state.have++] = here_val;
            } else {
              if (here_val === 16) {
                n2 = here_bits + 2;
                while (bits2 < n2) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits2;
                  bits2 += 8;
                }
                hold >>>= here_bits;
                bits2 -= here_bits;
                if (state.have === 0) {
                  strm.msg = "invalid bit length repeat";
                  state.mode = BAD;
                  break;
                }
                len = state.lens[state.have - 1];
                copy = 3 + (hold & 3);
                hold >>>= 2;
                bits2 -= 2;
              } else if (here_val === 17) {
                n2 = here_bits + 3;
                while (bits2 < n2) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits2;
                  bits2 += 8;
                }
                hold >>>= here_bits;
                bits2 -= here_bits;
                len = 0;
                copy = 3 + (hold & 7);
                hold >>>= 3;
                bits2 -= 3;
              } else {
                n2 = here_bits + 7;
                while (bits2 < n2) {
                  if (have === 0) {
                    break inf_leave;
                  }
                  have--;
                  hold += input[next++] << bits2;
                  bits2 += 8;
                }
                hold >>>= here_bits;
                bits2 -= here_bits;
                len = 0;
                copy = 11 + (hold & 127);
                hold >>>= 7;
                bits2 -= 7;
              }
              if (state.have + copy > state.nlen + state.ndist) {
                strm.msg = "invalid bit length repeat";
                state.mode = BAD;
                break;
              }
              while (copy--) {
                state.lens[state.have++] = len;
              }
            }
          }
          if (state.mode === BAD) {
            break;
          }
          if (state.lens[256] === 0) {
            strm.msg = "invalid code -- missing end-of-block";
            state.mode = BAD;
            break;
          }
          state.lenbits = 9;
          opts = { bits: state.lenbits };
          ret = inftrees(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);
          state.lenbits = opts.bits;
          if (ret) {
            strm.msg = "invalid literal/lengths set";
            state.mode = BAD;
            break;
          }
          state.distbits = 6;
          state.distcode = state.distdyn;
          opts = { bits: state.distbits };
          ret = inftrees(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);
          state.distbits = opts.bits;
          if (ret) {
            strm.msg = "invalid distances set";
            state.mode = BAD;
            break;
          }
          state.mode = LEN_;
          if (flush === Z_TREES) {
            break inf_leave;
          }
        case LEN_:
          state.mode = LEN;
        case LEN:
          if (have >= 6 && left >= 258) {
            strm.next_out = put;
            strm.avail_out = left;
            strm.next_in = next;
            strm.avail_in = have;
            state.hold = hold;
            state.bits = bits2;
            inffast(strm, _out);
            put = strm.next_out;
            output = strm.output;
            left = strm.avail_out;
            next = strm.next_in;
            input = strm.input;
            have = strm.avail_in;
            hold = state.hold;
            bits2 = state.bits;
            if (state.mode === TYPE) {
              state.back = -1;
            }
            break;
          }
          state.back = 0;
          for (; ; ) {
            here = state.lencode[hold & (1 << state.lenbits) - 1];
            here_bits = here >>> 24;
            here_op = here >>> 16 & 255;
            here_val = here & 65535;
            if (here_bits <= bits2) {
              break;
            }
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          if (here_op && (here_op & 240) === 0) {
            last_bits = here_bits;
            last_op = here_op;
            last_val = here_val;
            for (; ; ) {
              here = state.lencode[last_val + ((hold & (1 << last_bits + last_op) - 1) >> last_bits)];
              here_bits = here >>> 24;
              here_op = here >>> 16 & 255;
              here_val = here & 65535;
              if (last_bits + here_bits <= bits2) {
                break;
              }
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            hold >>>= last_bits;
            bits2 -= last_bits;
            state.back += last_bits;
          }
          hold >>>= here_bits;
          bits2 -= here_bits;
          state.back += here_bits;
          state.length = here_val;
          if (here_op === 0) {
            state.mode = LIT;
            break;
          }
          if (here_op & 32) {
            state.back = -1;
            state.mode = TYPE;
            break;
          }
          if (here_op & 64) {
            strm.msg = "invalid literal/length code";
            state.mode = BAD;
            break;
          }
          state.extra = here_op & 15;
          state.mode = LENEXT;
        case LENEXT:
          if (state.extra) {
            n2 = state.extra;
            while (bits2 < n2) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            state.length += hold & (1 << state.extra) - 1;
            hold >>>= state.extra;
            bits2 -= state.extra;
            state.back += state.extra;
          }
          state.was = state.length;
          state.mode = DIST;
        case DIST:
          for (; ; ) {
            here = state.distcode[hold & (1 << state.distbits) - 1];
            here_bits = here >>> 24;
            here_op = here >>> 16 & 255;
            here_val = here & 65535;
            if (here_bits <= bits2) {
              break;
            }
            if (have === 0) {
              break inf_leave;
            }
            have--;
            hold += input[next++] << bits2;
            bits2 += 8;
          }
          if ((here_op & 240) === 0) {
            last_bits = here_bits;
            last_op = here_op;
            last_val = here_val;
            for (; ; ) {
              here = state.distcode[last_val + ((hold & (1 << last_bits + last_op) - 1) >> last_bits)];
              here_bits = here >>> 24;
              here_op = here >>> 16 & 255;
              here_val = here & 65535;
              if (last_bits + here_bits <= bits2) {
                break;
              }
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            hold >>>= last_bits;
            bits2 -= last_bits;
            state.back += last_bits;
          }
          hold >>>= here_bits;
          bits2 -= here_bits;
          state.back += here_bits;
          if (here_op & 64) {
            strm.msg = "invalid distance code";
            state.mode = BAD;
            break;
          }
          state.offset = here_val;
          state.extra = here_op & 15;
          state.mode = DISTEXT;
        case DISTEXT:
          if (state.extra) {
            n2 = state.extra;
            while (bits2 < n2) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            state.offset += hold & (1 << state.extra) - 1;
            hold >>>= state.extra;
            bits2 -= state.extra;
            state.back += state.extra;
          }
          if (state.offset > state.dmax) {
            strm.msg = "invalid distance too far back";
            state.mode = BAD;
            break;
          }
          state.mode = MATCH;
        case MATCH:
          if (left === 0) {
            break inf_leave;
          }
          copy = _out - left;
          if (state.offset > copy) {
            copy = state.offset - copy;
            if (copy > state.whave) {
              if (state.sane) {
                strm.msg = "invalid distance too far back";
                state.mode = BAD;
                break;
              }
            }
            if (copy > state.wnext) {
              copy -= state.wnext;
              from = state.wsize - copy;
            } else {
              from = state.wnext - copy;
            }
            if (copy > state.length) {
              copy = state.length;
            }
            from_source = state.window;
          } else {
            from_source = output;
            from = put - state.offset;
            copy = state.length;
          }
          if (copy > left) {
            copy = left;
          }
          left -= copy;
          state.length -= copy;
          do {
            output[put++] = from_source[from++];
          } while (--copy);
          if (state.length === 0) {
            state.mode = LEN;
          }
          break;
        case LIT:
          if (left === 0) {
            break inf_leave;
          }
          output[put++] = state.length;
          left--;
          state.mode = LEN;
          break;
        case CHECK:
          if (state.wrap) {
            while (bits2 < 32) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold |= input[next++] << bits2;
              bits2 += 8;
            }
            _out -= left;
            strm.total_out += _out;
            state.total += _out;
            if (state.wrap & 4 && _out) {
              strm.adler = state.check = state.flags ? crc32_1(state.check, output, _out, put - _out) : adler32_1(state.check, output, _out, put - _out);
            }
            _out = left;
            if (state.wrap & 4 && (state.flags ? hold : zswap32(hold)) !== state.check) {
              strm.msg = "incorrect data check";
              state.mode = BAD;
              break;
            }
            hold = 0;
            bits2 = 0;
          }
          state.mode = LENGTH;
        case LENGTH:
          if (state.wrap && state.flags) {
            while (bits2 < 32) {
              if (have === 0) {
                break inf_leave;
              }
              have--;
              hold += input[next++] << bits2;
              bits2 += 8;
            }
            if (state.wrap & 4 && hold !== (state.total & 4294967295)) {
              strm.msg = "incorrect length check";
              state.mode = BAD;
              break;
            }
            hold = 0;
            bits2 = 0;
          }
          state.mode = DONE;
        case DONE:
          ret = Z_STREAM_END$1;
          break inf_leave;
        case BAD:
          ret = Z_DATA_ERROR$1;
          break inf_leave;
        case MEM:
          return Z_MEM_ERROR$1;
        case SYNC:
        default:
          return Z_STREAM_ERROR$1;
      }
    }
  strm.next_out = put;
  strm.avail_out = left;
  strm.next_in = next;
  strm.avail_in = have;
  state.hold = hold;
  state.bits = bits2;
  if (state.wsize || _out !== strm.avail_out && state.mode < BAD && (state.mode < CHECK || flush !== Z_FINISH$1)) {
    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out))
      ;
  }
  _in -= strm.avail_in;
  _out -= strm.avail_out;
  strm.total_in += _in;
  strm.total_out += _out;
  state.total += _out;
  if (state.wrap & 4 && _out) {
    strm.adler = state.check = state.flags ? crc32_1(state.check, output, _out, strm.next_out - _out) : adler32_1(state.check, output, _out, strm.next_out - _out);
  }
  strm.data_type = state.bits + (state.last ? 64 : 0) + (state.mode === TYPE ? 128 : 0) + (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);
  if ((_in === 0 && _out === 0 || flush === Z_FINISH$1) && ret === Z_OK$1) {
    ret = Z_BUF_ERROR;
  }
  return ret;
};
const inflateEnd = (strm) => {
  if (inflateStateCheck(strm)) {
    return Z_STREAM_ERROR$1;
  }
  let state = strm.state;
  if (state.window) {
    state.window = null;
  }
  strm.state = null;
  return Z_OK$1;
};
const inflateGetHeader = (strm, head) => {
  if (inflateStateCheck(strm)) {
    return Z_STREAM_ERROR$1;
  }
  const state = strm.state;
  if ((state.wrap & 2) === 0) {
    return Z_STREAM_ERROR$1;
  }
  state.head = head;
  head.done = false;
  return Z_OK$1;
};
const inflateSetDictionary = (strm, dictionary) => {
  const dictLength = dictionary.length;
  let state;
  let dictid;
  let ret;
  if (inflateStateCheck(strm)) {
    return Z_STREAM_ERROR$1;
  }
  state = strm.state;
  if (state.wrap !== 0 && state.mode !== DICT) {
    return Z_STREAM_ERROR$1;
  }
  if (state.mode === DICT) {
    dictid = 1;
    dictid = adler32_1(dictid, dictionary, dictLength, 0);
    if (dictid !== state.check) {
      return Z_DATA_ERROR$1;
    }
  }
  ret = updatewindow(strm, dictionary, dictLength, dictLength);
  if (ret) {
    state.mode = MEM;
    return Z_MEM_ERROR$1;
  }
  state.havedict = 1;
  return Z_OK$1;
};
var inflateReset_1 = inflateReset;
var inflateReset2_1 = inflateReset2;
var inflateResetKeep_1 = inflateResetKeep;
var inflateInit_1 = inflateInit;
var inflateInit2_1 = inflateInit2;
var inflate_2$1 = inflate$2;
var inflateEnd_1 = inflateEnd;
var inflateGetHeader_1 = inflateGetHeader;
var inflateSetDictionary_1 = inflateSetDictionary;
var inflateInfo = "pako inflate (from Nodeca project)";
var inflate_1$2 = {
  inflateReset: inflateReset_1,
  inflateReset2: inflateReset2_1,
  inflateResetKeep: inflateResetKeep_1,
  inflateInit: inflateInit_1,
  inflateInit2: inflateInit2_1,
  inflate: inflate_2$1,
  inflateEnd: inflateEnd_1,
  inflateGetHeader: inflateGetHeader_1,
  inflateSetDictionary: inflateSetDictionary_1,
  inflateInfo
};
function GZheader() {
  this.text = 0;
  this.time = 0;
  this.xflags = 0;
  this.os = 0;
  this.extra = null;
  this.extra_len = 0;
  this.name = "";
  this.comment = "";
  this.hcrc = 0;
  this.done = false;
}
var gzheader = GZheader;
const toString = Object.prototype.toString;
const {
  Z_NO_FLUSH,
  Z_FINISH,
  Z_OK,
  Z_STREAM_END,
  Z_NEED_DICT,
  Z_STREAM_ERROR,
  Z_DATA_ERROR,
  Z_MEM_ERROR
} = constants$2;
function Inflate$1(options) {
  this.options = common.assign({
    chunkSize: 1024 * 64,
    windowBits: 15,
    to: ""
  }, options || {});
  const opt = this.options;
  if (opt.raw && opt.windowBits >= 0 && opt.windowBits < 16) {
    opt.windowBits = -opt.windowBits;
    if (opt.windowBits === 0) {
      opt.windowBits = -15;
    }
  }
  if (opt.windowBits >= 0 && opt.windowBits < 16 && !(options && options.windowBits)) {
    opt.windowBits += 32;
  }
  if (opt.windowBits > 15 && opt.windowBits < 48) {
    if ((opt.windowBits & 15) === 0) {
      opt.windowBits |= 15;
    }
  }
  this.err = 0;
  this.msg = "";
  this.ended = false;
  this.chunks = [];
  this.strm = new zstream();
  this.strm.avail_out = 0;
  let status = inflate_1$2.inflateInit2(
    this.strm,
    opt.windowBits
  );
  if (status !== Z_OK) {
    throw new Error(messages[status]);
  }
  this.header = new gzheader();
  inflate_1$2.inflateGetHeader(this.strm, this.header);
  if (opt.dictionary) {
    if (typeof opt.dictionary === "string") {
      opt.dictionary = strings.string2buf(opt.dictionary);
    } else if (toString.call(opt.dictionary) === "[object ArrayBuffer]") {
      opt.dictionary = new Uint8Array(opt.dictionary);
    }
    if (opt.raw) {
      status = inflate_1$2.inflateSetDictionary(this.strm, opt.dictionary);
      if (status !== Z_OK) {
        throw new Error(messages[status]);
      }
    }
  }
}
Inflate$1.prototype.push = function(data2, flush_mode) {
  const strm = this.strm;
  const chunkSize = this.options.chunkSize;
  const dictionary = this.options.dictionary;
  let status, _flush_mode, last_avail_out;
  if (this.ended)
    return false;
  if (flush_mode === ~~flush_mode)
    _flush_mode = flush_mode;
  else
    _flush_mode = flush_mode === true ? Z_FINISH : Z_NO_FLUSH;
  if (toString.call(data2) === "[object ArrayBuffer]") {
    strm.input = new Uint8Array(data2);
  } else {
    strm.input = data2;
  }
  strm.next_in = 0;
  strm.avail_in = strm.input.length;
  for (; ; ) {
    if (strm.avail_out === 0) {
      strm.output = new Uint8Array(chunkSize);
      strm.next_out = 0;
      strm.avail_out = chunkSize;
    }
    status = inflate_1$2.inflate(strm, _flush_mode);
    if (status === Z_NEED_DICT && dictionary) {
      status = inflate_1$2.inflateSetDictionary(strm, dictionary);
      if (status === Z_OK) {
        status = inflate_1$2.inflate(strm, _flush_mode);
      } else if (status === Z_DATA_ERROR) {
        status = Z_NEED_DICT;
      }
    }
    while (strm.avail_in > 0 && status === Z_STREAM_END && strm.state.wrap > 0 && data2[strm.next_in] !== 0) {
      inflate_1$2.inflateReset(strm);
      status = inflate_1$2.inflate(strm, _flush_mode);
    }
    switch (status) {
      case Z_STREAM_ERROR:
      case Z_DATA_ERROR:
      case Z_NEED_DICT:
      case Z_MEM_ERROR:
        this.onEnd(status);
        this.ended = true;
        return false;
    }
    last_avail_out = strm.avail_out;
    if (strm.next_out) {
      if (strm.avail_out === 0 || status === Z_STREAM_END) {
        if (this.options.to === "string") {
          let next_out_utf8 = strings.utf8border(strm.output, strm.next_out);
          let tail = strm.next_out - next_out_utf8;
          let utf8str = strings.buf2string(strm.output, next_out_utf8);
          strm.next_out = tail;
          strm.avail_out = chunkSize - tail;
          if (tail)
            strm.output.set(strm.output.subarray(next_out_utf8, next_out_utf8 + tail), 0);
          this.onData(utf8str);
        } else {
          this.onData(strm.output.length === strm.next_out ? strm.output : strm.output.subarray(0, strm.next_out));
        }
      }
    }
    if (status === Z_OK && last_avail_out === 0)
      continue;
    if (status === Z_STREAM_END) {
      status = inflate_1$2.inflateEnd(this.strm);
      this.onEnd(status);
      this.ended = true;
      return true;
    }
    if (strm.avail_in === 0)
      break;
  }
  return true;
};
Inflate$1.prototype.onData = function(chunk) {
  this.chunks.push(chunk);
};
Inflate$1.prototype.onEnd = function(status) {
  if (status === Z_OK) {
    if (this.options.to === "string") {
      this.result = this.chunks.join("");
    } else {
      this.result = common.flattenChunks(this.chunks);
    }
  }
  this.chunks = [];
  this.err = status;
  this.msg = this.strm.msg;
};
function inflate$1(input, options) {
  const inflator = new Inflate$1(options);
  inflator.push(input);
  if (inflator.err)
    throw inflator.msg || messages[inflator.err];
  return inflator.result;
}
function inflateRaw$1(input, options) {
  options = options || {};
  options.raw = true;
  return inflate$1(input, options);
}
var Inflate_1$1 = Inflate$1;
var inflate_2 = inflate$1;
var inflateRaw_1$1 = inflateRaw$1;
var ungzip$1 = inflate$1;
var constants = constants$2;
var inflate_1$1 = {
  Inflate: Inflate_1$1,
  inflate: inflate_2,
  inflateRaw: inflateRaw_1$1,
  ungzip: ungzip$1,
  constants
};
const { Deflate, deflate, deflateRaw, gzip } = deflate_1$1;
const { Inflate, inflate, inflateRaw, ungzip } = inflate_1$1;
var Deflate_1 = Deflate;
var deflate_1 = deflate;
var deflateRaw_1 = deflateRaw;
var gzip_1 = gzip;
var Inflate_1 = Inflate;
var inflate_1 = inflate;
var inflateRaw_1 = inflateRaw;
var ungzip_1 = ungzip;
var constants_1 = constants$2;
var pako = {
  Deflate: Deflate_1,
  deflate: deflate_1,
  deflateRaw: deflateRaw_1,
  gzip: gzip_1,
  Inflate: Inflate_1,
  inflate: inflate_1,
  inflateRaw: inflateRaw_1,
  ungzip: ungzip_1,
  constants: constants_1
};
const crcTable = [];
for (let n2 = 0; n2 < 256; n2++) {
  let c2 = n2;
  for (let k3 = 0; k3 < 8; k3++) {
    if (c2 & 1) {
      c2 = 3988292384 ^ c2 >>> 1;
    } else {
      c2 = c2 >>> 1;
    }
  }
  crcTable[n2] = c2;
}
const initialCrc = 4294967295;
function updateCrc(currentCrc, data2, length) {
  let c2 = currentCrc;
  for (let n2 = 0; n2 < length; n2++) {
    c2 = crcTable[(c2 ^ data2[n2]) & 255] ^ c2 >>> 8;
  }
  return c2;
}
function crc(data2, length) {
  return (updateCrc(initialCrc, data2, length) ^ initialCrc) >>> 0;
}
function checkCrc(buffer, crcLength, chunkName) {
  const expectedCrc = buffer.readUint32();
  const actualCrc = crc(new Uint8Array(buffer.buffer, buffer.byteOffset + buffer.offset - crcLength - 4, crcLength), crcLength);
  if (actualCrc !== expectedCrc) {
    throw new Error(`CRC mismatch for chunk ${chunkName}. Expected ${expectedCrc}, found ${actualCrc}`);
  }
}
function writeCrc(buffer, length) {
  buffer.writeUint32(crc(new Uint8Array(buffer.buffer, buffer.byteOffset + buffer.offset - length, length), length));
}
function unfilterNone(currentLine, newLine, bytesPerLine) {
  for (let i2 = 0; i2 < bytesPerLine; i2++) {
    newLine[i2] = currentLine[i2];
  }
}
function unfilterSub(currentLine, newLine, bytesPerLine, bytesPerPixel) {
  let i2 = 0;
  for (; i2 < bytesPerPixel; i2++) {
    newLine[i2] = currentLine[i2];
  }
  for (; i2 < bytesPerLine; i2++) {
    newLine[i2] = currentLine[i2] + newLine[i2 - bytesPerPixel] & 255;
  }
}
function unfilterUp(currentLine, newLine, prevLine, bytesPerLine) {
  let i2 = 0;
  if (prevLine.length === 0) {
    for (; i2 < bytesPerLine; i2++) {
      newLine[i2] = currentLine[i2];
    }
  } else {
    for (; i2 < bytesPerLine; i2++) {
      newLine[i2] = currentLine[i2] + prevLine[i2] & 255;
    }
  }
}
function unfilterAverage(currentLine, newLine, prevLine, bytesPerLine, bytesPerPixel) {
  let i2 = 0;
  if (prevLine.length === 0) {
    for (; i2 < bytesPerPixel; i2++) {
      newLine[i2] = currentLine[i2];
    }
    for (; i2 < bytesPerLine; i2++) {
      newLine[i2] = currentLine[i2] + (newLine[i2 - bytesPerPixel] >> 1) & 255;
    }
  } else {
    for (; i2 < bytesPerPixel; i2++) {
      newLine[i2] = currentLine[i2] + (prevLine[i2] >> 1) & 255;
    }
    for (; i2 < bytesPerLine; i2++) {
      newLine[i2] = currentLine[i2] + (newLine[i2 - bytesPerPixel] + prevLine[i2] >> 1) & 255;
    }
  }
}
function unfilterPaeth(currentLine, newLine, prevLine, bytesPerLine, bytesPerPixel) {
  let i2 = 0;
  if (prevLine.length === 0) {
    for (; i2 < bytesPerPixel; i2++) {
      newLine[i2] = currentLine[i2];
    }
    for (; i2 < bytesPerLine; i2++) {
      newLine[i2] = currentLine[i2] + newLine[i2 - bytesPerPixel] & 255;
    }
  } else {
    for (; i2 < bytesPerPixel; i2++) {
      newLine[i2] = currentLine[i2] + prevLine[i2] & 255;
    }
    for (; i2 < bytesPerLine; i2++) {
      newLine[i2] = currentLine[i2] + paethPredictor(newLine[i2 - bytesPerPixel], prevLine[i2], prevLine[i2 - bytesPerPixel]) & 255;
    }
  }
}
function paethPredictor(a2, b3, c2) {
  const p2 = a2 + b3 - c2;
  const pa2 = Math.abs(p2 - a2);
  const pb2 = Math.abs(p2 - b3);
  const pc2 = Math.abs(p2 - c2);
  if (pa2 <= pb2 && pa2 <= pc2)
    return a2;
  else if (pb2 <= pc2)
    return b3;
  else
    return c2;
}
function applyUnfilter(filterType, currentLine, newLine, prevLine, passLineBytes, bytesPerPixel) {
  switch (filterType) {
    case 0:
      unfilterNone(currentLine, newLine, passLineBytes);
      break;
    case 1:
      unfilterSub(currentLine, newLine, passLineBytes, bytesPerPixel);
      break;
    case 2:
      unfilterUp(currentLine, newLine, prevLine, passLineBytes);
      break;
    case 3:
      unfilterAverage(currentLine, newLine, prevLine, passLineBytes, bytesPerPixel);
      break;
    case 4:
      unfilterPaeth(currentLine, newLine, prevLine, passLineBytes, bytesPerPixel);
      break;
    default:
      throw new Error(`Unsupported filter: ${filterType}`);
  }
}
const uint16$1 = new Uint16Array([255]);
const uint8$1 = new Uint8Array(uint16$1.buffer);
const osIsLittleEndian$1 = uint8$1[0] === 255;
function decodeInterlaceAdam7(params) {
  const { data: data2, width, height, channels, depth } = params;
  const passes = [
    { x: 0, y: 0, xStep: 8, yStep: 8 },
    { x: 4, y: 0, xStep: 8, yStep: 8 },
    { x: 0, y: 4, xStep: 4, yStep: 8 },
    { x: 2, y: 0, xStep: 4, yStep: 4 },
    { x: 0, y: 2, xStep: 2, yStep: 4 },
    { x: 1, y: 0, xStep: 2, yStep: 2 },
    { x: 0, y: 1, xStep: 1, yStep: 2 }
  ];
  const bytesPerPixel = Math.ceil(depth / 8) * channels;
  const resultData = new Uint8Array(height * width * bytesPerPixel);
  let offset = 0;
  for (let passIndex = 0; passIndex < 7; passIndex++) {
    const pass = passes[passIndex];
    const passWidth = Math.ceil((width - pass.x) / pass.xStep);
    const passHeight = Math.ceil((height - pass.y) / pass.yStep);
    if (passWidth <= 0 || passHeight <= 0)
      continue;
    const passLineBytes = passWidth * bytesPerPixel;
    const prevLine = new Uint8Array(passLineBytes);
    for (let y2 = 0; y2 < passHeight; y2++) {
      const filterType = data2[offset++];
      const currentLine = data2.subarray(offset, offset + passLineBytes);
      offset += passLineBytes;
      const newLine = new Uint8Array(passLineBytes);
      applyUnfilter(filterType, currentLine, newLine, prevLine, passLineBytes, bytesPerPixel);
      prevLine.set(newLine);
      for (let x2 = 0; x2 < passWidth; x2++) {
        const outputX = pass.x + x2 * pass.xStep;
        const outputY = pass.y + y2 * pass.yStep;
        if (outputX >= width || outputY >= height)
          continue;
        for (let i2 = 0; i2 < bytesPerPixel; i2++) {
          resultData[(outputY * width + outputX) * bytesPerPixel + i2] = newLine[x2 * bytesPerPixel + i2];
        }
      }
    }
  }
  if (depth === 16) {
    const uint16Data = new Uint16Array(resultData.buffer);
    if (osIsLittleEndian$1) {
      for (let k3 = 0; k3 < uint16Data.length; k3++) {
        uint16Data[k3] = swap16$1(uint16Data[k3]);
      }
    }
    return uint16Data;
  } else {
    return resultData;
  }
}
function swap16$1(val) {
  return (val & 255) << 8 | val >> 8 & 255;
}
const uint16 = new Uint16Array([255]);
const uint8 = new Uint8Array(uint16.buffer);
const osIsLittleEndian = uint8[0] === 255;
const empty = new Uint8Array(0);
function decodeInterlaceNull(params) {
  const { data: data2, width, height, channels, depth } = params;
  const bytesPerPixel = Math.ceil(depth / 8) * channels;
  const bytesPerLine = Math.ceil(depth / 8 * channels * width);
  const newData = new Uint8Array(height * bytesPerLine);
  let prevLine = empty;
  let offset = 0;
  let currentLine;
  let newLine;
  for (let i2 = 0; i2 < height; i2++) {
    currentLine = data2.subarray(offset + 1, offset + 1 + bytesPerLine);
    newLine = newData.subarray(i2 * bytesPerLine, (i2 + 1) * bytesPerLine);
    switch (data2[offset]) {
      case 0:
        unfilterNone(currentLine, newLine, bytesPerLine);
        break;
      case 1:
        unfilterSub(currentLine, newLine, bytesPerLine, bytesPerPixel);
        break;
      case 2:
        unfilterUp(currentLine, newLine, prevLine, bytesPerLine);
        break;
      case 3:
        unfilterAverage(currentLine, newLine, prevLine, bytesPerLine, bytesPerPixel);
        break;
      case 4:
        unfilterPaeth(currentLine, newLine, prevLine, bytesPerLine, bytesPerPixel);
        break;
      default:
        throw new Error(`Unsupported filter: ${data2[offset]}`);
    }
    prevLine = newLine;
    offset += bytesPerLine + 1;
  }
  if (depth === 16) {
    const uint16Data = new Uint16Array(newData.buffer);
    if (osIsLittleEndian) {
      for (let k3 = 0; k3 < uint16Data.length; k3++) {
        uint16Data[k3] = swap16(uint16Data[k3]);
      }
    }
    return uint16Data;
  } else {
    return newData;
  }
}
function swap16(val) {
  return (val & 255) << 8 | val >> 8 & 255;
}
const pngSignature = Uint8Array.of(137, 80, 78, 71, 13, 10, 26, 10);
function writeSignature(buffer) {
  buffer.writeBytes(pngSignature);
}
function checkSignature(buffer) {
  if (!hasPngSignature(buffer.readBytes(pngSignature.length))) {
    throw new Error("wrong PNG signature");
  }
}
function hasPngSignature(array) {
  if (array.length < pngSignature.length) {
    return false;
  }
  for (let i2 = 0; i2 < pngSignature.length; i2++) {
    if (array[i2] !== pngSignature[i2]) {
      return false;
    }
  }
  return true;
}
const textChunkName = "tEXt";
const NULL = 0;
const latin1Decoder = new TextDecoder("latin1");
function validateKeyword(keyword) {
  validateLatin1(keyword);
  if (keyword.length === 0 || keyword.length > 79) {
    throw new Error("keyword length must be between 1 and 79");
  }
}
const latin1Regex = /^[\u0000-\u00FF]*$/;
function validateLatin1(text) {
  if (!latin1Regex.test(text)) {
    throw new Error("invalid latin1 text");
  }
}
function decodetEXt(text, buffer, length) {
  const keyword = readKeyword(buffer);
  text[keyword] = readLatin1(buffer, length - keyword.length - 1);
}
function encodetEXt(buffer, keyword, text) {
  validateKeyword(keyword);
  validateLatin1(text);
  const length = keyword.length + 1 + text.length;
  buffer.writeUint32(length);
  buffer.writeChars(textChunkName);
  buffer.writeChars(keyword);
  buffer.writeByte(NULL);
  buffer.writeChars(text);
  writeCrc(buffer, length + 4);
}
function readKeyword(buffer) {
  buffer.mark();
  while (buffer.readByte() !== NULL) {
  }
  const end = buffer.offset;
  buffer.reset();
  const keyword = latin1Decoder.decode(buffer.readBytes(end - buffer.offset - 1));
  buffer.skip(1);
  validateKeyword(keyword);
  return keyword;
}
function readLatin1(buffer, length) {
  return latin1Decoder.decode(buffer.readBytes(length));
}
const ColorType = {
  UNKNOWN: -1,
  GREYSCALE: 0,
  TRUECOLOUR: 2,
  INDEXED_COLOUR: 3,
  GREYSCALE_ALPHA: 4,
  TRUECOLOUR_ALPHA: 6
};
const CompressionMethod = {
  UNKNOWN: -1,
  DEFLATE: 0
};
const FilterMethod = {
  UNKNOWN: -1,
  ADAPTIVE: 0
};
const InterlaceMethod = {
  UNKNOWN: -1,
  NO_INTERLACE: 0,
  ADAM7: 1
};
const DisposeOpType = {
  NONE: 0,
  BACKGROUND: 1,
  PREVIOUS: 2
};
const BlendOpType = {
  SOURCE: 0,
  OVER: 1
};
class PngDecoder extends IOBuffer {
  constructor(data2, options = {}) {
    super(data2);
    __publicField(this, "_checkCrc");
    __publicField(this, "_inflator");
    __publicField(this, "_png");
    __publicField(this, "_apng");
    __publicField(this, "_end");
    __publicField(this, "_hasPalette");
    __publicField(this, "_palette");
    __publicField(this, "_hasTransparency");
    __publicField(this, "_transparency");
    __publicField(this, "_compressionMethod");
    __publicField(this, "_filterMethod");
    __publicField(this, "_interlaceMethod");
    __publicField(this, "_colorType");
    __publicField(this, "_isAnimated");
    __publicField(this, "_numberOfFrames");
    __publicField(this, "_numberOfPlays");
    __publicField(this, "_frames");
    __publicField(this, "_writingDataChunks");
    const { checkCrc: checkCrc2 = false } = options;
    this._checkCrc = checkCrc2;
    this._inflator = new Inflate_1();
    this._png = {
      width: -1,
      height: -1,
      channels: -1,
      data: new Uint8Array(0),
      depth: 1,
      text: {}
    };
    this._apng = {
      width: -1,
      height: -1,
      channels: -1,
      depth: 1,
      numberOfFrames: 1,
      numberOfPlays: 0,
      text: {},
      frames: []
    };
    this._end = false;
    this._hasPalette = false;
    this._palette = [];
    this._hasTransparency = false;
    this._transparency = new Uint16Array(0);
    this._compressionMethod = CompressionMethod.UNKNOWN;
    this._filterMethod = FilterMethod.UNKNOWN;
    this._interlaceMethod = InterlaceMethod.UNKNOWN;
    this._colorType = ColorType.UNKNOWN;
    this._isAnimated = false;
    this._numberOfFrames = 1;
    this._numberOfPlays = 0;
    this._frames = [];
    this._writingDataChunks = false;
    this.setBigEndian();
  }
  decode() {
    checkSignature(this);
    while (!this._end) {
      const length = this.readUint32();
      const type = this.readChars(4);
      this.decodeChunk(length, type);
    }
    this.decodeImage();
    return this._png;
  }
  decodeApng() {
    checkSignature(this);
    while (!this._end) {
      const length = this.readUint32();
      const type = this.readChars(4);
      this.decodeApngChunk(length, type);
    }
    this.decodeApngImage();
    return this._apng;
  }
  decodeChunk(length, type) {
    const offset = this.offset;
    switch (type) {
      case "IHDR":
        this.decodeIHDR();
        break;
      case "PLTE":
        this.decodePLTE(length);
        break;
      case "IDAT":
        this.decodeIDAT(length);
        break;
      case "IEND":
        this._end = true;
        break;
      case "tRNS":
        this.decodetRNS(length);
        break;
      case "iCCP":
        this.decodeiCCP(length);
        break;
      case textChunkName:
        decodetEXt(this._png.text, this, length);
        break;
      case "pHYs":
        this.decodepHYs();
        break;
      default:
        this.skip(length);
        break;
    }
    if (this.offset - offset !== length) {
      throw new Error(`Length mismatch while decoding chunk ${type}`);
    }
    if (this._checkCrc) {
      checkCrc(this, length + 4, type);
    } else {
      this.skip(4);
    }
  }
  decodeApngChunk(length, type) {
    const offset = this.offset;
    if (type !== "fdAT" && type !== "IDAT" && this._writingDataChunks) {
      this.pushDataToFrame();
    }
    switch (type) {
      case "acTL":
        this.decodeACTL();
        break;
      case "fcTL":
        this.decodeFCTL();
        break;
      case "fdAT":
        this.decodeFDAT(length);
        break;
      default:
        this.decodeChunk(length, type);
        this.offset = offset + length;
        break;
    }
    if (this.offset - offset !== length) {
      throw new Error(`Length mismatch while decoding chunk ${type}`);
    }
    if (this._checkCrc) {
      checkCrc(this, length + 4, type);
    } else {
      this.skip(4);
    }
  }
  decodeIHDR() {
    const image = this._png;
    image.width = this.readUint32();
    image.height = this.readUint32();
    image.depth = checkBitDepth(this.readUint8());
    const colorType = this.readUint8();
    this._colorType = colorType;
    let channels;
    switch (colorType) {
      case ColorType.GREYSCALE:
        channels = 1;
        break;
      case ColorType.TRUECOLOUR:
        channels = 3;
        break;
      case ColorType.INDEXED_COLOUR:
        channels = 1;
        break;
      case ColorType.GREYSCALE_ALPHA:
        channels = 2;
        break;
      case ColorType.TRUECOLOUR_ALPHA:
        channels = 4;
        break;
      case ColorType.UNKNOWN:
      default:
        throw new Error(`Unknown color type: ${colorType}`);
    }
    this._png.channels = channels;
    this._compressionMethod = this.readUint8();
    if (this._compressionMethod !== CompressionMethod.DEFLATE) {
      throw new Error(`Unsupported compression method: ${this._compressionMethod}`);
    }
    this._filterMethod = this.readUint8();
    this._interlaceMethod = this.readUint8();
  }
  decodeACTL() {
    this._numberOfFrames = this.readUint32();
    this._numberOfPlays = this.readUint32();
    this._isAnimated = true;
  }
  decodeFCTL() {
    const image = {
      sequenceNumber: this.readUint32(),
      width: this.readUint32(),
      height: this.readUint32(),
      xOffset: this.readUint32(),
      yOffset: this.readUint32(),
      delayNumber: this.readUint16(),
      delayDenominator: this.readUint16(),
      disposeOp: this.readUint8(),
      blendOp: this.readUint8(),
      data: new Uint8Array(0)
    };
    this._frames.push(image);
  }
  decodePLTE(length) {
    if (length % 3 !== 0) {
      throw new RangeError(`PLTE field length must be a multiple of 3. Got ${length}`);
    }
    const l2 = length / 3;
    this._hasPalette = true;
    const palette = [];
    this._palette = palette;
    for (let i2 = 0; i2 < l2; i2++) {
      palette.push([this.readUint8(), this.readUint8(), this.readUint8()]);
    }
  }
  decodeIDAT(length) {
    this._writingDataChunks = true;
    const dataLength = length;
    const dataOffset = this.offset + this.byteOffset;
    this._inflator.push(new Uint8Array(this.buffer, dataOffset, dataLength));
    if (this._inflator.err) {
      throw new Error(`Error while decompressing the data: ${this._inflator.err}`);
    }
    this.skip(length);
  }
  decodeFDAT(length) {
    this._writingDataChunks = true;
    let dataLength = length;
    let dataOffset = this.offset + this.byteOffset;
    dataOffset += 4;
    dataLength -= 4;
    this._inflator.push(new Uint8Array(this.buffer, dataOffset, dataLength));
    if (this._inflator.err) {
      throw new Error(`Error while decompressing the data: ${this._inflator.err}`);
    }
    this.skip(length);
  }
  decodetRNS(length) {
    switch (this._colorType) {
      case ColorType.GREYSCALE:
      case ColorType.TRUECOLOUR: {
        if (length % 2 !== 0) {
          throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${length}`);
        }
        if (length / 2 > this._png.width * this._png.height) {
          throw new Error(`tRNS chunk contains more alpha values than there are pixels (${length / 2} vs ${this._png.width * this._png.height})`);
        }
        this._hasTransparency = true;
        this._transparency = new Uint16Array(length / 2);
        for (let i2 = 0; i2 < length / 2; i2++) {
          this._transparency[i2] = this.readUint16();
        }
        break;
      }
      case ColorType.INDEXED_COLOUR: {
        if (length > this._palette.length) {
          throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${length} vs ${this._palette.length})`);
        }
        let i2 = 0;
        for (; i2 < length; i2++) {
          const alpha = this.readByte();
          this._palette[i2].push(alpha);
        }
        for (; i2 < this._palette.length; i2++) {
          this._palette[i2].push(255);
        }
        break;
      }
      case ColorType.UNKNOWN:
      case ColorType.GREYSCALE_ALPHA:
      case ColorType.TRUECOLOUR_ALPHA:
      default: {
        throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`);
      }
    }
  }
  decodeiCCP(length) {
    const name = readKeyword(this);
    const compressionMethod = this.readUint8();
    if (compressionMethod !== CompressionMethod.DEFLATE) {
      throw new Error(`Unsupported iCCP compression method: ${compressionMethod}`);
    }
    const compressedProfile = this.readBytes(length - name.length - 2);
    this._png.iccEmbeddedProfile = {
      name,
      profile: inflate_1(compressedProfile)
    };
  }
  decodepHYs() {
    const ppuX = this.readUint32();
    const ppuY = this.readUint32();
    const unitSpecifier = this.readByte();
    this._png.resolution = { x: ppuX, y: ppuY, unit: unitSpecifier };
  }
  decodeApngImage() {
    this._apng.width = this._png.width;
    this._apng.height = this._png.height;
    this._apng.channels = this._png.channels;
    this._apng.depth = this._png.depth;
    this._apng.numberOfFrames = this._numberOfFrames;
    this._apng.numberOfPlays = this._numberOfPlays;
    this._apng.text = this._png.text;
    this._apng.resolution = this._png.resolution;
    for (let i2 = 0; i2 < this._numberOfFrames; i2++) {
      const newFrame = {
        sequenceNumber: this._frames[i2].sequenceNumber,
        delayNumber: this._frames[i2].delayNumber,
        delayDenominator: this._frames[i2].delayDenominator,
        data: this._apng.depth === 8 ? new Uint8Array(this._apng.width * this._apng.height * this._apng.channels) : new Uint16Array(this._apng.width * this._apng.height * this._apng.channels)
      };
      const frame = this._frames.at(i2);
      if (frame) {
        frame.data = decodeInterlaceNull({
          data: frame.data,
          width: frame.width,
          height: frame.height,
          channels: this._apng.channels,
          depth: this._apng.depth
        });
        if (this._hasPalette) {
          this._apng.palette = this._palette;
        }
        if (this._hasTransparency) {
          this._apng.transparency = this._transparency;
        }
        if (i2 === 0 || frame.xOffset === 0 && frame.yOffset === 0 && frame.width === this._png.width && frame.height === this._png.height) {
          newFrame.data = frame.data;
        } else {
          const prevFrame = this._apng.frames.at(i2 - 1);
          this.disposeFrame(frame, prevFrame, newFrame);
          this.addFrameDataToCanvas(newFrame, frame);
        }
        this._apng.frames.push(newFrame);
      }
    }
    return this._apng;
  }
  disposeFrame(frame, prevFrame, imageFrame) {
    switch (frame.disposeOp) {
      case DisposeOpType.NONE:
        break;
      case DisposeOpType.BACKGROUND:
        for (let row = 0; row < this._png.height; row++) {
          for (let col = 0; col < this._png.width; col++) {
            const index = (row * frame.width + col) * this._png.channels;
            for (let channel = 0; channel < this._png.channels; channel++) {
              imageFrame.data[index + channel] = 0;
            }
          }
        }
        break;
      case DisposeOpType.PREVIOUS:
        imageFrame.data.set(prevFrame.data);
        break;
      default:
        throw new Error("Unknown disposeOp");
    }
  }
  addFrameDataToCanvas(imageFrame, frame) {
    const maxValue = 1 << this._png.depth;
    const calculatePixelIndices = (row, col) => {
      const index = ((row + frame.yOffset) * this._png.width + frame.xOffset + col) * this._png.channels;
      const frameIndex = (row * frame.width + col) * this._png.channels;
      return { index, frameIndex };
    };
    switch (frame.blendOp) {
      case BlendOpType.SOURCE:
        for (let row = 0; row < frame.height; row++) {
          for (let col = 0; col < frame.width; col++) {
            const { index, frameIndex } = calculatePixelIndices(row, col);
            for (let channel = 0; channel < this._png.channels; channel++) {
              imageFrame.data[index + channel] = frame.data[frameIndex + channel];
            }
          }
        }
        break;
      case BlendOpType.OVER:
        for (let row = 0; row < frame.height; row++) {
          for (let col = 0; col < frame.width; col++) {
            const { index, frameIndex } = calculatePixelIndices(row, col);
            for (let channel = 0; channel < this._png.channels; channel++) {
              const sourceAlpha = frame.data[frameIndex + this._png.channels - 1] / maxValue;
              const foregroundValue = channel % (this._png.channels - 1) === 0 ? 1 : frame.data[frameIndex + channel];
              const value = Math.floor(sourceAlpha * foregroundValue + (1 - sourceAlpha) * imageFrame.data[index + channel]);
              imageFrame.data[index + channel] += value;
            }
          }
        }
        break;
      default:
        throw new Error("Unknown blendOp");
    }
  }
  decodeImage() {
    var _a2;
    if (this._inflator.err) {
      throw new Error(`Error while decompressing the data: ${this._inflator.err}`);
    }
    const data2 = this._isAnimated ? ((_a2 = this._frames) == null ? void 0 : _a2.at(0)).data : this._inflator.result;
    if (this._filterMethod !== FilterMethod.ADAPTIVE) {
      throw new Error(`Filter method ${this._filterMethod} not supported`);
    }
    if (this._interlaceMethod === InterlaceMethod.NO_INTERLACE) {
      this._png.data = decodeInterlaceNull({
        data: data2,
        width: this._png.width,
        height: this._png.height,
        channels: this._png.channels,
        depth: this._png.depth
      });
    } else if (this._interlaceMethod === InterlaceMethod.ADAM7) {
      this._png.data = decodeInterlaceAdam7({
        data: data2,
        width: this._png.width,
        height: this._png.height,
        channels: this._png.channels,
        depth: this._png.depth
      });
    } else {
      throw new Error(`Interlace method ${this._interlaceMethod} not supported`);
    }
    if (this._hasPalette) {
      this._png.palette = this._palette;
    }
    if (this._hasTransparency) {
      this._png.transparency = this._transparency;
    }
  }
  pushDataToFrame() {
    const result = this._inflator.result;
    const lastFrame = this._frames.at(-1);
    if (lastFrame) {
      lastFrame.data = result;
    } else {
      this._frames.push({
        sequenceNumber: 0,
        width: this._png.width,
        height: this._png.height,
        xOffset: 0,
        yOffset: 0,
        delayNumber: 0,
        delayDenominator: 0,
        disposeOp: DisposeOpType.NONE,
        blendOp: BlendOpType.SOURCE,
        data: result
      });
    }
    this._inflator = new Inflate_1();
    this._writingDataChunks = false;
  }
}
function checkBitDepth(value) {
  if (value !== 1 && value !== 2 && value !== 4 && value !== 8 && value !== 16) {
    throw new Error(`invalid bit depth: ${value}`);
  }
  return value;
}
const defaultZlibOptions = {
  level: 3
};
class PngEncoder extends IOBuffer {
  constructor(data2, options = {}) {
    var _a2;
    super();
    __publicField(this, "_png");
    __publicField(this, "_zlibOptions");
    __publicField(this, "_colorType");
    __publicField(this, "_interlaceMethod");
    this._colorType = ColorType.UNKNOWN;
    this._zlibOptions = { ...defaultZlibOptions, ...options.zlib };
    this._png = this._checkData(data2);
    this._interlaceMethod = (_a2 = options.interlace === "Adam7" ? InterlaceMethod.ADAM7 : InterlaceMethod.NO_INTERLACE) != null ? _a2 : InterlaceMethod.NO_INTERLACE;
    this.setBigEndian();
  }
  encode() {
    writeSignature(this);
    this.encodeIHDR();
    if (this._png.palette) {
      this.encodePLTE();
      if (this._png.palette[0].length === 4) {
        this.encodeTRNS();
      }
    }
    this.encodeData();
    if (this._png.text) {
      for (const [keyword, text] of Object.entries(this._png.text)) {
        encodetEXt(this, keyword, text);
      }
    }
    this.encodeIEND();
    return this.toArray();
  }
  encodeIHDR() {
    this.writeUint32(13);
    this.writeChars("IHDR");
    this.writeUint32(this._png.width);
    this.writeUint32(this._png.height);
    this.writeByte(this._png.depth);
    this.writeByte(this._colorType);
    this.writeByte(CompressionMethod.DEFLATE);
    this.writeByte(FilterMethod.ADAPTIVE);
    this.writeByte(this._interlaceMethod);
    writeCrc(this, 17);
  }
  encodeIEND() {
    this.writeUint32(0);
    this.writeChars("IEND");
    writeCrc(this, 4);
  }
  encodePLTE() {
    var _a2;
    const paletteLength = ((_a2 = this._png.palette) == null ? void 0 : _a2.length) * 3;
    this.writeUint32(paletteLength);
    this.writeChars("PLTE");
    for (const color of this._png.palette) {
      this.writeByte(color[0]);
      this.writeByte(color[1]);
      this.writeByte(color[2]);
    }
    writeCrc(this, 4 + paletteLength);
  }
  encodeTRNS() {
    const alpha = this._png.palette.filter((color) => {
      return color.at(-1) !== 255;
    });
    this.writeUint32(alpha.length);
    this.writeChars("tRNS");
    for (const el2 of alpha) {
      this.writeByte(el2.at(-1));
    }
    writeCrc(this, 4 + alpha.length);
  }
  encodeIDAT(data2) {
    this.writeUint32(data2.length);
    this.writeChars("IDAT");
    this.writeBytes(data2);
    writeCrc(this, data2.length + 4);
  }
  encodeData() {
    const { width, height, channels, depth, data: data2 } = this._png;
    const slotsPerLine = depth <= 8 ? Math.ceil(width * depth / 8) * channels : Math.ceil(width * depth / 8 * channels / 2);
    const newData = new IOBuffer().setBigEndian();
    let offset = 0;
    if (this._interlaceMethod === InterlaceMethod.NO_INTERLACE) {
      for (let i2 = 0; i2 < height; i2++) {
        newData.writeByte(0);
        if (depth === 16) {
          offset = writeDataUint16(data2, newData, slotsPerLine, offset);
        } else {
          offset = writeDataBytes(data2, newData, slotsPerLine, offset);
        }
      }
    } else if (this._interlaceMethod === InterlaceMethod.ADAM7) {
      offset = writeDataInterlaced(this._png, data2, newData, offset);
    }
    const buffer = newData.toArray();
    const compressed = deflate_1(buffer, this._zlibOptions);
    this.encodeIDAT(compressed);
  }
  _checkData(data2) {
    const { colorType, channels, depth } = getColorType(data2, data2.palette);
    const png = {
      width: checkInteger(data2.width, "width"),
      height: checkInteger(data2.height, "height"),
      channels,
      data: data2.data,
      depth,
      text: data2.text,
      palette: data2.palette
    };
    this._colorType = colorType;
    const expectedSize = depth < 8 ? Math.ceil(png.width * depth / 8) * png.height * channels : png.width * png.height * channels;
    if (png.data.length !== expectedSize) {
      throw new RangeError(`wrong data size. Found ${png.data.length}, expected ${expectedSize}`);
    }
    return png;
  }
}
function checkInteger(value, name) {
  if (Number.isInteger(value) && value > 0) {
    return value;
  }
  throw new TypeError(`${name} must be a positive integer`);
}
function getColorType(data2, palette) {
  const { channels = 4, depth = 8 } = data2;
  if (channels !== 4 && channels !== 3 && channels !== 2 && channels !== 1) {
    throw new RangeError(`unsupported number of channels: ${channels}`);
  }
  const returnValue = {
    channels,
    depth,
    colorType: ColorType.UNKNOWN
  };
  switch (channels) {
    case 4:
      returnValue.colorType = ColorType.TRUECOLOUR_ALPHA;
      break;
    case 3:
      returnValue.colorType = ColorType.TRUECOLOUR;
      break;
    case 1:
      if (palette) {
        returnValue.colorType = ColorType.INDEXED_COLOUR;
      } else {
        returnValue.colorType = ColorType.GREYSCALE;
      }
      break;
    case 2:
      returnValue.colorType = ColorType.GREYSCALE_ALPHA;
      break;
    default:
      throw new Error("unsupported number of channels");
  }
  return returnValue;
}
function writeDataBytes(data2, newData, slotsPerLine, offset) {
  for (let j2 = 0; j2 < slotsPerLine; j2++) {
    newData.writeByte(data2[offset++]);
  }
  return offset;
}
function writeDataInterlaced(imageData, data2, newData, offset) {
  const passes = [
    { x: 0, y: 0, xStep: 8, yStep: 8 },
    { x: 4, y: 0, xStep: 8, yStep: 8 },
    { x: 0, y: 4, xStep: 4, yStep: 8 },
    { x: 2, y: 0, xStep: 4, yStep: 4 },
    { x: 0, y: 2, xStep: 2, yStep: 4 },
    { x: 1, y: 0, xStep: 2, yStep: 2 },
    { x: 0, y: 1, xStep: 1, yStep: 2 }
  ];
  const { width, height, channels, depth } = imageData;
  let pixelSize = 0;
  if (depth === 16) {
    pixelSize = channels * depth / 8 / 2;
  } else {
    pixelSize = channels * depth / 8;
  }
  for (let passIndex = 0; passIndex < 7; passIndex++) {
    const pass = passes[passIndex];
    const passWidth = Math.floor((width - pass.x + pass.xStep - 1) / pass.xStep);
    const passHeight = Math.floor((height - pass.y + pass.yStep - 1) / pass.yStep);
    if (passWidth <= 0 || passHeight <= 0)
      continue;
    const passLineBytes = passWidth * pixelSize;
    for (let y2 = 0; y2 < passHeight; y2++) {
      const imageY = pass.y + y2 * pass.yStep;
      const rawScanline = depth <= 8 ? new Uint8Array(passLineBytes) : new Uint16Array(passLineBytes);
      let rawOffset = 0;
      for (let x2 = 0; x2 < passWidth; x2++) {
        const imageX = pass.x + x2 * pass.xStep;
        if (imageX < width && imageY < height) {
          const srcPos = (imageY * width + imageX) * pixelSize;
          for (let i2 = 0; i2 < pixelSize; i2++) {
            rawScanline[rawOffset++] = data2[srcPos + i2];
          }
        }
      }
      newData.writeByte(0);
      if (depth === 8) {
        newData.writeBytes(rawScanline);
      } else if (depth === 16) {
        for (const value of rawScanline) {
          newData.writeByte(value >> 8 & 255);
          newData.writeByte(value & 255);
        }
      }
    }
  }
  return offset;
}
function writeDataUint16(data2, newData, slotsPerLine, offset) {
  for (let j2 = 0; j2 < slotsPerLine; j2++) {
    newData.writeUint16(data2[offset++]);
  }
  return offset;
}
var ResolutionUnitSpecifier;
(function(ResolutionUnitSpecifier2) {
  ResolutionUnitSpecifier2[ResolutionUnitSpecifier2["UNKNOWN"] = 0] = "UNKNOWN";
  ResolutionUnitSpecifier2[ResolutionUnitSpecifier2["METRE"] = 1] = "METRE";
})(ResolutionUnitSpecifier || (ResolutionUnitSpecifier = {}));
function convertIndexedToRgb(decodedImage) {
  const palette = decodedImage.palette;
  const depth = decodedImage.depth;
  if (!palette) {
    throw new Error("Color palette is undefined.");
  }
  checkDataSize(decodedImage);
  const indexSize = decodedImage.width * decodedImage.height;
  const resSize = indexSize * palette[0].length;
  const res = new Uint8Array(resSize);
  let indexPos = 0;
  let offset = 0;
  const indexes = new Uint8Array(indexSize);
  let bit = 255;
  switch (depth) {
    case 1:
      bit = 128;
      break;
    case 2:
      bit = 192;
      break;
    case 4:
      bit = 240;
      break;
    case 8:
      bit = 255;
      break;
    default:
      throw new Error("Incorrect depth value");
  }
  for (const byte of decodedImage.data) {
    let bit2 = bit;
    let shift = 8;
    while (bit2) {
      shift -= depth;
      indexes[indexPos++] = (byte & bit2) >> shift;
      bit2 = bit2 >> depth;
      if (indexPos % decodedImage.width === 0) {
        break;
      }
    }
  }
  if (decodedImage.palette) {
    for (const index of indexes) {
      const color = decodedImage.palette.at(index);
      if (!color) {
        throw new Error("Incorrect index of palette color");
      }
      res.set(color, offset);
      offset += color.length;
    }
  }
  return res;
}
function checkDataSize(image) {
  const expectedSize = image.depth < 8 ? Math.ceil(image.width * image.depth / 8) * image.height * image.channels : image.width * image.height * image.channels;
  if (image.data.length !== expectedSize) {
    throw new RangeError(`wrong data size. Found ${image.data.length}, expected ${expectedSize}`);
  }
}
function decodePng(data2, options) {
  const decoder = new PngDecoder(data2, options);
  return decoder.decode();
}
function encodePng(png, options) {
  const encoder2 = new PngEncoder(png, options);
  return encoder2.encode();
}
function decodeApng(data2, options) {
  const decoder = new PngDecoder(data2, options);
  return decoder.decodeApng();
}
var i = function() {
  return "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this;
}();
function a() {
  i.console && "function" == typeof i.console.log && i.console.log.apply(i.console, arguments);
}
var o = { log: a, warn: function(t3) {
  i.console && ("function" == typeof i.console.warn ? i.console.warn.apply(i.console, arguments) : a.call(null, arguments));
}, error: function(t3) {
  i.console && ("function" == typeof i.console.error ? i.console.error.apply(i.console, arguments) : a(t3));
} };
function s(t3, e, n2) {
  var r2 = new XMLHttpRequest();
  r2.open("GET", t3), r2.responseType = "blob", r2.onload = function() {
    l(r2.response, e, n2);
  }, r2.onerror = function() {
    o.error("could not download file");
  }, r2.send();
}
function u(t3) {
  var e = new XMLHttpRequest();
  e.open("HEAD", t3, false);
  try {
    e.send();
  } catch (n2) {
  }
  return e.status >= 200 && e.status <= 299;
}
function c(t3) {
  try {
    t3.dispatchEvent(new MouseEvent("click"));
  } catch (n2) {
    var e = document.createEvent("MouseEvents");
    e.initMouseEvent("click", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null), t3.dispatchEvent(e);
  }
}
var l = i.saveAs || ("object" !== ("undefined" == typeof window ? "undefined" : _typeof(window)) || window !== i ? function() {
} : "undefined" != typeof HTMLAnchorElement && "download" in HTMLAnchorElement.prototype ? function(t3, e, n2) {
  var r2 = i.URL || i.webkitURL, a2 = document.createElement("a");
  e = e || t3.name || "download", a2.download = e, a2.rel = "noopener", "string" == typeof t3 ? (a2.href = t3, a2.origin !== location.origin ? u(a2.href) ? s(t3, e, n2) : c(a2, a2.target = "_blank") : c(a2)) : (a2.href = r2.createObjectURL(t3), setTimeout(function() {
    r2.revokeObjectURL(a2.href);
  }, 4e4), setTimeout(function() {
    c(a2);
  }, 0));
} : "msSaveOrOpenBlob" in navigator ? function(e, n2, r2) {
  if (n2 = n2 || e.name || "download", "string" == typeof e)
    if (u(e))
      s(e, n2, r2);
    else {
      var i2 = document.createElement("a");
      i2.href = e, i2.target = "_blank", setTimeout(function() {
        c(i2);
      });
    }
  else
    navigator.msSaveOrOpenBlob(function(e2, n3) {
      return void 0 === n3 ? n3 = { autoBom: false } : "object" !== _typeof(n3) && (o.warn("Deprecated: Expected third argument to be a object"), n3 = { autoBom: !n3 }), n3.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e2.type) ? new Blob([String.fromCharCode(65279), e2], { type: e2.type }) : e2;
    }(e, r2), n2);
} : function(e, n2, r2, a2) {
  if ((a2 = a2 || open("", "_blank")) && (a2.document.title = a2.document.body.innerText = "downloading..."), "string" == typeof e)
    return s(e, n2, r2);
  var o2 = "application/octet-stream" === e.type, u2 = /constructor/i.test(i.HTMLElement) || i.safari, c2 = /CriOS\/[\d]+/.test(navigator.userAgent);
  if ((c2 || o2 && u2) && "object" === ("undefined" == typeof FileReader ? "undefined" : _typeof(FileReader))) {
    var l2 = new FileReader();
    l2.onloadend = function() {
      var t3 = l2.result;
      t3 = c2 ? t3 : t3.replace(/^data:[^;]*;/, "data:attachment/file;"), a2 ? a2.location.href = t3 : location = t3, a2 = null;
    }, l2.readAsDataURL(e);
  } else {
    var h2 = i.URL || i.webkitURL, f2 = h2.createObjectURL(e);
    a2 ? a2.location = f2 : location.href = f2, a2 = null, setTimeout(function() {
      h2.revokeObjectURL(f2);
    }, 4e4);
  }
});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */
function h(t3) {
  var e;
  t3 = t3 || "", this.ok = false, "#" == t3.charAt(0) && (t3 = t3.substr(1, 6)), t3 = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "00ffff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000000", blanchedalmond: "ffebcd", blue: "0000ff", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "00ffff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dodgerblue: "1e90ff", feldspar: "d19275", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "ff00ff", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgrey: "d3d3d3", lightgreen: "90ee90", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslateblue: "8470ff", lightslategray: "778899", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "00ff00", limegreen: "32cd32", linen: "faf0e6", magenta: "ff00ff", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370d8", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "d87093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", red: "ff0000", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", violetred: "d02090", wheat: "f5deb3", white: "ffffff", whitesmoke: "f5f5f5", yellow: "ffff00", yellowgreen: "9acd32" }[t3 = (t3 = t3.replace(/ /g, "")).toLowerCase()] || t3;
  for (var n2 = [{ re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/, example: ["rgb(123, 234, 45)", "rgb(255,234,245)"], process: function(t4) {
    return [parseInt(t4[1]), parseInt(t4[2]), parseInt(t4[3])];
  } }, { re: /^(\w{2})(\w{2})(\w{2})$/, example: ["#00ff00", "336699"], process: function(t4) {
    return [parseInt(t4[1], 16), parseInt(t4[2], 16), parseInt(t4[3], 16)];
  } }, { re: /^(\w{1})(\w{1})(\w{1})$/, example: ["#fb0", "f0f"], process: function(t4) {
    return [parseInt(t4[1] + t4[1], 16), parseInt(t4[2] + t4[2], 16), parseInt(t4[3] + t4[3], 16)];
  } }], r2 = 0; r2 < n2.length; r2++) {
    var i2 = n2[r2].re, a2 = n2[r2].process, o2 = i2.exec(t3);
    o2 && (e = a2(o2), this.r = e[0], this.g = e[1], this.b = e[2], this.ok = true);
  }
  this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function() {
    return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")";
  }, this.toHex = function() {
    var t4 = this.r.toString(16), e2 = this.g.toString(16), n3 = this.b.toString(16);
    return 1 == t4.length && (t4 = "0" + t4), 1 == e2.length && (e2 = "0" + e2), 1 == n3.length && (n3 = "0" + n3), "#" + t4 + e2 + n3;
  };
}
var f = i.atob.bind(i), d = i.btoa.bind(i);
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */
function p(t3, e) {
  var n2 = t3[0], r2 = t3[1], i2 = t3[2], a2 = t3[3];
  n2 = m(n2, r2, i2, a2, e[0], 7, -680876936), a2 = m(a2, n2, r2, i2, e[1], 12, -389564586), i2 = m(i2, a2, n2, r2, e[2], 17, 606105819), r2 = m(r2, i2, a2, n2, e[3], 22, -1044525330), n2 = m(n2, r2, i2, a2, e[4], 7, -176418897), a2 = m(a2, n2, r2, i2, e[5], 12, 1200080426), i2 = m(i2, a2, n2, r2, e[6], 17, -1473231341), r2 = m(r2, i2, a2, n2, e[7], 22, -45705983), n2 = m(n2, r2, i2, a2, e[8], 7, 1770035416), a2 = m(a2, n2, r2, i2, e[9], 12, -1958414417), i2 = m(i2, a2, n2, r2, e[10], 17, -42063), r2 = m(r2, i2, a2, n2, e[11], 22, -1990404162), n2 = m(n2, r2, i2, a2, e[12], 7, 1804603682), a2 = m(a2, n2, r2, i2, e[13], 12, -40341101), i2 = m(i2, a2, n2, r2, e[14], 17, -1502002290), n2 = v(n2, r2 = m(r2, i2, a2, n2, e[15], 22, 1236535329), i2, a2, e[1], 5, -165796510), a2 = v(a2, n2, r2, i2, e[6], 9, -1069501632), i2 = v(i2, a2, n2, r2, e[11], 14, 643717713), r2 = v(r2, i2, a2, n2, e[0], 20, -373897302), n2 = v(n2, r2, i2, a2, e[5], 5, -701558691), a2 = v(a2, n2, r2, i2, e[10], 9, 38016083), i2 = v(i2, a2, n2, r2, e[15], 14, -660478335), r2 = v(r2, i2, a2, n2, e[4], 20, -405537848), n2 = v(n2, r2, i2, a2, e[9], 5, 568446438), a2 = v(a2, n2, r2, i2, e[14], 9, -1019803690), i2 = v(i2, a2, n2, r2, e[3], 14, -187363961), r2 = v(r2, i2, a2, n2, e[8], 20, 1163531501), n2 = v(n2, r2, i2, a2, e[13], 5, -1444681467), a2 = v(a2, n2, r2, i2, e[2], 9, -51403784), i2 = v(i2, a2, n2, r2, e[7], 14, 1735328473), n2 = b(n2, r2 = v(r2, i2, a2, n2, e[12], 20, -1926607734), i2, a2, e[5], 4, -378558), a2 = b(a2, n2, r2, i2, e[8], 11, -2022574463), i2 = b(i2, a2, n2, r2, e[11], 16, 1839030562), r2 = b(r2, i2, a2, n2, e[14], 23, -35309556), n2 = b(n2, r2, i2, a2, e[1], 4, -1530992060), a2 = b(a2, n2, r2, i2, e[4], 11, 1272893353), i2 = b(i2, a2, n2, r2, e[7], 16, -155497632), r2 = b(r2, i2, a2, n2, e[10], 23, -1094730640), n2 = b(n2, r2, i2, a2, e[13], 4, 681279174), a2 = b(a2, n2, r2, i2, e[0], 11, -358537222), i2 = b(i2, a2, n2, r2, e[3], 16, -722521979), r2 = b(r2, i2, a2, n2, e[6], 23, 76029189), n2 = b(n2, r2, i2, a2, e[9], 4, -640364487), a2 = b(a2, n2, r2, i2, e[12], 11, -421815835), i2 = b(i2, a2, n2, r2, e[15], 16, 530742520), n2 = y(n2, r2 = b(r2, i2, a2, n2, e[2], 23, -995338651), i2, a2, e[0], 6, -198630844), a2 = y(a2, n2, r2, i2, e[7], 10, 1126891415), i2 = y(i2, a2, n2, r2, e[14], 15, -1416354905), r2 = y(r2, i2, a2, n2, e[5], 21, -57434055), n2 = y(n2, r2, i2, a2, e[12], 6, 1700485571), a2 = y(a2, n2, r2, i2, e[3], 10, -1894986606), i2 = y(i2, a2, n2, r2, e[10], 15, -1051523), r2 = y(r2, i2, a2, n2, e[1], 21, -2054922799), n2 = y(n2, r2, i2, a2, e[8], 6, 1873313359), a2 = y(a2, n2, r2, i2, e[15], 10, -30611744), i2 = y(i2, a2, n2, r2, e[6], 15, -1560198380), r2 = y(r2, i2, a2, n2, e[13], 21, 1309151649), n2 = y(n2, r2, i2, a2, e[4], 6, -145523070), a2 = y(a2, n2, r2, i2, e[11], 10, -1120210379), i2 = y(i2, a2, n2, r2, e[2], 15, 718787259), r2 = y(r2, i2, a2, n2, e[9], 21, -343485551), t3[0] = P(n2, t3[0]), t3[1] = P(r2, t3[1]), t3[2] = P(i2, t3[2]), t3[3] = P(a2, t3[3]);
}
function g(t3, e, n2, r2, i2, a2) {
  return e = P(P(e, t3), P(r2, a2)), P(e << i2 | e >>> 32 - i2, n2);
}
function m(t3, e, n2, r2, i2, a2, o2) {
  return g(e & n2 | ~e & r2, t3, e, i2, a2, o2);
}
function v(t3, e, n2, r2, i2, a2, o2) {
  return g(e & r2 | n2 & ~r2, t3, e, i2, a2, o2);
}
function b(t3, e, n2, r2, i2, a2, o2) {
  return g(e ^ n2 ^ r2, t3, e, i2, a2, o2);
}
function y(t3, e, n2, r2, i2, a2, o2) {
  return g(n2 ^ (e | ~r2), t3, e, i2, a2, o2);
}
function w(t3) {
  var e, n2 = t3.length, r2 = [1732584193, -271733879, -1732584194, 271733878];
  for (e = 64; e <= t3.length; e += 64)
    p(r2, N(t3.substring(e - 64, e)));
  t3 = t3.substring(e - 64);
  var i2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
  for (e = 0; e < t3.length; e++)
    i2[e >> 2] |= t3.charCodeAt(e) << (e % 4 << 3);
  if (i2[e >> 2] |= 128 << (e % 4 << 3), e > 55)
    for (p(r2, i2), e = 0; e < 16; e++)
      i2[e] = 0;
  return i2[14] = 8 * n2, p(r2, i2), r2;
}
function N(t3) {
  var e, n2 = [];
  for (e = 0; e < 64; e += 4)
    n2[e >> 2] = t3.charCodeAt(e) + (t3.charCodeAt(e + 1) << 8) + (t3.charCodeAt(e + 2) << 16) + (t3.charCodeAt(e + 3) << 24);
  return n2;
}
var L = "0123456789abcdef".split("");
function x(t3) {
  for (var e = "", n2 = 0; n2 < 4; n2++)
    e += L[t3 >> 8 * n2 + 4 & 15] + L[t3 >> 8 * n2 & 15];
  return e;
}
function A(t3) {
  return String.fromCharCode(255 & t3, (65280 & t3) >> 8, (16711680 & t3) >> 16, (4278190080 & t3) >> 24);
}
function S(t3) {
  return w(t3).map(A).join("");
}
var _ = "5d41402abc4b2a76b9719d911017c592" != function(t3) {
  for (var e = 0; e < t3.length; e++)
    t3[e] = x(t3[e]);
  return t3.join("");
}(w("hello"));
function P(t3, e) {
  if (_) {
    var n2 = (65535 & t3) + (65535 & e);
    return (t3 >> 16) + (e >> 16) + (n2 >> 16) << 16 | 65535 & n2;
  }
  return t3 + e & 4294967295;
}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */
function k(t3, e) {
  var n2, r2, i2, a2;
  if (t3 !== n2) {
    for (var o2 = (i2 = t3, a2 = 1 + (256 / t3.length | 0), new Array(a2 + 1).join(i2)), s2 = [], u2 = 0; u2 < 256; u2++)
      s2[u2] = u2;
    var c2 = 0;
    for (u2 = 0; u2 < 256; u2++) {
      var l2 = s2[u2];
      c2 = (c2 + l2 + o2.charCodeAt(u2)) % 256, s2[u2] = s2[c2], s2[c2] = l2;
    }
    n2 = t3, r2 = s2;
  } else
    s2 = r2;
  var h2 = e.length, f2 = 0, d2 = 0, p2 = "";
  for (u2 = 0; u2 < h2; u2++)
    d2 = (d2 + (l2 = s2[f2 = (f2 + 1) % 256])) % 256, s2[f2] = s2[d2], s2[d2] = l2, o2 = s2[(s2[f2] + s2[d2]) % 256], p2 += String.fromCharCode(e.charCodeAt(u2) ^ o2);
  return p2;
}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */
var F = { print: 4, modify: 8, copy: 16, "annot-forms": 32 };
function I(t3, e, n2, r2) {
  this.v = 1, this.r = 2;
  var i2 = 192;
  t3.forEach(function(t4) {
    if (void 0 !== F.perm)
      throw new Error("Invalid permission: " + t4);
    i2 += F[t4];
  }), this.padding = "(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";
  var a2 = (e + this.padding).substr(0, 32), o2 = (n2 + this.padding).substr(0, 32);
  this.O = this.processOwnerPassword(a2, o2), this.P = -(1 + (255 ^ i2)), this.encryptionKey = S(a2 + this.O + this.lsbFirstWord(this.P) + this.hexToBytes(r2)).substr(0, 5), this.U = k(this.encryptionKey, this.padding);
}
function j(t3) {
  if (/[^\u0000-\u00ff]/.test(t3))
    throw new Error("Invalid PDF Name Object: " + t3 + ", Only accept ASCII characters.");
  for (var e = "", n2 = t3.length, r2 = 0; r2 < n2; r2++) {
    var i2 = t3.charCodeAt(r2);
    e += i2 < 33 || 35 === i2 || 37 === i2 || 40 === i2 || 41 === i2 || 47 === i2 || 60 === i2 || 62 === i2 || 91 === i2 || 93 === i2 || 123 === i2 || 125 === i2 || i2 > 126 ? "#" + ("0" + i2.toString(16)).slice(-2) : t3[r2];
  }
  return e;
}
function C(e) {
  if ("object" !== _typeof(e))
    throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");
  var n2 = {};
  this.subscribe = function(t3, e2, r2) {
    if (r2 = r2 || false, "string" != typeof t3 || "function" != typeof e2 || "boolean" != typeof r2)
      throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");
    n2.hasOwnProperty(t3) || (n2[t3] = {});
    var i2 = Math.random().toString(35);
    return n2[t3][i2] = [e2, !!r2], i2;
  }, this.unsubscribe = function(t3) {
    for (var e2 in n2)
      if (n2[e2][t3])
        return delete n2[e2][t3], 0 === Object.keys(n2[e2]).length && delete n2[e2], true;
    return false;
  }, this.publish = function(t3) {
    if (n2.hasOwnProperty(t3)) {
      var r2 = Array.prototype.slice.call(arguments, 1), a2 = [];
      for (var s2 in n2[t3]) {
        var u2 = n2[t3][s2];
        try {
          u2[0].apply(e, r2);
        } catch (c2) {
          i.console && o.error("jsPDF PubSub Error", c2.message, c2);
        }
        u2[1] && a2.push(s2);
      }
      a2.length && a2.forEach(this.unsubscribe);
    }
  }, this.getTopics = function() {
    return n2;
  };
}
function O(t3) {
  if (!(this instanceof O))
    return new O(t3);
  var e = "opacity,stroke-opacity".split(",");
  for (var n2 in t3)
    t3.hasOwnProperty(n2) && e.indexOf(n2) >= 0 && (this[n2] = t3[n2]);
  this.id = "", this.objectNumber = -1;
}
function B(t3, e) {
  this.gState = t3, this.matrix = e, this.id = "", this.objectNumber = -1;
}
function M(t3, e, n2, r2, i2) {
  if (!(this instanceof M))
    return new M(t3, e, n2, r2, i2);
  this.type = "axial" === t3 ? 2 : 3, this.coords = e, this.colors = n2, B.call(this, r2, i2);
}
function q(t3, e, n2, r2, i2) {
  if (!(this instanceof q))
    return new q(t3, e, n2, r2, i2);
  this.boundingBox = t3, this.xStep = e, this.yStep = n2, this.stream = "", this.cloneIndex = 0, B.call(this, r2, i2);
}
function E(e) {
  var n2, r2 = "string" == typeof arguments[0] ? arguments[0] : "p", a2 = arguments[1], s2 = arguments[2], u2 = arguments[3], c2 = [], f2 = 1, p2 = 16, g2 = "S", m2 = null;
  "object" === _typeof(e = e || {}) && (r2 = e.orientation, a2 = e.unit || a2, s2 = e.format || s2, u2 = e.compress || e.compressPdf || u2, null !== (m2 = e.encryption || null) && (m2.userPassword = m2.userPassword || "", m2.ownerPassword = m2.ownerPassword || "", m2.userPermissions = m2.userPermissions || []), f2 = "number" == typeof e.userUnit ? Math.abs(e.userUnit) : 1, void 0 !== e.precision && (n2 = e.precision), void 0 !== e.floatPrecision && (p2 = e.floatPrecision), g2 = e.defaultPathOperation || "S"), c2 = e.filters || (true === u2 ? ["FlateEncode"] : c2), a2 = a2 || "mm", r2 = ("" + (r2 || "P")).toLowerCase();
  var v2 = e.putOnlyUsedFonts || false, b3 = {}, y2 = { internal: {}, __private__: {} };
  y2.__private__.PubSub = C;
  var w2 = "1.3", N2 = y2.__private__.getPdfVersion = function() {
    return w2;
  };
  y2.__private__.setPdfVersion = function(t3) {
    w2 = t3;
  };
  var L2 = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] };
  y2.__private__.getPageFormats = function() {
    return L2;
  };
  var x2 = y2.__private__.getPageFormat = function(t3) {
    return L2[t3];
  };
  s2 = s2 || "a4";
  var A2 = "compat", S2 = "advanced", _2 = A2;
  function P2() {
    this.saveGraphicsState(), lt2(new Wt2(St2, 0, 0, -St2, 0, _n() * St2).toString() + " cm"), this.setFontSize(this.getFontSize() / St2), g2 = "n", _2 = S2;
  }
  function k3() {
    this.restoreGraphicsState(), g2 = "S", _2 = A2;
  }
  var F2 = y2.__private__.combineFontStyleAndFontWeight = function(t3, e2) {
    if ("bold" == t3 && "normal" == e2 || "bold" == t3 && 400 == e2 || "normal" == t3 && "italic" == e2 || "bold" == t3 && "italic" == e2)
      throw new Error("Invalid Combination of fontweight and fontstyle");
    return e2 && (t3 = 400 == e2 || "normal" === e2 ? "italic" === t3 ? "italic" : "normal" : 700 != e2 && "bold" !== e2 || "normal" !== t3 ? (700 == e2 ? "bold" : e2) + "" + t3 : "bold"), t3;
  };
  y2.advancedAPI = function(t3) {
    var e2 = _2 === A2;
    return e2 && P2.call(this), "function" != typeof t3 || (t3(this), e2 && k3.call(this)), this;
  }, y2.compatAPI = function(t3) {
    var e2 = _2 === S2;
    return e2 && k3.call(this), "function" != typeof t3 || (t3(this), e2 && P2.call(this)), this;
  }, y2.isAdvancedAPI = function() {
    return _2 === S2;
  };
  var B2, R2 = function(t3) {
    if (_2 !== S2)
      throw new Error(t3 + " is only available in 'advanced' API mode. You need to call advancedAPI() first.");
  }, D2 = y2.roundToPrecision = y2.__private__.roundToPrecision = function(t3, e2) {
    var r3 = n2 || e2;
    if (isNaN(t3) || isNaN(r3))
      throw new Error("Invalid argument passed to jsPDF.roundToPrecision");
    return t3.toFixed(r3).replace(/0+$/, "");
  };
  B2 = y2.hpf = y2.__private__.hpf = "number" == typeof p2 ? function(t3) {
    if (isNaN(t3))
      throw new Error("Invalid argument passed to jsPDF.hpf");
    return D2(t3, p2);
  } : "smart" === p2 ? function(t3) {
    if (isNaN(t3))
      throw new Error("Invalid argument passed to jsPDF.hpf");
    return D2(t3, t3 > -1 && t3 < 1 ? 16 : 5);
  } : function(t3) {
    if (isNaN(t3))
      throw new Error("Invalid argument passed to jsPDF.hpf");
    return D2(t3, 16);
  };
  var T2 = y2.f2 = y2.__private__.f2 = function(t3) {
    if (isNaN(t3))
      throw new Error("Invalid argument passed to jsPDF.f2");
    return D2(t3, 2);
  }, z2 = y2.__private__.f3 = function(t3) {
    if (isNaN(t3))
      throw new Error("Invalid argument passed to jsPDF.f3");
    return D2(t3, 3);
  }, U2 = y2.scale = y2.__private__.scale = function(t3) {
    if (isNaN(t3))
      throw new Error("Invalid argument passed to jsPDF.scale");
    return _2 === A2 ? t3 * St2 : _2 === S2 ? t3 : void 0;
  }, H2 = function(t3) {
    return U2(function(t4) {
      return _2 === A2 ? _n() - t4 : _2 === S2 ? t4 : void 0;
    }(t3));
  };
  y2.__private__.setPrecision = y2.setPrecision = function(t3) {
    "number" == typeof parseInt(t3, 10) && (n2 = parseInt(t3, 10));
  };
  var W2, V2 = "00000000000000000000000000000000", G2 = y2.__private__.getFileId = function() {
    return V2;
  }, Y2 = y2.__private__.setFileId = function(t3) {
    return V2 = void 0 !== t3 && /^[a-fA-F0-9]{32}$/.test(t3) ? t3.toUpperCase() : V2.split("").map(function() {
      return "ABCDEF0123456789".charAt(Math.floor(16 * Math.random()));
    }).join(""), null !== m2 && (je2 = new I(m2.userPermissions, m2.userPassword, m2.ownerPassword, V2)), V2;
  };
  y2.setFileId = function(t3) {
    return Y2(t3), this;
  }, y2.getFileId = function() {
    return G2();
  };
  var J2 = y2.__private__.convertDateToPDFDate = function(t3) {
    var e2 = t3.getTimezoneOffset(), n3 = e2 < 0 ? "+" : "-", r3 = Math.floor(Math.abs(e2 / 60)), i2 = Math.abs(e2 % 60), a3 = [n3, Q2(r3), "'", Q2(i2), "'"].join("");
    return ["D:", t3.getFullYear(), Q2(t3.getMonth() + 1), Q2(t3.getDate()), Q2(t3.getHours()), Q2(t3.getMinutes()), Q2(t3.getSeconds()), a3].join("");
  }, X2 = y2.__private__.convertPDFDateToDate = function(t3) {
    var e2 = parseInt(t3.substr(2, 4), 10), n3 = parseInt(t3.substr(6, 2), 10) - 1, r3 = parseInt(t3.substr(8, 2), 10), i2 = parseInt(t3.substr(10, 2), 10), a3 = parseInt(t3.substr(12, 2), 10), o2 = parseInt(t3.substr(14, 2), 10);
    return new Date(e2, n3, r3, i2, a3, o2, 0);
  }, K2 = y2.__private__.setCreationDate = function(t3) {
    var e2;
    if (void 0 === t3 && (t3 = new Date()), t3 instanceof Date)
      e2 = J2(t3);
    else {
      if (!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t3))
        throw new Error("Invalid argument passed to jsPDF.setCreationDate");
      e2 = t3;
    }
    return W2 = e2;
  }, Z2 = y2.__private__.getCreationDate = function(t3) {
    var e2 = W2;
    return "jsDate" === t3 && (e2 = X2(W2)), e2;
  };
  y2.setCreationDate = function(t3) {
    return K2(t3), this;
  }, y2.getCreationDate = function(t3) {
    return Z2(t3);
  };
  var $2, Q2 = y2.__private__.padd2 = function(t3) {
    return ("0" + parseInt(t3)).slice(-2);
  }, tt2 = y2.__private__.padd2Hex = function(t3) {
    return ("00" + (t3 = t3.toString())).substr(t3.length);
  }, et2 = 0, nt2 = [], rt2 = [], it2 = 0, at2 = [], ot2 = [], st2 = false, ut2 = rt2;
  y2.__private__.setCustomOutputDestination = function(t3) {
    st2 = true, ut2 = t3;
  };
  var ct2 = function(t3) {
    st2 || (ut2 = t3);
  };
  y2.__private__.resetCustomOutputDestination = function() {
    st2 = false, ut2 = rt2;
  };
  var lt2 = y2.__private__.out = function(t3) {
    return t3 = t3.toString(), it2 += t3.length + 1, ut2.push(t3), ut2;
  }, ht2 = y2.__private__.write = function(t3) {
    return lt2(1 === arguments.length ? t3.toString() : Array.prototype.join.call(arguments, " "));
  }, ft2 = y2.__private__.getArrayBuffer = function(t3) {
    for (var e2 = t3.length, n3 = new ArrayBuffer(e2), r3 = new Uint8Array(n3); e2--; )
      r3[e2] = t3.charCodeAt(e2);
    return n3;
  }, dt2 = [["Helvetica", "helvetica", "normal", "WinAnsiEncoding"], ["Helvetica-Bold", "helvetica", "bold", "WinAnsiEncoding"], ["Helvetica-Oblique", "helvetica", "italic", "WinAnsiEncoding"], ["Helvetica-BoldOblique", "helvetica", "bolditalic", "WinAnsiEncoding"], ["Courier", "courier", "normal", "WinAnsiEncoding"], ["Courier-Bold", "courier", "bold", "WinAnsiEncoding"], ["Courier-Oblique", "courier", "italic", "WinAnsiEncoding"], ["Courier-BoldOblique", "courier", "bolditalic", "WinAnsiEncoding"], ["Times-Roman", "times", "normal", "WinAnsiEncoding"], ["Times-Bold", "times", "bold", "WinAnsiEncoding"], ["Times-Italic", "times", "italic", "WinAnsiEncoding"], ["Times-BoldItalic", "times", "bolditalic", "WinAnsiEncoding"], ["ZapfDingbats", "zapfdingbats", "normal", null], ["Symbol", "symbol", "normal", null]];
  y2.__private__.getStandardFonts = function() {
    return dt2;
  };
  var pt2 = e.fontSize || 16;
  y2.__private__.setFontSize = y2.setFontSize = function(t3) {
    return pt2 = _2 === S2 ? t3 / St2 : t3, this;
  };
  var gt2, mt2 = y2.__private__.getFontSize = y2.getFontSize = function() {
    return _2 === A2 ? pt2 : pt2 * St2;
  }, vt2 = e.R2L || false;
  y2.__private__.setR2L = y2.setR2L = function(t3) {
    return vt2 = t3, this;
  }, y2.__private__.getR2L = y2.getR2L = function() {
    return vt2;
  };
  var bt2, yt2 = y2.__private__.setZoomMode = function(t3) {
    if (/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t3))
      gt2 = t3;
    else if (isNaN(t3)) {
      if (-1 === [void 0, null, "fullwidth", "fullheight", "fullpage", "original"].indexOf(t3))
        throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "' + t3 + '" is not recognized.');
      gt2 = t3;
    } else
      gt2 = parseInt(t3, 10);
  };
  y2.__private__.getZoomMode = function() {
    return gt2;
  };
  var wt2, Nt2 = y2.__private__.setPageMode = function(t3) {
    if (-1 == [void 0, null, "UseNone", "UseOutlines", "UseThumbs", "FullScreen"].indexOf(t3))
      throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "' + t3 + '" is not recognized.');
    bt2 = t3;
  };
  y2.__private__.getPageMode = function() {
    return bt2;
  };
  var Lt2 = y2.__private__.setLayoutMode = function(t3) {
    if (-1 == [void 0, null, "continuous", "single", "twoleft", "tworight", "two"].indexOf(t3))
      throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "' + t3 + '" is not recognized.');
    wt2 = t3;
  };
  y2.__private__.getLayoutMode = function() {
    return wt2;
  }, y2.__private__.setDisplayMode = y2.setDisplayMode = function(t3, e2, n3) {
    return yt2(t3), Lt2(e2), Nt2(n3), this;
  };
  var xt2 = { title: "", subject: "", author: "", keywords: "", creator: "" };
  y2.__private__.getDocumentProperty = function(t3) {
    if (-1 === Object.keys(xt2).indexOf(t3))
      throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");
    return xt2[t3];
  }, y2.__private__.getDocumentProperties = function() {
    return xt2;
  }, y2.__private__.setDocumentProperties = y2.setProperties = y2.setDocumentProperties = function(t3) {
    for (var e2 in xt2)
      xt2.hasOwnProperty(e2) && t3[e2] && (xt2[e2] = t3[e2]);
    return this;
  }, y2.__private__.setDocumentProperty = function(t3, e2) {
    if (-1 === Object.keys(xt2).indexOf(t3))
      throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");
    return xt2[t3] = e2;
  };
  var At2, St2, _t2, Pt2, kt2, Ft2 = {}, It2 = {}, jt2 = [], Ct2 = {}, Ot2 = {}, Bt2 = {}, Mt2 = {}, qt2 = null, Et2 = 0, Rt2 = [], Dt2 = new C(y2), Tt2 = e.hotfixes || [], zt2 = {}, Ut2 = {}, Ht2 = [], Wt2 = function t3(e2, n3, r3, i2, a3, o2) {
    if (!(this instanceof t3))
      return new t3(e2, n3, r3, i2, a3, o2);
    isNaN(e2) && (e2 = 1), isNaN(n3) && (n3 = 0), isNaN(r3) && (r3 = 0), isNaN(i2) && (i2 = 1), isNaN(a3) && (a3 = 0), isNaN(o2) && (o2 = 0), this._matrix = [e2, n3, r3, i2, a3, o2];
  };
  Object.defineProperty(Wt2.prototype, "sx", { get: function() {
    return this._matrix[0];
  }, set: function(t3) {
    this._matrix[0] = t3;
  } }), Object.defineProperty(Wt2.prototype, "shy", { get: function() {
    return this._matrix[1];
  }, set: function(t3) {
    this._matrix[1] = t3;
  } }), Object.defineProperty(Wt2.prototype, "shx", { get: function() {
    return this._matrix[2];
  }, set: function(t3) {
    this._matrix[2] = t3;
  } }), Object.defineProperty(Wt2.prototype, "sy", { get: function() {
    return this._matrix[3];
  }, set: function(t3) {
    this._matrix[3] = t3;
  } }), Object.defineProperty(Wt2.prototype, "tx", { get: function() {
    return this._matrix[4];
  }, set: function(t3) {
    this._matrix[4] = t3;
  } }), Object.defineProperty(Wt2.prototype, "ty", { get: function() {
    return this._matrix[5];
  }, set: function(t3) {
    this._matrix[5] = t3;
  } }), Object.defineProperty(Wt2.prototype, "a", { get: function() {
    return this._matrix[0];
  }, set: function(t3) {
    this._matrix[0] = t3;
  } }), Object.defineProperty(Wt2.prototype, "b", { get: function() {
    return this._matrix[1];
  }, set: function(t3) {
    this._matrix[1] = t3;
  } }), Object.defineProperty(Wt2.prototype, "c", { get: function() {
    return this._matrix[2];
  }, set: function(t3) {
    this._matrix[2] = t3;
  } }), Object.defineProperty(Wt2.prototype, "d", { get: function() {
    return this._matrix[3];
  }, set: function(t3) {
    this._matrix[3] = t3;
  } }), Object.defineProperty(Wt2.prototype, "e", { get: function() {
    return this._matrix[4];
  }, set: function(t3) {
    this._matrix[4] = t3;
  } }), Object.defineProperty(Wt2.prototype, "f", { get: function() {
    return this._matrix[5];
  }, set: function(t3) {
    this._matrix[5] = t3;
  } }), Object.defineProperty(Wt2.prototype, "rotation", { get: function() {
    return Math.atan2(this.shx, this.sx);
  } }), Object.defineProperty(Wt2.prototype, "scaleX", { get: function() {
    return this.decompose().scale.sx;
  } }), Object.defineProperty(Wt2.prototype, "scaleY", { get: function() {
    return this.decompose().scale.sy;
  } }), Object.defineProperty(Wt2.prototype, "isIdentity", { get: function() {
    return 1 === this.sx && 0 === this.shy && 0 === this.shx && 1 === this.sy && 0 === this.tx && 0 === this.ty;
  } }), Wt2.prototype.join = function(t3) {
    return [this.sx, this.shy, this.shx, this.sy, this.tx, this.ty].map(B2).join(t3);
  }, Wt2.prototype.multiply = function(t3) {
    var e2 = t3.sx * this.sx + t3.shy * this.shx, n3 = t3.sx * this.shy + t3.shy * this.sy, r3 = t3.shx * this.sx + t3.sy * this.shx, i2 = t3.shx * this.shy + t3.sy * this.sy, a3 = t3.tx * this.sx + t3.ty * this.shx + this.tx, o2 = t3.tx * this.shy + t3.ty * this.sy + this.ty;
    return new Wt2(e2, n3, r3, i2, a3, o2);
  }, Wt2.prototype.decompose = function() {
    var t3 = this.sx, e2 = this.shy, n3 = this.shx, r3 = this.sy, i2 = this.tx, a3 = this.ty, o2 = Math.sqrt(t3 * t3 + e2 * e2), s3 = (t3 /= o2) * n3 + (e2 /= o2) * r3;
    n3 -= t3 * s3, r3 -= e2 * s3;
    var u3 = Math.sqrt(n3 * n3 + r3 * r3);
    return s3 /= u3, t3 * (r3 /= u3) < e2 * (n3 /= u3) && (t3 = -t3, e2 = -e2, s3 = -s3, o2 = -o2), { scale: new Wt2(o2, 0, 0, u3, 0, 0), translate: new Wt2(1, 0, 0, 1, i2, a3), rotate: new Wt2(t3, e2, -e2, t3, 0, 0), skew: new Wt2(1, 0, s3, 1, 0, 0) };
  }, Wt2.prototype.toString = function(t3) {
    return this.join(" ");
  }, Wt2.prototype.inversed = function() {
    var t3 = this.sx, e2 = this.shy, n3 = this.shx, r3 = this.sy, i2 = this.tx, a3 = this.ty, o2 = 1 / (t3 * r3 - e2 * n3), s3 = r3 * o2, u3 = -e2 * o2, c3 = -n3 * o2, l2 = t3 * o2;
    return new Wt2(s3, u3, c3, l2, -s3 * i2 - c3 * a3, -u3 * i2 - l2 * a3);
  }, Wt2.prototype.applyToPoint = function(t3) {
    var e2 = t3.x * this.sx + t3.y * this.shx + this.tx, n3 = t3.x * this.shy + t3.y * this.sy + this.ty;
    return new gn(e2, n3);
  }, Wt2.prototype.applyToRectangle = function(t3) {
    var e2 = this.applyToPoint(t3), n3 = this.applyToPoint(new gn(t3.x + t3.w, t3.y + t3.h));
    return new mn(e2.x, e2.y, n3.x - e2.x, n3.y - e2.y);
  }, Wt2.prototype.clone = function() {
    var t3 = this.sx, e2 = this.shy, n3 = this.shx, r3 = this.sy, i2 = this.tx, a3 = this.ty;
    return new Wt2(t3, e2, n3, r3, i2, a3);
  }, y2.Matrix = Wt2;
  var Vt2 = y2.matrixMult = function(t3, e2) {
    return e2.multiply(t3);
  }, Gt2 = new Wt2(1, 0, 0, 1, 0, 0);
  y2.unitMatrix = y2.identityMatrix = Gt2;
  var Yt2 = function(t3, e2) {
    if (!Ot2[t3]) {
      var n3 = (e2 instanceof M ? "Sh" : "P") + (Object.keys(Ct2).length + 1).toString(10);
      e2.id = n3, Ot2[t3] = n3, Ct2[n3] = e2, Dt2.publish("addPattern", e2);
    }
  };
  y2.ShadingPattern = M, y2.TilingPattern = q, y2.addShadingPattern = function(t3, e2) {
    return R2("addShadingPattern()"), Yt2(t3, e2), this;
  }, y2.beginTilingPattern = function(t3) {
    R2("beginTilingPattern()"), bn(t3.boundingBox[0], t3.boundingBox[1], t3.boundingBox[2] - t3.boundingBox[0], t3.boundingBox[3] - t3.boundingBox[1], t3.matrix);
  }, y2.endTilingPattern = function(t3, e2) {
    R2("endTilingPattern()"), e2.stream = ot2[$2].join("\n"), Yt2(t3, e2), Dt2.publish("endTilingPattern", e2), Ht2.pop().restore();
  };
  var Jt2, Xt2 = y2.__private__.newObject = function() {
    var t3 = Kt2();
    return Zt2(t3, true), t3;
  }, Kt2 = y2.__private__.newObjectDeferred = function() {
    return et2++, nt2[et2] = function() {
      return it2;
    }, et2;
  }, Zt2 = function(t3, e2) {
    return e2 = "boolean" == typeof e2 && e2, nt2[t3] = it2, e2 && lt2(t3 + " 0 obj"), t3;
  }, $t2 = y2.__private__.newAdditionalObject = function() {
    var t3 = { objId: Kt2(), content: "" };
    return at2.push(t3), t3;
  }, Qt2 = Kt2(), te2 = Kt2(), ee2 = y2.__private__.decodeColorString = function(t3) {
    var e2 = t3.split(" ");
    if (2 !== e2.length || "g" !== e2[1] && "G" !== e2[1])
      5 !== e2.length || "k" !== e2[4] && "K" !== e2[4] || (e2 = [(1 - e2[0]) * (1 - e2[3]), (1 - e2[1]) * (1 - e2[3]), (1 - e2[2]) * (1 - e2[3]), "r"]);
    else {
      var n3 = parseFloat(e2[0]);
      e2 = [n3, n3, n3, "r"];
    }
    for (var r3 = "#", i2 = 0; i2 < 3; i2++)
      r3 += ("0" + Math.floor(255 * parseFloat(e2[i2])).toString(16)).slice(-2);
    return r3;
  }, ne2 = y2.__private__.encodeColorString = function(e2) {
    var n3;
    "string" == typeof e2 && (e2 = { ch1: e2 });
    var r3 = e2.ch1, i2 = e2.ch2, a3 = e2.ch3, o2 = e2.ch4, s3 = "draw" === e2.pdfColorType ? ["G", "RG", "K"] : ["g", "rg", "k"];
    if ("string" == typeof r3 && "#" !== r3.charAt(0)) {
      var u3 = new h(r3);
      if (u3.ok)
        r3 = u3.toHex();
      else if (!/^\d*\.?\d*$/.test(r3))
        throw new Error('Invalid color "' + r3 + '" passed to jsPDF.encodeColorString.');
    }
    if ("string" == typeof r3 && /^#[0-9A-Fa-f]{3}$/.test(r3) && (r3 = "#" + r3[1] + r3[1] + r3[2] + r3[2] + r3[3] + r3[3]), "string" == typeof r3 && /^#[0-9A-Fa-f]{6}$/.test(r3)) {
      var c3 = parseInt(r3.substr(1), 16);
      r3 = c3 >> 16 & 255, i2 = c3 >> 8 & 255, a3 = 255 & c3;
    }
    if (void 0 === i2 || void 0 === o2 && r3 === i2 && i2 === a3)
      n3 = "string" == typeof r3 ? r3 + " " + s3[0] : 2 === e2.precision ? T2(r3 / 255) + " " + s3[0] : z2(r3 / 255) + " " + s3[0];
    else if (void 0 === o2 || "object" === _typeof(o2)) {
      if (o2 && !isNaN(o2.a) && 0 === o2.a)
        return ["1.", "1.", "1.", s3[1]].join(" ");
      n3 = "string" == typeof r3 ? [r3, i2, a3, s3[1]].join(" ") : 2 === e2.precision ? [T2(r3 / 255), T2(i2 / 255), T2(a3 / 255), s3[1]].join(" ") : [z2(r3 / 255), z2(i2 / 255), z2(a3 / 255), s3[1]].join(" ");
    } else
      n3 = "string" == typeof r3 ? [r3, i2, a3, o2, s3[2]].join(" ") : 2 === e2.precision ? [T2(r3), T2(i2), T2(a3), T2(o2), s3[2]].join(" ") : [z2(r3), z2(i2), z2(a3), z2(o2), s3[2]].join(" ");
    return n3;
  }, re2 = y2.__private__.getFilters = function() {
    return c2;
  }, ie2 = y2.__private__.putStream = function(t3) {
    var e2 = (t3 = t3 || {}).data || "", n3 = t3.filters || re2(), r3 = t3.alreadyAppliedFilters || [], i2 = t3.addLength1 || false, a3 = e2.length, o2 = t3.objectId, s3 = function(t4) {
      return t4;
    };
    if (null !== m2 && void 0 === o2)
      throw new Error("ObjectId must be passed to putStream for file encryption");
    null !== m2 && (s3 = je2.encryptor(o2, 0));
    var u3 = {};
    true === n3 && (n3 = ["FlateEncode"]);
    var c3 = t3.additionalKeyValues || [], l2 = (u3 = void 0 !== E.API.processDataByFilters ? E.API.processDataByFilters(e2, n3) : { data: e2, reverseChain: [] }).reverseChain + (Array.isArray(r3) ? r3.join(" ") : r3.toString());
    if (0 !== u3.data.length && (c3.push({ key: "Length", value: u3.data.length }), true === i2 && c3.push({ key: "Length1", value: a3 })), 0 != l2.length)
      if (l2.split("/").length - 1 == 1)
        c3.push({ key: "Filter", value: l2 });
      else {
        c3.push({ key: "Filter", value: "[" + l2 + "]" });
        for (var h2 = 0; h2 < c3.length; h2 += 1)
          if ("DecodeParms" === c3[h2].key) {
            for (var f3 = [], d2 = 0; d2 < u3.reverseChain.split("/").length - 1; d2 += 1)
              f3.push("null");
            f3.push(c3[h2].value), c3[h2].value = "[" + f3.join(" ") + "]";
          }
      }
    lt2("<<");
    for (var p3 = 0; p3 < c3.length; p3++)
      lt2("/" + c3[p3].key + " " + c3[p3].value);
    lt2(">>"), 0 !== u3.data.length && (lt2("stream"), lt2(s3(u3.data)), lt2("endstream"));
  }, ae2 = y2.__private__.putPage = function(t3) {
    var e2 = t3.number, n3 = t3.data, r3 = t3.objId, i2 = t3.contentsObjId;
    Zt2(r3, true), lt2("<</Type /Page"), lt2("/Parent " + t3.rootDictionaryObjId + " 0 R"), lt2("/Resources " + t3.resourceDictionaryObjId + " 0 R"), lt2("/MediaBox [" + parseFloat(B2(t3.mediaBox.bottomLeftX)) + " " + parseFloat(B2(t3.mediaBox.bottomLeftY)) + " " + B2(t3.mediaBox.topRightX) + " " + B2(t3.mediaBox.topRightY) + "]"), null !== t3.cropBox && lt2("/CropBox [" + B2(t3.cropBox.bottomLeftX) + " " + B2(t3.cropBox.bottomLeftY) + " " + B2(t3.cropBox.topRightX) + " " + B2(t3.cropBox.topRightY) + "]"), null !== t3.bleedBox && lt2("/BleedBox [" + B2(t3.bleedBox.bottomLeftX) + " " + B2(t3.bleedBox.bottomLeftY) + " " + B2(t3.bleedBox.topRightX) + " " + B2(t3.bleedBox.topRightY) + "]"), null !== t3.trimBox && lt2("/TrimBox [" + B2(t3.trimBox.bottomLeftX) + " " + B2(t3.trimBox.bottomLeftY) + " " + B2(t3.trimBox.topRightX) + " " + B2(t3.trimBox.topRightY) + "]"), null !== t3.artBox && lt2("/ArtBox [" + B2(t3.artBox.bottomLeftX) + " " + B2(t3.artBox.bottomLeftY) + " " + B2(t3.artBox.topRightX) + " " + B2(t3.artBox.topRightY) + "]"), "number" == typeof t3.userUnit && 1 !== t3.userUnit && lt2("/UserUnit " + t3.userUnit), Dt2.publish("putPage", { objId: r3, pageContext: Rt2[e2], pageNumber: e2, page: n3 }), lt2("/Contents " + i2 + " 0 R"), lt2(">>"), lt2("endobj");
    var a3 = n3.join("\n");
    return _2 === S2 && (a3 += "\nQ"), Zt2(i2, true), ie2({ data: a3, filters: re2(), objectId: i2 }), lt2("endobj"), r3;
  }, oe2 = y2.__private__.putPages = function() {
    var t3, e2, n3 = [];
    for (t3 = 1; t3 <= Et2; t3++)
      Rt2[t3].objId = Kt2(), Rt2[t3].contentsObjId = Kt2();
    for (t3 = 1; t3 <= Et2; t3++)
      n3.push(ae2({ number: t3, data: ot2[t3], objId: Rt2[t3].objId, contentsObjId: Rt2[t3].contentsObjId, mediaBox: Rt2[t3].mediaBox, cropBox: Rt2[t3].cropBox, bleedBox: Rt2[t3].bleedBox, trimBox: Rt2[t3].trimBox, artBox: Rt2[t3].artBox, userUnit: Rt2[t3].userUnit, rootDictionaryObjId: Qt2, resourceDictionaryObjId: te2 }));
    Zt2(Qt2, true), lt2("<</Type /Pages");
    var r3 = "/Kids [";
    for (e2 = 0; e2 < Et2; e2++)
      r3 += n3[e2] + " 0 R ";
    lt2(r3 + "]"), lt2("/Count " + Et2), lt2(">>"), lt2("endobj"), Dt2.publish("postPutPages");
  }, se2 = function(t3) {
    Dt2.publish("putFont", { font: t3, out: lt2, newObject: Xt2, putStream: ie2 }), true !== t3.isAlreadyPutted && (t3.objectNumber = Xt2(), lt2("<<"), lt2("/Type /Font"), lt2("/BaseFont /" + j(t3.postScriptName)), lt2("/Subtype /Type1"), "string" == typeof t3.encoding && lt2("/Encoding /" + t3.encoding), lt2("/FirstChar 32"), lt2("/LastChar 255"), lt2(">>"), lt2("endobj"));
  }, ue2 = function(t3) {
    t3.objectNumber = Xt2();
    var e2 = [];
    e2.push({ key: "Type", value: "/XObject" }), e2.push({ key: "Subtype", value: "/Form" }), e2.push({ key: "BBox", value: "[" + [B2(t3.x), B2(t3.y), B2(t3.x + t3.width), B2(t3.y + t3.height)].join(" ") + "]" }), e2.push({ key: "Matrix", value: "[" + t3.matrix.toString() + "]" });
    var n3 = t3.pages[1].join("\n");
    ie2({ data: n3, additionalKeyValues: e2, objectId: t3.objectNumber }), lt2("endobj");
  }, ce2 = function(t3, e2) {
    e2 || (e2 = 21);
    var n3 = Xt2(), r3 = function(t4, e3) {
      var n4, r4 = [], i3 = 1 / (e3 - 1);
      for (n4 = 0; n4 < 1; n4 += i3)
        r4.push(n4);
      if (r4.push(1), 0 != t4[0].offset) {
        var a4 = { offset: 0, color: t4[0].color };
        t4.unshift(a4);
      }
      if (1 != t4[t4.length - 1].offset) {
        var o2 = { offset: 1, color: t4[t4.length - 1].color };
        t4.push(o2);
      }
      for (var s3 = "", u3 = 0, c3 = 0; c3 < r4.length; c3++) {
        for (n4 = r4[c3]; n4 > t4[u3 + 1].offset; )
          u3++;
        var l2 = t4[u3].offset, h2 = (n4 - l2) / (t4[u3 + 1].offset - l2), f3 = t4[u3].color, d2 = t4[u3 + 1].color;
        s3 += tt2(Math.round((1 - h2) * f3[0] + h2 * d2[0]).toString(16)) + tt2(Math.round((1 - h2) * f3[1] + h2 * d2[1]).toString(16)) + tt2(Math.round((1 - h2) * f3[2] + h2 * d2[2]).toString(16));
      }
      return s3.trim();
    }(t3.colors, e2), i2 = [];
    i2.push({ key: "FunctionType", value: "0" }), i2.push({ key: "Domain", value: "[0.0 1.0]" }), i2.push({ key: "Size", value: "[" + e2 + "]" }), i2.push({ key: "BitsPerSample", value: "8" }), i2.push({ key: "Range", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), i2.push({ key: "Decode", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), ie2({ data: r3, additionalKeyValues: i2, alreadyAppliedFilters: ["/ASCIIHexDecode"], objectId: n3 }), lt2("endobj"), t3.objectNumber = Xt2(), lt2("<< /ShadingType " + t3.type), lt2("/ColorSpace /DeviceRGB");
    var a3 = "/Coords [" + B2(parseFloat(t3.coords[0])) + " " + B2(parseFloat(t3.coords[1])) + " ";
    2 === t3.type ? a3 += B2(parseFloat(t3.coords[2])) + " " + B2(parseFloat(t3.coords[3])) : a3 += B2(parseFloat(t3.coords[2])) + " " + B2(parseFloat(t3.coords[3])) + " " + B2(parseFloat(t3.coords[4])) + " " + B2(parseFloat(t3.coords[5])), lt2(a3 += "]"), t3.matrix && lt2("/Matrix [" + t3.matrix.toString() + "]"), lt2("/Function " + n3 + " 0 R"), lt2("/Extend [true true]"), lt2(">>"), lt2("endobj");
  }, le2 = function(t3, e2) {
    var n3 = Kt2(), r3 = Xt2();
    e2.push({ resourcesOid: n3, objectOid: r3 }), t3.objectNumber = r3;
    var i2 = [];
    i2.push({ key: "Type", value: "/Pattern" }), i2.push({ key: "PatternType", value: "1" }), i2.push({ key: "PaintType", value: "1" }), i2.push({ key: "TilingType", value: "1" }), i2.push({ key: "BBox", value: "[" + t3.boundingBox.map(B2).join(" ") + "]" }), i2.push({ key: "XStep", value: B2(t3.xStep) }), i2.push({ key: "YStep", value: B2(t3.yStep) }), i2.push({ key: "Resources", value: n3 + " 0 R" }), t3.matrix && i2.push({ key: "Matrix", value: "[" + t3.matrix.toString() + "]" }), ie2({ data: t3.stream, additionalKeyValues: i2, objectId: t3.objectNumber }), lt2("endobj");
  }, he2 = function(t3) {
    for (var e2 in t3.objectNumber = Xt2(), lt2("<<"), t3)
      switch (e2) {
        case "opacity":
          lt2("/ca " + T2(t3[e2]));
          break;
        case "stroke-opacity":
          lt2("/CA " + T2(t3[e2]));
      }
    lt2(">>"), lt2("endobj");
  }, fe2 = function(t3) {
    Zt2(t3.resourcesOid, true), lt2("<<"), lt2("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"), function() {
      for (var t4 in lt2("/Font <<"), Ft2)
        Ft2.hasOwnProperty(t4) && (false === v2 || true === v2 && b3.hasOwnProperty(t4)) && lt2("/" + t4 + " " + Ft2[t4].objectNumber + " 0 R");
      lt2(">>");
    }(), function() {
      if (Object.keys(Ct2).length > 0) {
        for (var t4 in lt2("/Shading <<"), Ct2)
          Ct2.hasOwnProperty(t4) && Ct2[t4] instanceof M && Ct2[t4].objectNumber >= 0 && lt2("/" + t4 + " " + Ct2[t4].objectNumber + " 0 R");
        Dt2.publish("putShadingPatternDict"), lt2(">>");
      }
    }(), function(t4) {
      if (Object.keys(Ct2).length > 0) {
        for (var e2 in lt2("/Pattern <<"), Ct2)
          Ct2.hasOwnProperty(e2) && Ct2[e2] instanceof y2.TilingPattern && Ct2[e2].objectNumber >= 0 && Ct2[e2].objectNumber < t4 && lt2("/" + e2 + " " + Ct2[e2].objectNumber + " 0 R");
        Dt2.publish("putTilingPatternDict"), lt2(">>");
      }
    }(t3.objectOid), function() {
      if (Object.keys(Bt2).length > 0) {
        var t4;
        for (t4 in lt2("/ExtGState <<"), Bt2)
          Bt2.hasOwnProperty(t4) && Bt2[t4].objectNumber >= 0 && lt2("/" + t4 + " " + Bt2[t4].objectNumber + " 0 R");
        Dt2.publish("putGStateDict"), lt2(">>");
      }
    }(), function() {
      for (var t4 in lt2("/XObject <<"), zt2)
        zt2.hasOwnProperty(t4) && zt2[t4].objectNumber >= 0 && lt2("/" + t4 + " " + zt2[t4].objectNumber + " 0 R");
      Dt2.publish("putXobjectDict"), lt2(">>");
    }(), lt2(">>"), lt2("endobj");
  }, de2 = function(t3) {
    It2[t3.fontName] = It2[t3.fontName] || {}, It2[t3.fontName][t3.fontStyle] = t3.id;
  }, pe2 = function(t3, e2, n3, r3, i2) {
    var a3 = { id: "F" + (Object.keys(Ft2).length + 1).toString(10), postScriptName: t3, fontName: e2, fontStyle: n3, encoding: r3, isStandardFont: i2 || false, metadata: {} };
    return Dt2.publish("addFont", { font: a3, instance: this }), Ft2[a3.id] = a3, de2(a3), a3.id;
  }, ge2 = y2.__private__.pdfEscape = y2.pdfEscape = function(t3, e2) {
    return function(t4, e3) {
      var n3, r3, i2, a3, o2, s3, u3, c3, l2;
      if (i2 = (e3 = e3 || {}).sourceEncoding || "Unicode", o2 = e3.outputEncoding, (e3.autoencode || o2) && Ft2[At2].metadata && Ft2[At2].metadata[i2] && Ft2[At2].metadata[i2].encoding && (a3 = Ft2[At2].metadata[i2].encoding, !o2 && Ft2[At2].encoding && (o2 = Ft2[At2].encoding), !o2 && a3.codePages && (o2 = a3.codePages[0]), "string" == typeof o2 && (o2 = a3[o2]), o2)) {
        for (u3 = false, s3 = [], n3 = 0, r3 = t4.length; n3 < r3; n3++)
          (c3 = o2[t4.charCodeAt(n3)]) ? s3.push(String.fromCharCode(c3)) : s3.push(t4[n3]), s3[n3].charCodeAt(0) >> 8 && (u3 = true);
        t4 = s3.join("");
      }
      for (n3 = t4.length; void 0 === u3 && 0 !== n3; )
        t4.charCodeAt(n3 - 1) >> 8 && (u3 = true), n3--;
      if (!u3)
        return t4;
      for (s3 = e3.noBOM ? [] : [254, 255], n3 = 0, r3 = t4.length; n3 < r3; n3++) {
        if ((l2 = (c3 = t4.charCodeAt(n3)) >> 8) >> 8)
          throw new Error("Character at position " + n3 + " of string '" + t4 + "' exceeds 16bits. Cannot be encoded into UCS-2 BE");
        s3.push(l2), s3.push(c3 - (l2 << 8));
      }
      return String.fromCharCode.apply(void 0, s3);
    }(t3, e2).replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)");
  }, me2 = y2.__private__.beginPage = function(t3) {
    ot2[++Et2] = [], Rt2[Et2] = { objId: 0, contentsObjId: 0, userUnit: Number(f2), artBox: null, bleedBox: null, cropBox: null, trimBox: null, mediaBox: { bottomLeftX: 0, bottomLeftY: 0, topRightX: Number(t3[0]), topRightY: Number(t3[1]) } }, ye2(Et2), ct2(ot2[$2]);
  }, ve2 = function(t3, e2) {
    var n3, i2, a3;
    switch (r2 = e2 || r2, "string" == typeof t3 && (n3 = x2(t3.toLowerCase()), Array.isArray(n3) && (i2 = n3[0], a3 = n3[1])), Array.isArray(t3) && (i2 = t3[0] * St2, a3 = t3[1] * St2), isNaN(i2) && (i2 = s2[0], a3 = s2[1]), (i2 > 14400 || a3 > 14400) && (o.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"), i2 = Math.min(14400, i2), a3 = Math.min(14400, a3)), s2 = [i2, a3], r2.substr(0, 1)) {
      case "l":
        a3 > i2 && (s2 = [a3, i2]);
        break;
      case "p":
        i2 > a3 && (s2 = [a3, i2]);
    }
    me2(s2), Ze2(Xe2), lt2(on2), 0 !== fn && lt2(fn + " J"), 0 !== dn && lt2(dn + " j"), Dt2.publish("addPage", { pageNumber: Et2 });
  }, be2 = function(t3) {
    t3 > 0 && t3 <= Et2 && (ot2.splice(t3, 1), Rt2.splice(t3, 1), Et2--, $2 > Et2 && ($2 = Et2), this.setPage($2));
  }, ye2 = function(t3) {
    t3 > 0 && t3 <= Et2 && ($2 = t3);
  }, we2 = y2.__private__.getNumberOfPages = y2.getNumberOfPages = function() {
    return ot2.length - 1;
  }, Ne2 = function(t3, e2, n3) {
    var r3, i2 = void 0;
    return n3 = n3 || {}, t3 = void 0 !== t3 ? t3 : Ft2[At2].fontName, e2 = void 0 !== e2 ? e2 : Ft2[At2].fontStyle, r3 = t3.toLowerCase(), void 0 !== It2[r3] && void 0 !== It2[r3][e2] ? i2 = It2[r3][e2] : void 0 !== It2[t3] && void 0 !== It2[t3][e2] ? i2 = It2[t3][e2] : false === n3.disableWarning && o.warn("Unable to look up font label for font '" + t3 + "', '" + e2 + "'. Refer to getFontList() for available fonts."), i2 || n3.noFallback || null == (i2 = It2.times[e2]) && (i2 = It2.times.normal), i2;
  }, Le2 = y2.__private__.putInfo = function() {
    var t3 = Xt2(), e2 = function(t4) {
      return t4;
    };
    for (var n3 in null !== m2 && (e2 = je2.encryptor(t3, 0)), lt2("<<"), lt2("/Producer (" + ge2(e2("jsPDF " + E.version)) + ")"), xt2)
      xt2.hasOwnProperty(n3) && xt2[n3] && lt2("/" + n3.substr(0, 1).toUpperCase() + n3.substr(1) + " (" + ge2(e2(xt2[n3])) + ")");
    lt2("/CreationDate (" + ge2(e2(W2)) + ")"), lt2(">>"), lt2("endobj");
  }, xe2 = y2.__private__.putCatalog = function(t3) {
    var e2 = (t3 = t3 || {}).rootDictionaryObjId || Qt2;
    switch (Xt2(), lt2("<<"), lt2("/Type /Catalog"), lt2("/Pages " + e2 + " 0 R"), gt2 || (gt2 = "fullwidth"), gt2) {
      case "fullwidth":
        lt2("/OpenAction [3 0 R /FitH null]");
        break;
      case "fullheight":
        lt2("/OpenAction [3 0 R /FitV null]");
        break;
      case "fullpage":
        lt2("/OpenAction [3 0 R /Fit]");
        break;
      case "original":
        lt2("/OpenAction [3 0 R /XYZ null null 1]");
        break;
      default:
        var n3 = "" + gt2;
        "%" === n3.substr(n3.length - 1) && (gt2 = parseInt(gt2) / 100), "number" == typeof gt2 && lt2("/OpenAction [3 0 R /XYZ null null " + T2(gt2) + "]");
    }
    switch (wt2 || (wt2 = "continuous"), wt2) {
      case "continuous":
        lt2("/PageLayout /OneColumn");
        break;
      case "single":
        lt2("/PageLayout /SinglePage");
        break;
      case "two":
      case "twoleft":
        lt2("/PageLayout /TwoColumnLeft");
        break;
      case "tworight":
        lt2("/PageLayout /TwoColumnRight");
    }
    bt2 && lt2("/PageMode /" + bt2), Dt2.publish("putCatalog"), lt2(">>"), lt2("endobj");
  }, Ae2 = y2.__private__.putTrailer = function() {
    lt2("trailer"), lt2("<<"), lt2("/Size " + (et2 + 1)), lt2("/Root " + et2 + " 0 R"), lt2("/Info " + (et2 - 1) + " 0 R"), null !== m2 && lt2("/Encrypt " + je2.oid + " 0 R"), lt2("/ID [ <" + V2 + "> <" + V2 + "> ]"), lt2(">>");
  }, Se2 = y2.__private__.putHeader = function() {
    lt2("%PDF-" + w2), lt2("%\xBA\xDF\xAC\xE0");
  }, _e2 = y2.__private__.putXRef = function() {
    var t3 = "0000000000";
    lt2("xref"), lt2("0 " + (et2 + 1)), lt2("0000000000 65535 f ");
    for (var e2 = 1; e2 <= et2; e2++)
      "function" == typeof nt2[e2] ? lt2((t3 + nt2[e2]()).slice(-10) + " 00000 n ") : void 0 !== nt2[e2] ? lt2((t3 + nt2[e2]).slice(-10) + " 00000 n ") : lt2("0000000000 00000 n ");
  }, Pe2 = y2.__private__.buildDocument = function() {
    var t3;
    et2 = 0, it2 = 0, rt2 = [], nt2 = [], at2 = [], Qt2 = Kt2(), te2 = Kt2(), ct2(rt2), Dt2.publish("buildDocument"), Se2(), oe2(), function() {
      Dt2.publish("putAdditionalObjects");
      for (var t4 = 0; t4 < at2.length; t4++) {
        var e3 = at2[t4];
        Zt2(e3.objId, true), lt2(e3.content), lt2("endobj");
      }
      Dt2.publish("postPutAdditionalObjects");
    }(), t3 = [], function() {
      for (var t4 in Ft2)
        Ft2.hasOwnProperty(t4) && (false === v2 || true === v2 && b3.hasOwnProperty(t4)) && se2(Ft2[t4]);
    }(), function() {
      var t4;
      for (t4 in Bt2)
        Bt2.hasOwnProperty(t4) && he2(Bt2[t4]);
    }(), function() {
      for (var t4 in zt2)
        zt2.hasOwnProperty(t4) && ue2(zt2[t4]);
    }(), function(t4) {
      var e3;
      for (e3 in Ct2)
        Ct2.hasOwnProperty(e3) && (Ct2[e3] instanceof M ? ce2(Ct2[e3]) : Ct2[e3] instanceof q && le2(Ct2[e3], t4));
    }(t3), Dt2.publish("putResources"), t3.forEach(fe2), fe2({ resourcesOid: te2, objectOid: Number.MAX_SAFE_INTEGER }), Dt2.publish("postPutResources"), null !== m2 && (je2.oid = Xt2(), lt2("<<"), lt2("/Filter /Standard"), lt2("/V " + je2.v), lt2("/R " + je2.r), lt2("/U <" + je2.toHexString(je2.U) + ">"), lt2("/O <" + je2.toHexString(je2.O) + ">"), lt2("/P " + je2.P), lt2(">>"), lt2("endobj")), Le2(), xe2();
    var e2 = it2;
    return _e2(), Ae2(), lt2("startxref"), lt2("" + e2), lt2("%%EOF"), ct2(ot2[$2]), rt2.join("\n");
  }, ke2 = y2.__private__.getBlob = function(t3) {
    return new Blob([ft2(t3)], { type: "application/pdf" });
  }, Fe2 = y2.output = y2.__private__.output = (Jt2 = function(t3, e2) {
    switch ("string" == typeof (e2 = e2 || {}) ? e2 = { filename: e2 } : e2.filename = e2.filename || "generated.pdf", t3) {
      case void 0:
        return Pe2();
      case "save":
        y2.save(e2.filename);
        break;
      case "arraybuffer":
        return ft2(Pe2());
      case "blob":
        return ke2(Pe2());
      case "bloburi":
      case "bloburl":
        if (void 0 !== i.URL && "function" == typeof i.URL.createObjectURL)
          return i.URL && i.URL.createObjectURL(ke2(Pe2())) || void 0;
        o.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");
        break;
      case "datauristring":
      case "dataurlstring":
        var n3 = "", r3 = Pe2();
        try {
          n3 = d(r3);
        } catch (m3) {
          n3 = d(unescape(encodeURIComponent(r3)));
        }
        return "data:application/pdf;filename=" + e2.filename + ";base64," + n3;
      case "pdfobjectnewwindow":
        if ("[object Window]" === Object.prototype.toString.call(i)) {
          var a3 = "https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js", s3 = ' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';
          e2.pdfObjectUrl && (a3 = e2.pdfObjectUrl, s3 = "");
          var u3 = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="' + a3 + '"' + s3 + '><\/script><script >PDFObject.embed("' + this.output("dataurlstring") + '", ' + JSON.stringify(e2) + ");<\/script></body></html>", c3 = i.open();
          return null !== c3 && c3.document.write(u3), c3;
        }
        throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");
      case "pdfjsnewwindow":
        if ("[object Window]" === Object.prototype.toString.call(i)) {
          var l2 = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="' + (e2.pdfJsUrl || "examples/PDF.js/web/viewer.html") + "?file=&downloadName=" + e2.filename + '" width="500px" height="400px" /></body></html>', h2 = i.open();
          if (null !== h2) {
            h2.document.write(l2);
            var f3 = this;
            h2.document.documentElement.querySelector("#pdfViewer").onload = function() {
              h2.document.title = e2.filename, h2.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(f3.output("bloburl"));
            };
          }
          return h2;
        }
        throw new Error("The option pdfjsnewwindow just works in a browser-environment.");
      case "dataurlnewwindow":
        if ("[object Window]" !== Object.prototype.toString.call(i))
          throw new Error("The option dataurlnewwindow just works in a browser-environment.");
        var p3 = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="' + this.output("datauristring", e2) + '"></iframe></body></html>', g3 = i.open();
        if (null !== g3 && (g3.document.write(p3), g3.document.title = e2.filename), g3 || "undefined" == typeof safari)
          return g3;
        break;
      case "datauri":
      case "dataurl":
        return i.document.location.href = this.output("datauristring", e2);
      default:
        return null;
    }
  }, Jt2.foo = function() {
    try {
      return Jt2.apply(this, arguments);
    } catch (n3) {
      var t3 = n3.stack || "";
      ~t3.indexOf(" at ") && (t3 = t3.split(" at ")[1]);
      var e2 = "Error in function " + t3.split("\n")[0].split("<")[0] + ": " + n3.message;
      if (!i.console)
        throw new Error(e2);
      i.console.error(e2, n3), i.alert && alert(e2);
    }
  }, Jt2.foo.bar = Jt2, Jt2.foo), Ie2 = function(t3) {
    return true === Array.isArray(Tt2) && Tt2.indexOf(t3) > -1;
  };
  switch (a2) {
    case "pt":
      St2 = 1;
      break;
    case "mm":
      St2 = 72 / 25.4;
      break;
    case "cm":
      St2 = 72 / 2.54;
      break;
    case "in":
      St2 = 72;
      break;
    case "px":
      St2 = 1 == Ie2("px_scaling") ? 0.75 : 96 / 72;
      break;
    case "pc":
    case "em":
      St2 = 12;
      break;
    case "ex":
      St2 = 6;
      break;
    default:
      if ("number" != typeof a2)
        throw new Error("Invalid unit: " + a2);
      St2 = a2;
  }
  var je2 = null;
  K2(), Y2();
  var Ce2 = y2.__private__.getPageInfo = y2.getPageInfo = function(t3) {
    if (isNaN(t3) || t3 % 1 != 0)
      throw new Error("Invalid argument passed to jsPDF.getPageInfo");
    return { objId: Rt2[t3].objId, pageNumber: t3, pageContext: Rt2[t3] };
  }, Oe2 = y2.__private__.getPageInfoByObjId = function(t3) {
    if (isNaN(t3) || t3 % 1 != 0)
      throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");
    for (var e2 in Rt2)
      if (Rt2[e2].objId === t3)
        break;
    return Ce2(e2);
  }, Be2 = y2.__private__.getCurrentPageInfo = y2.getCurrentPageInfo = function() {
    return { objId: Rt2[$2].objId, pageNumber: $2, pageContext: Rt2[$2] };
  };
  y2.addPage = function() {
    return ve2.apply(this, arguments), this;
  }, y2.setPage = function() {
    return ye2.apply(this, arguments), ct2.call(this, ot2[$2]), this;
  }, y2.insertPage = function(t3) {
    return this.addPage(), this.movePage($2, t3), this;
  }, y2.movePage = function(t3, e2) {
    var n3, r3;
    if (t3 > e2) {
      n3 = ot2[t3], r3 = Rt2[t3];
      for (var i2 = t3; i2 > e2; i2--)
        ot2[i2] = ot2[i2 - 1], Rt2[i2] = Rt2[i2 - 1];
      ot2[e2] = n3, Rt2[e2] = r3, this.setPage(e2);
    } else if (t3 < e2) {
      n3 = ot2[t3], r3 = Rt2[t3];
      for (var a3 = t3; a3 < e2; a3++)
        ot2[a3] = ot2[a3 + 1], Rt2[a3] = Rt2[a3 + 1];
      ot2[e2] = n3, Rt2[e2] = r3, this.setPage(e2);
    }
    return this;
  }, y2.deletePage = function() {
    return be2.apply(this, arguments), this;
  }, y2.__private__.text = y2.text = function(e2, n3, r3, i2, a3) {
    var o2, s3, u3, c3, l2, h2, f3, d2, p3, g3 = (i2 = i2 || {}).scope || this;
    if ("number" == typeof e2 && "number" == typeof n3 && ("string" == typeof r3 || Array.isArray(r3))) {
      var m3 = r3;
      r3 = n3, n3 = e2, e2 = m3;
    }
    if (arguments[3] instanceof Wt2 == 0 ? (u3 = arguments[4], c3 = arguments[5], "object" === _typeof(f3 = arguments[3]) && null !== f3 || ("string" == typeof u3 && (c3 = u3, u3 = null), "string" == typeof f3 && (c3 = f3, f3 = null), "number" == typeof f3 && (u3 = f3, f3 = null), i2 = { flags: f3, angle: u3, align: c3 })) : (R2("The transform parameter of text() with a Matrix value"), p3 = a3), isNaN(n3) || isNaN(r3) || null == e2)
      throw new Error("Invalid arguments passed to jsPDF.text");
    if (0 === e2.length)
      return g3;
    var v3, y3 = "", w3 = "number" == typeof i2.lineHeightFactor ? i2.lineHeightFactor : Je2, N3 = g3.internal.scaleFactor;
    function L3(t3) {
      return t3 = t3.split("	").join(Array(i2.TabLen || 9).join(" ")), ge2(t3, f3);
    }
    function x3(t3) {
      for (var e3, n4 = t3.concat(), r4 = [], i3 = n4.length; i3--; )
        "string" == typeof (e3 = n4.shift()) ? r4.push(e3) : Array.isArray(t3) && (1 === e3.length || void 0 === e3[1] && void 0 === e3[2]) ? r4.push(e3[0]) : r4.push([e3[0], e3[1], e3[2]]);
      return r4;
    }
    function A3(t3, e3) {
      var n4;
      if ("string" == typeof t3)
        n4 = e3(t3)[0];
      else if (Array.isArray(t3)) {
        for (var r4, i3, a4 = t3.concat(), o3 = [], s4 = a4.length; s4--; )
          "string" == typeof (r4 = a4.shift()) ? o3.push(e3(r4)[0]) : Array.isArray(r4) && "string" == typeof r4[0] && (i3 = e3(r4[0], r4[1], r4[2]), o3.push([i3[0], i3[1], i3[2]]));
        n4 = o3;
      }
      return n4;
    }
    var P3 = false, k4 = true;
    if ("string" == typeof e2)
      P3 = true;
    else if (Array.isArray(e2)) {
      var F3 = e2.concat();
      s3 = [];
      for (var I2, j2 = F3.length; j2--; )
        ("string" != typeof (I2 = F3.shift()) || Array.isArray(I2) && "string" != typeof I2[0]) && (k4 = false);
      P3 = k4;
    }
    if (false === P3)
      throw new Error('Type of text must be string or Array. "' + e2 + '" is not recognized.');
    "string" == typeof e2 && (e2 = e2.match(/[\r?\n]/) ? e2.split(/\r\n|\r|\n/g) : [e2]);
    var C2 = pt2 / g3.internal.scaleFactor, O2 = C2 * (w3 - 1);
    switch (i2.baseline) {
      case "bottom":
        r3 -= O2;
        break;
      case "top":
        r3 += C2 - O2;
        break;
      case "hanging":
        r3 += C2 - 2 * O2;
        break;
      case "middle":
        r3 += C2 / 2 - O2;
    }
    if ((h2 = i2.maxWidth || 0) > 0 && ("string" == typeof e2 ? e2 = g3.splitTextToSize(e2, h2) : "[object Array]" === Object.prototype.toString.call(e2) && (e2 = e2.reduce(function(t3, e3) {
      return t3.concat(g3.splitTextToSize(e3, h2));
    }, []))), o2 = { text: e2, x: n3, y: r3, options: i2, mutex: { pdfEscape: ge2, activeFontKey: At2, fonts: Ft2, activeFontSize: pt2 } }, Dt2.publish("preProcessText", o2), e2 = o2.text, u3 = (i2 = o2.options).angle, p3 instanceof Wt2 == 0 && u3 && "number" == typeof u3) {
      u3 *= Math.PI / 180, 0 === i2.rotationDirection && (u3 = -u3), _2 === S2 && (u3 = -u3);
      var M2 = Math.cos(u3), q2 = Math.sin(u3);
      p3 = new Wt2(M2, q2, -q2, M2, 0, 0);
    } else
      u3 && u3 instanceof Wt2 && (p3 = u3);
    _2 !== S2 || p3 || (p3 = Gt2), void 0 !== (l2 = i2.charSpace || ln2) && (y3 += B2(U2(l2)) + " Tc\n", this.setCharSpace(this.getCharSpace() || 0)), void 0 !== (d2 = i2.horizontalScale) && (y3 += B2(100 * d2) + " Tz\n"), i2.lang;
    var E2 = -1, D3 = void 0 !== i2.renderingMode ? i2.renderingMode : i2.stroke, T3 = g3.internal.getCurrentPageInfo().pageContext;
    switch (D3) {
      case 0:
      case false:
      case "fill":
        E2 = 0;
        break;
      case 1:
      case true:
      case "stroke":
        E2 = 1;
        break;
      case 2:
      case "fillThenStroke":
        E2 = 2;
        break;
      case 3:
      case "invisible":
        E2 = 3;
        break;
      case 4:
      case "fillAndAddForClipping":
        E2 = 4;
        break;
      case 5:
      case "strokeAndAddPathForClipping":
        E2 = 5;
        break;
      case 6:
      case "fillThenStrokeAndAddToPathForClipping":
        E2 = 6;
        break;
      case 7:
      case "addToPathForClipping":
        E2 = 7;
    }
    var z3 = void 0 !== T3.usedRenderingMode ? T3.usedRenderingMode : -1;
    -1 !== E2 ? y3 += E2 + " Tr\n" : -1 !== z3 && (y3 += "0 Tr\n"), -1 !== E2 && (T3.usedRenderingMode = E2), c3 = i2.align || "left";
    var H3, W3 = pt2 * w3, V3 = g3.internal.pageSize.getWidth(), G3 = Ft2[At2];
    l2 = i2.charSpace || ln2, h2 = i2.maxWidth || 0, f3 = Object.assign({ autoencode: true, noBOM: true }, i2.flags);
    var Y3 = [], J3 = function(t3) {
      return g3.getStringUnitWidth(t3, { font: G3, charSpace: l2, fontSize: pt2, doKerning: false }) * pt2 / N3;
    };
    if ("[object Array]" === Object.prototype.toString.call(e2)) {
      var X3;
      s3 = x3(e2), "left" !== c3 && (H3 = s3.map(J3));
      var K3, Z3 = 0;
      if ("right" === c3) {
        n3 -= H3[0], e2 = [], j2 = s3.length;
        for (var $3 = 0; $3 < j2; $3++)
          0 === $3 ? (K3 = en(n3), X3 = nn(r3)) : (K3 = U2(Z3 - H3[$3]), X3 = -W3), e2.push([s3[$3], K3, X3]), Z3 = H3[$3];
      } else if ("center" === c3) {
        n3 -= H3[0] / 2, e2 = [], j2 = s3.length;
        for (var Q3 = 0; Q3 < j2; Q3++)
          0 === Q3 ? (K3 = en(n3), X3 = nn(r3)) : (K3 = U2((Z3 - H3[Q3]) / 2), X3 = -W3), e2.push([s3[Q3], K3, X3]), Z3 = H3[Q3];
      } else if ("left" === c3) {
        e2 = [], j2 = s3.length;
        for (var tt3 = 0; tt3 < j2; tt3++)
          e2.push(s3[tt3]);
      } else if ("justify" === c3 && "Identity-H" === G3.encoding) {
        e2 = [], j2 = s3.length, h2 = 0 !== h2 ? h2 : V3;
        for (var et3 = 0, nt3 = 0; nt3 < j2; nt3++)
          if (X3 = 0 === nt3 ? nn(r3) : -W3, K3 = 0 === nt3 ? en(n3) : et3, nt3 < j2 - 1) {
            var rt3 = U2((h2 - H3[nt3]) / (s3[nt3].split(" ").length - 1)), it3 = s3[nt3].split(" ");
            e2.push([it3[0] + " ", K3, X3]), et3 = 0;
            for (var at3 = 1; at3 < it3.length; at3++) {
              var ot3 = (J3(it3[at3 - 1] + " " + it3[at3]) - J3(it3[at3])) * N3 + rt3;
              at3 == it3.length - 1 ? e2.push([it3[at3], ot3, 0]) : e2.push([it3[at3] + " ", ot3, 0]), et3 -= ot3;
            }
          } else
            e2.push([s3[nt3], K3, X3]);
        e2.push(["", et3, 0]);
      } else {
        if ("justify" !== c3)
          throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');
        for (e2 = [], j2 = s3.length, h2 = 0 !== h2 ? h2 : V3, nt3 = 0; nt3 < j2; nt3++) {
          X3 = 0 === nt3 ? nn(r3) : -W3, K3 = 0 === nt3 ? en(n3) : 0;
          var st3 = s3[nt3].split(" ").length - 1, ut3 = st3 > 0 ? (h2 - H3[nt3]) / st3 : 0;
          nt3 < j2 - 1 ? Y3.push(B2(U2(ut3))) : Y3.push(0), e2.push([s3[nt3], K3, X3]);
        }
      }
    }
    true === ("boolean" == typeof i2.R2L ? i2.R2L : vt2) && (e2 = A3(e2, function(t3, e3, n4) {
      return [t3.split("").reverse().join(""), e3, n4];
    })), o2 = { text: e2, x: n3, y: r3, options: i2, mutex: { pdfEscape: ge2, activeFontKey: At2, fonts: Ft2, activeFontSize: pt2 } }, Dt2.publish("postProcessText", o2), e2 = o2.text, v3 = o2.mutex.isHex || false;
    var ct3 = Ft2[At2].encoding;
    "WinAnsiEncoding" !== ct3 && "StandardEncoding" !== ct3 || (e2 = A3(e2, function(t3, e3, n4) {
      return [L3(t3), e3, n4];
    })), s3 = x3(e2), e2 = [];
    for (var ht3, ft3, dt3, gt3 = Array.isArray(s3[0]) ? 1 : 0, mt3 = "", bt3 = function(t3, e3, n4) {
      var r4 = "";
      return n4 instanceof Wt2 ? (n4 = "number" == typeof i2.angle ? Vt2(n4, new Wt2(1, 0, 0, 1, t3, e3)) : Vt2(new Wt2(1, 0, 0, 1, t3, e3), n4), _2 === S2 && (n4 = Vt2(new Wt2(1, 0, 0, -1, 0, 0), n4)), r4 = n4.join(" ") + " Tm\n") : r4 = B2(t3) + " " + B2(e3) + " Td\n", r4;
    }, yt3 = 0; yt3 < s3.length; yt3++) {
      switch (mt3 = "", gt3) {
        case 1:
          dt3 = (v3 ? "<" : "(") + s3[yt3][0] + (v3 ? ">" : ")"), ht3 = parseFloat(s3[yt3][1]), ft3 = parseFloat(s3[yt3][2]);
          break;
        case 0:
          dt3 = (v3 ? "<" : "(") + s3[yt3] + (v3 ? ">" : ")"), ht3 = en(n3), ft3 = nn(r3);
      }
      void 0 !== Y3 && void 0 !== Y3[yt3] && (mt3 = Y3[yt3] + " Tw\n"), 0 === yt3 ? e2.push(mt3 + bt3(ht3, ft3, p3) + dt3) : 0 === gt3 ? e2.push(mt3 + dt3) : 1 === gt3 && e2.push(mt3 + bt3(ht3, ft3, p3) + dt3);
    }
    e2 = 0 === gt3 ? e2.join(" Tj\nT* ") : e2.join(" Tj\n"), e2 += " Tj\n";
    var wt3 = "BT\n/";
    return wt3 += At2 + " " + pt2 + " Tf\n", wt3 += B2(pt2 * w3) + " TL\n", wt3 += un + "\n", wt3 += y3, wt3 += e2, lt2(wt3 += "ET"), b3[At2] = true, g3;
  };
  var Me2 = y2.__private__.clip = y2.clip = function(t3) {
    return lt2("evenodd" === t3 ? "W*" : "W"), this;
  };
  y2.clipEvenOdd = function() {
    return Me2("evenodd");
  }, y2.__private__.discardPath = y2.discardPath = function() {
    return lt2("n"), this;
  };
  var qe2 = y2.__private__.isValidStyle = function(t3) {
    var e2 = false;
    return -1 !== [void 0, null, "S", "D", "F", "DF", "FD", "f", "f*", "B", "B*", "n"].indexOf(t3) && (e2 = true), e2;
  };
  y2.__private__.setDefaultPathOperation = y2.setDefaultPathOperation = function(t3) {
    return qe2(t3) && (g2 = t3), this;
  };
  var Ee2 = y2.__private__.getStyle = y2.getStyle = function(t3) {
    var e2 = g2;
    switch (t3) {
      case "D":
      case "S":
        e2 = "S";
        break;
      case "F":
        e2 = "f";
        break;
      case "FD":
      case "DF":
        e2 = "B";
        break;
      case "f":
      case "f*":
      case "B":
      case "B*":
        e2 = t3;
    }
    return e2;
  }, Re2 = y2.close = function() {
    return lt2("h"), this;
  };
  y2.stroke = function() {
    return lt2("S"), this;
  }, y2.fill = function(t3) {
    return De2("f", t3), this;
  }, y2.fillEvenOdd = function(t3) {
    return De2("f*", t3), this;
  }, y2.fillStroke = function(t3) {
    return De2("B", t3), this;
  }, y2.fillStrokeEvenOdd = function(t3) {
    return De2("B*", t3), this;
  };
  var De2 = function(e2, n3) {
    "object" === _typeof(n3) ? Ue2(n3, e2) : lt2(e2);
  }, Te2 = function(t3) {
    null === t3 || _2 === S2 && void 0 === t3 || (t3 = Ee2(t3), lt2(t3));
  };
  function ze(t3, e2, n3, r3, i2) {
    var a3 = new q(e2 || this.boundingBox, n3 || this.xStep, r3 || this.yStep, this.gState, i2 || this.matrix);
    a3.stream = this.stream;
    var o2 = t3 + "$$" + this.cloneIndex++ + "$$";
    return Yt2(o2, a3), a3;
  }
  var Ue2 = function(t3, e2) {
    var n3 = Ot2[t3.key], r3 = Ct2[n3];
    if (r3 instanceof M)
      lt2("q"), lt2(He2(e2)), r3.gState && y2.setGState(r3.gState), lt2(t3.matrix.toString() + " cm"), lt2("/" + n3 + " sh"), lt2("Q");
    else if (r3 instanceof q) {
      var i2 = new Wt2(1, 0, 0, -1, 0, _n());
      t3.matrix && (i2 = i2.multiply(t3.matrix || Gt2), n3 = ze.call(r3, t3.key, t3.boundingBox, t3.xStep, t3.yStep, i2).id), lt2("q"), lt2("/Pattern cs"), lt2("/" + n3 + " scn"), r3.gState && y2.setGState(r3.gState), lt2(e2), lt2("Q");
    }
  }, He2 = function(t3) {
    switch (t3) {
      case "f":
      case "F":
      case "n":
        return "W n";
      case "f*":
        return "W* n";
      case "B":
      case "S":
        return "W S";
      case "B*":
        return "W* S";
    }
  }, We2 = y2.moveTo = function(t3, e2) {
    return lt2(B2(U2(t3)) + " " + B2(H2(e2)) + " m"), this;
  }, Ve2 = y2.lineTo = function(t3, e2) {
    return lt2(B2(U2(t3)) + " " + B2(H2(e2)) + " l"), this;
  }, Ge2 = y2.curveTo = function(t3, e2, n3, r3, i2, a3) {
    return lt2([B2(U2(t3)), B2(H2(e2)), B2(U2(n3)), B2(H2(r3)), B2(U2(i2)), B2(H2(a3)), "c"].join(" ")), this;
  };
  y2.__private__.line = y2.line = function(t3, e2, n3, r3, i2) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3) || !qe2(i2))
      throw new Error("Invalid arguments passed to jsPDF.line");
    return _2 === A2 ? this.lines([[n3 - t3, r3 - e2]], t3, e2, [1, 1], i2 || "S") : this.lines([[n3 - t3, r3 - e2]], t3, e2, [1, 1]).stroke();
  }, y2.__private__.lines = y2.lines = function(t3, e2, n3, r3, i2, a3) {
    var o2, s3, u3, c3, l2, h2, f3, d2, p3, g3, m3, v3;
    if ("number" == typeof t3 && (v3 = n3, n3 = e2, e2 = t3, t3 = v3), r3 = r3 || [1, 1], a3 = a3 || false, isNaN(e2) || isNaN(n3) || !Array.isArray(t3) || !Array.isArray(r3) || !qe2(i2) || "boolean" != typeof a3)
      throw new Error("Invalid arguments passed to jsPDF.lines");
    for (We2(e2, n3), o2 = r3[0], s3 = r3[1], c3 = t3.length, g3 = e2, m3 = n3, u3 = 0; u3 < c3; u3++)
      2 === (l2 = t3[u3]).length ? (g3 = l2[0] * o2 + g3, m3 = l2[1] * s3 + m3, Ve2(g3, m3)) : (h2 = l2[0] * o2 + g3, f3 = l2[1] * s3 + m3, d2 = l2[2] * o2 + g3, p3 = l2[3] * s3 + m3, g3 = l2[4] * o2 + g3, m3 = l2[5] * s3 + m3, Ge2(h2, f3, d2, p3, g3, m3));
    return a3 && Re2(), Te2(i2), this;
  }, y2.path = function(t3) {
    for (var e2 = 0; e2 < t3.length; e2++) {
      var n3 = t3[e2], r3 = n3.c;
      switch (n3.op) {
        case "m":
          We2(r3[0], r3[1]);
          break;
        case "l":
          Ve2(r3[0], r3[1]);
          break;
        case "c":
          Ge2.apply(this, r3);
          break;
        case "h":
          Re2();
      }
    }
    return this;
  }, y2.__private__.rect = y2.rect = function(t3, e2, n3, r3, i2) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3) || !qe2(i2))
      throw new Error("Invalid arguments passed to jsPDF.rect");
    return _2 === A2 && (r3 = -r3), lt2([B2(U2(t3)), B2(H2(e2)), B2(U2(n3)), B2(U2(r3)), "re"].join(" ")), Te2(i2), this;
  }, y2.__private__.triangle = y2.triangle = function(t3, e2, n3, r3, i2, a3, o2) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3) || isNaN(i2) || isNaN(a3) || !qe2(o2))
      throw new Error("Invalid arguments passed to jsPDF.triangle");
    return this.lines([[n3 - t3, r3 - e2], [i2 - n3, a3 - r3], [t3 - i2, e2 - a3]], t3, e2, [1, 1], o2, true), this;
  }, y2.__private__.roundedRect = y2.roundedRect = function(t3, e2, n3, r3, i2, a3, o2) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3) || isNaN(i2) || isNaN(a3) || !qe2(o2))
      throw new Error("Invalid arguments passed to jsPDF.roundedRect");
    var s3 = 4 / 3 * (Math.SQRT2 - 1);
    return i2 = Math.min(i2, 0.5 * n3), a3 = Math.min(a3, 0.5 * r3), this.lines([[n3 - 2 * i2, 0], [i2 * s3, 0, i2, a3 - a3 * s3, i2, a3], [0, r3 - 2 * a3], [0, a3 * s3, -i2 * s3, a3, -i2, a3], [2 * i2 - n3, 0], [-i2 * s3, 0, -i2, -a3 * s3, -i2, -a3], [0, 2 * a3 - r3], [0, -a3 * s3, i2 * s3, -a3, i2, -a3]], t3 + i2, e2, [1, 1], o2, true), this;
  }, y2.__private__.ellipse = y2.ellipse = function(t3, e2, n3, r3, i2) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3) || !qe2(i2))
      throw new Error("Invalid arguments passed to jsPDF.ellipse");
    var a3 = 4 / 3 * (Math.SQRT2 - 1) * n3, o2 = 4 / 3 * (Math.SQRT2 - 1) * r3;
    return We2(t3 + n3, e2), Ge2(t3 + n3, e2 - o2, t3 + a3, e2 - r3, t3, e2 - r3), Ge2(t3 - a3, e2 - r3, t3 - n3, e2 - o2, t3 - n3, e2), Ge2(t3 - n3, e2 + o2, t3 - a3, e2 + r3, t3, e2 + r3), Ge2(t3 + a3, e2 + r3, t3 + n3, e2 + o2, t3 + n3, e2), Te2(i2), this;
  }, y2.__private__.circle = y2.circle = function(t3, e2, n3, r3) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || !qe2(r3))
      throw new Error("Invalid arguments passed to jsPDF.circle");
    return this.ellipse(t3, e2, n3, n3, r3);
  }, y2.setFont = function(t3, e2, n3) {
    return n3 && (e2 = F2(e2, n3)), At2 = Ne2(t3, e2, { disableWarning: false }), this;
  };
  var Ye2 = y2.__private__.getFont = y2.getFont = function() {
    return Ft2[Ne2.apply(y2, arguments)];
  };
  y2.__private__.getFontList = y2.getFontList = function() {
    var t3, e2, n3 = {};
    for (t3 in It2)
      if (It2.hasOwnProperty(t3))
        for (e2 in n3[t3] = [], It2[t3])
          It2[t3].hasOwnProperty(e2) && n3[t3].push(e2);
    return n3;
  }, y2.addFont = function(t3, e2, n3, r3, i2) {
    var a3 = ["StandardEncoding", "MacRomanEncoding", "Identity-H", "WinAnsiEncoding"];
    return arguments[3] && -1 !== a3.indexOf(arguments[3]) ? i2 = arguments[3] : arguments[3] && -1 == a3.indexOf(arguments[3]) && (n3 = F2(n3, r3)), pe2.call(this, t3, e2, n3, i2 = i2 || "Identity-H");
  };
  var Je2, Xe2 = e.lineWidth || 0.200025, Ke2 = y2.__private__.getLineWidth = y2.getLineWidth = function() {
    return Xe2;
  }, Ze2 = y2.__private__.setLineWidth = y2.setLineWidth = function(t3) {
    return Xe2 = t3, lt2(B2(U2(t3)) + " w"), this;
  };
  y2.__private__.setLineDash = E.API.setLineDash = E.API.setLineDashPattern = function(t3, e2) {
    if (t3 = t3 || [], e2 = e2 || 0, isNaN(e2) || !Array.isArray(t3))
      throw new Error("Invalid arguments passed to jsPDF.setLineDash");
    return t3 = t3.map(function(t4) {
      return B2(U2(t4));
    }).join(" "), e2 = B2(U2(e2)), lt2("[" + t3 + "] " + e2 + " d"), this;
  };
  var $e2 = y2.__private__.getLineHeight = y2.getLineHeight = function() {
    return pt2 * Je2;
  };
  y2.__private__.getLineHeight = y2.getLineHeight = function() {
    return pt2 * Je2;
  };
  var Qe2 = y2.__private__.setLineHeightFactor = y2.setLineHeightFactor = function(t3) {
    return "number" == typeof (t3 = t3 || 1.15) && (Je2 = t3), this;
  }, tn = y2.__private__.getLineHeightFactor = y2.getLineHeightFactor = function() {
    return Je2;
  };
  Qe2(e.lineHeight);
  var en = y2.__private__.getHorizontalCoordinate = function(t3) {
    return U2(t3);
  }, nn = y2.__private__.getVerticalCoordinate = function(t3) {
    return _2 === S2 ? t3 : Rt2[$2].mediaBox.topRightY - Rt2[$2].mediaBox.bottomLeftY - U2(t3);
  }, rn = y2.__private__.getHorizontalCoordinateString = y2.getHorizontalCoordinateString = function(t3) {
    return B2(en(t3));
  }, an = y2.__private__.getVerticalCoordinateString = y2.getVerticalCoordinateString = function(t3) {
    return B2(nn(t3));
  }, on2 = e.strokeColor || "0 G";
  y2.__private__.getStrokeColor = y2.getDrawColor = function() {
    return ee2(on2);
  }, y2.__private__.setStrokeColor = y2.setDrawColor = function(t3, e2, n3, r3) {
    return on2 = ne2({ ch1: t3, ch2: e2, ch3: n3, ch4: r3, pdfColorType: "draw", precision: 2 }), lt2(on2), this;
  };
  var sn = e.fillColor || "0 g";
  y2.__private__.getFillColor = y2.getFillColor = function() {
    return ee2(sn);
  }, y2.__private__.setFillColor = y2.setFillColor = function(t3, e2, n3, r3) {
    return sn = ne2({ ch1: t3, ch2: e2, ch3: n3, ch4: r3, pdfColorType: "fill", precision: 2 }), lt2(sn), this;
  };
  var un = e.textColor || "0 g", cn = y2.__private__.getTextColor = y2.getTextColor = function() {
    return ee2(un);
  };
  y2.__private__.setTextColor = y2.setTextColor = function(t3, e2, n3, r3) {
    return un = ne2({ ch1: t3, ch2: e2, ch3: n3, ch4: r3, pdfColorType: "text", precision: 3 }), this;
  };
  var ln2 = e.charSpace, hn = y2.__private__.getCharSpace = y2.getCharSpace = function() {
    return parseFloat(ln2 || 0);
  };
  y2.__private__.setCharSpace = y2.setCharSpace = function(t3) {
    if (isNaN(t3))
      throw new Error("Invalid argument passed to jsPDF.setCharSpace");
    return ln2 = t3, this;
  };
  var fn = 0;
  y2.CapJoinStyles = { 0: 0, butt: 0, but: 0, miter: 0, 1: 1, round: 1, rounded: 1, circle: 1, 2: 2, projecting: 2, project: 2, square: 2, bevel: 2 }, y2.__private__.setLineCap = y2.setLineCap = function(t3) {
    var e2 = y2.CapJoinStyles[t3];
    if (void 0 === e2)
      throw new Error("Line cap style of '" + t3 + "' is not recognized. See or extend .CapJoinStyles property for valid styles");
    return fn = e2, lt2(e2 + " J"), this;
  };
  var dn = 0;
  y2.__private__.setLineJoin = y2.setLineJoin = function(t3) {
    var e2 = y2.CapJoinStyles[t3];
    if (void 0 === e2)
      throw new Error("Line join style of '" + t3 + "' is not recognized. See or extend .CapJoinStyles property for valid styles");
    return dn = e2, lt2(e2 + " j"), this;
  }, y2.__private__.setLineMiterLimit = y2.__private__.setMiterLimit = y2.setLineMiterLimit = y2.setMiterLimit = function(t3) {
    if (t3 = t3 || 0, isNaN(t3))
      throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");
    return lt2(B2(U2(t3)) + " M"), this;
  }, y2.GState = O, y2.setGState = function(t3) {
    (t3 = "string" == typeof t3 ? Bt2[Mt2[t3]] : pn(null, t3)).equals(qt2) || (lt2("/" + t3.id + " gs"), qt2 = t3);
  };
  var pn = function(t3, e2) {
    if (!t3 || !Mt2[t3]) {
      var n3 = false;
      for (var r3 in Bt2)
        if (Bt2.hasOwnProperty(r3) && Bt2[r3].equals(e2)) {
          n3 = true;
          break;
        }
      if (n3)
        e2 = Bt2[r3];
      else {
        var i2 = "GS" + (Object.keys(Bt2).length + 1).toString(10);
        Bt2[i2] = e2, e2.id = i2;
      }
      return t3 && (Mt2[t3] = e2.id), Dt2.publish("addGState", e2), e2;
    }
  };
  y2.addGState = function(t3, e2) {
    return pn(t3, e2), this;
  }, y2.saveGraphicsState = function() {
    return lt2("q"), jt2.push({ key: At2, size: pt2, color: un }), this;
  }, y2.restoreGraphicsState = function() {
    lt2("Q");
    var t3 = jt2.pop();
    return At2 = t3.key, pt2 = t3.size, un = t3.color, qt2 = null, this;
  }, y2.setCurrentTransformationMatrix = function(t3) {
    return lt2(t3.toString() + " cm"), this;
  }, y2.comment = function(t3) {
    return lt2("#" + t3), this;
  };
  var gn = function(t3, e2) {
    var n3 = t3 || 0;
    Object.defineProperty(this, "x", { enumerable: true, get: function() {
      return n3;
    }, set: function(t4) {
      isNaN(t4) || (n3 = parseFloat(t4));
    } });
    var r3 = e2 || 0;
    Object.defineProperty(this, "y", { enumerable: true, get: function() {
      return r3;
    }, set: function(t4) {
      isNaN(t4) || (r3 = parseFloat(t4));
    } });
    var i2 = "pt";
    return Object.defineProperty(this, "type", { enumerable: true, get: function() {
      return i2;
    }, set: function(t4) {
      i2 = t4.toString();
    } }), this;
  }, mn = function(t3, e2, n3, r3) {
    gn.call(this, t3, e2), this.type = "rect";
    var i2 = n3 || 0;
    Object.defineProperty(this, "w", { enumerable: true, get: function() {
      return i2;
    }, set: function(t4) {
      isNaN(t4) || (i2 = parseFloat(t4));
    } });
    var a3 = r3 || 0;
    return Object.defineProperty(this, "h", { enumerable: true, get: function() {
      return a3;
    }, set: function(t4) {
      isNaN(t4) || (a3 = parseFloat(t4));
    } }), this;
  }, vn = function() {
    this.page = Et2, this.currentPage = $2, this.pages = ot2.slice(0), this.pagesContext = Rt2.slice(0), this.x = _t2, this.y = Pt2, this.matrix = kt2, this.width = wn($2), this.height = Ln($2), this.outputDestination = ut2, this.id = "", this.objectNumber = -1;
  };
  vn.prototype.restore = function() {
    Et2 = this.page, $2 = this.currentPage, Rt2 = this.pagesContext, ot2 = this.pages, _t2 = this.x, Pt2 = this.y, kt2 = this.matrix, Nn($2, this.width), xn($2, this.height), ut2 = this.outputDestination;
  };
  var bn = function(t3, e2, n3, r3, i2) {
    Ht2.push(new vn()), Et2 = $2 = 0, ot2 = [], _t2 = t3, Pt2 = e2, kt2 = i2, me2([n3, r3]);
  };
  for (var yn in y2.beginFormObject = function(t3, e2, n3, r3, i2) {
    return bn(t3, e2, n3, r3, i2), this;
  }, y2.endFormObject = function(t3) {
    return function(t4) {
      if (Ut2[t4])
        Ht2.pop().restore();
      else {
        var e2 = new vn(), n3 = "Xo" + (Object.keys(zt2).length + 1).toString(10);
        e2.id = n3, Ut2[t4] = n3, zt2[n3] = e2, Dt2.publish("addFormObject", e2), Ht2.pop().restore();
      }
    }(t3), this;
  }, y2.doFormObject = function(t3, e2) {
    var n3 = zt2[Ut2[t3]];
    return lt2("q"), lt2(e2.toString() + " cm"), lt2("/" + n3.id + " Do"), lt2("Q"), this;
  }, y2.getFormObject = function(t3) {
    var e2 = zt2[Ut2[t3]];
    return { x: e2.x, y: e2.y, width: e2.width, height: e2.height, matrix: e2.matrix };
  }, y2.save = function(t3, e2) {
    return t3 = t3 || "generated.pdf", (e2 = e2 || {}).returnPromise = e2.returnPromise || false, false === e2.returnPromise ? (l(ke2(Pe2()), t3), "function" == typeof l.unload && i.setTimeout && setTimeout(l.unload, 911), this) : new Promise(function(e3, n3) {
      try {
        var r3 = l(ke2(Pe2()), t3);
        "function" == typeof l.unload && i.setTimeout && setTimeout(l.unload, 911), e3(r3);
      } catch (a3) {
        n3(a3.message);
      }
    });
  }, E.API)
    E.API.hasOwnProperty(yn) && ("events" === yn && E.API.events.length ? function(t3, e2) {
      var n3, r3, i2;
      for (i2 = e2.length - 1; -1 !== i2; i2--)
        n3 = e2[i2][0], r3 = e2[i2][1], t3.subscribe.apply(t3, [n3].concat("function" == typeof r3 ? [r3] : r3));
    }(Dt2, E.API.events) : y2[yn] = E.API[yn]);
  function wn(t3) {
    return Rt2[t3].mediaBox.topRightX - Rt2[t3].mediaBox.bottomLeftX;
  }
  function Nn(t3, e2) {
    Rt2[t3].mediaBox.topRightX = e2 + Rt2[t3].mediaBox.bottomLeftX;
  }
  function Ln(t3) {
    return Rt2[t3].mediaBox.topRightY - Rt2[t3].mediaBox.bottomLeftY;
  }
  function xn(t3, e2) {
    Rt2[t3].mediaBox.topRightY = e2 + Rt2[t3].mediaBox.bottomLeftY;
  }
  var An = y2.getPageWidth = function(t3) {
    return wn(t3 = t3 || $2) / St2;
  }, Sn = y2.setPageWidth = function(t3, e2) {
    Nn(t3, e2 * St2);
  }, _n = y2.getPageHeight = function(t3) {
    return Ln(t3 = t3 || $2) / St2;
  }, Pn = y2.setPageHeight = function(t3, e2) {
    xn(t3, e2 * St2);
  };
  return y2.internal = { pdfEscape: ge2, getStyle: Ee2, getFont: Ye2, getFontSize: mt2, getCharSpace: hn, getTextColor: cn, getLineHeight: $e2, getLineHeightFactor: tn, getLineWidth: Ke2, write: ht2, getHorizontalCoordinate: en, getVerticalCoordinate: nn, getCoordinateString: rn, getVerticalCoordinateString: an, collections: {}, newObject: Xt2, newAdditionalObject: $t2, newObjectDeferred: Kt2, newObjectDeferredBegin: Zt2, getFilters: re2, putStream: ie2, events: Dt2, scaleFactor: St2, pageSize: { getWidth: function() {
    return An($2);
  }, setWidth: function(t3) {
    Sn($2, t3);
  }, getHeight: function() {
    return _n($2);
  }, setHeight: function(t3) {
    Pn($2, t3);
  } }, encryptionOptions: m2, encryption: je2, getEncryptor: function(t3) {
    return null !== m2 ? je2.encryptor(t3, 0) : function(t4) {
      return t4;
    };
  }, output: Fe2, getNumberOfPages: we2, get pages() {
    return ot2;
  }, out: lt2, f2: T2, f3: z2, getPageInfo: Ce2, getPageInfoByObjId: Oe2, getCurrentPageInfo: Be2, getPDFVersion: N2, Point: gn, Rectangle: mn, Matrix: Wt2, hasHotfix: Ie2 }, Object.defineProperty(y2.internal.pageSize, "width", { get: function() {
    return An($2);
  }, set: function(t3) {
    Sn($2, t3);
  }, enumerable: true, configurable: true }), Object.defineProperty(y2.internal.pageSize, "height", { get: function() {
    return _n($2);
  }, set: function(t3) {
    Pn($2, t3);
  }, enumerable: true, configurable: true }), function(t3) {
    for (var e2 = 0, n3 = dt2.length; e2 < n3; e2++) {
      var r3 = pe2.call(this, t3[e2][0], t3[e2][1], t3[e2][2], dt2[e2][3], true);
      false === v2 && (b3[r3] = true);
      var i2 = t3[e2][0].split("-");
      de2({ id: r3, fontName: i2[0], fontStyle: i2[1] || "" });
    }
    Dt2.publish("addFonts", { fonts: Ft2, dictionary: It2 });
  }.call(y2, dt2), At2 = "F1", ve2(s2, r2), Dt2.publish("initialized"), y2;
}
I.prototype.lsbFirstWord = function(t3) {
  return String.fromCharCode(255 & t3, t3 >> 8 & 255, t3 >> 16 & 255, t3 >> 24 & 255);
}, I.prototype.toHexString = function(t3) {
  return t3.split("").map(function(t4) {
    return ("0" + (255 & t4.charCodeAt(0)).toString(16)).slice(-2);
  }).join("");
}, I.prototype.hexToBytes = function(t3) {
  for (var e = [], n2 = 0; n2 < t3.length; n2 += 2)
    e.push(String.fromCharCode(parseInt(t3.substr(n2, 2), 16)));
  return e.join("");
}, I.prototype.processOwnerPassword = function(t3, e) {
  return k(S(e).substr(0, 5), t3);
}, I.prototype.encryptor = function(t3, e) {
  var n2 = S(this.encryptionKey + String.fromCharCode(255 & t3, t3 >> 8 & 255, t3 >> 16 & 255, 255 & e, e >> 8 & 255)).substr(0, 10);
  return function(t4) {
    return k(n2, t4);
  };
}, O.prototype.equals = function(e) {
  var n2, r2 = "id,objectNumber,equals";
  if (!e || _typeof(e) !== _typeof(this))
    return false;
  var i2 = 0;
  for (n2 in this)
    if (!(r2.indexOf(n2) >= 0)) {
      if (this.hasOwnProperty(n2) && !e.hasOwnProperty(n2))
        return false;
      if (this[n2] !== e[n2])
        return false;
      i2++;
    }
  for (n2 in e)
    e.hasOwnProperty(n2) && r2.indexOf(n2) < 0 && i2--;
  return 0 === i2;
}, E.API = { events: [] }, E.version = "3.0.4";
var R = E.API, D = 1, T = function(t3) {
  return t3.replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)");
}, z = function(t3) {
  return t3.replace(/\\\\/g, "\\").replace(/\\\(/g, "(").replace(/\\\)/g, ")");
}, U = function(t3) {
  return t3.toFixed(2);
}, H = function(t3) {
  return t3.toFixed(5);
};
R.__acroform__ = {};
var W = function(t3, e) {
  t3.prototype = Object.create(e.prototype), t3.prototype.constructor = t3;
}, V = function(t3) {
  return t3 * D;
}, G = function(t3) {
  var e = new ct(), n2 = xt.internal.getHeight(t3) || 0, r2 = xt.internal.getWidth(t3) || 0;
  return e.BBox = [0, 0, Number(U(r2)), Number(U(n2))], e;
}, Y = R.__acroform__.setBit = function(t3, e) {
  if (t3 = t3 || 0, e = e || 0, isNaN(t3) || isNaN(e))
    throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");
  return t3 | 1 << e;
}, J = R.__acroform__.clearBit = function(t3, e) {
  if (t3 = t3 || 0, e = e || 0, isNaN(t3) || isNaN(e))
    throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");
  return t3 & ~(1 << e);
}, X = R.__acroform__.getBit = function(t3, e) {
  if (isNaN(t3) || isNaN(e))
    throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");
  return t3 & 1 << e ? 1 : 0;
}, K = R.__acroform__.getBitForPdf = function(t3, e) {
  if (isNaN(t3) || isNaN(e))
    throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");
  return X(t3, e - 1);
}, Z = R.__acroform__.setBitForPdf = function(t3, e) {
  if (isNaN(t3) || isNaN(e))
    throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");
  return Y(t3, e - 1);
}, $ = R.__acroform__.clearBitForPdf = function(t3, e) {
  if (isNaN(t3) || isNaN(e))
    throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");
  return J(t3, e - 1);
}, Q = R.__acroform__.calculateCoordinates = function(t3, e) {
  var n2 = e.internal.getHorizontalCoordinate, r2 = e.internal.getVerticalCoordinate, i2 = t3[0], a2 = t3[1], o2 = t3[2], s2 = t3[3], u2 = {};
  return u2.lowerLeft_X = n2(i2) || 0, u2.lowerLeft_Y = r2(a2 + s2) || 0, u2.upperRight_X = n2(i2 + o2) || 0, u2.upperRight_Y = r2(a2) || 0, [Number(U(u2.lowerLeft_X)), Number(U(u2.lowerLeft_Y)), Number(U(u2.upperRight_X)), Number(U(u2.upperRight_Y))];
}, tt = function(t3) {
  if (t3.appearanceStreamContent)
    return t3.appearanceStreamContent;
  if (t3.V || t3.DV) {
    var e = [], n2 = t3._V || t3.DV, r2 = et(t3, n2), i2 = t3.scope.internal.getFont(t3.fontName, t3.fontStyle).id;
    e.push("/Tx BMC"), e.push("q"), e.push("BT"), e.push(t3.scope.__private__.encodeColorString(t3.color)), e.push("/" + i2 + " " + U(r2.fontSize) + " Tf"), e.push("1 0 0 1 0 0 Tm"), e.push(r2.text), e.push("ET"), e.push("Q"), e.push("EMC");
    var a2 = G(t3);
    return a2.scope = t3.scope, a2.stream = e.join("\n"), a2;
  }
}, et = function(t3, e) {
  var n2 = 0 === t3.fontSize ? t3.maxFontSize : t3.fontSize, r2 = { text: "", fontSize: "" }, i2 = (e = ")" == (e = "(" == e.substr(0, 1) ? e.substr(1) : e).substr(e.length - 1) ? e.substr(0, e.length - 1) : e).split(" ");
  i2 = t3.multiline ? i2.map(function(t4) {
    return t4.split("\n");
  }) : i2.map(function(t4) {
    return [t4];
  });
  var a2 = n2, o2 = xt.internal.getHeight(t3) || 0;
  o2 = o2 < 0 ? -o2 : o2;
  var s2 = xt.internal.getWidth(t3) || 0;
  s2 = s2 < 0 ? -s2 : s2;
  var u2 = function(e2, n3, r3) {
    if (e2 + 1 < i2.length) {
      var a3 = n3 + " " + i2[e2 + 1][0];
      return nt(a3, t3, r3).width <= s2 - 4;
    }
    return false;
  };
  a2++;
  t:
    for (; a2 > 0; ) {
      e = "", a2--;
      var c2, l2, h2 = nt("3", t3, a2).height, f2 = t3.multiline ? o2 - a2 : (o2 - h2) / 2, d2 = f2 += 2, p2 = 0, g2 = 0, m2 = 0;
      if (a2 <= 0) {
        e = "(...) Tj\n", e += "% Width of Text: " + nt(e, t3, a2 = 12).width + ", FieldWidth:" + s2 + "\n";
        break;
      }
      for (var v2 = "", b3 = 0, y2 = 0; y2 < i2.length; y2++)
        if (i2.hasOwnProperty(y2)) {
          var w2 = false;
          if (1 !== i2[y2].length && m2 !== i2[y2].length - 1) {
            if ((h2 + 2) * (b3 + 2) + 2 > o2)
              continue t;
            v2 += i2[y2][m2], w2 = true, g2 = y2, y2--;
          } else {
            v2 = " " == (v2 += i2[y2][m2] + " ").substr(v2.length - 1) ? v2.substr(0, v2.length - 1) : v2;
            var N2 = parseInt(y2), L2 = u2(N2, v2, a2), x2 = y2 >= i2.length - 1;
            if (L2 && !x2) {
              v2 += " ", m2 = 0;
              continue;
            }
            if (L2 || x2) {
              if (x2)
                g2 = N2;
              else if (t3.multiline && (h2 + 2) * (b3 + 2) + 2 > o2)
                continue t;
            } else {
              if (!t3.multiline)
                continue t;
              if ((h2 + 2) * (b3 + 2) + 2 > o2)
                continue t;
              g2 = N2;
            }
          }
          for (var A2 = "", S2 = p2; S2 <= g2; S2++) {
            var _2 = i2[S2];
            if (t3.multiline) {
              if (S2 === g2) {
                A2 += _2[m2] + " ", m2 = (m2 + 1) % _2.length;
                continue;
              }
              if (S2 === p2) {
                A2 += _2[_2.length - 1] + " ";
                continue;
              }
            }
            A2 += _2[0] + " ";
          }
          switch (A2 = " " == A2.substr(A2.length - 1) ? A2.substr(0, A2.length - 1) : A2, l2 = nt(A2, t3, a2).width, t3.textAlign) {
            case "right":
              c2 = s2 - l2 - 2;
              break;
            case "center":
              c2 = (s2 - l2) / 2;
              break;
            default:
              c2 = 2;
          }
          e += U(c2) + " " + U(d2) + " Td\n", e += "(" + T(A2) + ") Tj\n", e += -U(c2) + " 0 Td\n", d2 = -(a2 + 2), l2 = 0, p2 = w2 ? g2 : g2 + 1, b3++, v2 = "";
        }
      break;
    }
  return r2.text = e, r2.fontSize = a2, r2;
}, nt = function(t3, e, n2) {
  var r2 = e.scope.internal.getFont(e.fontName, e.fontStyle), i2 = e.scope.getStringUnitWidth(t3, { font: r2, fontSize: parseFloat(n2), charSpace: 0 }) * parseFloat(n2);
  return { height: e.scope.getStringUnitWidth("3", { font: r2, fontSize: parseFloat(n2), charSpace: 0 }) * parseFloat(n2) * 1.5, width: i2 };
}, rt = { fields: [], xForms: [], acroFormDictionaryRoot: null, printedOut: false, internal: null, isInitialized: false }, it = function(t3, e) {
  var n2 = { type: "reference", object: t3 };
  void 0 === e.internal.getPageInfo(t3.page).pageContext.annotations.find(function(t4) {
    return t4.type === n2.type && t4.object === n2.object;
  }) && e.internal.getPageInfo(t3.page).pageContext.annotations.push(n2);
}, at = function(e, n2) {
  if (n2.scope = e, void 0 !== e.internal && (void 0 === e.internal.acroformPlugin || false === e.internal.acroformPlugin.isInitialized)) {
    if (ht.FieldNum = 0, e.internal.acroformPlugin = JSON.parse(JSON.stringify(rt)), e.internal.acroformPlugin.acroFormDictionaryRoot)
      throw new Error("Exception while creating AcroformDictionary");
    D = e.internal.scaleFactor, e.internal.acroformPlugin.acroFormDictionaryRoot = new lt(), e.internal.acroformPlugin.acroFormDictionaryRoot.scope = e, e.internal.acroformPlugin.acroFormDictionaryRoot._eventID = e.internal.events.subscribe("postPutResources", function() {
      !function(t3) {
        t3.internal.events.unsubscribe(t3.internal.acroformPlugin.acroFormDictionaryRoot._eventID), delete t3.internal.acroformPlugin.acroFormDictionaryRoot._eventID, t3.internal.acroformPlugin.printedOut = true;
      }(e);
    }), e.internal.events.subscribe("buildDocument", function() {
      !function(t3) {
        t3.internal.acroformPlugin.acroFormDictionaryRoot.objId = void 0;
        var e2 = t3.internal.acroformPlugin.acroFormDictionaryRoot.Fields;
        for (var n3 in e2)
          if (e2.hasOwnProperty(n3)) {
            var r2 = e2[n3];
            r2.objId = void 0, r2.hasAnnotation && it(r2, t3);
          }
      }(e);
    }), e.internal.events.subscribe("putCatalog", function() {
      !function(t3) {
        if (void 0 === t3.internal.acroformPlugin.acroFormDictionaryRoot)
          throw new Error("putCatalogCallback: Root missing.");
        t3.internal.write("/AcroForm " + t3.internal.acroformPlugin.acroFormDictionaryRoot.objId + " 0 R");
      }(e);
    }), e.internal.events.subscribe("postPutPages", function(n3) {
      !function(e2, n4) {
        var r2 = !e2;
        for (var i2 in e2 || (n4.internal.newObjectDeferredBegin(n4.internal.acroformPlugin.acroFormDictionaryRoot.objId, true), n4.internal.acroformPlugin.acroFormDictionaryRoot.putStream()), e2 = e2 || n4.internal.acroformPlugin.acroFormDictionaryRoot.Kids)
          if (e2.hasOwnProperty(i2)) {
            var a2 = e2[i2], o2 = [], s2 = a2.Rect;
            if (a2.Rect && (a2.Rect = Q(a2.Rect, n4)), n4.internal.newObjectDeferredBegin(a2.objId, true), a2.DA = xt.createDefaultAppearanceStream(a2), "object" === _typeof(a2) && "function" == typeof a2.getKeyValueListForStream && (o2 = a2.getKeyValueListForStream()), a2.Rect = s2, a2.hasAppearanceStream && !a2.appearanceStreamContent) {
              var u2 = tt(a2);
              o2.push({ key: "AP", value: "<</N " + u2 + ">>" }), n4.internal.acroformPlugin.xForms.push(u2);
            }
            if (a2.appearanceStreamContent) {
              var c2 = "";
              for (var l2 in a2.appearanceStreamContent)
                if (a2.appearanceStreamContent.hasOwnProperty(l2)) {
                  var h2 = a2.appearanceStreamContent[l2];
                  if (c2 += "/" + l2 + " ", c2 += "<<", Object.keys(h2).length >= 1 || Array.isArray(h2)) {
                    for (var i2 in h2)
                      if (h2.hasOwnProperty(i2)) {
                        var f2 = h2[i2];
                        "function" == typeof f2 && (f2 = f2.call(n4, a2)), c2 += "/" + i2 + " " + f2 + " ", n4.internal.acroformPlugin.xForms.indexOf(f2) >= 0 || n4.internal.acroformPlugin.xForms.push(f2);
                      }
                  } else
                    "function" == typeof (f2 = h2) && (f2 = f2.call(n4, a2)), c2 += "/" + i2 + " " + f2, n4.internal.acroformPlugin.xForms.indexOf(f2) >= 0 || n4.internal.acroformPlugin.xForms.push(f2);
                  c2 += ">>";
                }
              o2.push({ key: "AP", value: "<<\n" + c2 + ">>" });
            }
            n4.internal.putStream({ additionalKeyValues: o2, objectId: a2.objId }), n4.internal.out("endobj");
          }
        r2 && function(e3, n5) {
          for (var r3 in e3)
            if (e3.hasOwnProperty(r3)) {
              var i3 = r3, a3 = e3[r3];
              n5.internal.newObjectDeferredBegin(a3.objId, true), "object" === _typeof(a3) && "function" == typeof a3.putStream && a3.putStream(), delete e3[i3];
            }
        }(n4.internal.acroformPlugin.xForms, n4);
      }(n3, e);
    }), e.internal.acroformPlugin.isInitialized = true;
  }
}, ot = R.__acroform__.arrayToPdfArray = function(e, n2, r2) {
  var i2 = function(t3) {
    return t3;
  };
  if (Array.isArray(e)) {
    for (var a2 = "[", o2 = 0; o2 < e.length; o2++)
      switch (0 !== o2 && (a2 += " "), _typeof(e[o2])) {
        case "boolean":
        case "number":
        case "object":
          a2 += e[o2].toString();
          break;
        case "string":
          "/" !== e[o2].substr(0, 1) ? (void 0 !== n2 && r2 && (i2 = r2.internal.getEncryptor(n2)), a2 += "(" + T(i2(e[o2].toString())) + ")") : a2 += e[o2].toString();
      }
    return a2 + "]";
  }
  throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray");
}, st = function(t3, e, n2) {
  var r2 = function(t4) {
    return t4;
  };
  return void 0 !== e && n2 && (r2 = n2.internal.getEncryptor(e)), (t3 = t3 || "").toString(), "(" + T(r2(t3)) + ")";
}, ut = function() {
  this._objId = void 0, this._scope = void 0, Object.defineProperty(this, "objId", { get: function() {
    if (void 0 === this._objId) {
      if (void 0 === this.scope)
        return;
      this._objId = this.scope.internal.newObjectDeferred();
    }
    return this._objId;
  }, set: function(t3) {
    this._objId = t3;
  } }), Object.defineProperty(this, "scope", { value: this._scope, writable: true });
};
ut.prototype.toString = function() {
  return this.objId + " 0 R";
}, ut.prototype.putStream = function() {
  var t3 = this.getKeyValueListForStream();
  this.scope.internal.putStream({ data: this.stream, additionalKeyValues: t3, objectId: this.objId }), this.scope.internal.out("endobj");
}, ut.prototype.getKeyValueListForStream = function() {
  var t3 = [], e = Object.getOwnPropertyNames(this).filter(function(t4) {
    return "content" != t4 && "appearanceStreamContent" != t4 && "scope" != t4 && "objId" != t4 && "_" != t4.substring(0, 1);
  });
  for (var n2 in e)
    if (false === Object.getOwnPropertyDescriptor(this, e[n2]).configurable) {
      var r2 = e[n2], i2 = this[r2];
      i2 && (Array.isArray(i2) ? t3.push({ key: r2, value: ot(i2, this.objId, this.scope) }) : i2 instanceof ut ? (i2.scope = this.scope, t3.push({ key: r2, value: i2.objId + " 0 R" })) : "function" != typeof i2 && t3.push({ key: r2, value: i2 }));
    }
  return t3;
};
var ct = function() {
  ut.call(this), Object.defineProperty(this, "Type", { value: "/XObject", configurable: false, writable: true }), Object.defineProperty(this, "Subtype", { value: "/Form", configurable: false, writable: true }), Object.defineProperty(this, "FormType", { value: 1, configurable: false, writable: true });
  var t3, e = [];
  Object.defineProperty(this, "BBox", { configurable: false, get: function() {
    return e;
  }, set: function(t4) {
    e = t4;
  } }), Object.defineProperty(this, "Resources", { value: "2 0 R", configurable: false, writable: true }), Object.defineProperty(this, "stream", { enumerable: false, configurable: true, set: function(e2) {
    t3 = e2.trim();
  }, get: function() {
    return t3 || null;
  } });
};
W(ct, ut);
var lt = function() {
  ut.call(this);
  var t3, e = [];
  Object.defineProperty(this, "Kids", { enumerable: false, configurable: true, get: function() {
    return e.length > 0 ? e : void 0;
  } }), Object.defineProperty(this, "Fields", { enumerable: false, configurable: false, get: function() {
    return e;
  } }), Object.defineProperty(this, "DA", { enumerable: false, configurable: false, get: function() {
    if (t3) {
      var e2 = function(t4) {
        return t4;
      };
      return this.scope && (e2 = this.scope.internal.getEncryptor(this.objId)), "(" + T(e2(t3)) + ")";
    }
  }, set: function(e2) {
    t3 = e2;
  } });
};
W(lt, ut);
var ht = function t2() {
  ut.call(this);
  var e = 4;
  Object.defineProperty(this, "F", { enumerable: false, configurable: false, get: function() {
    return e;
  }, set: function(t3) {
    if (isNaN(t3))
      throw new Error('Invalid value "' + t3 + '" for attribute F supplied.');
    e = t3;
  } }), Object.defineProperty(this, "showWhenPrinted", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(e, 3));
  }, set: function(t3) {
    true === Boolean(t3) ? this.F = Z(e, 3) : this.F = $(e, 3);
  } });
  var n2 = 0;
  Object.defineProperty(this, "Ff", { enumerable: false, configurable: false, get: function() {
    return n2;
  }, set: function(t3) {
    if (isNaN(t3))
      throw new Error('Invalid value "' + t3 + '" for attribute Ff supplied.');
    n2 = t3;
  } });
  var r2 = [];
  Object.defineProperty(this, "Rect", { enumerable: false, configurable: false, get: function() {
    if (0 !== r2.length)
      return r2;
  }, set: function(t3) {
    r2 = void 0 !== t3 ? t3 : [];
  } }), Object.defineProperty(this, "x", { enumerable: true, configurable: true, get: function() {
    return !r2 || isNaN(r2[0]) ? 0 : r2[0];
  }, set: function(t3) {
    r2[0] = t3;
  } }), Object.defineProperty(this, "y", { enumerable: true, configurable: true, get: function() {
    return !r2 || isNaN(r2[1]) ? 0 : r2[1];
  }, set: function(t3) {
    r2[1] = t3;
  } }), Object.defineProperty(this, "width", { enumerable: true, configurable: true, get: function() {
    return !r2 || isNaN(r2[2]) ? 0 : r2[2];
  }, set: function(t3) {
    r2[2] = t3;
  } }), Object.defineProperty(this, "height", { enumerable: true, configurable: true, get: function() {
    return !r2 || isNaN(r2[3]) ? 0 : r2[3];
  }, set: function(t3) {
    r2[3] = t3;
  } });
  var i2 = "";
  Object.defineProperty(this, "FT", { enumerable: true, configurable: false, get: function() {
    return i2;
  }, set: function(t3) {
    switch (t3) {
      case "/Btn":
      case "/Tx":
      case "/Ch":
      case "/Sig":
        i2 = t3;
        break;
      default:
        throw new Error('Invalid value "' + t3 + '" for attribute FT supplied.');
    }
  } });
  var a2 = null;
  Object.defineProperty(this, "T", { enumerable: true, configurable: false, get: function() {
    if (!a2 || a2.length < 1) {
      if (this instanceof yt)
        return;
      a2 = "FieldObject" + t2.FieldNum++;
    }
    var e2 = function(t3) {
      return t3;
    };
    return this.scope && (e2 = this.scope.internal.getEncryptor(this.objId)), "(" + T(e2(a2)) + ")";
  }, set: function(t3) {
    a2 = t3.toString();
  } }), Object.defineProperty(this, "fieldName", { configurable: true, enumerable: true, get: function() {
    return a2;
  }, set: function(t3) {
    a2 = t3;
  } });
  var o2 = "helvetica";
  Object.defineProperty(this, "fontName", { enumerable: true, configurable: true, get: function() {
    return o2;
  }, set: function(t3) {
    o2 = t3;
  } });
  var s2 = "normal";
  Object.defineProperty(this, "fontStyle", { enumerable: true, configurable: true, get: function() {
    return s2;
  }, set: function(t3) {
    s2 = t3;
  } });
  var u2 = 0;
  Object.defineProperty(this, "fontSize", { enumerable: true, configurable: true, get: function() {
    return u2;
  }, set: function(t3) {
    u2 = t3;
  } });
  var c2 = void 0;
  Object.defineProperty(this, "maxFontSize", { enumerable: true, configurable: true, get: function() {
    return void 0 === c2 ? 50 / D : c2;
  }, set: function(t3) {
    c2 = t3;
  } });
  var l2 = "black";
  Object.defineProperty(this, "color", { enumerable: true, configurable: true, get: function() {
    return l2;
  }, set: function(t3) {
    l2 = t3;
  } });
  var h2 = "/F1 0 Tf 0 g";
  Object.defineProperty(this, "DA", { enumerable: true, configurable: false, get: function() {
    if (!(!h2 || this instanceof yt || this instanceof Nt))
      return st(h2, this.objId, this.scope);
  }, set: function(t3) {
    t3 = t3.toString(), h2 = t3;
  } });
  var f2 = null;
  Object.defineProperty(this, "DV", { enumerable: false, configurable: false, get: function() {
    if (f2)
      return this instanceof mt == 0 ? st(f2, this.objId, this.scope) : f2;
  }, set: function(t3) {
    t3 = t3.toString(), f2 = this instanceof mt == 0 ? "(" === t3.substr(0, 1) ? z(t3.substr(1, t3.length - 2)) : z(t3) : t3;
  } }), Object.defineProperty(this, "defaultValue", { enumerable: true, configurable: true, get: function() {
    return this instanceof mt == 1 ? z(f2.substr(1, f2.length - 1)) : f2;
  }, set: function(t3) {
    t3 = t3.toString(), f2 = this instanceof mt == 1 ? "/" + t3 : t3;
  } });
  var d2 = null;
  Object.defineProperty(this, "_V", { enumerable: false, configurable: false, get: function() {
    if (d2)
      return d2;
  }, set: function(t3) {
    this.V = t3;
  } }), Object.defineProperty(this, "V", { enumerable: false, configurable: false, get: function() {
    if (d2)
      return this instanceof mt == 0 ? st(d2, this.objId, this.scope) : d2;
  }, set: function(t3) {
    t3 = t3.toString(), d2 = this instanceof mt == 0 ? "(" === t3.substr(0, 1) ? z(t3.substr(1, t3.length - 2)) : z(t3) : t3;
  } }), Object.defineProperty(this, "value", { enumerable: true, configurable: true, get: function() {
    return this instanceof mt == 1 ? z(d2.substr(1, d2.length - 1)) : d2;
  }, set: function(t3) {
    t3 = t3.toString(), d2 = this instanceof mt == 1 ? "/" + t3 : t3;
  } }), Object.defineProperty(this, "hasAnnotation", { enumerable: true, configurable: true, get: function() {
    return this.Rect;
  } }), Object.defineProperty(this, "Type", { enumerable: true, configurable: false, get: function() {
    return this.hasAnnotation ? "/Annot" : null;
  } }), Object.defineProperty(this, "Subtype", { enumerable: true, configurable: false, get: function() {
    return this.hasAnnotation ? "/Widget" : null;
  } });
  var p2, g2 = false;
  Object.defineProperty(this, "hasAppearanceStream", { enumerable: true, configurable: true, get: function() {
    return g2;
  }, set: function(t3) {
    t3 = Boolean(t3), g2 = t3;
  } }), Object.defineProperty(this, "page", { enumerable: true, configurable: true, get: function() {
    if (p2)
      return p2;
  }, set: function(t3) {
    p2 = t3;
  } }), Object.defineProperty(this, "readOnly", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 1));
  }, set: function(t3) {
    true === Boolean(t3) ? this.Ff = Z(this.Ff, 1) : this.Ff = $(this.Ff, 1);
  } }), Object.defineProperty(this, "required", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 2));
  }, set: function(t3) {
    true === Boolean(t3) ? this.Ff = Z(this.Ff, 2) : this.Ff = $(this.Ff, 2);
  } }), Object.defineProperty(this, "noExport", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 3));
  }, set: function(t3) {
    true === Boolean(t3) ? this.Ff = Z(this.Ff, 3) : this.Ff = $(this.Ff, 3);
  } });
  var m2 = null;
  Object.defineProperty(this, "Q", { enumerable: true, configurable: false, get: function() {
    if (null !== m2)
      return m2;
  }, set: function(t3) {
    if (-1 === [0, 1, 2].indexOf(t3))
      throw new Error('Invalid value "' + t3 + '" for attribute Q supplied.');
    m2 = t3;
  } }), Object.defineProperty(this, "textAlign", { get: function() {
    var t3;
    switch (m2) {
      case 0:
      default:
        t3 = "left";
        break;
      case 1:
        t3 = "center";
        break;
      case 2:
        t3 = "right";
    }
    return t3;
  }, configurable: true, enumerable: true, set: function(t3) {
    switch (t3) {
      case "right":
      case 2:
        m2 = 2;
        break;
      case "center":
      case 1:
        m2 = 1;
        break;
      default:
        m2 = 0;
    }
  } });
};
W(ht, ut);
var ft = function() {
  ht.call(this), this.FT = "/Ch", this.V = "()", this.fontName = "zapfdingbats";
  var t3 = 0;
  Object.defineProperty(this, "TI", { enumerable: true, configurable: false, get: function() {
    return t3;
  }, set: function(e2) {
    t3 = e2;
  } }), Object.defineProperty(this, "topIndex", { enumerable: true, configurable: true, get: function() {
    return t3;
  }, set: function(e2) {
    t3 = e2;
  } });
  var e = [];
  Object.defineProperty(this, "Opt", { enumerable: true, configurable: false, get: function() {
    return ot(e, this.objId, this.scope);
  }, set: function(t4) {
    var n2, r2;
    r2 = [], "string" == typeof (n2 = t4) && (r2 = function(t5, e2, n3) {
      n3 || (n3 = 1);
      for (var r3, i2 = []; r3 = e2.exec(t5); )
        i2.push(r3[n3]);
      return i2;
    }(n2, /\((.*?)\)/g)), e = r2;
  } }), this.getOptions = function() {
    return e;
  }, this.setOptions = function(t4) {
    e = t4, this.sort && e.sort();
  }, this.addOption = function(t4) {
    t4 = (t4 = t4 || "").toString(), e.push(t4), this.sort && e.sort();
  }, this.removeOption = function(t4, n2) {
    for (n2 = n2 || false, t4 = (t4 = t4 || "").toString(); -1 !== e.indexOf(t4) && (e.splice(e.indexOf(t4), 1), false !== n2); )
      ;
  }, Object.defineProperty(this, "combo", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 18));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 18) : this.Ff = $(this.Ff, 18);
  } }), Object.defineProperty(this, "edit", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 19));
  }, set: function(t4) {
    true === this.combo && (true === Boolean(t4) ? this.Ff = Z(this.Ff, 19) : this.Ff = $(this.Ff, 19));
  } }), Object.defineProperty(this, "sort", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 20));
  }, set: function(t4) {
    true === Boolean(t4) ? (this.Ff = Z(this.Ff, 20), e.sort()) : this.Ff = $(this.Ff, 20);
  } }), Object.defineProperty(this, "multiSelect", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 22));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 22) : this.Ff = $(this.Ff, 22);
  } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 23));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 23) : this.Ff = $(this.Ff, 23);
  } }), Object.defineProperty(this, "commitOnSelChange", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 27));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 27) : this.Ff = $(this.Ff, 27);
  } }), this.hasAppearanceStream = false;
};
W(ft, ht);
var dt = function() {
  ft.call(this), this.fontName = "helvetica", this.combo = false;
};
W(dt, ft);
var pt = function() {
  dt.call(this), this.combo = true;
};
W(pt, dt);
var gt = function() {
  pt.call(this), this.edit = true;
};
W(gt, pt);
var mt = function() {
  ht.call(this), this.FT = "/Btn", Object.defineProperty(this, "noToggleToOff", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 15));
  }, set: function(t3) {
    true === Boolean(t3) ? this.Ff = Z(this.Ff, 15) : this.Ff = $(this.Ff, 15);
  } }), Object.defineProperty(this, "radio", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 16));
  }, set: function(t3) {
    true === Boolean(t3) ? this.Ff = Z(this.Ff, 16) : this.Ff = $(this.Ff, 16);
  } }), Object.defineProperty(this, "pushButton", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 17));
  }, set: function(t3) {
    true === Boolean(t3) ? this.Ff = Z(this.Ff, 17) : this.Ff = $(this.Ff, 17);
  } }), Object.defineProperty(this, "radioIsUnison", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 26));
  }, set: function(t3) {
    true === Boolean(t3) ? this.Ff = Z(this.Ff, 26) : this.Ff = $(this.Ff, 26);
  } });
  var e, n2 = {};
  Object.defineProperty(this, "MK", { enumerable: false, configurable: false, get: function() {
    var t3 = function(t4) {
      return t4;
    };
    if (this.scope && (t3 = this.scope.internal.getEncryptor(this.objId)), 0 !== Object.keys(n2).length) {
      var e2, r2 = [];
      for (e2 in r2.push("<<"), n2)
        r2.push("/" + e2 + " (" + T(t3(n2[e2])) + ")");
      return r2.push(">>"), r2.join("\n");
    }
  }, set: function(e2) {
    "object" === _typeof(e2) && (n2 = e2);
  } }), Object.defineProperty(this, "caption", { enumerable: true, configurable: true, get: function() {
    return n2.CA || "";
  }, set: function(t3) {
    "string" == typeof t3 && (n2.CA = t3);
  } }), Object.defineProperty(this, "AS", { enumerable: false, configurable: false, get: function() {
    return e;
  }, set: function(t3) {
    e = t3;
  } }), Object.defineProperty(this, "appearanceState", { enumerable: true, configurable: true, get: function() {
    return e.substr(1, e.length - 1);
  }, set: function(t3) {
    e = "/" + t3;
  } });
};
W(mt, ht);
var vt = function() {
  mt.call(this), this.pushButton = true;
};
W(vt, mt);
var bt = function() {
  mt.call(this), this.radio = true, this.pushButton = false;
  var t3 = [];
  Object.defineProperty(this, "Kids", { enumerable: true, configurable: false, get: function() {
    return t3;
  }, set: function(e) {
    t3 = void 0 !== e ? e : [];
  } });
};
W(bt, mt);
var yt = function() {
  var e, n2;
  ht.call(this), Object.defineProperty(this, "Parent", { enumerable: false, configurable: false, get: function() {
    return e;
  }, set: function(t3) {
    e = t3;
  } }), Object.defineProperty(this, "optionName", { enumerable: false, configurable: true, get: function() {
    return n2;
  }, set: function(t3) {
    n2 = t3;
  } });
  var r2, i2 = {};
  Object.defineProperty(this, "MK", { enumerable: false, configurable: false, get: function() {
    var t3 = function(t4) {
      return t4;
    };
    this.scope && (t3 = this.scope.internal.getEncryptor(this.objId));
    var e2, n3 = [];
    for (e2 in n3.push("<<"), i2)
      n3.push("/" + e2 + " (" + T(t3(i2[e2])) + ")");
    return n3.push(">>"), n3.join("\n");
  }, set: function(e2) {
    "object" === _typeof(e2) && (i2 = e2);
  } }), Object.defineProperty(this, "caption", { enumerable: true, configurable: true, get: function() {
    return i2.CA || "";
  }, set: function(t3) {
    "string" == typeof t3 && (i2.CA = t3);
  } }), Object.defineProperty(this, "AS", { enumerable: false, configurable: false, get: function() {
    return r2;
  }, set: function(t3) {
    r2 = t3;
  } }), Object.defineProperty(this, "appearanceState", { enumerable: true, configurable: true, get: function() {
    return r2.substr(1, r2.length - 1);
  }, set: function(t3) {
    r2 = "/" + t3;
  } }), this.caption = "l", this.appearanceState = "Off", this._AppearanceType = xt.RadioButton.Circle, this.appearanceStreamContent = this._AppearanceType.createAppearanceStream(this.optionName);
};
W(yt, ht), bt.prototype.setAppearance = function(t3) {
  if (!("createAppearanceStream" in t3) || !("getCA" in t3))
    throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");
  for (var e in this.Kids)
    if (this.Kids.hasOwnProperty(e)) {
      var n2 = this.Kids[e];
      n2.appearanceStreamContent = t3.createAppearanceStream(n2.optionName), n2.caption = t3.getCA();
    }
}, bt.prototype.createOption = function(t3) {
  var e = new yt();
  return e.Parent = this, e.optionName = t3, this.Kids.push(e), At.call(this.scope, e), e;
};
var wt = function() {
  mt.call(this), this.fontName = "zapfdingbats", this.caption = "3", this.appearanceState = "On", this.value = "On", this.textAlign = "center", this.appearanceStreamContent = xt.CheckBox.createAppearanceStream();
};
W(wt, mt);
var Nt = function() {
  ht.call(this), this.FT = "/Tx", Object.defineProperty(this, "multiline", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 13));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 13) : this.Ff = $(this.Ff, 13);
  } }), Object.defineProperty(this, "fileSelect", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 21));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 21) : this.Ff = $(this.Ff, 21);
  } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 23));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 23) : this.Ff = $(this.Ff, 23);
  } }), Object.defineProperty(this, "doNotScroll", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 24));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 24) : this.Ff = $(this.Ff, 24);
  } }), Object.defineProperty(this, "comb", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 25));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 25) : this.Ff = $(this.Ff, 25);
  } }), Object.defineProperty(this, "richText", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 26));
  }, set: function(t4) {
    true === Boolean(t4) ? this.Ff = Z(this.Ff, 26) : this.Ff = $(this.Ff, 26);
  } });
  var t3 = null;
  Object.defineProperty(this, "MaxLen", { enumerable: true, configurable: false, get: function() {
    return t3;
  }, set: function(e) {
    t3 = e;
  } }), Object.defineProperty(this, "maxLength", { enumerable: true, configurable: true, get: function() {
    return t3;
  }, set: function(e) {
    Number.isInteger(e) && (t3 = e);
  } }), Object.defineProperty(this, "hasAppearanceStream", { enumerable: true, configurable: true, get: function() {
    return this.V || this.DV;
  } });
};
W(Nt, ht);
var Lt = function() {
  Nt.call(this), Object.defineProperty(this, "password", { enumerable: true, configurable: true, get: function() {
    return Boolean(K(this.Ff, 14));
  }, set: function(t3) {
    true === Boolean(t3) ? this.Ff = Z(this.Ff, 14) : this.Ff = $(this.Ff, 14);
  } }), this.password = true;
};
W(Lt, Nt);
var xt = { CheckBox: { createAppearanceStream: function() {
  return { N: { On: xt.CheckBox.YesNormal }, D: { On: xt.CheckBox.YesPushDown, Off: xt.CheckBox.OffPushDown } };
}, YesPushDown: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = [], r2 = t3.scope.internal.getFont(t3.fontName, t3.fontStyle).id, i2 = t3.scope.__private__.encodeColorString(t3.color), a2 = et(t3, t3.caption);
  return n2.push("0.749023 g"), n2.push("0 0 " + U(xt.internal.getWidth(t3)) + " " + U(xt.internal.getHeight(t3)) + " re"), n2.push("f"), n2.push("BMC"), n2.push("q"), n2.push("0 0 1 rg"), n2.push("/" + r2 + " " + U(a2.fontSize) + " Tf " + i2), n2.push("BT"), n2.push(a2.text), n2.push("ET"), n2.push("Q"), n2.push("EMC"), e.stream = n2.join("\n"), e;
}, YesNormal: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = t3.scope.internal.getFont(t3.fontName, t3.fontStyle).id, r2 = t3.scope.__private__.encodeColorString(t3.color), i2 = [], a2 = xt.internal.getHeight(t3), o2 = xt.internal.getWidth(t3), s2 = et(t3, t3.caption);
  return i2.push("1 g"), i2.push("0 0 " + U(o2) + " " + U(a2) + " re"), i2.push("f"), i2.push("q"), i2.push("0 0 1 rg"), i2.push("0 0 " + U(o2 - 1) + " " + U(a2 - 1) + " re"), i2.push("W"), i2.push("n"), i2.push("0 g"), i2.push("BT"), i2.push("/" + n2 + " " + U(s2.fontSize) + " Tf " + r2), i2.push(s2.text), i2.push("ET"), i2.push("Q"), e.stream = i2.join("\n"), e;
}, OffPushDown: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = [];
  return n2.push("0.749023 g"), n2.push("0 0 " + U(xt.internal.getWidth(t3)) + " " + U(xt.internal.getHeight(t3)) + " re"), n2.push("f"), e.stream = n2.join("\n"), e;
} }, RadioButton: { Circle: { createAppearanceStream: function(t3) {
  var e = { D: { Off: xt.RadioButton.Circle.OffPushDown }, N: {} };
  return e.N[t3] = xt.RadioButton.Circle.YesNormal, e.D[t3] = xt.RadioButton.Circle.YesPushDown, e;
}, getCA: function() {
  return "l";
}, YesNormal: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = [], r2 = xt.internal.getWidth(t3) <= xt.internal.getHeight(t3) ? xt.internal.getWidth(t3) / 4 : xt.internal.getHeight(t3) / 4;
  r2 = Number((0.9 * r2).toFixed(5));
  var i2 = xt.internal.Bezier_C, a2 = Number((r2 * i2).toFixed(5));
  return n2.push("q"), n2.push("1 0 0 1 " + H(xt.internal.getWidth(t3) / 2) + " " + H(xt.internal.getHeight(t3) / 2) + " cm"), n2.push(r2 + " 0 m"), n2.push(r2 + " " + a2 + " " + a2 + " " + r2 + " 0 " + r2 + " c"), n2.push("-" + a2 + " " + r2 + " -" + r2 + " " + a2 + " -" + r2 + " 0 c"), n2.push("-" + r2 + " -" + a2 + " -" + a2 + " -" + r2 + " 0 -" + r2 + " c"), n2.push(a2 + " -" + r2 + " " + r2 + " -" + a2 + " " + r2 + " 0 c"), n2.push("f"), n2.push("Q"), e.stream = n2.join("\n"), e;
}, YesPushDown: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = [], r2 = xt.internal.getWidth(t3) <= xt.internal.getHeight(t3) ? xt.internal.getWidth(t3) / 4 : xt.internal.getHeight(t3) / 4;
  r2 = Number((0.9 * r2).toFixed(5));
  var i2 = Number((2 * r2).toFixed(5)), a2 = Number((i2 * xt.internal.Bezier_C).toFixed(5)), o2 = Number((r2 * xt.internal.Bezier_C).toFixed(5));
  return n2.push("0.749023 g"), n2.push("q"), n2.push("1 0 0 1 " + H(xt.internal.getWidth(t3) / 2) + " " + H(xt.internal.getHeight(t3) / 2) + " cm"), n2.push(i2 + " 0 m"), n2.push(i2 + " " + a2 + " " + a2 + " " + i2 + " 0 " + i2 + " c"), n2.push("-" + a2 + " " + i2 + " -" + i2 + " " + a2 + " -" + i2 + " 0 c"), n2.push("-" + i2 + " -" + a2 + " -" + a2 + " -" + i2 + " 0 -" + i2 + " c"), n2.push(a2 + " -" + i2 + " " + i2 + " -" + a2 + " " + i2 + " 0 c"), n2.push("f"), n2.push("Q"), n2.push("0 g"), n2.push("q"), n2.push("1 0 0 1 " + H(xt.internal.getWidth(t3) / 2) + " " + H(xt.internal.getHeight(t3) / 2) + " cm"), n2.push(r2 + " 0 m"), n2.push(r2 + " " + o2 + " " + o2 + " " + r2 + " 0 " + r2 + " c"), n2.push("-" + o2 + " " + r2 + " -" + r2 + " " + o2 + " -" + r2 + " 0 c"), n2.push("-" + r2 + " -" + o2 + " -" + o2 + " -" + r2 + " 0 -" + r2 + " c"), n2.push(o2 + " -" + r2 + " " + r2 + " -" + o2 + " " + r2 + " 0 c"), n2.push("f"), n2.push("Q"), e.stream = n2.join("\n"), e;
}, OffPushDown: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = [], r2 = xt.internal.getWidth(t3) <= xt.internal.getHeight(t3) ? xt.internal.getWidth(t3) / 4 : xt.internal.getHeight(t3) / 4;
  r2 = Number((0.9 * r2).toFixed(5));
  var i2 = Number((2 * r2).toFixed(5)), a2 = Number((i2 * xt.internal.Bezier_C).toFixed(5));
  return n2.push("0.749023 g"), n2.push("q"), n2.push("1 0 0 1 " + H(xt.internal.getWidth(t3) / 2) + " " + H(xt.internal.getHeight(t3) / 2) + " cm"), n2.push(i2 + " 0 m"), n2.push(i2 + " " + a2 + " " + a2 + " " + i2 + " 0 " + i2 + " c"), n2.push("-" + a2 + " " + i2 + " -" + i2 + " " + a2 + " -" + i2 + " 0 c"), n2.push("-" + i2 + " -" + a2 + " -" + a2 + " -" + i2 + " 0 -" + i2 + " c"), n2.push(a2 + " -" + i2 + " " + i2 + " -" + a2 + " " + i2 + " 0 c"), n2.push("f"), n2.push("Q"), e.stream = n2.join("\n"), e;
} }, Cross: { createAppearanceStream: function(t3) {
  var e = { D: { Off: xt.RadioButton.Cross.OffPushDown }, N: {} };
  return e.N[t3] = xt.RadioButton.Cross.YesNormal, e.D[t3] = xt.RadioButton.Cross.YesPushDown, e;
}, getCA: function() {
  return "8";
}, YesNormal: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = [], r2 = xt.internal.calculateCross(t3);
  return n2.push("q"), n2.push("1 1 " + U(xt.internal.getWidth(t3) - 2) + " " + U(xt.internal.getHeight(t3) - 2) + " re"), n2.push("W"), n2.push("n"), n2.push(U(r2.x1.x) + " " + U(r2.x1.y) + " m"), n2.push(U(r2.x2.x) + " " + U(r2.x2.y) + " l"), n2.push(U(r2.x4.x) + " " + U(r2.x4.y) + " m"), n2.push(U(r2.x3.x) + " " + U(r2.x3.y) + " l"), n2.push("s"), n2.push("Q"), e.stream = n2.join("\n"), e;
}, YesPushDown: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = xt.internal.calculateCross(t3), r2 = [];
  return r2.push("0.749023 g"), r2.push("0 0 " + U(xt.internal.getWidth(t3)) + " " + U(xt.internal.getHeight(t3)) + " re"), r2.push("f"), r2.push("q"), r2.push("1 1 " + U(xt.internal.getWidth(t3) - 2) + " " + U(xt.internal.getHeight(t3) - 2) + " re"), r2.push("W"), r2.push("n"), r2.push(U(n2.x1.x) + " " + U(n2.x1.y) + " m"), r2.push(U(n2.x2.x) + " " + U(n2.x2.y) + " l"), r2.push(U(n2.x4.x) + " " + U(n2.x4.y) + " m"), r2.push(U(n2.x3.x) + " " + U(n2.x3.y) + " l"), r2.push("s"), r2.push("Q"), e.stream = r2.join("\n"), e;
}, OffPushDown: function(t3) {
  var e = G(t3);
  e.scope = t3.scope;
  var n2 = [];
  return n2.push("0.749023 g"), n2.push("0 0 " + U(xt.internal.getWidth(t3)) + " " + U(xt.internal.getHeight(t3)) + " re"), n2.push("f"), e.stream = n2.join("\n"), e;
} } }, createDefaultAppearanceStream: function(t3) {
  var e = t3.scope.internal.getFont(t3.fontName, t3.fontStyle).id, n2 = t3.scope.__private__.encodeColorString(t3.color);
  return "/" + e + " " + t3.fontSize + " Tf " + n2;
} };
xt.internal = { Bezier_C: 0.551915024494, calculateCross: function(t3) {
  var e = xt.internal.getWidth(t3), n2 = xt.internal.getHeight(t3), r2 = Math.min(e, n2);
  return { x1: { x: (e - r2) / 2, y: (n2 - r2) / 2 + r2 }, x2: { x: (e - r2) / 2 + r2, y: (n2 - r2) / 2 }, x3: { x: (e - r2) / 2, y: (n2 - r2) / 2 }, x4: { x: (e - r2) / 2 + r2, y: (n2 - r2) / 2 + r2 } };
} }, xt.internal.getWidth = function(e) {
  var n2 = 0;
  return "object" === _typeof(e) && (n2 = V(e.Rect[2])), n2;
}, xt.internal.getHeight = function(e) {
  var n2 = 0;
  return "object" === _typeof(e) && (n2 = V(e.Rect[3])), n2;
};
var At = R.addField = function(t3) {
  if (at(this, t3), !(t3 instanceof ht))
    throw new Error("Invalid argument passed to jsPDF.addField.");
  var e;
  return (e = t3).scope.internal.acroformPlugin.printedOut && (e.scope.internal.acroformPlugin.printedOut = false, e.scope.internal.acroformPlugin.acroFormDictionaryRoot = null), e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e), t3.page = t3.scope.internal.getCurrentPageInfo().pageNumber, this;
};
R.AcroFormChoiceField = ft, R.AcroFormListBox = dt, R.AcroFormComboBox = pt, R.AcroFormEditBox = gt, R.AcroFormButton = mt, R.AcroFormPushButton = vt, R.AcroFormRadioButton = bt, R.AcroFormCheckBox = wt, R.AcroFormTextField = Nt, R.AcroFormPasswordField = Lt, R.AcroFormAppearance = xt, R.AcroForm = { ChoiceField: ft, ListBox: dt, ComboBox: pt, EditBox: gt, Button: mt, PushButton: vt, RadioButton: bt, CheckBox: wt, TextField: Nt, PasswordField: Lt, Appearance: xt }, E.AcroForm = { ChoiceField: ft, ListBox: dt, ComboBox: pt, EditBox: gt, Button: mt, PushButton: vt, RadioButton: bt, CheckBox: wt, TextField: Nt, PasswordField: Lt, Appearance: xt };
var St = E.AcroForm;
function _t(t3) {
  return t3.reduce(function(t4, e, n2) {
    return t4[e] = n2, t4;
  }, {});
}
!function(e) {
  var n2 = "addImage_";
  e.__addimage__ = {};
  var r2 = "UNKNOWN", i2 = { PNG: [[137, 80, 78, 71]], TIFF: [[77, 77, 0, 42], [73, 73, 42, 0]], JPEG: [[255, 216, 255, 224, void 0, void 0, 74, 70, 73, 70, 0], [255, 216, 255, 225, void 0, void 0, 69, 120, 105, 102, 0, 0], [255, 216, 255, 219], [255, 216, 255, 238]], JPEG2000: [[0, 0, 0, 12, 106, 80, 32, 32]], GIF87a: [[71, 73, 70, 56, 55, 97]], GIF89a: [[71, 73, 70, 56, 57, 97]], WEBP: [[82, 73, 70, 70, void 0, void 0, void 0, void 0, 87, 69, 66, 80]], BMP: [[66, 77], [66, 65], [67, 73], [67, 80], [73, 67], [80, 84]] }, a2 = e.__addimage__.getImageFileTypeByImageData = function(t3, e2) {
    var n3, a3, o3, s3, u3, c3 = r2;
    if ("RGBA" === (e2 = e2 || r2) || void 0 !== t3.data && t3.data instanceof Uint8ClampedArray && "height" in t3 && "width" in t3)
      return "RGBA";
    if (A2(t3))
      for (u3 in i2)
        for (o3 = i2[u3], n3 = 0; n3 < o3.length; n3 += 1) {
          for (s3 = true, a3 = 0; a3 < o3[n3].length; a3 += 1)
            if (void 0 !== o3[n3][a3] && o3[n3][a3] !== t3[a3]) {
              s3 = false;
              break;
            }
          if (true === s3) {
            c3 = u3;
            break;
          }
        }
    else
      for (u3 in i2)
        for (o3 = i2[u3], n3 = 0; n3 < o3.length; n3 += 1) {
          for (s3 = true, a3 = 0; a3 < o3[n3].length; a3 += 1)
            if (void 0 !== o3[n3][a3] && o3[n3][a3] !== t3.charCodeAt(a3)) {
              s3 = false;
              break;
            }
          if (true === s3) {
            c3 = u3;
            break;
          }
        }
    return c3 === r2 && e2 !== r2 && (c3 = e2), c3;
  }, o2 = function t3(e2) {
    for (var n3 = this.internal.write, r3 = this.internal.putStream, i3 = (0, this.internal.getFilters)(); -1 !== i3.indexOf("FlateEncode"); )
      i3.splice(i3.indexOf("FlateEncode"), 1);
    e2.objectId = this.internal.newObject();
    var a3 = [];
    if (a3.push({ key: "Type", value: "/XObject" }), a3.push({ key: "Subtype", value: "/Image" }), a3.push({ key: "Width", value: e2.width }), a3.push({ key: "Height", value: e2.height }), e2.colorSpace === y2.INDEXED ? a3.push({ key: "ColorSpace", value: "[/Indexed /DeviceRGB " + (e2.palette.length / 3 - 1) + " " + ("sMask" in e2 && void 0 !== e2.sMask ? e2.objectId + 2 : e2.objectId + 1) + " 0 R]" }) : (a3.push({ key: "ColorSpace", value: "/" + e2.colorSpace }), e2.colorSpace === y2.DEVICE_CMYK && a3.push({ key: "Decode", value: "[1 0 1 0 1 0 1 0]" })), a3.push({ key: "BitsPerComponent", value: e2.bitsPerComponent }), "decodeParameters" in e2 && void 0 !== e2.decodeParameters && a3.push({ key: "DecodeParms", value: "<<" + e2.decodeParameters + ">>" }), "transparency" in e2 && Array.isArray(e2.transparency) && e2.transparency.length > 0) {
      for (var o3 = "", s3 = 0, u3 = e2.transparency.length; s3 < u3; s3++)
        o3 += e2.transparency[s3] + " " + e2.transparency[s3] + " ";
      a3.push({ key: "Mask", value: "[" + o3 + "]" });
    }
    void 0 !== e2.sMask && a3.push({ key: "SMask", value: e2.objectId + 1 + " 0 R" });
    var c3 = void 0 !== e2.filter ? ["/" + e2.filter] : void 0;
    if (r3({ data: e2.data, additionalKeyValues: a3, alreadyAppliedFilters: c3, objectId: e2.objectId }), n3("endobj"), "sMask" in e2 && void 0 !== e2.sMask) {
      var l3, h3 = null !== (l3 = e2.sMaskBitsPerComponent) && void 0 !== l3 ? l3 : e2.bitsPerComponent, f2 = { width: e2.width, height: e2.height, colorSpace: "DeviceGray", bitsPerComponent: h3, data: e2.sMask };
      "filter" in e2 && (f2.decodeParameters = "/Predictor ".concat(e2.predictor, " /Colors 1 /BitsPerComponent ").concat(h3, " /Columns ").concat(e2.width), f2.filter = e2.filter), t3.call(this, f2);
    }
    if (e2.colorSpace === y2.INDEXED) {
      var d3 = this.internal.newObject();
      r3({ data: _2(new Uint8Array(e2.palette)), objectId: d3 }), n3("endobj");
    }
  }, s2 = function() {
    var t3 = this.internal.collections[n2 + "images"];
    for (var e2 in t3)
      o2.call(this, t3[e2]);
  }, u2 = function() {
    var t3, e2 = this.internal.collections[n2 + "images"], r3 = this.internal.write;
    for (var i3 in e2)
      r3("/I" + (t3 = e2[i3]).index, t3.objectId, "0", "R");
  }, c2 = function() {
    this.internal.collections[n2 + "images"] || (this.internal.collections[n2 + "images"] = {}, this.internal.events.subscribe("putResources", s2), this.internal.events.subscribe("putXobjectDict", u2));
  }, l2 = function() {
    var t3 = this.internal.collections[n2 + "images"];
    return c2.call(this), t3;
  }, h2 = function() {
    return Object.keys(this.internal.collections[n2 + "images"]).length;
  }, d2 = function(t3) {
    return "function" == typeof e["process" + t3.toUpperCase()];
  }, p2 = function(e2) {
    return "object" === _typeof(e2) && 1 === e2.nodeType;
  }, g2 = function(t3, n3) {
    if ("IMG" === t3.nodeName && t3.hasAttribute("src")) {
      var r3 = "" + t3.getAttribute("src");
      if (0 === r3.indexOf("data:image/"))
        return f(unescape(r3).split("base64,").pop());
      var i3 = e.loadFile(r3, true);
      if (void 0 !== i3)
        return i3;
    }
    if ("CANVAS" === t3.nodeName) {
      if (0 === t3.width || 0 === t3.height)
        throw new Error("Given canvas must have data. Canvas width: " + t3.width + ", height: " + t3.height);
      var a3;
      switch (n3) {
        case "PNG":
          a3 = "image/png";
          break;
        case "WEBP":
          a3 = "image/webp";
          break;
        default:
          a3 = "image/jpeg";
      }
      return f(t3.toDataURL(a3, 1).split("base64,").pop());
    }
  }, m2 = function(t3) {
    var e2 = this.internal.collections[n2 + "images"];
    if (e2) {
      for (var r3 in e2)
        if (t3 === e2[r3].alias)
          return e2[r3];
    }
  }, v2 = function(t3, e2, n3) {
    return t3 || e2 || (t3 = -96, e2 = -96), t3 < 0 && (t3 = -1 * n3.width * 72 / t3 / this.internal.scaleFactor), e2 < 0 && (e2 = -1 * n3.height * 72 / e2 / this.internal.scaleFactor), 0 === t3 && (t3 = e2 * n3.width / n3.height), 0 === e2 && (e2 = t3 * n3.height / n3.width), [t3, e2];
  }, b3 = function(t3, e2, n3, r3, i3, a3) {
    var o3 = v2.call(this, n3, r3, i3), s3 = this.internal.getCoordinateString, u3 = this.internal.getVerticalCoordinateString, c3 = l2.call(this);
    if (n3 = o3[0], r3 = o3[1], c3[i3.index] = i3, a3) {
      a3 *= Math.PI / 180;
      var h3 = Math.cos(a3), f2 = Math.sin(a3), d3 = function(t4) {
        return t4.toFixed(4);
      }, p3 = [d3(h3), d3(f2), d3(-1 * f2), d3(h3), 0, 0, "cm"];
    }
    this.internal.write("q"), a3 ? (this.internal.write([1, "0", "0", 1, s3(t3), u3(e2 + r3), "cm"].join(" ")), this.internal.write(p3.join(" ")), this.internal.write([s3(n3), "0", "0", s3(r3), "0", "0", "cm"].join(" "))) : this.internal.write([s3(n3), "0", "0", s3(r3), s3(t3), u3(e2 + r3), "cm"].join(" ")), this.isAdvancedAPI() && this.internal.write([1, 0, 0, -1, 0, 0, "cm"].join(" ")), this.internal.write("/I" + i3.index + " Do"), this.internal.write("Q");
  }, y2 = e.color_spaces = { DEVICE_RGB: "DeviceRGB", DEVICE_GRAY: "DeviceGray", DEVICE_CMYK: "DeviceCMYK", CAL_GREY: "CalGray", CAL_RGB: "CalRGB", LAB: "Lab", ICC_BASED: "ICCBased", INDEXED: "Indexed", PATTERN: "Pattern", SEPARATION: "Separation", DEVICE_N: "DeviceN" };
  e.decode = { DCT_DECODE: "DCTDecode", FLATE_DECODE: "FlateDecode", LZW_DECODE: "LZWDecode", JPX_DECODE: "JPXDecode", JBIG2_DECODE: "JBIG2Decode", ASCII85_DECODE: "ASCII85Decode", ASCII_HEX_DECODE: "ASCIIHexDecode", RUN_LENGTH_DECODE: "RunLengthDecode", CCITT_FAX_DECODE: "CCITTFaxDecode" };
  var w2 = e.image_compression = { NONE: "NONE", FAST: "FAST", MEDIUM: "MEDIUM", SLOW: "SLOW" }, N2 = e.__addimage__.sHashCode = function(t3) {
    var e2, n3, r3 = 0;
    if ("string" == typeof t3)
      for (n3 = t3.length, e2 = 0; e2 < n3; e2++)
        r3 = (r3 << 5) - r3 + t3.charCodeAt(e2), r3 |= 0;
    else if (A2(t3))
      for (n3 = t3.byteLength / 2, e2 = 0; e2 < n3; e2++)
        r3 = (r3 << 5) - r3 + t3[e2], r3 |= 0;
    return r3;
  }, L2 = e.__addimage__.validateStringAsBase64 = function(t3) {
    (t3 = t3 || "").toString().trim();
    var e2 = true;
    return 0 === t3.length && (e2 = false), t3.length % 4 != 0 && (e2 = false), false === /^[A-Za-z0-9+/]+$/.test(t3.substr(0, t3.length - 2)) && (e2 = false), false === /^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t3.substr(-2)) && (e2 = false), e2;
  }, x2 = e.__addimage__.extractImageFromDataUrl = function(t3) {
    if (null == t3)
      return null;
    if (!(t3 = t3.trim()).startsWith("data:"))
      return null;
    var e2 = t3.indexOf(",");
    return e2 < 0 ? null : t3.substring(0, e2).trim().endsWith("base64") ? t3.substring(e2 + 1) : null;
  };
  e.__addimage__.isArrayBuffer = function(t3) {
    return t3 instanceof ArrayBuffer;
  };
  var A2 = e.__addimage__.isArrayBufferView = function(t3) {
    return t3 instanceof Int8Array || t3 instanceof Uint8Array || t3 instanceof Uint8ClampedArray || t3 instanceof Int16Array || t3 instanceof Uint16Array || t3 instanceof Int32Array || t3 instanceof Uint32Array || t3 instanceof Float32Array || t3 instanceof Float64Array;
  }, S2 = e.__addimage__.binaryStringToUint8Array = function(t3) {
    for (var e2 = t3.length, n3 = new Uint8Array(e2), r3 = 0; r3 < e2; r3++)
      n3[r3] = t3.charCodeAt(r3);
    return n3;
  }, _2 = e.__addimage__.arrayBufferToBinaryString = function(t3) {
    for (var e2 = "", n3 = A2(t3) ? t3 : new Uint8Array(t3), r3 = 0; r3 < n3.length; r3 += 8192)
      e2 += String.fromCharCode.apply(null, n3.subarray(r3, r3 + 8192));
    return e2;
  };
  e.addImage = function() {
    var e2, n3, i3, a3, o3, s3, u3, l3, h3;
    if ("number" == typeof arguments[1] ? (n3 = r2, i3 = arguments[1], a3 = arguments[2], o3 = arguments[3], s3 = arguments[4], u3 = arguments[5], l3 = arguments[6], h3 = arguments[7]) : (n3 = arguments[1], i3 = arguments[2], a3 = arguments[3], o3 = arguments[4], s3 = arguments[5], u3 = arguments[6], l3 = arguments[7], h3 = arguments[8]), "object" === _typeof(e2 = arguments[0]) && !p2(e2) && "imageData" in e2) {
      var f2 = e2;
      e2 = f2.imageData, n3 = f2.format || n3 || r2, i3 = f2.x || i3 || 0, a3 = f2.y || a3 || 0, o3 = f2.w || f2.width || o3, s3 = f2.h || f2.height || s3, u3 = f2.alias || u3, l3 = f2.compression || l3, h3 = f2.rotation || f2.angle || h3;
    }
    var d3 = this.internal.getFilters();
    if (void 0 === l3 && -1 !== d3.indexOf("FlateEncode") && (l3 = "SLOW"), isNaN(i3) || isNaN(a3))
      throw new Error("Invalid coordinates passed to jsPDF.addImage");
    c2.call(this);
    var g3 = P2.call(this, e2, n3, u3, l3);
    return b3.call(this, i3, a3, o3, s3, g3, h3), this;
  };
  var P2 = function(t3, n3, i3, o3) {
    var s3, u3, c3;
    if ("string" == typeof t3 && a2(t3) === r2) {
      t3 = unescape(t3);
      var l3 = k3(t3, false);
      ("" !== l3 || void 0 !== (l3 = e.loadFile(t3, true))) && (t3 = l3);
    }
    if (p2(t3) && (t3 = g2(t3, n3)), n3 = a2(t3, n3), !d2(n3))
      throw new Error("addImage does not support files of type '" + n3 + "', please ensure that a plugin for '" + n3 + "' support is added.");
    if ((null == (c3 = i3) || 0 === c3.length) && (i3 = function(t4) {
      return "string" == typeof t4 || A2(t4) ? N2(t4) : A2(t4.data) ? N2(t4.data) : null;
    }(t3)), (s3 = m2.call(this, i3)) || (t3 instanceof Uint8Array || "RGBA" === n3 || (u3 = t3, t3 = S2(t3)), s3 = this["process" + n3.toUpperCase()](t3, h2.call(this), i3, function(t4) {
      return t4 && "string" == typeof t4 && (t4 = t4.toUpperCase()), t4 in e.image_compression ? t4 : w2.NONE;
    }(o3), u3)), !s3)
      throw new Error("An unknown error occurred whilst processing the image.");
    return s3;
  }, k3 = e.__addimage__.convertBase64ToBinaryString = function(t3, e2) {
    e2 = "boolean" != typeof e2 || e2;
    var n3, r3 = "";
    if ("string" == typeof t3) {
      var i3;
      n3 = null !== (i3 = x2(t3)) && void 0 !== i3 ? i3 : t3;
      try {
        r3 = f(n3);
      } catch (a3) {
        if (e2)
          throw L2(n3) ? new Error("atob-Error in jsPDF.convertBase64ToBinaryString " + a3.message) : new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ");
      }
    }
    return r3;
  };
  e.getImageProperties = function(t3) {
    var n3, i3, o3 = "";
    if (p2(t3) && (t3 = g2(t3)), "string" == typeof t3 && a2(t3) === r2 && ("" === (o3 = k3(t3, false)) && (o3 = e.loadFile(t3) || ""), t3 = o3), i3 = a2(t3), !d2(i3))
      throw new Error("addImage does not support files of type '" + i3 + "', please ensure that a plugin for '" + i3 + "' support is added.");
    if (t3 instanceof Uint8Array || (t3 = S2(t3)), !(n3 = this["process" + i3.toUpperCase()](t3)))
      throw new Error("An unknown error occurred whilst processing the image");
    return n3.fileType = i3, n3;
  };
}(E.API), function(t3) {
  var e = function(t4) {
    if (void 0 !== t4 && "" != t4)
      return true;
  };
  E.API.events.push(["addPage", function(t4) {
    this.internal.getPageInfo(t4.pageNumber).pageContext.annotations = [];
  }]), t3.events.push(["putPage", function(t4) {
    for (var n2, r2, i2, a2 = this.internal.getCoordinateString, o2 = this.internal.getVerticalCoordinateString, s2 = this.internal.getPageInfoByObjId(t4.objId), u2 = t4.pageContext.annotations, c2 = false, l2 = 0; l2 < u2.length && !c2; l2++)
      switch ((n2 = u2[l2]).type) {
        case "link":
          (e(n2.options.url) || e(n2.options.pageNumber)) && (c2 = true);
          break;
        case "reference":
        case "text":
        case "freetext":
          c2 = true;
      }
    if (0 != c2) {
      this.internal.write("/Annots [");
      for (var h2 = 0; h2 < u2.length; h2++) {
        n2 = u2[h2];
        var f2 = this.internal.pdfEscape, d2 = this.internal.getEncryptor(t4.objId);
        switch (n2.type) {
          case "reference":
            this.internal.write(" " + n2.object.objId + " 0 R ");
            break;
          case "text":
            var p2 = this.internal.newAdditionalObject(), g2 = this.internal.newAdditionalObject(), m2 = this.internal.getEncryptor(p2.objId), v2 = n2.title || "Note";
            i2 = "<</Type /Annot /Subtype /Text " + (r2 = "/Rect [" + a2(n2.bounds.x) + " " + o2(n2.bounds.y + n2.bounds.h) + " " + a2(n2.bounds.x + n2.bounds.w) + " " + o2(n2.bounds.y) + "] ") + "/Contents (" + f2(m2(n2.contents)) + ")", i2 += " /Popup " + g2.objId + " 0 R", i2 += " /P " + s2.objId + " 0 R", i2 += " /T (" + f2(m2(v2)) + ") >>", p2.content = i2;
            var b3 = p2.objId + " 0 R";
            i2 = "<</Type /Annot /Subtype /Popup " + (r2 = "/Rect [" + a2(n2.bounds.x + 30) + " " + o2(n2.bounds.y + n2.bounds.h) + " " + a2(n2.bounds.x + n2.bounds.w + 30) + " " + o2(n2.bounds.y) + "] ") + " /Parent " + b3, n2.open && (i2 += " /Open true"), i2 += " >>", g2.content = i2, this.internal.write(p2.objId, "0 R", g2.objId, "0 R");
            break;
          case "freetext":
            r2 = "/Rect [" + a2(n2.bounds.x) + " " + o2(n2.bounds.y) + " " + a2(n2.bounds.x + n2.bounds.w) + " " + o2(n2.bounds.y + n2.bounds.h) + "] ";
            var y2 = n2.color || "#000000";
            i2 = "<</Type /Annot /Subtype /FreeText " + r2 + "/Contents (" + f2(d2(n2.contents)) + ")", i2 += " /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#" + y2 + ")", i2 += " /Border [0 0 0]", i2 += " >>", this.internal.write(i2);
            break;
          case "link":
            if (n2.options.name) {
              var w2 = this.annotations._nameMap[n2.options.name];
              n2.options.pageNumber = w2.page, n2.options.top = w2.y;
            } else
              n2.options.top || (n2.options.top = 0);
            if (r2 = "/Rect [" + n2.finalBounds.x + " " + n2.finalBounds.y + " " + n2.finalBounds.w + " " + n2.finalBounds.h + "] ", i2 = "", n2.options.url)
              i2 = "<</Type /Annot /Subtype /Link " + r2 + "/Border [0 0 0] /A <</S /URI /URI (" + f2(d2(n2.options.url)) + ") >>";
            else if (n2.options.pageNumber)
              switch (i2 = "<</Type /Annot /Subtype /Link " + r2 + "/Border [0 0 0] /Dest [" + this.internal.getPageInfo(n2.options.pageNumber).objId + " 0 R", n2.options.magFactor = n2.options.magFactor || "XYZ", n2.options.magFactor) {
                case "Fit":
                  i2 += " /Fit]";
                  break;
                case "FitH":
                  i2 += " /FitH " + n2.options.top + "]";
                  break;
                case "FitV":
                  n2.options.left = n2.options.left || 0, i2 += " /FitV " + n2.options.left + "]";
                  break;
                default:
                  var N2 = o2(n2.options.top);
                  n2.options.left = n2.options.left || 0, void 0 === n2.options.zoom && (n2.options.zoom = 0), i2 += " /XYZ " + n2.options.left + " " + N2 + " " + n2.options.zoom + "]";
              }
            "" != i2 && (i2 += " >>", this.internal.write(i2));
        }
      }
      this.internal.write("]");
    }
  }]), t3.createAnnotation = function(t4) {
    var e2 = this.internal.getCurrentPageInfo();
    switch (t4.type) {
      case "link":
        this.link(t4.bounds.x, t4.bounds.y, t4.bounds.w, t4.bounds.h, t4);
        break;
      case "text":
      case "freetext":
        e2.pageContext.annotations.push(t4);
    }
  }, t3.link = function(t4, e2, n2, r2, i2) {
    var a2 = this.internal.getCurrentPageInfo(), o2 = this.internal.getCoordinateString, s2 = this.internal.getVerticalCoordinateString;
    a2.pageContext.annotations.push({ finalBounds: { x: o2(t4), y: s2(e2), w: o2(t4 + n2), h: s2(e2 + r2) }, options: i2, type: "link" });
  }, t3.textWithLink = function(t4, e2, n2, r2) {
    var i2, a2, o2 = this.getTextWidth(t4), s2 = this.internal.getLineHeight() / this.internal.scaleFactor;
    if (void 0 !== r2.maxWidth) {
      a2 = r2.maxWidth;
      var u2 = this.splitTextToSize(t4, a2).length;
      i2 = Math.ceil(s2 * u2);
    } else
      a2 = o2, i2 = s2;
    return this.text(t4, e2, n2, r2), n2 += 0.2 * s2, "center" === r2.align && (e2 -= o2 / 2), "right" === r2.align && (e2 -= o2), this.link(e2, n2 - s2, a2, i2, r2), o2;
  }, t3.getTextWidth = function(t4) {
    var e2 = this.internal.getFontSize();
    return this.getStringUnitWidth(t4) * e2 / this.internal.scaleFactor;
  };
}(E.API), function(t3) {
  var e = { 1569: [65152], 1570: [65153, 65154], 1571: [65155, 65156], 1572: [65157, 65158], 1573: [65159, 65160], 1574: [65161, 65162, 65163, 65164], 1575: [65165, 65166], 1576: [65167, 65168, 65169, 65170], 1577: [65171, 65172], 1578: [65173, 65174, 65175, 65176], 1579: [65177, 65178, 65179, 65180], 1580: [65181, 65182, 65183, 65184], 1581: [65185, 65186, 65187, 65188], 1582: [65189, 65190, 65191, 65192], 1583: [65193, 65194], 1584: [65195, 65196], 1585: [65197, 65198], 1586: [65199, 65200], 1587: [65201, 65202, 65203, 65204], 1588: [65205, 65206, 65207, 65208], 1589: [65209, 65210, 65211, 65212], 1590: [65213, 65214, 65215, 65216], 1591: [65217, 65218, 65219, 65220], 1592: [65221, 65222, 65223, 65224], 1593: [65225, 65226, 65227, 65228], 1594: [65229, 65230, 65231, 65232], 1601: [65233, 65234, 65235, 65236], 1602: [65237, 65238, 65239, 65240], 1603: [65241, 65242, 65243, 65244], 1604: [65245, 65246, 65247, 65248], 1605: [65249, 65250, 65251, 65252], 1606: [65253, 65254, 65255, 65256], 1607: [65257, 65258, 65259, 65260], 1608: [65261, 65262], 1609: [65263, 65264, 64488, 64489], 1610: [65265, 65266, 65267, 65268], 1649: [64336, 64337], 1655: [64477], 1657: [64358, 64359, 64360, 64361], 1658: [64350, 64351, 64352, 64353], 1659: [64338, 64339, 64340, 64341], 1662: [64342, 64343, 64344, 64345], 1663: [64354, 64355, 64356, 64357], 1664: [64346, 64347, 64348, 64349], 1667: [64374, 64375, 64376, 64377], 1668: [64370, 64371, 64372, 64373], 1670: [64378, 64379, 64380, 64381], 1671: [64382, 64383, 64384, 64385], 1672: [64392, 64393], 1676: [64388, 64389], 1677: [64386, 64387], 1678: [64390, 64391], 1681: [64396, 64397], 1688: [64394, 64395], 1700: [64362, 64363, 64364, 64365], 1702: [64366, 64367, 64368, 64369], 1705: [64398, 64399, 64400, 64401], 1709: [64467, 64468, 64469, 64470], 1711: [64402, 64403, 64404, 64405], 1713: [64410, 64411, 64412, 64413], 1715: [64406, 64407, 64408, 64409], 1722: [64414, 64415], 1723: [64416, 64417, 64418, 64419], 1726: [64426, 64427, 64428, 64429], 1728: [64420, 64421], 1729: [64422, 64423, 64424, 64425], 1733: [64480, 64481], 1734: [64473, 64474], 1735: [64471, 64472], 1736: [64475, 64476], 1737: [64482, 64483], 1739: [64478, 64479], 1740: [64508, 64509, 64510, 64511], 1744: [64484, 64485, 64486, 64487], 1746: [64430, 64431], 1747: [64432, 64433] }, n2 = { 65247: { 65154: 65269, 65156: 65271, 65160: 65273, 65166: 65275 }, 65248: { 65154: 65270, 65156: 65272, 65160: 65274, 65166: 65276 }, 65165: { 65247: { 65248: { 65258: 65010 } } }, 1617: { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 } }, r2 = { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 }, i2 = [1570, 1571, 1573, 1575];
  t3.__arabicParser__ = {};
  var a2 = t3.__arabicParser__.isInArabicSubstitutionA = function(t4) {
    return void 0 !== e[t4.charCodeAt(0)];
  }, o2 = t3.__arabicParser__.isArabicLetter = function(t4) {
    return "string" == typeof t4 && /^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t4);
  }, s2 = t3.__arabicParser__.isArabicEndLetter = function(t4) {
    return o2(t4) && a2(t4) && e[t4.charCodeAt(0)].length <= 2;
  }, u2 = t3.__arabicParser__.isArabicAlfLetter = function(t4) {
    return o2(t4) && i2.indexOf(t4.charCodeAt(0)) >= 0;
  };
  t3.__arabicParser__.arabicLetterHasIsolatedForm = function(t4) {
    return o2(t4) && a2(t4) && e[t4.charCodeAt(0)].length >= 1;
  };
  var c2 = t3.__arabicParser__.arabicLetterHasFinalForm = function(t4) {
    return o2(t4) && a2(t4) && e[t4.charCodeAt(0)].length >= 2;
  };
  t3.__arabicParser__.arabicLetterHasInitialForm = function(t4) {
    return o2(t4) && a2(t4) && e[t4.charCodeAt(0)].length >= 3;
  };
  var l2 = t3.__arabicParser__.arabicLetterHasMedialForm = function(t4) {
    return o2(t4) && a2(t4) && 4 == e[t4.charCodeAt(0)].length;
  }, h2 = t3.__arabicParser__.resolveLigatures = function(t4) {
    var e2 = 0, r3 = n2, i3 = "", a3 = 0;
    for (e2 = 0; e2 < t4.length; e2 += 1)
      void 0 !== r3[t4.charCodeAt(e2)] ? (a3++, "number" == typeof (r3 = r3[t4.charCodeAt(e2)]) && (i3 += String.fromCharCode(r3), r3 = n2, a3 = 0), e2 === t4.length - 1 && (r3 = n2, i3 += t4.charAt(e2 - (a3 - 1)), e2 -= a3 - 1, a3 = 0)) : (r3 = n2, i3 += t4.charAt(e2 - a3), e2 -= a3, a3 = 0);
    return i3;
  };
  t3.__arabicParser__.isArabicDiacritic = function(t4) {
    return void 0 !== t4 && void 0 !== r2[t4.charCodeAt(0)];
  };
  var f2 = t3.__arabicParser__.getCorrectForm = function(t4, e2, n3) {
    return o2(t4) ? false === a2(t4) ? -1 : !c2(t4) || !o2(e2) && !o2(n3) || !o2(n3) && s2(e2) || s2(t4) && !o2(e2) || s2(t4) && u2(e2) || s2(t4) && s2(e2) ? 0 : l2(t4) && o2(e2) && !s2(e2) && o2(n3) && c2(n3) ? 3 : s2(t4) || !o2(n3) ? 1 : 2 : -1;
  }, d2 = function(t4) {
    var n3 = 0, r3 = 0, i3 = 0, a3 = "", s3 = "", u3 = "", c3 = (t4 = t4 || "").split("\\s+"), l3 = [];
    for (n3 = 0; n3 < c3.length; n3 += 1) {
      for (l3.push(""), r3 = 0; r3 < c3[n3].length; r3 += 1)
        a3 = c3[n3][r3], s3 = c3[n3][r3 - 1], u3 = c3[n3][r3 + 1], o2(a3) ? (i3 = f2(a3, s3, u3), l3[n3] += -1 !== i3 ? String.fromCharCode(e[a3.charCodeAt(0)][i3]) : a3) : l3[n3] += a3;
      l3[n3] = h2(l3[n3]);
    }
    return l3.join(" ");
  }, p2 = t3.__arabicParser__.processArabic = t3.processArabic = function() {
    var t4, e2 = "string" == typeof arguments[0] ? arguments[0] : arguments[0].text, n3 = [];
    if (Array.isArray(e2)) {
      var r3 = 0;
      for (n3 = [], r3 = 0; r3 < e2.length; r3 += 1)
        Array.isArray(e2[r3]) ? n3.push([d2(e2[r3][0]), e2[r3][1], e2[r3][2]]) : n3.push([d2(e2[r3])]);
      t4 = n3;
    } else
      t4 = d2(e2);
    return "string" == typeof arguments[0] ? t4 : (arguments[0].text = t4, arguments[0]);
  };
  t3.events.push(["preProcessText", p2]);
}(E.API), E.API.autoPrint = function(t3) {
  var e;
  return (t3 = t3 || {}).variant = t3.variant || "non-conform", "javascript" === t3.variant ? this.addJS("print({});") : (this.internal.events.subscribe("postPutResources", function() {
    e = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /Named"), this.internal.out("/Type /Action"), this.internal.out("/N /Print"), this.internal.out(">>"), this.internal.out("endobj");
  }), this.internal.events.subscribe("putCatalog", function() {
    this.internal.out("/OpenAction " + e + " 0 R");
  })), this;
}, function(t3) {
  var e = function() {
    var t4 = void 0;
    Object.defineProperty(this, "pdf", { get: function() {
      return t4;
    }, set: function(e3) {
      t4 = e3;
    } });
    var e2 = 150;
    Object.defineProperty(this, "width", { get: function() {
      return e2;
    }, set: function(t5) {
      e2 = isNaN(t5) || false === Number.isInteger(t5) || t5 < 0 ? 150 : t5, this.getContext("2d").pageWrapXEnabled && (this.getContext("2d").pageWrapX = e2 + 1);
    } });
    var n2 = 300;
    Object.defineProperty(this, "height", { get: function() {
      return n2;
    }, set: function(t5) {
      n2 = isNaN(t5) || false === Number.isInteger(t5) || t5 < 0 ? 300 : t5, this.getContext("2d").pageWrapYEnabled && (this.getContext("2d").pageWrapY = n2 + 1);
    } });
    var r2 = [];
    Object.defineProperty(this, "childNodes", { get: function() {
      return r2;
    }, set: function(t5) {
      r2 = t5;
    } });
    var i2 = {};
    Object.defineProperty(this, "style", { get: function() {
      return i2;
    }, set: function(t5) {
      i2 = t5;
    } }), Object.defineProperty(this, "parentNode", {});
  };
  e.prototype.getContext = function(t4, e2) {
    var n2;
    if ("2d" !== (t4 = t4 || "2d"))
      return null;
    for (n2 in e2)
      this.pdf.context2d.hasOwnProperty(n2) && (this.pdf.context2d[n2] = e2[n2]);
    return this.pdf.context2d._canvas = this, this.pdf.context2d;
  }, e.prototype.toDataURL = function() {
    throw new Error("toDataURL is not implemented.");
  }, t3.events.push(["initialized", function() {
    this.canvas = new e(), this.canvas.pdf = this;
  }]);
}(E.API), function(e) {
  var n2 = { left: 0, top: 0, bottom: 0, right: 0 }, r2 = false, i2 = function() {
    void 0 === this.internal.__cell__ && (this.internal.__cell__ = {}, this.internal.__cell__.padding = 3, this.internal.__cell__.headerFunction = void 0, this.internal.__cell__.margins = Object.assign({}, n2), this.internal.__cell__.margins.width = this.getPageWidth(), a2.call(this));
  }, a2 = function() {
    this.internal.__cell__.lastCell = new o2(), this.internal.__cell__.pages = 1;
  }, o2 = function() {
    var t3 = arguments[0];
    Object.defineProperty(this, "x", { enumerable: true, get: function() {
      return t3;
    }, set: function(e3) {
      t3 = e3;
    } });
    var e2 = arguments[1];
    Object.defineProperty(this, "y", { enumerable: true, get: function() {
      return e2;
    }, set: function(t4) {
      e2 = t4;
    } });
    var n3 = arguments[2];
    Object.defineProperty(this, "width", { enumerable: true, get: function() {
      return n3;
    }, set: function(t4) {
      n3 = t4;
    } });
    var r3 = arguments[3];
    Object.defineProperty(this, "height", { enumerable: true, get: function() {
      return r3;
    }, set: function(t4) {
      r3 = t4;
    } });
    var i3 = arguments[4];
    Object.defineProperty(this, "text", { enumerable: true, get: function() {
      return i3;
    }, set: function(t4) {
      i3 = t4;
    } });
    var a3 = arguments[5];
    Object.defineProperty(this, "lineNumber", { enumerable: true, get: function() {
      return a3;
    }, set: function(t4) {
      a3 = t4;
    } });
    var o3 = arguments[6];
    return Object.defineProperty(this, "align", { enumerable: true, get: function() {
      return o3;
    }, set: function(t4) {
      o3 = t4;
    } }), this;
  };
  o2.prototype.clone = function() {
    return new o2(this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align);
  }, o2.prototype.toArray = function() {
    return [this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align];
  }, e.setHeaderFunction = function(t3) {
    return i2.call(this), this.internal.__cell__.headerFunction = "function" == typeof t3 ? t3 : void 0, this;
  }, e.getTextDimensions = function(t3, e2) {
    i2.call(this);
    var n3 = (e2 = e2 || {}).fontSize || this.getFontSize(), r3 = e2.font || this.getFont(), a3 = e2.scaleFactor || this.internal.scaleFactor, o3 = 0, s3 = 0, u3 = 0, c2 = this;
    if (!Array.isArray(t3) && "string" != typeof t3) {
      if ("number" != typeof t3)
        throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");
      t3 = String(t3);
    }
    var l2 = e2.maxWidth;
    l2 > 0 ? "string" == typeof t3 ? t3 = this.splitTextToSize(t3, l2) : "[object Array]" === Object.prototype.toString.call(t3) && (t3 = t3.reduce(function(t4, e3) {
      return t4.concat(c2.splitTextToSize(e3, l2));
    }, [])) : t3 = Array.isArray(t3) ? t3 : [t3];
    for (var h2 = 0; h2 < t3.length; h2++)
      o3 < (u3 = this.getStringUnitWidth(t3[h2], { font: r3 }) * n3) && (o3 = u3);
    return 0 !== o3 && (s3 = t3.length), { w: o3 /= a3, h: Math.max((s3 * n3 * this.getLineHeightFactor() - n3 * (this.getLineHeightFactor() - 1)) / a3, 0) };
  }, e.cellAddPage = function() {
    i2.call(this), this.addPage();
    var t3 = this.internal.__cell__.margins || n2;
    return this.internal.__cell__.lastCell = new o2(t3.left, t3.top, void 0, void 0), this.internal.__cell__.pages += 1, this;
  };
  var s2 = e.cell = function() {
    var t3;
    t3 = arguments[0] instanceof o2 ? arguments[0] : new o2(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]), i2.call(this);
    var e2 = this.internal.__cell__.lastCell, a3 = this.internal.__cell__.padding, s3 = this.internal.__cell__.margins || n2, u3 = this.internal.__cell__.tableHeaderRow, c2 = this.internal.__cell__.printHeaders;
    return void 0 !== e2.lineNumber && (e2.lineNumber === t3.lineNumber ? (t3.x = (e2.x || 0) + (e2.width || 0), t3.y = e2.y || 0) : e2.y + e2.height + t3.height + s3.bottom > this.getPageHeight() ? (this.cellAddPage(), t3.y = s3.top, c2 && u3 && (this.printHeaderRow(t3.lineNumber, true), t3.y += u3[0].height)) : t3.y = e2.y + e2.height || t3.y), void 0 !== t3.text[0] && (this.rect(t3.x, t3.y, t3.width, t3.height, true === r2 ? "FD" : void 0), "right" === t3.align ? this.text(t3.text, t3.x + t3.width - a3, t3.y + a3, { align: "right", baseline: "top" }) : "center" === t3.align ? this.text(t3.text, t3.x + t3.width / 2, t3.y + a3, { align: "center", baseline: "top", maxWidth: t3.width - a3 - a3 }) : this.text(t3.text, t3.x + a3, t3.y + a3, { align: "left", baseline: "top", maxWidth: t3.width - a3 - a3 })), this.internal.__cell__.lastCell = t3, this;
  };
  e.table = function(e2, r3, c2, l2, h2) {
    if (i2.call(this), !c2)
      throw new Error("No data for PDF table.");
    var f2, d2, p2, g2, m2 = [], v2 = [], b3 = [], y2 = {}, w2 = {}, N2 = [], L2 = [], x2 = (h2 = h2 || {}).autoSize || false, A2 = false !== h2.printHeaders, S2 = h2.css && void 0 !== h2.css["font-size"] ? 16 * h2.css["font-size"] : h2.fontSize || 12, _2 = h2.margins || Object.assign({ width: this.getPageWidth() }, n2), P2 = "number" == typeof h2.padding ? h2.padding : 3, k3 = h2.headerBackgroundColor || "#c8c8c8", F2 = h2.headerTextColor || "#000";
    if (a2.call(this), this.internal.__cell__.printHeaders = A2, this.internal.__cell__.margins = _2, this.internal.__cell__.table_font_size = S2, this.internal.__cell__.padding = P2, this.internal.__cell__.headerBackgroundColor = k3, this.internal.__cell__.headerTextColor = F2, this.setFontSize(S2), null == l2)
      v2 = m2 = Object.keys(c2[0]), b3 = m2.map(function() {
        return "left";
      });
    else if (Array.isArray(l2) && "object" === _typeof(l2[0]))
      for (m2 = l2.map(function(t3) {
        return t3.name;
      }), v2 = l2.map(function(t3) {
        return t3.prompt || t3.name || "";
      }), b3 = l2.map(function(t3) {
        return t3.align || "left";
      }), f2 = 0; f2 < l2.length; f2 += 1)
        w2[l2[f2].name] = 0.7499990551181103 * l2[f2].width;
    else
      Array.isArray(l2) && "string" == typeof l2[0] && (v2 = m2 = l2, b3 = m2.map(function() {
        return "left";
      }));
    if (x2 || Array.isArray(l2) && "string" == typeof l2[0])
      for (f2 = 0; f2 < m2.length; f2 += 1) {
        for (y2[g2 = m2[f2]] = c2.map(function(t3) {
          return t3[g2];
        }), this.setFont(void 0, "bold"), N2.push(this.getTextDimensions(v2[f2], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w), d2 = y2[g2], this.setFont(void 0, "normal"), p2 = 0; p2 < d2.length; p2 += 1)
          N2.push(this.getTextDimensions(d2[p2], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w);
        w2[g2] = Math.max.apply(null, N2) + P2 + P2, N2 = [];
      }
    if (A2) {
      var I2 = {};
      for (f2 = 0; f2 < m2.length; f2 += 1)
        I2[m2[f2]] = {}, I2[m2[f2]].text = v2[f2], I2[m2[f2]].align = b3[f2];
      var j2 = u2.call(this, I2, w2);
      L2 = m2.map(function(t3) {
        return new o2(e2, r3, w2[t3], j2, I2[t3].text, void 0, I2[t3].align);
      }), this.setTableHeaderRow(L2), this.printHeaderRow(1, false);
    }
    var C2 = l2.reduce(function(t3, e3) {
      return t3[e3.name] = e3.align, t3;
    }, {});
    for (f2 = 0; f2 < c2.length; f2 += 1) {
      "rowStart" in h2 && h2.rowStart instanceof Function && h2.rowStart({ row: f2, data: c2[f2] }, this);
      var O2 = u2.call(this, c2[f2], w2);
      for (p2 = 0; p2 < m2.length; p2 += 1) {
        var B2 = c2[f2][m2[p2]];
        "cellStart" in h2 && h2.cellStart instanceof Function && h2.cellStart({ row: f2, col: p2, data: B2 }, this), s2.call(this, new o2(e2, r3, w2[m2[p2]], O2, B2, f2 + 2, C2[m2[p2]]));
      }
    }
    return this.internal.__cell__.table_x = e2, this.internal.__cell__.table_y = r3, this;
  };
  var u2 = function(t3, e2) {
    var n3 = this.internal.__cell__.padding, r3 = this.internal.__cell__.table_font_size, i3 = this.internal.scaleFactor;
    return Object.keys(t3).map(function(r4) {
      var i4 = t3[r4];
      return this.splitTextToSize(i4.hasOwnProperty("text") ? i4.text : i4, e2[r4] - n3 - n3);
    }, this).map(function(t4) {
      return this.getLineHeightFactor() * t4.length * r3 / i3 + n3 + n3;
    }, this).reduce(function(t4, e3) {
      return Math.max(t4, e3);
    }, 0);
  };
  e.setTableHeaderRow = function(t3) {
    i2.call(this), this.internal.__cell__.tableHeaderRow = t3;
  }, e.printHeaderRow = function(t3, e2) {
    if (i2.call(this), !this.internal.__cell__.tableHeaderRow)
      throw new Error("Property tableHeaderRow does not exist.");
    var n3;
    if (r2 = true, "function" == typeof this.internal.__cell__.headerFunction) {
      var a3 = this.internal.__cell__.headerFunction(this, this.internal.__cell__.pages);
      this.internal.__cell__.lastCell = new o2(a3[0], a3[1], a3[2], a3[3], void 0, -1);
    }
    this.setFont(void 0, "bold");
    for (var u3 = [], c2 = 0; c2 < this.internal.__cell__.tableHeaderRow.length; c2 += 1) {
      n3 = this.internal.__cell__.tableHeaderRow[c2].clone(), e2 && (n3.y = this.internal.__cell__.margins.top || 0, u3.push(n3)), n3.lineNumber = t3;
      var l2 = this.getTextColor();
      this.setTextColor(this.internal.__cell__.headerTextColor), this.setFillColor(this.internal.__cell__.headerBackgroundColor), s2.call(this, n3), this.setTextColor(l2);
    }
    u3.length > 0 && this.setTableHeaderRow(u3), this.setFont(void 0, "normal"), r2 = false;
  };
}(E.API);
var Pt = { italic: ["italic", "oblique", "normal"], oblique: ["oblique", "italic", "normal"], normal: ["normal", "oblique", "italic"] }, kt = ["ultra-condensed", "extra-condensed", "condensed", "semi-condensed", "normal", "semi-expanded", "expanded", "extra-expanded", "ultra-expanded"], Ft = _t(kt), It = [100, 200, 300, 400, 500, 600, 700, 800, 900], jt = _t(It);
function Ct(t3) {
  var e = t3.family.replace(/"|'/g, "").toLowerCase(), n2 = function(t4) {
    return Pt[t4 = t4 || "normal"] ? t4 : "normal";
  }(t3.style), r2 = function(t4) {
    return t4 ? "number" == typeof t4 ? t4 >= 100 && t4 <= 900 && t4 % 100 == 0 ? t4 : 400 : /^\d00$/.test(t4) ? parseInt(t4) : "bold" === t4 ? 700 : 400 : 400;
  }(t3.weight), i2 = function(t4) {
    return "number" == typeof Ft[t4 = t4 || "normal"] ? t4 : "normal";
  }(t3.stretch);
  return { family: e, style: n2, weight: r2, stretch: i2, src: t3.src || [], ref: t3.ref || { name: e, style: [i2, n2, r2].join(" ") } };
}
function Ot(t3, e, n2, r2) {
  var i2;
  for (i2 = n2; i2 >= 0 && i2 < e.length; i2 += r2)
    if (t3[e[i2]])
      return t3[e[i2]];
  for (i2 = n2; i2 >= 0 && i2 < e.length; i2 -= r2)
    if (t3[e[i2]])
      return t3[e[i2]];
}
var Bt = { "sans-serif": "helvetica", fixed: "courier", monospace: "courier", terminal: "courier", cursive: "times", fantasy: "times", serif: "times" }, Mt = { caption: "times", icon: "times", menu: "times", "message-box": "times", "small-caption": "times", "status-bar": "times" };
function qt(t3) {
  return [t3.stretch, t3.style, t3.weight, t3.family].join(" ");
}
function Et(t3) {
  return t3.trimLeft();
}
function Rt(t3, e) {
  for (var n2 = 0; n2 < t3.length; ) {
    if (t3.charAt(n2) === e)
      return [t3.substring(0, n2), t3.substring(n2 + 1)];
    n2 += 1;
  }
  return null;
}
function Dt(t3) {
  var e = t3.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);
  return null === e ? null : [e[0], t3.substring(e[0].length)];
}
var Tt, zt, Ut, Ht, Wt, Vt, Gt, Yt, Jt = ["times"];
function Xt(t3, n2, r2, i2, a2) {
  var o2 = 4, s2 = $t;
  switch (a2) {
    case E.API.image_compression.FAST:
      o2 = 1, s2 = Zt;
      break;
    case E.API.image_compression.MEDIUM:
      o2 = 6, s2 = Qt;
      break;
    case E.API.image_compression.SLOW:
      o2 = 9, s2 = te;
  }
  t3 = function(t4, e, n3, r3) {
    for (var i3, a3 = t4.length / e, o3 = new Uint8Array(t4.length + a3), s3 = [Kt, Zt, $t, Qt, te], u3 = 0; u3 < a3; u3 += 1) {
      var c2 = u3 * e, l2 = t4.subarray(c2, c2 + e);
      if (r3)
        o3.set(r3(l2, n3, i3), c2 + u3);
      else {
        for (var h2 = s3.length, f2 = [], d2 = 0; d2 < h2; d2 += 1)
          f2[d2] = s3[d2](l2, n3, i3);
        var p2 = ne(f2.concat());
        o3.set(f2[p2], c2 + u3);
      }
      i3 = l2;
    }
    return o3;
  }(t3, n2, Math.ceil(r2 * i2 / 8), s2);
  var u2 = zlibSync(t3, { level: o2 });
  return E.API.__addimage__.arrayBufferToBinaryString(u2);
}
function Kt(t3) {
  var e = Array.apply([], t3);
  return e.unshift(0), e;
}
function Zt(t3, e) {
  var n2 = t3.length, r2 = [];
  r2[0] = 1;
  for (var i2 = 0; i2 < n2; i2 += 1) {
    var a2 = t3[i2 - e] || 0;
    r2[i2 + 1] = t3[i2] - a2 + 256 & 255;
  }
  return r2;
}
function $t(t3, e, n2) {
  var r2 = t3.length, i2 = [];
  i2[0] = 2;
  for (var a2 = 0; a2 < r2; a2 += 1) {
    var o2 = n2 && n2[a2] || 0;
    i2[a2 + 1] = t3[a2] - o2 + 256 & 255;
  }
  return i2;
}
function Qt(t3, e, n2) {
  var r2 = t3.length, i2 = [];
  i2[0] = 3;
  for (var a2 = 0; a2 < r2; a2 += 1) {
    var o2 = t3[a2 - e] || 0, s2 = n2 && n2[a2] || 0;
    i2[a2 + 1] = t3[a2] + 256 - (o2 + s2 >>> 1) & 255;
  }
  return i2;
}
function te(t3, e, n2) {
  var r2 = t3.length, i2 = [];
  i2[0] = 4;
  for (var a2 = 0; a2 < r2; a2 += 1) {
    var o2 = ee(t3[a2 - e] || 0, n2 && n2[a2] || 0, n2 && n2[a2 - e] || 0);
    i2[a2 + 1] = t3[a2] - o2 + 256 & 255;
  }
  return i2;
}
function ee(t3, e, n2) {
  if (t3 === e && e === n2)
    return t3;
  var r2 = Math.abs(e - n2), i2 = Math.abs(t3 - n2), a2 = Math.abs(t3 + e - n2 - n2);
  return r2 <= i2 && r2 <= a2 ? t3 : i2 <= a2 ? e : n2;
}
function ne(t3) {
  var e = t3.map(function(t4) {
    return t4.reduce(function(t5, e2) {
      return t5 + Math.abs(e2);
    }, 0);
  });
  return e.indexOf(Math.min.apply(null, e));
}
function re(t3, e, n2) {
  var r2 = e * n2, i2 = Math.floor(r2 / 8), a2 = 16 - (r2 - 8 * i2 + n2), o2 = (1 << n2) - 1;
  return ae(t3, i2) >> a2 & o2;
}
function ie(t3, e, n2, r2) {
  var i2 = n2 * r2, a2 = Math.floor(i2 / 8), o2 = 16 - (i2 - 8 * a2 + r2), s2 = (1 << r2) - 1, u2 = (e & s2) << o2;
  !function(t4, e2, n3) {
    if (e2 + 1 < t4.byteLength)
      t4.setUint16(e2, n3, false);
    else {
      var r3 = n3 >> 8 & 255;
      t4.setUint8(e2, r3);
    }
  }(t3, a2, ae(t3, a2) & ~(s2 << o2) & 65535 | u2);
}
function ae(t3, e) {
  return e + 1 < t3.byteLength ? t3.getUint16(e, false) : t3.getUint8(e) << 8;
}
function oe(t3) {
  var e = 0;
  if (71 !== t3[e++] || 73 !== t3[e++] || 70 !== t3[e++] || 56 !== t3[e++] || 56 != (t3[e++] + 1 & 253) || 97 !== t3[e++])
    throw new Error("Invalid GIF 87a/89a header.");
  var n2 = t3[e++] | t3[e++] << 8, r2 = t3[e++] | t3[e++] << 8, i2 = t3[e++], a2 = i2 >> 7, o2 = 1 << 1 + (7 & i2);
  t3[e++], t3[e++];
  var s2 = null, u2 = null;
  a2 && (s2 = e, u2 = o2, e += 3 * o2);
  var c2 = true, l2 = [], h2 = 0, f2 = null, d2 = 0, p2 = null;
  for (this.width = n2, this.height = r2; c2 && e < t3.length; )
    switch (t3[e++]) {
      case 33:
        switch (t3[e++]) {
          case 255:
            if (11 !== t3[e] || 78 == t3[e + 1] && 69 == t3[e + 2] && 84 == t3[e + 3] && 83 == t3[e + 4] && 67 == t3[e + 5] && 65 == t3[e + 6] && 80 == t3[e + 7] && 69 == t3[e + 8] && 50 == t3[e + 9] && 46 == t3[e + 10] && 48 == t3[e + 11] && 3 == t3[e + 12] && 1 == t3[e + 13] && 0 == t3[e + 16])
              e += 14, p2 = t3[e++] | t3[e++] << 8, e++;
            else
              for (e += 12; ; ) {
                if (!((P2 = t3[e++]) >= 0))
                  throw Error("Invalid block size");
                if (0 === P2)
                  break;
                e += P2;
              }
            break;
          case 249:
            if (4 !== t3[e++] || 0 !== t3[e + 4])
              throw new Error("Invalid graphics extension block.");
            var g2 = t3[e++];
            h2 = t3[e++] | t3[e++] << 8, f2 = t3[e++], 1 & g2 || (f2 = null), d2 = g2 >> 2 & 7, e++;
            break;
          case 254:
            for (; ; ) {
              if (!((P2 = t3[e++]) >= 0))
                throw Error("Invalid block size");
              if (0 === P2)
                break;
              e += P2;
            }
            break;
          default:
            throw new Error("Unknown graphic control label: 0x" + t3[e - 1].toString(16));
        }
        break;
      case 44:
        var m2 = t3[e++] | t3[e++] << 8, v2 = t3[e++] | t3[e++] << 8, b3 = t3[e++] | t3[e++] << 8, y2 = t3[e++] | t3[e++] << 8, w2 = t3[e++], N2 = w2 >> 6 & 1, L2 = 1 << 1 + (7 & w2), x2 = s2, A2 = u2, S2 = false;
        w2 >> 7 && (S2 = true, x2 = e, A2 = L2, e += 3 * L2);
        var _2 = e;
        for (e++; ; ) {
          var P2;
          if (!((P2 = t3[e++]) >= 0))
            throw Error("Invalid block size");
          if (0 === P2)
            break;
          e += P2;
        }
        l2.push({ x: m2, y: v2, width: b3, height: y2, has_local_palette: S2, palette_offset: x2, palette_size: A2, data_offset: _2, data_length: e - _2, transparent_index: f2, interlaced: !!N2, delay: h2, disposal: d2 });
        break;
      case 59:
        c2 = false;
        break;
      default:
        throw new Error("Unknown gif block: 0x" + t3[e - 1].toString(16));
    }
  this.numFrames = function() {
    return l2.length;
  }, this.loopCount = function() {
    return p2;
  }, this.frameInfo = function(t4) {
    if (t4 < 0 || t4 >= l2.length)
      throw new Error("Frame index out of range.");
    return l2[t4];
  }, this.decodeAndBlitFrameBGRA = function(e2, r3) {
    var i3 = this.frameInfo(e2), a3 = i3.width * i3.height, o3 = new Uint8Array(a3);
    se(t3, i3.data_offset, o3, a3);
    var s3 = i3.palette_offset, u3 = i3.transparent_index;
    null === u3 && (u3 = 256);
    var c3 = i3.width, l3 = n2 - c3, h3 = c3, f3 = 4 * (i3.y * n2 + i3.x), d3 = 4 * ((i3.y + i3.height) * n2 + i3.x), p3 = f3, g3 = 4 * l3;
    true === i3.interlaced && (g3 += 4 * n2 * 7);
    for (var m3 = 8, v3 = 0, b5 = o3.length; v3 < b5; ++v3) {
      var y3 = o3[v3];
      if (0 === h3 && (h3 = c3, (p3 += g3) >= d3 && (g3 = 4 * l3 + 4 * n2 * (m3 - 1), p3 = f3 + (c3 + l3) * (m3 << 1), m3 >>= 1)), y3 === u3)
        p3 += 4;
      else {
        var w3 = t3[s3 + 3 * y3], N3 = t3[s3 + 3 * y3 + 1], L3 = t3[s3 + 3 * y3 + 2];
        r3[p3++] = L3, r3[p3++] = N3, r3[p3++] = w3, r3[p3++] = 255;
      }
      --h3;
    }
  }, this.decodeAndBlitFrameRGBA = function(e2, r3) {
    var i3 = this.frameInfo(e2), a3 = i3.width * i3.height, o3 = new Uint8Array(a3);
    se(t3, i3.data_offset, o3, a3);
    var s3 = i3.palette_offset, u3 = i3.transparent_index;
    null === u3 && (u3 = 256);
    var c3 = i3.width, l3 = n2 - c3, h3 = c3, f3 = 4 * (i3.y * n2 + i3.x), d3 = 4 * ((i3.y + i3.height) * n2 + i3.x), p3 = f3, g3 = 4 * l3;
    true === i3.interlaced && (g3 += 4 * n2 * 7);
    for (var m3 = 8, v3 = 0, b5 = o3.length; v3 < b5; ++v3) {
      var y3 = o3[v3];
      if (0 === h3 && (h3 = c3, (p3 += g3) >= d3 && (g3 = 4 * l3 + 4 * n2 * (m3 - 1), p3 = f3 + (c3 + l3) * (m3 << 1), m3 >>= 1)), y3 === u3)
        p3 += 4;
      else {
        var w3 = t3[s3 + 3 * y3], N3 = t3[s3 + 3 * y3 + 1], L3 = t3[s3 + 3 * y3 + 2];
        r3[p3++] = w3, r3[p3++] = N3, r3[p3++] = L3, r3[p3++] = 255;
      }
      --h3;
    }
  };
}
function se(t3, e, n2, r2) {
  for (var i2 = t3[e++], a2 = 1 << i2, s2 = a2 + 1, u2 = s2 + 1, c2 = i2 + 1, l2 = (1 << c2) - 1, h2 = 0, f2 = 0, d2 = 0, p2 = t3[e++], g2 = new Int32Array(4096), m2 = null; ; ) {
    for (; h2 < 16 && 0 !== p2; )
      f2 |= t3[e++] << h2, h2 += 8, 1 === p2 ? p2 = t3[e++] : --p2;
    if (h2 < c2)
      break;
    var v2 = f2 & l2;
    if (f2 >>= c2, h2 -= c2, v2 !== a2) {
      if (v2 === s2)
        break;
      for (var b3 = v2 < u2 ? v2 : m2, y2 = 0, w2 = b3; w2 > a2; )
        w2 = g2[w2] >> 8, ++y2;
      var N2 = w2;
      if (d2 + y2 + (b3 !== v2 ? 1 : 0) > r2)
        return void o.log("Warning, gif stream longer than expected.");
      n2[d2++] = N2;
      var L2 = d2 += y2;
      for (b3 !== v2 && (n2[d2++] = N2), w2 = b3; y2--; )
        w2 = g2[w2], n2[--L2] = 255 & w2, w2 >>= 8;
      null !== m2 && u2 < 4096 && (g2[u2++] = m2 << 8 | N2, u2 >= l2 + 1 && c2 < 12 && (++c2, l2 = l2 << 1 | 1)), m2 = v2;
    } else
      u2 = s2 + 1, l2 = (1 << (c2 = i2 + 1)) - 1, m2 = null;
  }
  return d2 !== r2 && o.log("Warning, gif stream shorter than expected."), n2;
}
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function ue(t3) {
  var e, n2, r2, i2, a2, o2 = Math.floor, s2 = new Array(64), u2 = new Array(64), c2 = new Array(64), l2 = new Array(64), h2 = new Array(65535), f2 = new Array(65535), d2 = new Array(64), p2 = new Array(64), g2 = [], m2 = 0, v2 = 7, b3 = new Array(64), y2 = new Array(64), w2 = new Array(64), N2 = new Array(256), L2 = new Array(2048), x2 = [0, 1, 5, 6, 14, 15, 27, 28, 2, 4, 7, 13, 16, 26, 29, 42, 3, 8, 12, 17, 25, 30, 41, 43, 9, 11, 18, 24, 31, 40, 44, 53, 10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, 21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63], A2 = [0, 0, 1, 5, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0], S2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], _2 = [0, 0, 2, 1, 3, 3, 2, 4, 3, 5, 5, 4, 4, 0, 0, 1, 125], P2 = [1, 2, 3, 0, 4, 17, 5, 18, 33, 49, 65, 6, 19, 81, 97, 7, 34, 113, 20, 50, 129, 145, 161, 8, 35, 66, 177, 193, 21, 82, 209, 240, 36, 51, 98, 114, 130, 9, 10, 22, 23, 24, 25, 26, 37, 38, 39, 40, 41, 42, 52, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250], k3 = [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], F2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], I2 = [0, 0, 2, 1, 2, 4, 4, 3, 4, 7, 5, 4, 4, 0, 1, 2, 119], j2 = [0, 1, 2, 3, 17, 4, 5, 33, 49, 6, 18, 65, 81, 7, 97, 113, 19, 34, 50, 129, 8, 20, 66, 145, 161, 177, 193, 9, 35, 51, 82, 240, 21, 98, 114, 209, 10, 22, 36, 52, 225, 37, 241, 23, 24, 25, 26, 38, 39, 40, 41, 42, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 130, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 226, 227, 228, 229, 230, 231, 232, 233, 234, 242, 243, 244, 245, 246, 247, 248, 249, 250];
  function C2(t4, e2) {
    for (var n3 = 0, r3 = 0, i3 = new Array(), a3 = 1; a3 <= 16; a3++) {
      for (var o3 = 1; o3 <= t4[a3]; o3++)
        i3[e2[r3]] = [], i3[e2[r3]][0] = n3, i3[e2[r3]][1] = a3, r3++, n3++;
      n3 *= 2;
    }
    return i3;
  }
  function O2(t4) {
    for (var e2 = t4[0], n3 = t4[1] - 1; n3 >= 0; )
      e2 & 1 << n3 && (m2 |= 1 << v2), n3--, --v2 < 0 && (255 == m2 ? (B2(255), B2(0)) : B2(m2), v2 = 7, m2 = 0);
  }
  function B2(t4) {
    g2.push(t4);
  }
  function M2(t4) {
    B2(t4 >> 8 & 255), B2(255 & t4);
  }
  function q2(t4, e2, n3, r3, i3) {
    for (var a3, o3 = i3[0], s3 = i3[240], u3 = function(t5, e3) {
      var n4, r4, i4, a4, o4, s4, u4, c4, l4, h3, f3 = 0;
      for (l4 = 0; l4 < 8; ++l4) {
        n4 = t5[f3], r4 = t5[f3 + 1], i4 = t5[f3 + 2], a4 = t5[f3 + 3], o4 = t5[f3 + 4], s4 = t5[f3 + 5], u4 = t5[f3 + 6];
        var p3 = n4 + (c4 = t5[f3 + 7]), g4 = n4 - c4, m4 = r4 + u4, v4 = r4 - u4, b6 = i4 + s4, y4 = i4 - s4, w4 = a4 + o4, N3 = a4 - o4, L3 = p3 + w4, x3 = p3 - w4, A3 = m4 + b6, S3 = m4 - b6;
        t5[f3] = L3 + A3, t5[f3 + 4] = L3 - A3;
        var _3 = 0.707106781 * (S3 + x3);
        t5[f3 + 2] = x3 + _3, t5[f3 + 6] = x3 - _3;
        var P3 = 0.382683433 * ((L3 = N3 + y4) - (S3 = v4 + g4)), k4 = 0.5411961 * L3 + P3, F3 = 1.306562965 * S3 + P3, I3 = 0.707106781 * (A3 = y4 + v4), j3 = g4 + I3, C3 = g4 - I3;
        t5[f3 + 5] = C3 + k4, t5[f3 + 3] = C3 - k4, t5[f3 + 1] = j3 + F3, t5[f3 + 7] = j3 - F3, f3 += 8;
      }
      for (f3 = 0, l4 = 0; l4 < 8; ++l4) {
        n4 = t5[f3], r4 = t5[f3 + 8], i4 = t5[f3 + 16], a4 = t5[f3 + 24], o4 = t5[f3 + 32], s4 = t5[f3 + 40], u4 = t5[f3 + 48];
        var O3 = n4 + (c4 = t5[f3 + 56]), B3 = n4 - c4, M3 = r4 + u4, q3 = r4 - u4, E3 = i4 + s4, R2 = i4 - s4, D2 = a4 + o4, T2 = a4 - o4, z2 = O3 + D2, U2 = O3 - D2, H2 = M3 + E3, W2 = M3 - E3;
        t5[f3] = z2 + H2, t5[f3 + 32] = z2 - H2;
        var V2 = 0.707106781 * (W2 + U2);
        t5[f3 + 16] = U2 + V2, t5[f3 + 48] = U2 - V2;
        var G2 = 0.382683433 * ((z2 = T2 + R2) - (W2 = q3 + B3)), Y2 = 0.5411961 * z2 + G2, J2 = 1.306562965 * W2 + G2, X2 = 0.707106781 * (H2 = R2 + q3), K2 = B3 + X2, Z2 = B3 - X2;
        t5[f3 + 40] = Z2 + Y2, t5[f3 + 24] = Z2 - Y2, t5[f3 + 8] = K2 + J2, t5[f3 + 56] = K2 - J2, f3++;
      }
      for (l4 = 0; l4 < 64; ++l4)
        h3 = t5[l4] * e3[l4], d2[l4] = h3 > 0 ? h3 + 0.5 | 0 : h3 - 0.5 | 0;
      return d2;
    }(t4, e2), c3 = 0; c3 < 64; ++c3)
      p2[x2[c3]] = u3[c3];
    var l3 = p2[0] - n3;
    n3 = p2[0], 0 == l3 ? O2(r3[0]) : (O2(r3[f2[a3 = 32767 + l3]]), O2(h2[a3]));
    for (var g3 = 63; g3 > 0 && 0 == p2[g3]; )
      g3--;
    if (0 == g3)
      return O2(o3), n3;
    for (var m3, v3 = 1; v3 <= g3; ) {
      for (var b5 = v3; 0 == p2[v3] && v3 <= g3; )
        ++v3;
      var y3 = v3 - b5;
      if (y3 >= 16) {
        m3 = y3 >> 4;
        for (var w3 = 1; w3 <= m3; ++w3)
          O2(s3);
        y3 &= 15;
      }
      a3 = 32767 + p2[v3], O2(i3[(y3 << 4) + f2[a3]]), O2(h2[a3]), v3++;
    }
    return 63 != g3 && O2(o3), n3;
  }
  function E2(t4) {
    t4 = Math.min(Math.max(t4, 1), 100), a2 != t4 && (function(t5) {
      for (var e2 = [16, 11, 10, 16, 24, 40, 51, 61, 12, 12, 14, 19, 26, 58, 60, 55, 14, 13, 16, 24, 40, 57, 69, 56, 14, 17, 22, 29, 51, 87, 80, 62, 18, 22, 37, 56, 68, 109, 103, 77, 24, 35, 55, 64, 81, 104, 113, 92, 49, 64, 78, 87, 103, 121, 120, 101, 72, 92, 95, 98, 112, 100, 103, 99], n3 = 0; n3 < 64; n3++) {
        var r3 = o2((e2[n3] * t5 + 50) / 100);
        r3 = Math.min(Math.max(r3, 1), 255), s2[x2[n3]] = r3;
      }
      for (var i3 = [17, 18, 24, 47, 99, 99, 99, 99, 18, 21, 26, 66, 99, 99, 99, 99, 24, 26, 56, 99, 99, 99, 99, 99, 47, 66, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99], a3 = 0; a3 < 64; a3++) {
        var h3 = o2((i3[a3] * t5 + 50) / 100);
        h3 = Math.min(Math.max(h3, 1), 255), u2[x2[a3]] = h3;
      }
      for (var f3 = [1, 1.387039845, 1.306562965, 1.175875602, 1, 0.785694958, 0.5411961, 0.275899379], d3 = 0, p3 = 0; p3 < 8; p3++)
        for (var g3 = 0; g3 < 8; g3++)
          c2[d3] = 1 / (s2[x2[d3]] * f3[p3] * f3[g3] * 8), l2[d3] = 1 / (u2[x2[d3]] * f3[p3] * f3[g3] * 8), d3++;
    }(t4 < 50 ? Math.floor(5e3 / t4) : Math.floor(200 - 2 * t4)), a2 = t4);
  }
  this.encode = function(t4, a3) {
    a3 && E2(a3), g2 = new Array(), m2 = 0, v2 = 7, M2(65496), M2(65504), M2(16), B2(74), B2(70), B2(73), B2(70), B2(0), B2(1), B2(1), B2(0), M2(1), M2(1), B2(0), B2(0), function() {
      M2(65499), M2(132), B2(0);
      for (var t5 = 0; t5 < 64; t5++)
        B2(s2[t5]);
      B2(1);
      for (var e2 = 0; e2 < 64; e2++)
        B2(u2[e2]);
    }(), function(t5, e2) {
      M2(65472), M2(17), B2(8), M2(e2), M2(t5), B2(3), B2(1), B2(17), B2(0), B2(2), B2(17), B2(1), B2(3), B2(17), B2(1);
    }(t4.width, t4.height), function() {
      M2(65476), M2(418), B2(0);
      for (var t5 = 0; t5 < 16; t5++)
        B2(A2[t5 + 1]);
      for (var e2 = 0; e2 <= 11; e2++)
        B2(S2[e2]);
      B2(16);
      for (var n3 = 0; n3 < 16; n3++)
        B2(_2[n3 + 1]);
      for (var r3 = 0; r3 <= 161; r3++)
        B2(P2[r3]);
      B2(1);
      for (var i3 = 0; i3 < 16; i3++)
        B2(k3[i3 + 1]);
      for (var a4 = 0; a4 <= 11; a4++)
        B2(F2[a4]);
      B2(17);
      for (var o4 = 0; o4 < 16; o4++)
        B2(I2[o4 + 1]);
      for (var s3 = 0; s3 <= 161; s3++)
        B2(j2[s3]);
    }(), M2(65498), M2(12), B2(3), B2(1), B2(0), B2(2), B2(17), B2(3), B2(17), B2(0), B2(63), B2(0);
    var o3 = 0, h3 = 0, f3 = 0;
    m2 = 0, v2 = 7, this.encode.displayName = "_encode_";
    for (var d3, p3, N3, x3, C3, R2, D2, T2, z2, U2 = t4.data, H2 = t4.width, W2 = t4.height, V2 = 4 * H2, G2 = 0; G2 < W2; ) {
      for (d3 = 0; d3 < V2; ) {
        for (C3 = V2 * G2 + d3, D2 = -1, T2 = 0, z2 = 0; z2 < 64; z2++)
          R2 = C3 + (T2 = z2 >> 3) * V2 + (D2 = 4 * (7 & z2)), G2 + T2 >= W2 && (R2 -= V2 * (G2 + 1 + T2 - W2)), d3 + D2 >= V2 && (R2 -= d3 + D2 - V2 + 4), p3 = U2[R2++], N3 = U2[R2++], x3 = U2[R2++], b3[z2] = (L2[p3] + L2[N3 + 256 | 0] + L2[x3 + 512 | 0] >> 16) - 128, y2[z2] = (L2[p3 + 768 | 0] + L2[N3 + 1024 | 0] + L2[x3 + 1280 | 0] >> 16) - 128, w2[z2] = (L2[p3 + 1280 | 0] + L2[N3 + 1536 | 0] + L2[x3 + 1792 | 0] >> 16) - 128;
        o3 = q2(b3, c2, o3, e, r2), h3 = q2(y2, l2, h3, n2, i2), f3 = q2(w2, l2, f3, n2, i2), d3 += 32;
      }
      G2 += 8;
    }
    if (v2 >= 0) {
      var Y2 = [];
      Y2[1] = v2 + 1, Y2[0] = (1 << v2 + 1) - 1, O2(Y2);
    }
    return M2(65497), new Uint8Array(g2);
  }, t3 = t3 || 50, function() {
    for (var t4 = String.fromCharCode, e2 = 0; e2 < 256; e2++)
      N2[e2] = t4(e2);
  }(), e = C2(A2, S2), n2 = C2(k3, F2), r2 = C2(_2, P2), i2 = C2(I2, j2), function() {
    for (var t4 = 1, e2 = 2, n3 = 1; n3 <= 15; n3++) {
      for (var r3 = t4; r3 < e2; r3++)
        f2[32767 + r3] = n3, h2[32767 + r3] = [], h2[32767 + r3][1] = n3, h2[32767 + r3][0] = r3;
      for (var i3 = -(e2 - 1); i3 <= -t4; i3++)
        f2[32767 + i3] = n3, h2[32767 + i3] = [], h2[32767 + i3][1] = n3, h2[32767 + i3][0] = e2 - 1 + i3;
      t4 <<= 1, e2 <<= 1;
    }
  }(), function() {
    for (var t4 = 0; t4 < 256; t4++)
      L2[t4] = 19595 * t4, L2[t4 + 256 | 0] = 38470 * t4, L2[t4 + 512 | 0] = 7471 * t4 + 32768, L2[t4 + 768 | 0] = -11059 * t4, L2[t4 + 1024 | 0] = -21709 * t4, L2[t4 + 1280 | 0] = 32768 * t4 + 8421375, L2[t4 + 1536 | 0] = -27439 * t4, L2[t4 + 1792 | 0] = -5329 * t4;
  }(), E2(t3);
}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function ce(t3, e) {
  if (this.pos = 0, this.buffer = t3, this.datav = new DataView(t3.buffer), this.is_with_alpha = !!e, this.bottom_up = true, this.flag = String.fromCharCode(this.buffer[0]) + String.fromCharCode(this.buffer[1]), this.pos += 2, -1 === ["BM", "BA", "CI", "CP", "IC", "PT"].indexOf(this.flag))
    throw new Error("Invalid BMP File");
  this.parseHeader(), this.parseBGR();
}
function le(t3) {
  function e(t4) {
    if (!t4)
      throw Error("assert :P");
  }
  function n2(t4, e2, n3) {
    for (var r3 = 0; 4 > r3; r3++)
      if (t4[e2 + r3] != n3.charCodeAt(r3))
        return true;
    return false;
  }
  function r2(t4, e2, n3, r3, i3) {
    for (var a3 = 0; a3 < i3; a3++)
      t4[e2 + a3] = n3[r3 + a3];
  }
  function i2(t4, e2, n3, r3) {
    for (var i3 = 0; i3 < r3; i3++)
      t4[e2 + i3] = n3;
  }
  function a2(t4) {
    return new Int32Array(t4);
  }
  function o2(t4, e2) {
    for (var n3 = [], r3 = 0; r3 < t4; r3++)
      n3.push(new e2());
    return n3;
  }
  function s2(t4, e2) {
    var n3 = [];
    return function t5(n4, r3, i3) {
      for (var a3 = i3[r3], o3 = 0; o3 < a3 && (n4.push(i3.length > r3 + 1 ? [] : new e2()), !(i3.length < r3 + 1)); o3++)
        t5(n4[o3], r3 + 1, i3);
    }(n3, 0, t4), n3;
  }
  var u2 = function() {
    var t4 = this;
    function u3(t5, e2) {
      for (var n3 = 1 << e2 - 1 >>> 0; t5 & n3; )
        n3 >>>= 1;
      return n3 ? (t5 & n3 - 1) + n3 : t5;
    }
    function c3(t5, n3, r3, i3, a3) {
      e(!(i3 % r3));
      do {
        t5[n3 + (i3 -= r3)] = a3;
      } while (0 < i3);
    }
    function l3(t5, n3, r3, i3, o3) {
      if (e(2328 >= o3), 512 >= o3)
        var s3 = a2(512);
      else if (null == (s3 = a2(o3)))
        return 0;
      return function(t6, n4, r4, i4, o4, s4) {
        var l4, f4, d4 = n4, p4 = 1 << r4, g4 = a2(16), m4 = a2(16);
        for (e(0 != o4), e(null != i4), e(null != t6), e(0 < r4), f4 = 0; f4 < o4; ++f4) {
          if (15 < i4[f4])
            return 0;
          ++g4[i4[f4]];
        }
        if (g4[0] == o4)
          return 0;
        for (m4[1] = 0, l4 = 1; 15 > l4; ++l4) {
          if (g4[l4] > 1 << l4)
            return 0;
          m4[l4 + 1] = m4[l4] + g4[l4];
        }
        for (f4 = 0; f4 < o4; ++f4)
          l4 = i4[f4], 0 < i4[f4] && (s4[m4[l4]++] = f4);
        if (1 == m4[15])
          return (i4 = new h3()).g = 0, i4.value = s4[0], c3(t6, d4, 1, p4, i4), p4;
        var v4, b6 = -1, y4 = p4 - 1, w4 = 0, N4 = 1, L4 = 1, x4 = 1 << r4;
        for (f4 = 0, l4 = 1, o4 = 2; l4 <= r4; ++l4, o4 <<= 1) {
          if (N4 += L4 <<= 1, 0 > (L4 -= g4[l4]))
            return 0;
          for (; 0 < g4[l4]; --g4[l4])
            (i4 = new h3()).g = l4, i4.value = s4[f4++], c3(t6, d4 + w4, o4, x4, i4), w4 = u3(w4, l4);
        }
        for (l4 = r4 + 1, o4 = 2; 15 >= l4; ++l4, o4 <<= 1) {
          if (N4 += L4 <<= 1, 0 > (L4 -= g4[l4]))
            return 0;
          for (; 0 < g4[l4]; --g4[l4]) {
            if (i4 = new h3(), (w4 & y4) != b6) {
              for (d4 += x4, v4 = 1 << (b6 = l4) - r4; 15 > b6 && !(0 >= (v4 -= g4[b6])); )
                ++b6, v4 <<= 1;
              p4 += x4 = 1 << (v4 = b6 - r4), t6[n4 + (b6 = w4 & y4)].g = v4 + r4, t6[n4 + b6].value = d4 - n4 - b6;
            }
            i4.g = l4 - r4, i4.value = s4[f4++], c3(t6, d4 + (w4 >> r4), o4, x4, i4), w4 = u3(w4, l4);
          }
        }
        return N4 != 2 * m4[15] - 1 ? 0 : p4;
      }(t5, n3, r3, i3, o3, s3);
    }
    function h3() {
      this.value = this.g = 0;
    }
    function f3() {
      this.value = this.g = 0;
    }
    function d3() {
      this.G = o2(5, h3), this.H = a2(5), this.jc = this.Qb = this.qb = this.nd = 0, this.pd = o2(Rn, f3);
    }
    function p3(t5, n3, r3, i3) {
      e(null != t5), e(null != n3), e(2147483648 > i3), t5.Ca = 254, t5.I = 0, t5.b = -8, t5.Ka = 0, t5.oa = n3, t5.pa = r3, t5.Jd = n3, t5.Yc = r3 + i3, t5.Zc = 4 <= i3 ? r3 + i3 - 4 + 1 : r3, _2(t5);
    }
    function g3(t5, e2) {
      for (var n3 = 0; 0 < e2--; )
        n3 |= k3(t5, 128) << e2;
      return n3;
    }
    function m3(t5, e2) {
      var n3 = g3(t5, e2);
      return P2(t5) ? -n3 : n3;
    }
    function v3(t5, n3, r3, i3) {
      var a3, o3 = 0;
      for (e(null != t5), e(null != n3), e(4294967288 > i3), t5.Sb = i3, t5.Ra = 0, t5.u = 0, t5.h = 0, 4 < i3 && (i3 = 4), a3 = 0; a3 < i3; ++a3)
        o3 += n3[r3 + a3] << 8 * a3;
      t5.Ra = o3, t5.bb = i3, t5.oa = n3, t5.pa = r3;
    }
    function b5(t5) {
      for (; 8 <= t5.u && t5.bb < t5.Sb; )
        t5.Ra >>>= 8, t5.Ra += t5.oa[t5.pa + t5.bb] << zn - 8 >>> 0, ++t5.bb, t5.u -= 8;
      x3(t5) && (t5.h = 1, t5.u = 0);
    }
    function y3(t5, n3) {
      if (e(0 <= n3), !t5.h && n3 <= Tn) {
        var r3 = L3(t5) & Dn[n3];
        return t5.u += n3, b5(t5), r3;
      }
      return t5.h = 1, t5.u = 0;
    }
    function w3() {
      this.b = this.Ca = this.I = 0, this.oa = [], this.pa = 0, this.Jd = [], this.Yc = 0, this.Zc = [], this.Ka = 0;
    }
    function N3() {
      this.Ra = 0, this.oa = [], this.h = this.u = this.bb = this.Sb = this.pa = 0;
    }
    function L3(t5) {
      return t5.Ra >>> (t5.u & zn - 1) >>> 0;
    }
    function x3(t5) {
      return e(t5.bb <= t5.Sb), t5.h || t5.bb == t5.Sb && t5.u > zn;
    }
    function A3(t5, e2) {
      t5.u = e2, t5.h = x3(t5);
    }
    function S2(t5) {
      t5.u >= Un && (e(t5.u >= Un), b5(t5));
    }
    function _2(t5) {
      e(null != t5 && null != t5.oa), t5.pa < t5.Zc ? (t5.I = (t5.oa[t5.pa++] | t5.I << 8) >>> 0, t5.b += 8) : (e(null != t5 && null != t5.oa), t5.pa < t5.Yc ? (t5.b += 8, t5.I = t5.oa[t5.pa++] | t5.I << 8) : t5.Ka ? t5.b = 0 : (t5.I <<= 8, t5.b += 8, t5.Ka = 1));
    }
    function P2(t5) {
      return g3(t5, 1);
    }
    function k3(t5, e2) {
      var n3 = t5.Ca;
      0 > t5.b && _2(t5);
      var r3 = t5.b, i3 = n3 * e2 >>> 8, a3 = (t5.I >>> r3 > i3) + 0;
      for (a3 ? (n3 -= i3, t5.I -= i3 + 1 << r3 >>> 0) : n3 = i3 + 1, r3 = n3, i3 = 0; 256 <= r3; )
        i3 += 8, r3 >>= 8;
      return r3 = 7 ^ i3 + Hn[r3], t5.b -= r3, t5.Ca = (n3 << r3) - 1, a3;
    }
    function F2(t5, e2, n3) {
      t5[e2 + 0] = n3 >> 24 & 255, t5[e2 + 1] = n3 >> 16 & 255, t5[e2 + 2] = n3 >> 8 & 255, t5[e2 + 3] = 255 & n3;
    }
    function I2(t5, e2) {
      return t5[e2 + 0] | t5[e2 + 1] << 8;
    }
    function j2(t5, e2) {
      return I2(t5, e2) | t5[e2 + 2] << 16;
    }
    function C2(t5, e2) {
      return I2(t5, e2) | I2(t5, e2 + 2) << 16;
    }
    function O2(t5, n3) {
      var r3 = 1 << n3;
      return e(null != t5), e(0 < n3), t5.X = a2(r3), null == t5.X ? 0 : (t5.Mb = 32 - n3, t5.Xa = n3, 1);
    }
    function B2(t5, n3) {
      e(null != t5), e(null != n3), e(t5.Xa == n3.Xa), r2(n3.X, 0, t5.X, 0, 1 << n3.Xa);
    }
    function M2() {
      this.X = [], this.Xa = this.Mb = 0;
    }
    function q2(t5, n3, r3, i3) {
      e(null != r3), e(null != i3);
      var a3 = r3[0], o3 = i3[0];
      return 0 == a3 && (a3 = (t5 * o3 + n3 / 2) / n3), 0 == o3 && (o3 = (n3 * a3 + t5 / 2) / t5), 0 >= a3 || 0 >= o3 ? 0 : (r3[0] = a3, i3[0] = o3, 1);
    }
    function E2(t5, e2) {
      return t5 + (1 << e2) - 1 >>> e2;
    }
    function R2(t5, e2) {
      return ((4278255360 & t5) + (4278255360 & e2) >>> 0 & 4278255360) + ((16711935 & t5) + (16711935 & e2) >>> 0 & 16711935) >>> 0;
    }
    function D2(e2, n3) {
      t4[n3] = function(n4, r3, i3, a3, o3, s3, u4) {
        var c4;
        for (c4 = 0; c4 < o3; ++c4) {
          var l4 = t4[e2](s3[u4 + c4 - 1], i3, a3 + c4);
          s3[u4 + c4] = R2(n4[r3 + c4], l4);
        }
      };
    }
    function T2() {
      this.ud = this.hd = this.jd = 0;
    }
    function z2(t5, e2) {
      return ((4278124286 & (t5 ^ e2)) >>> 1) + (t5 & e2) >>> 0;
    }
    function U2(t5) {
      return 0 <= t5 && 256 > t5 ? t5 : 0 > t5 ? 0 : 255 < t5 ? 255 : void 0;
    }
    function H2(t5, e2) {
      return U2(t5 + (t5 - e2 + 0.5 >> 1));
    }
    function W2(t5, e2, n3) {
      return Math.abs(e2 - n3) - Math.abs(t5 - n3);
    }
    function V2(t5, e2, n3, r3, i3, a3, o3) {
      for (r3 = a3[o3 - 1], n3 = 0; n3 < i3; ++n3)
        a3[o3 + n3] = r3 = R2(t5[e2 + n3], r3);
    }
    function G2(t5, e2, n3, r3, i3) {
      var a3;
      for (a3 = 0; a3 < n3; ++a3) {
        var o3 = t5[e2 + a3], s3 = o3 >> 8 & 255, u4 = 16711935 & (u4 = (u4 = 16711935 & o3) + ((s3 << 16) + s3));
        r3[i3 + a3] = (4278255360 & o3) + u4 >>> 0;
      }
    }
    function Y2(t5, e2) {
      e2.jd = 255 & t5, e2.hd = t5 >> 8 & 255, e2.ud = t5 >> 16 & 255;
    }
    function J2(t5, e2, n3, r3, i3, a3) {
      var o3;
      for (o3 = 0; o3 < r3; ++o3) {
        var s3 = e2[n3 + o3], u4 = s3 >>> 8, c4 = s3, l4 = 255 & (l4 = (l4 = s3 >>> 16) + ((t5.jd << 24 >> 24) * (u4 << 24 >> 24) >>> 5));
        c4 = 255 & (c4 = (c4 += (t5.hd << 24 >> 24) * (u4 << 24 >> 24) >>> 5) + ((t5.ud << 24 >> 24) * (l4 << 24 >> 24) >>> 5)), i3[a3 + o3] = (4278255360 & s3) + (l4 << 16) + c4;
      }
    }
    function X2(e2, n3, r3, i3, a3) {
      t4[n3] = function(t5, e3, n4, r4, o3, s3, u4, c4, l4) {
        for (r4 = u4; r4 < c4; ++r4)
          for (u4 = 0; u4 < l4; ++u4)
            o3[s3++] = a3(n4[i3(t5[e3++])]);
      }, t4[e2] = function(e3, n4, o3, s3, u4, c4, l4) {
        var h4 = 8 >> e3.b, f4 = e3.Ea, d4 = e3.K[0], p4 = e3.w;
        if (8 > h4)
          for (e3 = (1 << e3.b) - 1, p4 = (1 << h4) - 1; n4 < o3; ++n4) {
            var g4, m4 = 0;
            for (g4 = 0; g4 < f4; ++g4)
              g4 & e3 || (m4 = i3(s3[u4++])), c4[l4++] = a3(d4[m4 & p4]), m4 >>= h4;
          }
        else
          t4["VP8LMapColor" + r3](s3, u4, d4, p4, c4, l4, n4, o3, f4);
      };
    }
    function K2(t5, e2, n3, r3, i3) {
      for (n3 = e2 + n3; e2 < n3; ) {
        var a3 = t5[e2++];
        r3[i3++] = a3 >> 16 & 255, r3[i3++] = a3 >> 8 & 255, r3[i3++] = 255 & a3;
      }
    }
    function Z2(t5, e2, n3, r3, i3) {
      for (n3 = e2 + n3; e2 < n3; ) {
        var a3 = t5[e2++];
        r3[i3++] = a3 >> 16 & 255, r3[i3++] = a3 >> 8 & 255, r3[i3++] = 255 & a3, r3[i3++] = a3 >> 24 & 255;
      }
    }
    function $2(t5, e2, n3, r3, i3) {
      for (n3 = e2 + n3; e2 < n3; ) {
        var a3 = (o3 = t5[e2++]) >> 16 & 240 | o3 >> 12 & 15, o3 = 240 & o3 | o3 >> 28 & 15;
        r3[i3++] = a3, r3[i3++] = o3;
      }
    }
    function Q2(t5, e2, n3, r3, i3) {
      for (n3 = e2 + n3; e2 < n3; ) {
        var a3 = (o3 = t5[e2++]) >> 16 & 248 | o3 >> 13 & 7, o3 = o3 >> 5 & 224 | o3 >> 3 & 31;
        r3[i3++] = a3, r3[i3++] = o3;
      }
    }
    function tt2(t5, e2, n3, r3, i3) {
      for (n3 = e2 + n3; e2 < n3; ) {
        var a3 = t5[e2++];
        r3[i3++] = 255 & a3, r3[i3++] = a3 >> 8 & 255, r3[i3++] = a3 >> 16 & 255;
      }
    }
    function et2(t5, e2, n3, i3, a3, o3) {
      if (0 == o3)
        for (n3 = e2 + n3; e2 < n3; )
          F2(i3, ((o3 = t5[e2++])[0] >> 24 | o3[1] >> 8 & 65280 | o3[2] << 8 & 16711680 | o3[3] << 24) >>> 0), a3 += 32;
      else
        r2(i3, a3, t5, e2, n3);
    }
    function nt2(e2, n3) {
      t4[n3][0] = t4[e2 + "0"], t4[n3][1] = t4[e2 + "1"], t4[n3][2] = t4[e2 + "2"], t4[n3][3] = t4[e2 + "3"], t4[n3][4] = t4[e2 + "4"], t4[n3][5] = t4[e2 + "5"], t4[n3][6] = t4[e2 + "6"], t4[n3][7] = t4[e2 + "7"], t4[n3][8] = t4[e2 + "8"], t4[n3][9] = t4[e2 + "9"], t4[n3][10] = t4[e2 + "10"], t4[n3][11] = t4[e2 + "11"], t4[n3][12] = t4[e2 + "12"], t4[n3][13] = t4[e2 + "13"], t4[n3][14] = t4[e2 + "0"], t4[n3][15] = t4[e2 + "0"];
    }
    function rt2(t5) {
      return t5 == Ur || t5 == Hr || t5 == Wr || t5 == Vr;
    }
    function it2() {
      this.eb = [], this.size = this.A = this.fb = 0;
    }
    function at2() {
      this.y = [], this.f = [], this.ea = [], this.F = [], this.Tc = this.Ed = this.Cd = this.Fd = this.lb = this.Db = this.Ab = this.fa = this.J = this.W = this.N = this.O = 0;
    }
    function ot2() {
      this.Rd = this.height = this.width = this.S = 0, this.f = {}, this.f.RGBA = new it2(), this.f.kb = new at2(), this.sd = null;
    }
    function st2() {
      this.width = [0], this.height = [0], this.Pd = [0], this.Qd = [0], this.format = [0];
    }
    function ut2() {
      this.Id = this.fd = this.Md = this.hb = this.ib = this.da = this.bd = this.cd = this.j = this.v = this.Da = this.Sd = this.ob = 0;
    }
    function ct2(t5) {
      return alert("todo:WebPSamplerProcessPlane"), t5.T;
    }
    function lt2(t5, e2) {
      var n3 = t5.T, i3 = e2.ba.f.RGBA, a3 = i3.eb, o3 = i3.fb + t5.ka * i3.A, s3 = mi2[e2.ba.S], u4 = t5.y, c4 = t5.O, l4 = t5.f, h4 = t5.N, f4 = t5.ea, d4 = t5.W, p4 = e2.cc, g4 = e2.dc, m4 = e2.Mc, v4 = e2.Nc, b6 = t5.ka, y4 = t5.ka + t5.T, w4 = t5.U, N4 = w4 + 1 >> 1;
      for (0 == b6 ? s3(u4, c4, null, null, l4, h4, f4, d4, l4, h4, f4, d4, a3, o3, null, null, w4) : (s3(e2.ec, e2.fc, u4, c4, p4, g4, m4, v4, l4, h4, f4, d4, a3, o3 - i3.A, a3, o3, w4), ++n3); b6 + 2 < y4; b6 += 2)
        p4 = l4, g4 = h4, m4 = f4, v4 = d4, h4 += t5.Rc, d4 += t5.Rc, o3 += 2 * i3.A, s3(u4, (c4 += 2 * t5.fa) - t5.fa, u4, c4, p4, g4, m4, v4, l4, h4, f4, d4, a3, o3 - i3.A, a3, o3, w4);
      return c4 += t5.fa, t5.j + y4 < t5.o ? (r2(e2.ec, e2.fc, u4, c4, w4), r2(e2.cc, e2.dc, l4, h4, N4), r2(e2.Mc, e2.Nc, f4, d4, N4), n3--) : 1 & y4 || s3(u4, c4, null, null, l4, h4, f4, d4, l4, h4, f4, d4, a3, o3 + i3.A, null, null, w4), n3;
    }
    function ht2(t5, n3, r3) {
      var i3 = t5.F, a3 = [t5.J];
      if (null != i3) {
        var o3 = t5.U, s3 = n3.ba.S, u4 = s3 == Dr || s3 == Wr;
        n3 = n3.ba.f.RGBA;
        var c4 = [0], l4 = t5.ka;
        c4[0] = t5.T, t5.Kb && (0 == l4 ? --c4[0] : (--l4, a3[0] -= t5.width), t5.j + t5.ka + t5.T == t5.o && (c4[0] = t5.o - t5.j - l4));
        var h4 = n3.eb;
        l4 = n3.fb + l4 * n3.A, t5 = Ar(i3, a3[0], t5.width, o3, c4, h4, l4 + (u4 ? 0 : 3), n3.A), e(r3 == c4), t5 && rt2(s3) && Lr(h4, l4, u4, o3, c4, n3.A);
      }
      return 0;
    }
    function ft2(t5) {
      var e2 = t5.ma, n3 = e2.ba.S, r3 = 11 > n3, i3 = n3 == qr || n3 == Rr || n3 == Dr || n3 == Tr || 12 == n3 || rt2(n3);
      if (e2.memory = null, e2.Ib = null, e2.Jb = null, e2.Nd = null, !Mn(e2.Oa, t5, i3 ? 11 : 12))
        return 0;
      if (i3 && rt2(n3) && bn(), t5.da)
        alert("todo:use_scaling");
      else {
        if (r3) {
          if (e2.Ib = ct2, t5.Kb) {
            if (n3 = t5.U + 1 >> 1, e2.memory = a2(t5.U + 2 * n3), null == e2.memory)
              return 0;
            e2.ec = e2.memory, e2.fc = 0, e2.cc = e2.ec, e2.dc = e2.fc + t5.U, e2.Mc = e2.cc, e2.Nc = e2.dc + n3, e2.Ib = lt2, bn();
          }
        } else
          alert("todo:EmitYUV");
        i3 && (e2.Jb = ht2, r3 && mn());
      }
      if (r3 && !Ii2) {
        for (t5 = 0; 256 > t5; ++t5)
          ji2[t5] = 89858 * (t5 - 128) + Si2 >> Ai2, Bi2[t5] = -22014 * (t5 - 128) + Si2, Oi2[t5] = -45773 * (t5 - 128), Ci2[t5] = 113618 * (t5 - 128) + Si2 >> Ai2;
        for (t5 = _i; t5 < Pi2; ++t5)
          e2 = 76283 * (t5 - 16) + Si2 >> Ai2, Mi2[t5 - _i] = Vt2(e2, 255), qi2[t5 - _i] = Vt2(e2 + 8 >> 4, 15);
        Ii2 = 1;
      }
      return 1;
    }
    function dt2(t5) {
      var n3 = t5.ma, r3 = t5.U, i3 = t5.T;
      return e(!(1 & t5.ka)), 0 >= r3 || 0 >= i3 ? 0 : (r3 = n3.Ib(t5, n3), null != n3.Jb && n3.Jb(t5, n3, r3), n3.Dc += r3, 1);
    }
    function pt2(t5) {
      t5.ma.memory = null;
    }
    function gt2(t5, e2, n3, r3) {
      return 47 != y3(t5, 8) ? 0 : (e2[0] = y3(t5, 14) + 1, n3[0] = y3(t5, 14) + 1, r3[0] = y3(t5, 1), 0 != y3(t5, 3) ? 0 : !t5.h);
    }
    function mt2(t5, e2) {
      if (4 > t5)
        return t5 + 1;
      var n3 = t5 - 2 >> 1;
      return (2 + (1 & t5) << n3) + y3(e2, n3) + 1;
    }
    function vt2(t5, e2) {
      return 120 < e2 ? e2 - 120 : 1 <= (n3 = ((n3 = Zr[e2 - 1]) >> 4) * t5 + (8 - (15 & n3))) ? n3 : 1;
      var n3;
    }
    function bt2(t5, e2, n3) {
      var r3 = L3(n3), i3 = t5[e2 += 255 & r3].g - 8;
      return 0 < i3 && (A3(n3, n3.u + 8), r3 = L3(n3), e2 += t5[e2].value, e2 += r3 & (1 << i3) - 1), A3(n3, n3.u + t5[e2].g), t5[e2].value;
    }
    function yt2(t5, n3, r3) {
      return r3.g += t5.g, r3.value += t5.value << n3 >>> 0, e(8 >= r3.g), t5.g;
    }
    function wt2(t5, n3, r3) {
      var i3 = t5.xc;
      return e((n3 = 0 == i3 ? 0 : t5.vc[t5.md * (r3 >> i3) + (n3 >> i3)]) < t5.Wb), t5.Ya[n3];
    }
    function Nt2(t5, n3, i3, a3) {
      var o3 = t5.ab, s3 = t5.c * n3, u4 = t5.C;
      n3 = u4 + n3;
      var c4 = i3, l4 = a3;
      for (a3 = t5.Ta, i3 = t5.Ua; 0 < o3--; ) {
        var h4 = t5.gc[o3], f4 = u4, d4 = n3, p4 = c4, g4 = l4, m4 = (l4 = a3, c4 = i3, h4.Ea);
        switch (e(f4 < d4), e(d4 <= h4.nc), h4.hc) {
          case 2:
            Gn(p4, g4, (d4 - f4) * m4, l4, c4);
            break;
          case 0:
            var v4 = f4, b6 = d4, y4 = l4, w4 = c4, N4 = (_3 = h4).Ea;
            0 == v4 && (Wn(p4, g4, null, null, 1, y4, w4), V2(p4, g4 + 1, 0, 0, N4 - 1, y4, w4 + 1), g4 += N4, w4 += N4, ++v4);
            for (var L4 = 1 << _3.b, x4 = L4 - 1, A4 = E2(N4, _3.b), S3 = _3.K, _3 = _3.w + (v4 >> _3.b) * A4; v4 < b6; ) {
              var P3 = S3, k4 = _3, F3 = 1;
              for (Vn(p4, g4, y4, w4 - N4, 1, y4, w4); F3 < N4; ) {
                var I3 = (F3 & ~x4) + L4;
                I3 > N4 && (I3 = N4), (0, Zn[P3[k4++] >> 8 & 15])(p4, g4 + +F3, y4, w4 + F3 - N4, I3 - F3, y4, w4 + F3), F3 = I3;
              }
              g4 += N4, w4 += N4, ++v4 & x4 || (_3 += A4);
            }
            d4 != h4.nc && r2(l4, c4 - m4, l4, c4 + (d4 - f4 - 1) * m4, m4);
            break;
          case 1:
            for (m4 = p4, b6 = g4, N4 = (p4 = h4.Ea) - (w4 = p4 & ~(y4 = (g4 = 1 << h4.b) - 1)), v4 = E2(p4, h4.b), L4 = h4.K, h4 = h4.w + (f4 >> h4.b) * v4; f4 < d4; ) {
              for (x4 = L4, A4 = h4, S3 = new T2(), _3 = b6 + w4, P3 = b6 + p4; b6 < _3; )
                Y2(x4[A4++], S3), $n(S3, m4, b6, g4, l4, c4), b6 += g4, c4 += g4;
              b6 < P3 && (Y2(x4[A4++], S3), $n(S3, m4, b6, N4, l4, c4), b6 += N4, c4 += N4), ++f4 & y4 || (h4 += v4);
            }
            break;
          case 3:
            if (p4 == l4 && g4 == c4 && 0 < h4.b) {
              for (b6 = l4, p4 = m4 = c4 + (d4 - f4) * m4 - (w4 = (d4 - f4) * E2(h4.Ea, h4.b)), g4 = l4, y4 = c4, v4 = [], w4 = (N4 = w4) - 1; 0 <= w4; --w4)
                v4[w4] = g4[y4 + w4];
              for (w4 = N4 - 1; 0 <= w4; --w4)
                b6[p4 + w4] = v4[w4];
              Yn(h4, f4, d4, l4, m4, l4, c4);
            } else
              Yn(h4, f4, d4, p4, g4, l4, c4);
        }
        c4 = a3, l4 = i3;
      }
      l4 != i3 && r2(a3, i3, c4, l4, s3);
    }
    function Lt2(t5, n3) {
      var r3 = t5.V, i3 = t5.Ba + t5.c * t5.C, a3 = n3 - t5.C;
      if (e(n3 <= t5.l.o), e(16 >= a3), 0 < a3) {
        var o3 = t5.l, s3 = t5.Ta, u4 = t5.Ua, c4 = o3.width;
        if (Nt2(t5, a3, r3, i3), a3 = u4 = [u4], e((r3 = t5.C) < (i3 = n3)), e(o3.v < o3.va), i3 > o3.o && (i3 = o3.o), r3 < o3.j) {
          var l4 = o3.j - r3;
          r3 = o3.j, a3[0] += l4 * c4;
        }
        if (r3 >= i3 ? r3 = 0 : (a3[0] += 4 * o3.v, o3.ka = r3 - o3.j, o3.U = o3.va - o3.v, o3.T = i3 - r3, r3 = 1), r3) {
          if (u4 = u4[0], 11 > (r3 = t5.ca).S) {
            var h4 = r3.f.RGBA, f4 = (i3 = r3.S, a3 = o3.U, o3 = o3.T, l4 = h4.eb, h4.A), d4 = o3;
            for (h4 = h4.fb + t5.Ma * h4.A; 0 < d4--; ) {
              var p4 = s3, g4 = u4, m4 = a3, v4 = l4, b6 = h4;
              switch (i3) {
                case Mr:
                  Qn(p4, g4, m4, v4, b6);
                  break;
                case qr:
                  tr(p4, g4, m4, v4, b6);
                  break;
                case Ur:
                  tr(p4, g4, m4, v4, b6), Lr(v4, b6, 0, m4, 1, 0);
                  break;
                case Er:
                  rr(p4, g4, m4, v4, b6);
                  break;
                case Rr:
                  et2(p4, g4, m4, v4, b6, 1);
                  break;
                case Hr:
                  et2(p4, g4, m4, v4, b6, 1), Lr(v4, b6, 0, m4, 1, 0);
                  break;
                case Dr:
                  et2(p4, g4, m4, v4, b6, 0);
                  break;
                case Wr:
                  et2(p4, g4, m4, v4, b6, 0), Lr(v4, b6, 1, m4, 1, 0);
                  break;
                case Tr:
                  er(p4, g4, m4, v4, b6);
                  break;
                case Vr:
                  er(p4, g4, m4, v4, b6), xr(v4, b6, m4, 1, 0);
                  break;
                case zr:
                  nr(p4, g4, m4, v4, b6);
                  break;
                default:
                  e(0);
              }
              u4 += c4, h4 += f4;
            }
            t5.Ma += o3;
          } else
            alert("todo:EmitRescaledRowsYUVA");
          e(t5.Ma <= r3.height);
        }
      }
      t5.C = n3, e(t5.C <= t5.i);
    }
    function xt2(t5) {
      var e2;
      if (0 < t5.ua)
        return 0;
      for (e2 = 0; e2 < t5.Wb; ++e2) {
        var n3 = t5.Ya[e2].G, r3 = t5.Ya[e2].H;
        if (0 < n3[1][r3[1] + 0].g || 0 < n3[2][r3[2] + 0].g || 0 < n3[3][r3[3] + 0].g)
          return 0;
      }
      return 1;
    }
    function At2(t5, n3, r3, i3, a3, o3) {
      if (0 != t5.Z) {
        var s3 = t5.qd, u4 = t5.rd;
        for (e(null != gi2[t5.Z]); n3 < r3; ++n3)
          gi2[t5.Z](s3, u4, i3, a3, i3, a3, o3), s3 = i3, u4 = a3, a3 += o3;
        t5.qd = s3, t5.rd = u4;
      }
    }
    function St2(t5, n3) {
      var r3 = t5.l.ma, i3 = 0 == r3.Z || 1 == r3.Z ? t5.l.j : t5.C;
      if (i3 = t5.C < i3 ? i3 : t5.C, e(n3 <= t5.l.o), n3 > i3) {
        var a3 = t5.l.width, o3 = r3.ca, s3 = r3.tb + a3 * i3, u4 = t5.V, c4 = t5.Ba + t5.c * i3, l4 = t5.gc;
        e(1 == t5.ab), e(3 == l4[0].hc), Xn(l4[0], i3, n3, u4, c4, o3, s3), At2(r3, i3, n3, o3, s3, a3);
      }
      t5.C = t5.Ma = n3;
    }
    function _t2(t5, n3, r3, i3, a3, o3, s3) {
      var u4 = t5.$ / i3, c4 = t5.$ % i3, l4 = t5.m, h4 = t5.s, f4 = r3 + t5.$, d4 = f4;
      a3 = r3 + i3 * a3;
      var p4 = r3 + i3 * o3, g4 = 280 + h4.ua, m4 = t5.Pb ? u4 : 16777216, v4 = 0 < h4.ua ? h4.Wa : null, b6 = h4.wc, y4 = f4 < p4 ? wt2(h4, c4, u4) : null;
      e(t5.C < o3), e(p4 <= a3);
      var w4 = false;
      t:
        for (; ; ) {
          for (; w4 || f4 < p4; ) {
            var N4 = 0;
            if (u4 >= m4) {
              var _3 = f4 - r3;
              e((m4 = t5).Pb), m4.wd = m4.m, m4.xd = _3, 0 < m4.s.ua && B2(m4.s.Wa, m4.s.vb), m4 = u4 + Qr;
            }
            if (c4 & b6 || (y4 = wt2(h4, c4, u4)), e(null != y4), y4.Qb && (n3[f4] = y4.qb, w4 = true), !w4)
              if (S2(l4), y4.jc) {
                N4 = l4, _3 = n3;
                var P3 = f4, k4 = y4.pd[L3(N4) & Rn - 1];
                e(y4.jc), 256 > k4.g ? (A3(N4, N4.u + k4.g), _3[P3] = k4.value, N4 = 0) : (A3(N4, N4.u + k4.g - 256), e(256 <= k4.value), N4 = k4.value), 0 == N4 && (w4 = true);
              } else
                N4 = bt2(y4.G[0], y4.H[0], l4);
            if (l4.h)
              break;
            if (w4 || 256 > N4) {
              if (!w4)
                if (y4.nd)
                  n3[f4] = (y4.qb | N4 << 8) >>> 0;
                else {
                  if (S2(l4), w4 = bt2(y4.G[1], y4.H[1], l4), S2(l4), _3 = bt2(y4.G[2], y4.H[2], l4), P3 = bt2(y4.G[3], y4.H[3], l4), l4.h)
                    break;
                  n3[f4] = (P3 << 24 | w4 << 16 | N4 << 8 | _3) >>> 0;
                }
              if (w4 = false, ++f4, ++c4 >= i3 && (c4 = 0, ++u4, null != s3 && u4 <= o3 && !(u4 % 16) && s3(t5, u4), null != v4))
                for (; d4 < f4; )
                  N4 = n3[d4++], v4.X[(506832829 * N4 & 4294967295) >>> v4.Mb] = N4;
            } else if (280 > N4) {
              if (N4 = mt2(N4 - 256, l4), _3 = bt2(y4.G[4], y4.H[4], l4), S2(l4), _3 = vt2(i3, _3 = mt2(_3, l4)), l4.h)
                break;
              if (f4 - r3 < _3 || a3 - f4 < N4)
                break t;
              for (P3 = 0; P3 < N4; ++P3)
                n3[f4 + P3] = n3[f4 + P3 - _3];
              for (f4 += N4, c4 += N4; c4 >= i3; )
                c4 -= i3, ++u4, null != s3 && u4 <= o3 && !(u4 % 16) && s3(t5, u4);
              if (e(f4 <= a3), c4 & b6 && (y4 = wt2(h4, c4, u4)), null != v4)
                for (; d4 < f4; )
                  N4 = n3[d4++], v4.X[(506832829 * N4 & 4294967295) >>> v4.Mb] = N4;
            } else {
              if (!(N4 < g4))
                break t;
              for (w4 = N4 - 280, e(null != v4); d4 < f4; )
                N4 = n3[d4++], v4.X[(506832829 * N4 & 4294967295) >>> v4.Mb] = N4;
              N4 = f4, e(!(w4 >>> (_3 = v4).Xa)), n3[N4] = _3.X[w4], w4 = true;
            }
            w4 || e(l4.h == x3(l4));
          }
          if (t5.Pb && l4.h && f4 < a3)
            e(t5.m.h), t5.a = 5, t5.m = t5.wd, t5.$ = t5.xd, 0 < t5.s.ua && B2(t5.s.vb, t5.s.Wa);
          else {
            if (l4.h)
              break t;
            null != s3 && s3(t5, u4 > o3 ? o3 : u4), t5.a = 0, t5.$ = f4 - r3;
          }
          return 1;
        }
      return t5.a = 3, 0;
    }
    function Pt2(t5) {
      e(null != t5), t5.vc = null, t5.yc = null, t5.Ya = null;
      var n3 = t5.Wa;
      null != n3 && (n3.X = null), t5.vb = null, e(null != t5);
    }
    function kt2() {
      var e2 = new on2();
      return null == e2 ? null : (e2.a = 0, e2.xb = pi2, nt2("Predictor", "VP8LPredictors"), nt2("Predictor", "VP8LPredictors_C"), nt2("PredictorAdd", "VP8LPredictorsAdd"), nt2("PredictorAdd", "VP8LPredictorsAdd_C"), Gn = G2, $n = J2, Qn = K2, tr = Z2, er = $2, nr = Q2, rr = tt2, t4.VP8LMapColor32b = Jn, t4.VP8LMapColor8b = Kn, e2);
    }
    function Ft2(t5, n3, r3, s3, u4) {
      var c4 = 1, f4 = [t5], p4 = [n3], g4 = s3.m, m4 = s3.s, v4 = null, b6 = 0;
      t:
        for (; ; ) {
          if (r3)
            for (; c4 && y3(g4, 1); ) {
              var w4 = f4, N4 = p4, x4 = s3, _3 = 1, P3 = x4.m, k4 = x4.gc[x4.ab], F3 = y3(P3, 2);
              if (x4.Oc & 1 << F3)
                c4 = 0;
              else {
                switch (x4.Oc |= 1 << F3, k4.hc = F3, k4.Ea = w4[0], k4.nc = N4[0], k4.K = [null], ++x4.ab, e(4 >= x4.ab), F3) {
                  case 0:
                  case 1:
                    k4.b = y3(P3, 3) + 2, _3 = Ft2(E2(k4.Ea, k4.b), E2(k4.nc, k4.b), 0, x4, k4.K), k4.K = k4.K[0];
                    break;
                  case 3:
                    var I3, j3 = y3(P3, 8) + 1, C3 = 16 < j3 ? 0 : 4 < j3 ? 1 : 2 < j3 ? 2 : 3;
                    if (w4[0] = E2(k4.Ea, C3), k4.b = C3, I3 = _3 = Ft2(j3, 1, 0, x4, k4.K)) {
                      var B3, M3 = j3, q3 = k4, D3 = 1 << (8 >> q3.b), T3 = a2(D3);
                      if (null == T3)
                        I3 = 0;
                      else {
                        var z3 = q3.K[0], U3 = q3.w;
                        for (T3[0] = q3.K[0][0], B3 = 1; B3 < 1 * M3; ++B3)
                          T3[B3] = R2(z3[U3 + B3], T3[B3 - 1]);
                        for (; B3 < 4 * D3; ++B3)
                          T3[B3] = 0;
                        q3.K[0] = null, q3.K[0] = T3, I3 = 1;
                      }
                    }
                    _3 = I3;
                    break;
                  case 2:
                    break;
                  default:
                    e(0);
                }
                c4 = _3;
              }
            }
          if (f4 = f4[0], p4 = p4[0], c4 && y3(g4, 1) && !(c4 = 1 <= (b6 = y3(g4, 4)) && 11 >= b6)) {
            s3.a = 3;
            break t;
          }
          var H3;
          if (H3 = c4)
            e: {
              var W3, V3, G3, Y3 = s3, J3 = f4, X3 = p4, K3 = b6, Z3 = r3, $3 = Y3.m, Q3 = Y3.s, tt3 = [null], et3 = 1, nt3 = 0, rt3 = $r[K3];
              n:
                for (; ; ) {
                  if (Z3 && y3($3, 1)) {
                    var it3 = y3($3, 3) + 2, at3 = E2(J3, it3), ot3 = E2(X3, it3), st3 = at3 * ot3;
                    if (!Ft2(at3, ot3, 0, Y3, tt3))
                      break n;
                    for (tt3 = tt3[0], Q3.xc = it3, W3 = 0; W3 < st3; ++W3) {
                      var ut3 = tt3[W3] >> 8 & 65535;
                      tt3[W3] = ut3, ut3 >= et3 && (et3 = ut3 + 1);
                    }
                  }
                  if ($3.h)
                    break n;
                  for (V3 = 0; 5 > V3; ++V3) {
                    var ct3 = Jr[V3];
                    !V3 && 0 < K3 && (ct3 += 1 << K3), nt3 < ct3 && (nt3 = ct3);
                  }
                  var lt3 = o2(et3 * rt3, h3), ht3 = et3, ft3 = o2(ht3, d3);
                  if (null == ft3)
                    var dt3 = null;
                  else
                    e(65536 >= ht3), dt3 = ft3;
                  var pt3 = a2(nt3);
                  if (null == dt3 || null == pt3 || null == lt3) {
                    Y3.a = 1;
                    break n;
                  }
                  var gt3 = lt3;
                  for (W3 = G3 = 0; W3 < et3; ++W3) {
                    var mt3 = dt3[W3], vt3 = mt3.G, bt3 = mt3.H, wt3 = 0, Nt3 = 1, Lt3 = 0;
                    for (V3 = 0; 5 > V3; ++V3) {
                      ct3 = Jr[V3], vt3[V3] = gt3, bt3[V3] = G3, !V3 && 0 < K3 && (ct3 += 1 << K3);
                      r: {
                        var xt3, At3 = ct3, St3 = Y3, kt3 = pt3, It3 = gt3, jt3 = G3, Ct3 = 0, Ot3 = St3.m, Bt3 = y3(Ot3, 1);
                        if (i2(kt3, 0, 0, At3), Bt3) {
                          var Mt3 = y3(Ot3, 1) + 1, qt3 = y3(Ot3, 1), Et3 = y3(Ot3, 0 == qt3 ? 1 : 8);
                          kt3[Et3] = 1, 2 == Mt3 && (kt3[Et3 = y3(Ot3, 8)] = 1);
                          var Rt3 = 1;
                        } else {
                          var Dt3 = a2(19), Tt3 = y3(Ot3, 4) + 4;
                          if (19 < Tt3) {
                            St3.a = 3;
                            var zt3 = 0;
                            break r;
                          }
                          for (xt3 = 0; xt3 < Tt3; ++xt3)
                            Dt3[Kr[xt3]] = y3(Ot3, 3);
                          var Ut3 = void 0, Ht3 = void 0, Wt3 = St3, Vt3 = Dt3, Gt3 = At3, Yt3 = kt3, Jt3 = 0, Xt3 = Wt3.m, Kt3 = 8, Zt3 = o2(128, h3);
                          i:
                            for (; l3(Zt3, 0, 7, Vt3, 19); ) {
                              if (y3(Xt3, 1)) {
                                var $t3 = 2 + 2 * y3(Xt3, 3);
                                if ((Ut3 = 2 + y3(Xt3, $t3)) > Gt3)
                                  break i;
                              } else
                                Ut3 = Gt3;
                              for (Ht3 = 0; Ht3 < Gt3 && Ut3--; ) {
                                S2(Xt3);
                                var Qt3 = Zt3[0 + (127 & L3(Xt3))];
                                A3(Xt3, Xt3.u + Qt3.g);
                                var te3 = Qt3.value;
                                if (16 > te3)
                                  Yt3[Ht3++] = te3, 0 != te3 && (Kt3 = te3);
                                else {
                                  var ee3 = 16 == te3, ne3 = te3 - 16, re3 = Yr[ne3], ie3 = y3(Xt3, Gr[ne3]) + re3;
                                  if (Ht3 + ie3 > Gt3)
                                    break i;
                                  for (var ae3 = ee3 ? Kt3 : 0; 0 < ie3--; )
                                    Yt3[Ht3++] = ae3;
                                }
                              }
                              Jt3 = 1;
                              break i;
                            }
                          Jt3 || (Wt3.a = 3), Rt3 = Jt3;
                        }
                        (Rt3 = Rt3 && !Ot3.h) && (Ct3 = l3(It3, jt3, 8, kt3, At3)), Rt3 && 0 != Ct3 ? zt3 = Ct3 : (St3.a = 3, zt3 = 0);
                      }
                      if (0 == zt3)
                        break n;
                      if (Nt3 && 1 == Xr[V3] && (Nt3 = 0 == gt3[G3].g), wt3 += gt3[G3].g, G3 += zt3, 3 >= V3) {
                        var oe3, se3 = pt3[0];
                        for (oe3 = 1; oe3 < ct3; ++oe3)
                          pt3[oe3] > se3 && (se3 = pt3[oe3]);
                        Lt3 += se3;
                      }
                    }
                    if (mt3.nd = Nt3, mt3.Qb = 0, Nt3 && (mt3.qb = (vt3[3][bt3[3] + 0].value << 24 | vt3[1][bt3[1] + 0].value << 16 | vt3[2][bt3[2] + 0].value) >>> 0, 0 == wt3 && 256 > vt3[0][bt3[0] + 0].value && (mt3.Qb = 1, mt3.qb += vt3[0][bt3[0] + 0].value << 8)), mt3.jc = !mt3.Qb && 6 > Lt3, mt3.jc) {
                      var ue3, ce3 = mt3;
                      for (ue3 = 0; ue3 < Rn; ++ue3) {
                        var le3 = ue3, he3 = ce3.pd[le3], fe3 = ce3.G[0][ce3.H[0] + le3];
                        256 <= fe3.value ? (he3.g = fe3.g + 256, he3.value = fe3.value) : (he3.g = 0, he3.value = 0, le3 >>= yt2(fe3, 8, he3), le3 >>= yt2(ce3.G[1][ce3.H[1] + le3], 16, he3), le3 >>= yt2(ce3.G[2][ce3.H[2] + le3], 0, he3), yt2(ce3.G[3][ce3.H[3] + le3], 24, he3));
                      }
                    }
                  }
                  Q3.vc = tt3, Q3.Wb = et3, Q3.Ya = dt3, Q3.yc = lt3, H3 = 1;
                  break e;
                }
              H3 = 0;
            }
          if (!(c4 = H3)) {
            s3.a = 3;
            break t;
          }
          if (0 < b6) {
            if (m4.ua = 1 << b6, !O2(m4.Wa, b6)) {
              s3.a = 1, c4 = 0;
              break t;
            }
          } else
            m4.ua = 0;
          var de3 = s3, pe3 = f4, ge3 = p4, me3 = de3.s, ve3 = me3.xc;
          if (de3.c = pe3, de3.i = ge3, me3.md = E2(pe3, ve3), me3.wc = 0 == ve3 ? -1 : (1 << ve3) - 1, r3) {
            s3.xb = di2;
            break t;
          }
          if (null == (v4 = a2(f4 * p4))) {
            s3.a = 1, c4 = 0;
            break t;
          }
          c4 = (c4 = _t2(s3, v4, 0, f4, p4, p4, null)) && !g4.h;
          break t;
        }
      return c4 ? (null != u4 ? u4[0] = v4 : (e(null == v4), e(r3)), s3.$ = 0, r3 || Pt2(m4)) : Pt2(m4), c4;
    }
    function It2(t5, n3) {
      var r3 = t5.c * t5.i, i3 = r3 + n3 + 16 * n3;
      return e(t5.c <= n3), t5.V = a2(i3), null == t5.V ? (t5.Ta = null, t5.Ua = 0, t5.a = 1, 0) : (t5.Ta = t5.V, t5.Ua = t5.Ba + r3 + n3, 1);
    }
    function jt2(t5, n3) {
      var r3 = t5.C, i3 = n3 - r3, a3 = t5.V, o3 = t5.Ba + t5.c * r3;
      for (e(n3 <= t5.l.o); 0 < i3; ) {
        var s3 = 16 < i3 ? 16 : i3, u4 = t5.l.ma, c4 = t5.l.width, l4 = c4 * s3, h4 = u4.ca, f4 = u4.tb + c4 * r3, d4 = t5.Ta, p4 = t5.Ua;
        Nt2(t5, s3, a3, o3), Sr(d4, p4, h4, f4, l4), At2(u4, r3, r3 + s3, h4, f4, c4), i3 -= s3, a3 += s3 * t5.c, r3 += s3;
      }
      e(r3 == n3), t5.C = t5.Ma = n3;
    }
    function Ct2() {
      this.ub = this.yd = this.td = this.Rb = 0;
    }
    function Ot2() {
      this.Kd = this.Ld = this.Ud = this.Td = this.i = this.c = 0;
    }
    function Bt2() {
      this.Fb = this.Bb = this.Cb = 0, this.Zb = a2(4), this.Lb = a2(4);
    }
    function Mt2() {
      this.Yb = function() {
        var t5 = [];
        return function t6(e2, n3, r3) {
          for (var i3 = r3[n3], a3 = 0; a3 < i3 && (e2.push(r3.length > n3 + 1 ? [] : 0), !(r3.length < n3 + 1)); a3++)
            t6(e2[a3], n3 + 1, r3);
        }(t5, 0, [3, 11]), t5;
      }();
    }
    function qt2() {
      this.jb = a2(3), this.Wc = s2([4, 8], Mt2), this.Xc = s2([4, 17], Mt2);
    }
    function Et2() {
      this.Pc = this.wb = this.Tb = this.zd = 0, this.vd = new a2(4), this.od = new a2(4);
    }
    function Rt2() {
      this.ld = this.La = this.dd = this.tc = 0;
    }
    function Dt2() {
      this.Na = this.la = 0;
    }
    function Tt2() {
      this.Sc = [0, 0], this.Eb = [0, 0], this.Qc = [0, 0], this.ia = this.lc = 0;
    }
    function zt2() {
      this.ad = a2(384), this.Za = 0, this.Ob = a2(16), this.$b = this.Ad = this.ia = this.Gc = this.Hc = this.Dd = 0;
    }
    function Ut2() {
      this.uc = this.M = this.Nb = 0, this.wa = Array(new Rt2()), this.Y = 0, this.ya = Array(new zt2()), this.aa = 0, this.l = new Gt2();
    }
    function Ht2() {
      this.y = a2(16), this.f = a2(8), this.ea = a2(8);
    }
    function Wt2() {
      this.cb = this.a = 0, this.sc = "", this.m = new w3(), this.Od = new Ct2(), this.Kc = new Ot2(), this.ed = new Et2(), this.Qa = new Bt2(), this.Ic = this.$c = this.Aa = 0, this.D = new Ut2(), this.Xb = this.Va = this.Hb = this.zb = this.yb = this.Ub = this.za = 0, this.Jc = o2(8, w3), this.ia = 0, this.pb = o2(4, Tt2), this.Pa = new qt2(), this.Bd = this.kc = 0, this.Ac = [], this.Bc = 0, this.zc = [0, 0, 0, 0], this.Gd = Array(new Ht2()), this.Hd = 0, this.rb = Array(new Dt2()), this.sb = 0, this.wa = Array(new Rt2()), this.Y = 0, this.oc = [], this.pc = 0, this.sa = [], this.ta = 0, this.qa = [], this.ra = 0, this.Ha = [], this.B = this.R = this.Ia = 0, this.Ec = [], this.M = this.ja = this.Vb = this.Fc = 0, this.ya = Array(new zt2()), this.L = this.aa = 0, this.gd = s2([4, 2], Rt2), this.ga = null, this.Fa = [], this.Cc = this.qc = this.P = 0, this.Gb = [], this.Uc = 0, this.mb = [], this.nb = 0, this.rc = [], this.Ga = this.Vc = 0;
    }
    function Vt2(t5, e2) {
      return 0 > t5 ? 0 : t5 > e2 ? e2 : t5;
    }
    function Gt2() {
      this.T = this.U = this.ka = this.height = this.width = 0, this.y = [], this.f = [], this.ea = [], this.Rc = this.fa = this.W = this.N = this.O = 0, this.ma = "void", this.put = "VP8IoPutHook", this.ac = "VP8IoSetupHook", this.bc = "VP8IoTeardownHook", this.ha = this.Kb = 0, this.data = [], this.hb = this.ib = this.da = this.o = this.j = this.va = this.v = this.Da = this.ob = this.w = 0, this.F = [], this.J = 0;
    }
    function Yt2() {
      var t5 = new Wt2();
      return null != t5 && (t5.a = 0, t5.sc = "OK", t5.cb = 0, t5.Xb = 0, ni2 || (ni2 = Zt2)), t5;
    }
    function Jt2(t5, e2, n3) {
      return 0 == t5.a && (t5.a = e2, t5.sc = n3, t5.cb = 0), 0;
    }
    function Xt2(t5, e2, n3) {
      return 3 <= n3 && 157 == t5[e2 + 0] && 1 == t5[e2 + 1] && 42 == t5[e2 + 2];
    }
    function Kt2(t5, n3) {
      if (null == t5)
        return 0;
      if (t5.a = 0, t5.sc = "OK", null == n3)
        return Jt2(t5, 2, "null VP8Io passed to VP8GetHeaders()");
      var r3 = n3.data, a3 = n3.w, o3 = n3.ha;
      if (4 > o3)
        return Jt2(t5, 7, "Truncated header.");
      var s3 = r3[a3 + 0] | r3[a3 + 1] << 8 | r3[a3 + 2] << 16, u4 = t5.Od;
      if (u4.Rb = !(1 & s3), u4.td = s3 >> 1 & 7, u4.yd = s3 >> 4 & 1, u4.ub = s3 >> 5, 3 < u4.td)
        return Jt2(t5, 3, "Incorrect keyframe parameters.");
      if (!u4.yd)
        return Jt2(t5, 4, "Frame not displayable.");
      a3 += 3, o3 -= 3;
      var c4 = t5.Kc;
      if (u4.Rb) {
        if (7 > o3)
          return Jt2(t5, 7, "cannot parse picture header");
        if (!Xt2(r3, a3, o3))
          return Jt2(t5, 3, "Bad code word");
        c4.c = 16383 & (r3[a3 + 4] << 8 | r3[a3 + 3]), c4.Td = r3[a3 + 4] >> 6, c4.i = 16383 & (r3[a3 + 6] << 8 | r3[a3 + 5]), c4.Ud = r3[a3 + 6] >> 6, a3 += 7, o3 -= 7, t5.za = c4.c + 15 >> 4, t5.Ub = c4.i + 15 >> 4, n3.width = c4.c, n3.height = c4.i, n3.Da = 0, n3.j = 0, n3.v = 0, n3.va = n3.width, n3.o = n3.height, n3.da = 0, n3.ib = n3.width, n3.hb = n3.height, n3.U = n3.width, n3.T = n3.height, i2((s3 = t5.Pa).jb, 0, 255, s3.jb.length), e(null != (s3 = t5.Qa)), s3.Cb = 0, s3.Bb = 0, s3.Fb = 1, i2(s3.Zb, 0, 0, s3.Zb.length), i2(s3.Lb, 0, 0, s3.Lb);
      }
      if (u4.ub > o3)
        return Jt2(t5, 7, "bad partition length");
      p3(s3 = t5.m, r3, a3, u4.ub), a3 += u4.ub, o3 -= u4.ub, u4.Rb && (c4.Ld = P2(s3), c4.Kd = P2(s3)), c4 = t5.Qa;
      var l4, h4 = t5.Pa;
      if (e(null != s3), e(null != c4), c4.Cb = P2(s3), c4.Cb) {
        if (c4.Bb = P2(s3), P2(s3)) {
          for (c4.Fb = P2(s3), l4 = 0; 4 > l4; ++l4)
            c4.Zb[l4] = P2(s3) ? m3(s3, 7) : 0;
          for (l4 = 0; 4 > l4; ++l4)
            c4.Lb[l4] = P2(s3) ? m3(s3, 6) : 0;
        }
        if (c4.Bb)
          for (l4 = 0; 3 > l4; ++l4)
            h4.jb[l4] = P2(s3) ? g3(s3, 8) : 255;
      } else
        c4.Bb = 0;
      if (s3.Ka)
        return Jt2(t5, 3, "cannot parse segment header");
      if ((c4 = t5.ed).zd = P2(s3), c4.Tb = g3(s3, 6), c4.wb = g3(s3, 3), c4.Pc = P2(s3), c4.Pc && P2(s3)) {
        for (h4 = 0; 4 > h4; ++h4)
          P2(s3) && (c4.vd[h4] = m3(s3, 6));
        for (h4 = 0; 4 > h4; ++h4)
          P2(s3) && (c4.od[h4] = m3(s3, 6));
      }
      if (t5.L = 0 == c4.Tb ? 0 : c4.zd ? 1 : 2, s3.Ka)
        return Jt2(t5, 3, "cannot parse filter header");
      var f4 = o3;
      if (o3 = l4 = a3, a3 = l4 + f4, c4 = f4, t5.Xb = (1 << g3(t5.m, 2)) - 1, f4 < 3 * (h4 = t5.Xb))
        r3 = 7;
      else {
        for (l4 += 3 * h4, c4 -= 3 * h4, f4 = 0; f4 < h4; ++f4) {
          var d4 = r3[o3 + 0] | r3[o3 + 1] << 8 | r3[o3 + 2] << 16;
          d4 > c4 && (d4 = c4), p3(t5.Jc[+f4], r3, l4, d4), l4 += d4, c4 -= d4, o3 += 3;
        }
        p3(t5.Jc[+h4], r3, l4, c4), r3 = l4 < a3 ? 0 : 5;
      }
      if (0 != r3)
        return Jt2(t5, r3, "cannot parse partitions");
      for (r3 = g3(l4 = t5.m, 7), o3 = P2(l4) ? m3(l4, 4) : 0, a3 = P2(l4) ? m3(l4, 4) : 0, c4 = P2(l4) ? m3(l4, 4) : 0, h4 = P2(l4) ? m3(l4, 4) : 0, l4 = P2(l4) ? m3(l4, 4) : 0, f4 = t5.Qa, d4 = 0; 4 > d4; ++d4) {
        if (f4.Cb) {
          var v4 = f4.Zb[d4];
          f4.Fb || (v4 += r3);
        } else {
          if (0 < d4) {
            t5.pb[d4] = t5.pb[0];
            continue;
          }
          v4 = r3;
        }
        var b6 = t5.pb[d4];
        b6.Sc[0] = ti2[Vt2(v4 + o3, 127)], b6.Sc[1] = ei2[Vt2(v4 + 0, 127)], b6.Eb[0] = 2 * ti2[Vt2(v4 + a3, 127)], b6.Eb[1] = 101581 * ei2[Vt2(v4 + c4, 127)] >> 16, 8 > b6.Eb[1] && (b6.Eb[1] = 8), b6.Qc[0] = ti2[Vt2(v4 + h4, 117)], b6.Qc[1] = ei2[Vt2(v4 + l4, 127)], b6.lc = v4 + l4;
      }
      if (!u4.Rb)
        return Jt2(t5, 4, "Not a key frame.");
      for (P2(s3), u4 = t5.Pa, r3 = 0; 4 > r3; ++r3) {
        for (o3 = 0; 8 > o3; ++o3)
          for (a3 = 0; 3 > a3; ++a3)
            for (c4 = 0; 11 > c4; ++c4)
              h4 = k3(s3, ui2[r3][o3][a3][c4]) ? g3(s3, 8) : oi2[r3][o3][a3][c4], u4.Wc[r3][o3].Yb[a3][c4] = h4;
        for (o3 = 0; 17 > o3; ++o3)
          u4.Xc[r3][o3] = u4.Wc[r3][ci2[o3]];
      }
      return t5.kc = P2(s3), t5.kc && (t5.Bd = g3(s3, 8)), t5.cb = 1;
    }
    function Zt2(t5, e2, n3, r3, i3, a3, o3) {
      var s3 = e2[i3].Yb[n3];
      for (n3 = 0; 16 > i3; ++i3) {
        if (!k3(t5, s3[n3 + 0]))
          return i3;
        for (; !k3(t5, s3[n3 + 1]); )
          if (s3 = e2[++i3].Yb[0], n3 = 0, 16 == i3)
            return 16;
        var u4 = e2[i3 + 1].Yb;
        if (k3(t5, s3[n3 + 2])) {
          var c4 = t5, l4 = 0;
          if (k3(c4, (f4 = s3)[(h4 = n3) + 3]))
            if (k3(c4, f4[h4 + 6])) {
              for (s3 = 0, h4 = 2 * (l4 = k3(c4, f4[h4 + 8])) + (f4 = k3(c4, f4[h4 + 9 + l4])), l4 = 0, f4 = ri2[h4]; f4[s3]; ++s3)
                l4 += l4 + k3(c4, f4[s3]);
              l4 += 3 + (8 << h4);
            } else
              k3(c4, f4[h4 + 7]) ? (l4 = 7 + 2 * k3(c4, 165), l4 += k3(c4, 145)) : l4 = 5 + k3(c4, 159);
          else
            l4 = k3(c4, f4[h4 + 4]) ? 3 + k3(c4, f4[h4 + 5]) : 2;
          s3 = u4[2];
        } else
          l4 = 1, s3 = u4[1];
        u4 = o3 + ii2[i3], 0 > (c4 = t5).b && _2(c4);
        var h4, f4 = c4.b, d4 = (h4 = c4.Ca >> 1) - (c4.I >> f4) >> 31;
        --c4.b, c4.Ca += d4, c4.Ca |= 1, c4.I -= (h4 + 1 & d4) << f4, a3[u4] = ((l4 ^ d4) - d4) * r3[(0 < i3) + 0];
      }
      return 16;
    }
    function $t2(t5) {
      var e2 = t5.rb[t5.sb - 1];
      e2.la = 0, e2.Na = 0, i2(t5.zc, 0, 0, t5.zc.length), t5.ja = 0;
    }
    function Qt2(t5, e2, n3, r3, i3) {
      i3 = t5[e2 + n3 + 32 * r3] + (i3 >> 3), t5[e2 + n3 + 32 * r3] = -256 & i3 ? 0 > i3 ? 0 : 255 : i3;
    }
    function te2(t5, e2, n3, r3, i3, a3) {
      Qt2(t5, e2, 0, n3, r3 + i3), Qt2(t5, e2, 1, n3, r3 + a3), Qt2(t5, e2, 2, n3, r3 - a3), Qt2(t5, e2, 3, n3, r3 - i3);
    }
    function ee2(t5) {
      return (20091 * t5 >> 16) + t5;
    }
    function ne2(t5, e2, n3, r3) {
      var i3, o3 = 0, s3 = a2(16);
      for (i3 = 0; 4 > i3; ++i3) {
        var u4 = t5[e2 + 0] + t5[e2 + 8], c4 = t5[e2 + 0] - t5[e2 + 8], l4 = (35468 * t5[e2 + 4] >> 16) - ee2(t5[e2 + 12]), h4 = ee2(t5[e2 + 4]) + (35468 * t5[e2 + 12] >> 16);
        s3[o3 + 0] = u4 + h4, s3[o3 + 1] = c4 + l4, s3[o3 + 2] = c4 - l4, s3[o3 + 3] = u4 - h4, o3 += 4, e2++;
      }
      for (i3 = o3 = 0; 4 > i3; ++i3)
        u4 = (t5 = s3[o3 + 0] + 4) + s3[o3 + 8], c4 = t5 - s3[o3 + 8], l4 = (35468 * s3[o3 + 4] >> 16) - ee2(s3[o3 + 12]), Qt2(n3, r3, 0, 0, u4 + (h4 = ee2(s3[o3 + 4]) + (35468 * s3[o3 + 12] >> 16))), Qt2(n3, r3, 1, 0, c4 + l4), Qt2(n3, r3, 2, 0, c4 - l4), Qt2(n3, r3, 3, 0, u4 - h4), o3++, r3 += 32;
    }
    function re2(t5, e2, n3, r3) {
      var i3 = t5[e2 + 0] + 4, a3 = 35468 * t5[e2 + 4] >> 16, o3 = ee2(t5[e2 + 4]), s3 = 35468 * t5[e2 + 1] >> 16;
      te2(n3, r3, 0, i3 + o3, t5 = ee2(t5[e2 + 1]), s3), te2(n3, r3, 1, i3 + a3, t5, s3), te2(n3, r3, 2, i3 - a3, t5, s3), te2(n3, r3, 3, i3 - o3, t5, s3);
    }
    function ie2(t5, e2, n3, r3, i3) {
      ne2(t5, e2, n3, r3), i3 && ne2(t5, e2 + 16, n3, r3 + 4);
    }
    function ae2(t5, e2, n3, r3) {
      ar(t5, e2 + 0, n3, r3, 1), ar(t5, e2 + 32, n3, r3 + 128, 1);
    }
    function oe2(t5, e2, n3, r3) {
      var i3;
      for (t5 = t5[e2 + 0] + 4, i3 = 0; 4 > i3; ++i3)
        for (e2 = 0; 4 > e2; ++e2)
          Qt2(n3, r3, e2, i3, t5);
    }
    function se2(t5, e2, n3, r3) {
      t5[e2 + 0] && ur(t5, e2 + 0, n3, r3), t5[e2 + 16] && ur(t5, e2 + 16, n3, r3 + 4), t5[e2 + 32] && ur(t5, e2 + 32, n3, r3 + 128), t5[e2 + 48] && ur(t5, e2 + 48, n3, r3 + 128 + 4);
    }
    function ue2(t5, e2, n3, r3) {
      var i3, o3 = a2(16);
      for (i3 = 0; 4 > i3; ++i3) {
        var s3 = t5[e2 + 0 + i3] + t5[e2 + 12 + i3], u4 = t5[e2 + 4 + i3] + t5[e2 + 8 + i3], c4 = t5[e2 + 4 + i3] - t5[e2 + 8 + i3], l4 = t5[e2 + 0 + i3] - t5[e2 + 12 + i3];
        o3[0 + i3] = s3 + u4, o3[8 + i3] = s3 - u4, o3[4 + i3] = l4 + c4, o3[12 + i3] = l4 - c4;
      }
      for (i3 = 0; 4 > i3; ++i3)
        s3 = (t5 = o3[0 + 4 * i3] + 3) + o3[3 + 4 * i3], u4 = o3[1 + 4 * i3] + o3[2 + 4 * i3], c4 = o3[1 + 4 * i3] - o3[2 + 4 * i3], l4 = t5 - o3[3 + 4 * i3], n3[r3 + 0] = s3 + u4 >> 3, n3[r3 + 16] = l4 + c4 >> 3, n3[r3 + 32] = s3 - u4 >> 3, n3[r3 + 48] = l4 - c4 >> 3, r3 += 64;
    }
    function ce2(t5, e2, n3) {
      var r3, i3 = e2 - 32, a3 = Or, o3 = 255 - t5[i3 - 1];
      for (r3 = 0; r3 < n3; ++r3) {
        var s3, u4 = a3, c4 = o3 + t5[e2 - 1];
        for (s3 = 0; s3 < n3; ++s3)
          t5[e2 + s3] = u4[c4 + t5[i3 + s3]];
        e2 += 32;
      }
    }
    function le2(t5, e2) {
      ce2(t5, e2, 4);
    }
    function he2(t5, e2) {
      ce2(t5, e2, 8);
    }
    function fe2(t5, e2) {
      ce2(t5, e2, 16);
    }
    function de2(t5, e2) {
      var n3;
      for (n3 = 0; 16 > n3; ++n3)
        r2(t5, e2 + 32 * n3, t5, e2 - 32, 16);
    }
    function pe2(t5, e2) {
      var n3;
      for (n3 = 16; 0 < n3; --n3)
        i2(t5, e2, t5[e2 - 1], 16), e2 += 32;
    }
    function ge2(t5, e2, n3) {
      var r3;
      for (r3 = 0; 16 > r3; ++r3)
        i2(e2, n3 + 32 * r3, t5, 16);
    }
    function me2(t5, e2) {
      var n3, r3 = 16;
      for (n3 = 0; 16 > n3; ++n3)
        r3 += t5[e2 - 1 + 32 * n3] + t5[e2 + n3 - 32];
      ge2(r3 >> 5, t5, e2);
    }
    function ve2(t5, e2) {
      var n3, r3 = 8;
      for (n3 = 0; 16 > n3; ++n3)
        r3 += t5[e2 - 1 + 32 * n3];
      ge2(r3 >> 4, t5, e2);
    }
    function be2(t5, e2) {
      var n3, r3 = 8;
      for (n3 = 0; 16 > n3; ++n3)
        r3 += t5[e2 + n3 - 32];
      ge2(r3 >> 4, t5, e2);
    }
    function ye2(t5, e2) {
      ge2(128, t5, e2);
    }
    function we2(t5, e2, n3) {
      return t5 + 2 * e2 + n3 + 2 >> 2;
    }
    function Ne2(t5, e2) {
      var n3, i3 = e2 - 32;
      for (i3 = new Uint8Array([we2(t5[i3 - 1], t5[i3 + 0], t5[i3 + 1]), we2(t5[i3 + 0], t5[i3 + 1], t5[i3 + 2]), we2(t5[i3 + 1], t5[i3 + 2], t5[i3 + 3]), we2(t5[i3 + 2], t5[i3 + 3], t5[i3 + 4])]), n3 = 0; 4 > n3; ++n3)
        r2(t5, e2 + 32 * n3, i3, 0, i3.length);
    }
    function Le2(t5, e2) {
      var n3 = t5[e2 - 1], r3 = t5[e2 - 1 + 32], i3 = t5[e2 - 1 + 64], a3 = t5[e2 - 1 + 96];
      F2(t5, e2 + 0, 16843009 * we2(t5[e2 - 1 - 32], n3, r3)), F2(t5, e2 + 32, 16843009 * we2(n3, r3, i3)), F2(t5, e2 + 64, 16843009 * we2(r3, i3, a3)), F2(t5, e2 + 96, 16843009 * we2(i3, a3, a3));
    }
    function xe2(t5, e2) {
      var n3, r3 = 4;
      for (n3 = 0; 4 > n3; ++n3)
        r3 += t5[e2 + n3 - 32] + t5[e2 - 1 + 32 * n3];
      for (r3 >>= 3, n3 = 0; 4 > n3; ++n3)
        i2(t5, e2 + 32 * n3, r3, 4);
    }
    function Ae2(t5, e2) {
      var n3 = t5[e2 - 1 + 0], r3 = t5[e2 - 1 + 32], i3 = t5[e2 - 1 + 64], a3 = t5[e2 - 1 - 32], o3 = t5[e2 + 0 - 32], s3 = t5[e2 + 1 - 32], u4 = t5[e2 + 2 - 32], c4 = t5[e2 + 3 - 32];
      t5[e2 + 0 + 96] = we2(r3, i3, t5[e2 - 1 + 96]), t5[e2 + 1 + 96] = t5[e2 + 0 + 64] = we2(n3, r3, i3), t5[e2 + 2 + 96] = t5[e2 + 1 + 64] = t5[e2 + 0 + 32] = we2(a3, n3, r3), t5[e2 + 3 + 96] = t5[e2 + 2 + 64] = t5[e2 + 1 + 32] = t5[e2 + 0 + 0] = we2(o3, a3, n3), t5[e2 + 3 + 64] = t5[e2 + 2 + 32] = t5[e2 + 1 + 0] = we2(s3, o3, a3), t5[e2 + 3 + 32] = t5[e2 + 2 + 0] = we2(u4, s3, o3), t5[e2 + 3 + 0] = we2(c4, u4, s3);
    }
    function Se2(t5, e2) {
      var n3 = t5[e2 + 1 - 32], r3 = t5[e2 + 2 - 32], i3 = t5[e2 + 3 - 32], a3 = t5[e2 + 4 - 32], o3 = t5[e2 + 5 - 32], s3 = t5[e2 + 6 - 32], u4 = t5[e2 + 7 - 32];
      t5[e2 + 0 + 0] = we2(t5[e2 + 0 - 32], n3, r3), t5[e2 + 1 + 0] = t5[e2 + 0 + 32] = we2(n3, r3, i3), t5[e2 + 2 + 0] = t5[e2 + 1 + 32] = t5[e2 + 0 + 64] = we2(r3, i3, a3), t5[e2 + 3 + 0] = t5[e2 + 2 + 32] = t5[e2 + 1 + 64] = t5[e2 + 0 + 96] = we2(i3, a3, o3), t5[e2 + 3 + 32] = t5[e2 + 2 + 64] = t5[e2 + 1 + 96] = we2(a3, o3, s3), t5[e2 + 3 + 64] = t5[e2 + 2 + 96] = we2(o3, s3, u4), t5[e2 + 3 + 96] = we2(s3, u4, u4);
    }
    function _e2(t5, e2) {
      var n3 = t5[e2 - 1 + 0], r3 = t5[e2 - 1 + 32], i3 = t5[e2 - 1 + 64], a3 = t5[e2 - 1 - 32], o3 = t5[e2 + 0 - 32], s3 = t5[e2 + 1 - 32], u4 = t5[e2 + 2 - 32], c4 = t5[e2 + 3 - 32];
      t5[e2 + 0 + 0] = t5[e2 + 1 + 64] = a3 + o3 + 1 >> 1, t5[e2 + 1 + 0] = t5[e2 + 2 + 64] = o3 + s3 + 1 >> 1, t5[e2 + 2 + 0] = t5[e2 + 3 + 64] = s3 + u4 + 1 >> 1, t5[e2 + 3 + 0] = u4 + c4 + 1 >> 1, t5[e2 + 0 + 96] = we2(i3, r3, n3), t5[e2 + 0 + 64] = we2(r3, n3, a3), t5[e2 + 0 + 32] = t5[e2 + 1 + 96] = we2(n3, a3, o3), t5[e2 + 1 + 32] = t5[e2 + 2 + 96] = we2(a3, o3, s3), t5[e2 + 2 + 32] = t5[e2 + 3 + 96] = we2(o3, s3, u4), t5[e2 + 3 + 32] = we2(s3, u4, c4);
    }
    function Pe2(t5, e2) {
      var n3 = t5[e2 + 0 - 32], r3 = t5[e2 + 1 - 32], i3 = t5[e2 + 2 - 32], a3 = t5[e2 + 3 - 32], o3 = t5[e2 + 4 - 32], s3 = t5[e2 + 5 - 32], u4 = t5[e2 + 6 - 32], c4 = t5[e2 + 7 - 32];
      t5[e2 + 0 + 0] = n3 + r3 + 1 >> 1, t5[e2 + 1 + 0] = t5[e2 + 0 + 64] = r3 + i3 + 1 >> 1, t5[e2 + 2 + 0] = t5[e2 + 1 + 64] = i3 + a3 + 1 >> 1, t5[e2 + 3 + 0] = t5[e2 + 2 + 64] = a3 + o3 + 1 >> 1, t5[e2 + 0 + 32] = we2(n3, r3, i3), t5[e2 + 1 + 32] = t5[e2 + 0 + 96] = we2(r3, i3, a3), t5[e2 + 2 + 32] = t5[e2 + 1 + 96] = we2(i3, a3, o3), t5[e2 + 3 + 32] = t5[e2 + 2 + 96] = we2(a3, o3, s3), t5[e2 + 3 + 64] = we2(o3, s3, u4), t5[e2 + 3 + 96] = we2(s3, u4, c4);
    }
    function ke2(t5, e2) {
      var n3 = t5[e2 - 1 + 0], r3 = t5[e2 - 1 + 32], i3 = t5[e2 - 1 + 64], a3 = t5[e2 - 1 + 96];
      t5[e2 + 0 + 0] = n3 + r3 + 1 >> 1, t5[e2 + 2 + 0] = t5[e2 + 0 + 32] = r3 + i3 + 1 >> 1, t5[e2 + 2 + 32] = t5[e2 + 0 + 64] = i3 + a3 + 1 >> 1, t5[e2 + 1 + 0] = we2(n3, r3, i3), t5[e2 + 3 + 0] = t5[e2 + 1 + 32] = we2(r3, i3, a3), t5[e2 + 3 + 32] = t5[e2 + 1 + 64] = we2(i3, a3, a3), t5[e2 + 3 + 64] = t5[e2 + 2 + 64] = t5[e2 + 0 + 96] = t5[e2 + 1 + 96] = t5[e2 + 2 + 96] = t5[e2 + 3 + 96] = a3;
    }
    function Fe2(t5, e2) {
      var n3 = t5[e2 - 1 + 0], r3 = t5[e2 - 1 + 32], i3 = t5[e2 - 1 + 64], a3 = t5[e2 - 1 + 96], o3 = t5[e2 - 1 - 32], s3 = t5[e2 + 0 - 32], u4 = t5[e2 + 1 - 32], c4 = t5[e2 + 2 - 32];
      t5[e2 + 0 + 0] = t5[e2 + 2 + 32] = n3 + o3 + 1 >> 1, t5[e2 + 0 + 32] = t5[e2 + 2 + 64] = r3 + n3 + 1 >> 1, t5[e2 + 0 + 64] = t5[e2 + 2 + 96] = i3 + r3 + 1 >> 1, t5[e2 + 0 + 96] = a3 + i3 + 1 >> 1, t5[e2 + 3 + 0] = we2(s3, u4, c4), t5[e2 + 2 + 0] = we2(o3, s3, u4), t5[e2 + 1 + 0] = t5[e2 + 3 + 32] = we2(n3, o3, s3), t5[e2 + 1 + 32] = t5[e2 + 3 + 64] = we2(r3, n3, o3), t5[e2 + 1 + 64] = t5[e2 + 3 + 96] = we2(i3, r3, n3), t5[e2 + 1 + 96] = we2(a3, i3, r3);
    }
    function Ie2(t5, e2) {
      var n3;
      for (n3 = 0; 8 > n3; ++n3)
        r2(t5, e2 + 32 * n3, t5, e2 - 32, 8);
    }
    function je2(t5, e2) {
      var n3;
      for (n3 = 0; 8 > n3; ++n3)
        i2(t5, e2, t5[e2 - 1], 8), e2 += 32;
    }
    function Ce2(t5, e2, n3) {
      var r3;
      for (r3 = 0; 8 > r3; ++r3)
        i2(e2, n3 + 32 * r3, t5, 8);
    }
    function Oe2(t5, e2) {
      var n3, r3 = 8;
      for (n3 = 0; 8 > n3; ++n3)
        r3 += t5[e2 + n3 - 32] + t5[e2 - 1 + 32 * n3];
      Ce2(r3 >> 4, t5, e2);
    }
    function Be2(t5, e2) {
      var n3, r3 = 4;
      for (n3 = 0; 8 > n3; ++n3)
        r3 += t5[e2 + n3 - 32];
      Ce2(r3 >> 3, t5, e2);
    }
    function Me2(t5, e2) {
      var n3, r3 = 4;
      for (n3 = 0; 8 > n3; ++n3)
        r3 += t5[e2 - 1 + 32 * n3];
      Ce2(r3 >> 3, t5, e2);
    }
    function qe2(t5, e2) {
      Ce2(128, t5, e2);
    }
    function Ee2(t5, e2, n3) {
      var r3 = t5[e2 - n3], i3 = t5[e2 + 0], a3 = 3 * (i3 - r3) + jr[1020 + t5[e2 - 2 * n3] - t5[e2 + n3]], o3 = Cr[112 + (a3 + 4 >> 3)];
      t5[e2 - n3] = Or[255 + r3 + Cr[112 + (a3 + 3 >> 3)]], t5[e2 + 0] = Or[255 + i3 - o3];
    }
    function Re2(t5, e2, n3, r3) {
      var i3 = t5[e2 + 0], a3 = t5[e2 + n3];
      return Br[255 + t5[e2 - 2 * n3] - t5[e2 - n3]] > r3 || Br[255 + a3 - i3] > r3;
    }
    function De2(t5, e2, n3, r3) {
      return 4 * Br[255 + t5[e2 - n3] - t5[e2 + 0]] + Br[255 + t5[e2 - 2 * n3] - t5[e2 + n3]] <= r3;
    }
    function Te2(t5, e2, n3, r3, i3) {
      var a3 = t5[e2 - 3 * n3], o3 = t5[e2 - 2 * n3], s3 = t5[e2 - n3], u4 = t5[e2 + 0], c4 = t5[e2 + n3], l4 = t5[e2 + 2 * n3], h4 = t5[e2 + 3 * n3];
      return 4 * Br[255 + s3 - u4] + Br[255 + o3 - c4] > r3 ? 0 : Br[255 + t5[e2 - 4 * n3] - a3] <= i3 && Br[255 + a3 - o3] <= i3 && Br[255 + o3 - s3] <= i3 && Br[255 + h4 - l4] <= i3 && Br[255 + l4 - c4] <= i3 && Br[255 + c4 - u4] <= i3;
    }
    function ze(t5, e2, n3, r3) {
      var i3 = 2 * r3 + 1;
      for (r3 = 0; 16 > r3; ++r3)
        De2(t5, e2 + r3, n3, i3) && Ee2(t5, e2 + r3, n3);
    }
    function Ue2(t5, e2, n3, r3) {
      var i3 = 2 * r3 + 1;
      for (r3 = 0; 16 > r3; ++r3)
        De2(t5, e2 + r3 * n3, 1, i3) && Ee2(t5, e2 + r3 * n3, 1);
    }
    function He2(t5, e2, n3, r3) {
      var i3;
      for (i3 = 3; 0 < i3; --i3)
        ze(t5, e2 += 4 * n3, n3, r3);
    }
    function We2(t5, e2, n3, r3) {
      var i3;
      for (i3 = 3; 0 < i3; --i3)
        Ue2(t5, e2 += 4, n3, r3);
    }
    function Ve2(t5, e2, n3, r3, i3, a3, o3, s3) {
      for (a3 = 2 * a3 + 1; 0 < i3--; ) {
        if (Te2(t5, e2, n3, a3, o3))
          if (Re2(t5, e2, n3, s3))
            Ee2(t5, e2, n3);
          else {
            var u4 = t5, c4 = e2, l4 = n3, h4 = u4[c4 - 2 * l4], f4 = u4[c4 - l4], d4 = u4[c4 + 0], p4 = u4[c4 + l4], g4 = u4[c4 + 2 * l4], m4 = 27 * (b6 = jr[1020 + 3 * (d4 - f4) + jr[1020 + h4 - p4]]) + 63 >> 7, v4 = 18 * b6 + 63 >> 7, b6 = 9 * b6 + 63 >> 7;
            u4[c4 - 3 * l4] = Or[255 + u4[c4 - 3 * l4] + b6], u4[c4 - 2 * l4] = Or[255 + h4 + v4], u4[c4 - l4] = Or[255 + f4 + m4], u4[c4 + 0] = Or[255 + d4 - m4], u4[c4 + l4] = Or[255 + p4 - v4], u4[c4 + 2 * l4] = Or[255 + g4 - b6];
          }
        e2 += r3;
      }
    }
    function Ge2(t5, e2, n3, r3, i3, a3, o3, s3) {
      for (a3 = 2 * a3 + 1; 0 < i3--; ) {
        if (Te2(t5, e2, n3, a3, o3))
          if (Re2(t5, e2, n3, s3))
            Ee2(t5, e2, n3);
          else {
            var u4 = t5, c4 = e2, l4 = n3, h4 = u4[c4 - l4], f4 = u4[c4 + 0], d4 = u4[c4 + l4], p4 = Cr[112 + (4 + (g4 = 3 * (f4 - h4)) >> 3)], g4 = Cr[112 + (g4 + 3 >> 3)], m4 = p4 + 1 >> 1;
            u4[c4 - 2 * l4] = Or[255 + u4[c4 - 2 * l4] + m4], u4[c4 - l4] = Or[255 + h4 + g4], u4[c4 + 0] = Or[255 + f4 - p4], u4[c4 + l4] = Or[255 + d4 - m4];
          }
        e2 += r3;
      }
    }
    function Ye2(t5, e2, n3, r3, i3, a3) {
      Ve2(t5, e2, n3, 1, 16, r3, i3, a3);
    }
    function Je2(t5, e2, n3, r3, i3, a3) {
      Ve2(t5, e2, 1, n3, 16, r3, i3, a3);
    }
    function Xe2(t5, e2, n3, r3, i3, a3) {
      var o3;
      for (o3 = 3; 0 < o3; --o3)
        Ge2(t5, e2 += 4 * n3, n3, 1, 16, r3, i3, a3);
    }
    function Ke2(t5, e2, n3, r3, i3, a3) {
      var o3;
      for (o3 = 3; 0 < o3; --o3)
        Ge2(t5, e2 += 4, 1, n3, 16, r3, i3, a3);
    }
    function Ze2(t5, e2, n3, r3, i3, a3, o3, s3) {
      Ve2(t5, e2, i3, 1, 8, a3, o3, s3), Ve2(n3, r3, i3, 1, 8, a3, o3, s3);
    }
    function $e2(t5, e2, n3, r3, i3, a3, o3, s3) {
      Ve2(t5, e2, 1, i3, 8, a3, o3, s3), Ve2(n3, r3, 1, i3, 8, a3, o3, s3);
    }
    function Qe2(t5, e2, n3, r3, i3, a3, o3, s3) {
      Ge2(t5, e2 + 4 * i3, i3, 1, 8, a3, o3, s3), Ge2(n3, r3 + 4 * i3, i3, 1, 8, a3, o3, s3);
    }
    function tn(t5, e2, n3, r3, i3, a3, o3, s3) {
      Ge2(t5, e2 + 4, 1, i3, 8, a3, o3, s3), Ge2(n3, r3 + 4, 1, i3, 8, a3, o3, s3);
    }
    function en() {
      this.ba = new ot2(), this.ec = [], this.cc = [], this.Mc = [], this.Dc = this.Nc = this.dc = this.fc = 0, this.Oa = new ut2(), this.memory = 0, this.Ib = "OutputFunc", this.Jb = "OutputAlphaFunc", this.Nd = "OutputRowFunc";
    }
    function nn() {
      this.data = [], this.offset = this.kd = this.ha = this.w = 0, this.na = [], this.xa = this.gb = this.Ja = this.Sa = this.P = 0;
    }
    function rn() {
      this.nc = this.Ea = this.b = this.hc = 0, this.K = [], this.w = 0;
    }
    function an() {
      this.ua = 0, this.Wa = new M2(), this.vb = new M2(), this.md = this.xc = this.wc = 0, this.vc = [], this.Wb = 0, this.Ya = new d3(), this.yc = new h3();
    }
    function on2() {
      this.xb = this.a = 0, this.l = new Gt2(), this.ca = new ot2(), this.V = [], this.Ba = 0, this.Ta = [], this.Ua = 0, this.m = new N3(), this.Pb = 0, this.wd = new N3(), this.Ma = this.$ = this.C = this.i = this.c = this.xd = 0, this.s = new an(), this.ab = 0, this.gc = o2(4, rn), this.Oc = 0;
    }
    function sn() {
      this.Lc = this.Z = this.$a = this.i = this.c = 0, this.l = new Gt2(), this.ic = 0, this.ca = [], this.tb = 0, this.qd = null, this.rd = 0;
    }
    function un(t5, e2, n3, r3, i3, a3, o3) {
      for (t5 = null == t5 ? 0 : t5[e2 + 0], e2 = 0; e2 < o3; ++e2)
        i3[a3 + e2] = t5 + n3[r3 + e2] & 255, t5 = i3[a3 + e2];
    }
    function cn(t5, e2, n3, r3, i3, a3, o3) {
      var s3;
      if (null == t5)
        un(null, null, n3, r3, i3, a3, o3);
      else
        for (s3 = 0; s3 < o3; ++s3)
          i3[a3 + s3] = t5[e2 + s3] + n3[r3 + s3] & 255;
    }
    function ln2(t5, e2, n3, r3, i3, a3, o3) {
      if (null == t5)
        un(null, null, n3, r3, i3, a3, o3);
      else {
        var s3, u4 = t5[e2 + 0], c4 = u4, l4 = u4;
        for (s3 = 0; s3 < o3; ++s3)
          c4 = l4 + (u4 = t5[e2 + s3]) - c4, l4 = n3[r3 + s3] + (-256 & c4 ? 0 > c4 ? 0 : 255 : c4) & 255, c4 = u4, i3[a3 + s3] = l4;
      }
    }
    function hn(t5, n3, i3, o3) {
      var s3 = n3.width, u4 = n3.o;
      if (e(null != t5 && null != n3), 0 > i3 || 0 >= o3 || i3 + o3 > u4)
        return null;
      if (!t5.Cc) {
        if (null == t5.ga) {
          var c4;
          if (t5.ga = new sn(), (c4 = null == t5.ga) || (c4 = n3.width * n3.o, e(0 == t5.Gb.length), t5.Gb = a2(c4), t5.Uc = 0, null == t5.Gb ? c4 = 0 : (t5.mb = t5.Gb, t5.nb = t5.Uc, t5.rc = null, c4 = 1), c4 = !c4), !c4) {
            c4 = t5.ga;
            var l4 = t5.Fa, h4 = t5.P, f4 = t5.qc, d4 = t5.mb, p4 = t5.nb, g4 = h4 + 1, m4 = f4 - 1, b6 = c4.l;
            if (e(null != l4 && null != d4 && null != n3), gi2[0] = null, gi2[1] = un, gi2[2] = cn, gi2[3] = ln2, c4.ca = d4, c4.tb = p4, c4.c = n3.width, c4.i = n3.height, e(0 < c4.c && 0 < c4.i), 1 >= f4)
              n3 = 0;
            else if (c4.$a = 3 & l4[h4 + 0], c4.Z = l4[h4 + 0] >> 2 & 3, c4.Lc = l4[h4 + 0] >> 4 & 3, h4 = l4[h4 + 0] >> 6 & 3, 0 > c4.$a || 1 < c4.$a || 4 <= c4.Z || 1 < c4.Lc || h4)
              n3 = 0;
            else if (b6.put = dt2, b6.ac = ft2, b6.bc = pt2, b6.ma = c4, b6.width = n3.width, b6.height = n3.height, b6.Da = n3.Da, b6.v = n3.v, b6.va = n3.va, b6.j = n3.j, b6.o = n3.o, c4.$a)
              t: {
                e(1 == c4.$a), n3 = kt2();
                e:
                  for (; ; ) {
                    if (null == n3) {
                      n3 = 0;
                      break t;
                    }
                    if (e(null != c4), c4.mc = n3, n3.c = c4.c, n3.i = c4.i, n3.l = c4.l, n3.l.ma = c4, n3.l.width = c4.c, n3.l.height = c4.i, n3.a = 0, v3(n3.m, l4, g4, m4), !Ft2(c4.c, c4.i, 1, n3, null))
                      break e;
                    if (1 == n3.ab && 3 == n3.gc[0].hc && xt2(n3.s) ? (c4.ic = 1, l4 = n3.c * n3.i, n3.Ta = null, n3.Ua = 0, n3.V = a2(l4), n3.Ba = 0, null == n3.V ? (n3.a = 1, n3 = 0) : n3 = 1) : (c4.ic = 0, n3 = It2(n3, c4.c)), !n3)
                      break e;
                    n3 = 1;
                    break t;
                  }
                c4.mc = null, n3 = 0;
              }
            else
              n3 = m4 >= c4.c * c4.i;
            c4 = !n3;
          }
          if (c4)
            return null;
          1 != t5.ga.Lc ? t5.Ga = 0 : o3 = u4 - i3;
        }
        e(null != t5.ga), e(i3 + o3 <= u4);
        t: {
          if (n3 = (l4 = t5.ga).c, u4 = l4.l.o, 0 == l4.$a) {
            if (g4 = t5.rc, m4 = t5.Vc, b6 = t5.Fa, h4 = t5.P + 1 + i3 * n3, f4 = t5.mb, d4 = t5.nb + i3 * n3, e(h4 <= t5.P + t5.qc), 0 != l4.Z)
              for (e(null != gi2[l4.Z]), c4 = 0; c4 < o3; ++c4)
                gi2[l4.Z](g4, m4, b6, h4, f4, d4, n3), g4 = f4, m4 = d4, d4 += n3, h4 += n3;
            else
              for (c4 = 0; c4 < o3; ++c4)
                r2(f4, d4, b6, h4, n3), g4 = f4, m4 = d4, d4 += n3, h4 += n3;
            t5.rc = g4, t5.Vc = m4;
          } else {
            if (e(null != l4.mc), n3 = i3 + o3, e(null != (c4 = l4.mc)), e(n3 <= c4.i), c4.C >= n3)
              n3 = 1;
            else if (l4.ic || mn(), l4.ic) {
              l4 = c4.V, g4 = c4.Ba, m4 = c4.c;
              var y4 = c4.i, w4 = (b6 = 1, h4 = c4.$ / m4, f4 = c4.$ % m4, d4 = c4.m, p4 = c4.s, c4.$), N4 = m4 * y4, L4 = m4 * n3, A4 = p4.wc, _3 = w4 < L4 ? wt2(p4, f4, h4) : null;
              e(w4 <= N4), e(n3 <= y4), e(xt2(p4));
              e:
                for (; ; ) {
                  for (; !d4.h && w4 < L4; ) {
                    if (f4 & A4 || (_3 = wt2(p4, f4, h4)), e(null != _3), S2(d4), 256 > (y4 = bt2(_3.G[0], _3.H[0], d4)))
                      l4[g4 + w4] = y4, ++w4, ++f4 >= m4 && (f4 = 0, ++h4 <= n3 && !(h4 % 16) && St2(c4, h4));
                    else {
                      if (!(280 > y4)) {
                        b6 = 0;
                        break e;
                      }
                      y4 = mt2(y4 - 256, d4);
                      var P3, k4 = bt2(_3.G[4], _3.H[4], d4);
                      if (S2(d4), !(w4 >= (k4 = vt2(m4, k4 = mt2(k4, d4))) && N4 - w4 >= y4)) {
                        b6 = 0;
                        break e;
                      }
                      for (P3 = 0; P3 < y4; ++P3)
                        l4[g4 + w4 + P3] = l4[g4 + w4 + P3 - k4];
                      for (w4 += y4, f4 += y4; f4 >= m4; )
                        f4 -= m4, ++h4 <= n3 && !(h4 % 16) && St2(c4, h4);
                      w4 < L4 && f4 & A4 && (_3 = wt2(p4, f4, h4));
                    }
                    e(d4.h == x3(d4));
                  }
                  St2(c4, h4 > n3 ? n3 : h4);
                  break e;
                }
              !b6 || d4.h && w4 < N4 ? (b6 = 0, c4.a = d4.h ? 5 : 3) : c4.$ = w4, n3 = b6;
            } else
              n3 = _t2(c4, c4.V, c4.Ba, c4.c, c4.i, n3, jt2);
            if (!n3) {
              o3 = 0;
              break t;
            }
          }
          i3 + o3 >= u4 && (t5.Cc = 1), o3 = 1;
        }
        if (!o3)
          return null;
        if (t5.Cc && (null != (o3 = t5.ga) && (o3.mc = null), t5.ga = null, 0 < t5.Ga))
          return alert("todo:WebPDequantizeLevels"), null;
      }
      return t5.nb + i3 * s3;
    }
    function fn(t5, e2, n3, r3, i3, a3) {
      for (; 0 < i3--; ) {
        var o3, s3 = t5, u4 = e2 + (n3 ? 1 : 0), c4 = t5, l4 = e2 + (n3 ? 0 : 3);
        for (o3 = 0; o3 < r3; ++o3) {
          var h4 = c4[l4 + 4 * o3];
          255 != h4 && (h4 *= 32897, s3[u4 + 4 * o3 + 0] = s3[u4 + 4 * o3 + 0] * h4 >> 23, s3[u4 + 4 * o3 + 1] = s3[u4 + 4 * o3 + 1] * h4 >> 23, s3[u4 + 4 * o3 + 2] = s3[u4 + 4 * o3 + 2] * h4 >> 23);
        }
        e2 += a3;
      }
    }
    function dn(t5, e2, n3, r3, i3) {
      for (; 0 < r3--; ) {
        var a3;
        for (a3 = 0; a3 < n3; ++a3) {
          var o3 = t5[e2 + 2 * a3 + 0], s3 = 15 & (c4 = t5[e2 + 2 * a3 + 1]), u4 = 4369 * s3, c4 = (240 & c4 | c4 >> 4) * u4 >> 16;
          t5[e2 + 2 * a3 + 0] = (240 & o3 | o3 >> 4) * u4 >> 16 & 240 | (15 & o3 | o3 << 4) * u4 >> 16 >> 4 & 15, t5[e2 + 2 * a3 + 1] = 240 & c4 | s3;
        }
        e2 += i3;
      }
    }
    function pn(t5, e2, n3, r3, i3, a3, o3, s3) {
      var u4, c4, l4 = 255;
      for (c4 = 0; c4 < i3; ++c4) {
        for (u4 = 0; u4 < r3; ++u4) {
          var h4 = t5[e2 + u4];
          a3[o3 + 4 * u4] = h4, l4 &= h4;
        }
        e2 += n3, o3 += s3;
      }
      return 255 != l4;
    }
    function gn(t5, e2, n3, r3, i3) {
      var a3;
      for (a3 = 0; a3 < i3; ++a3)
        n3[r3 + a3] = t5[e2 + a3] >> 8;
    }
    function mn() {
      Lr = fn, xr = dn, Ar = pn, Sr = gn;
    }
    function vn(n3, r3, i3) {
      t4[n3] = function(t5, n4, a3, o3, s3, u4, c4, l4, h4, f4, d4, p4, g4, m4, v4, b6, y4) {
        var w4, N4 = y4 - 1 >> 1, L4 = s3[u4 + 0] | c4[l4 + 0] << 16, x4 = h4[f4 + 0] | d4[p4 + 0] << 16;
        e(null != t5);
        var A4 = 3 * L4 + x4 + 131074 >> 2;
        for (r3(t5[n4 + 0], 255 & A4, A4 >> 16, g4, m4), null != a3 && (A4 = 3 * x4 + L4 + 131074 >> 2, r3(a3[o3 + 0], 255 & A4, A4 >> 16, v4, b6)), w4 = 1; w4 <= N4; ++w4) {
          var S3 = s3[u4 + w4] | c4[l4 + w4] << 16, _3 = h4[f4 + w4] | d4[p4 + w4] << 16, P3 = L4 + S3 + x4 + _3 + 524296, k4 = P3 + 2 * (S3 + x4) >> 3;
          A4 = k4 + L4 >> 1, L4 = (P3 = P3 + 2 * (L4 + _3) >> 3) + S3 >> 1, r3(t5[n4 + 2 * w4 - 1], 255 & A4, A4 >> 16, g4, m4 + (2 * w4 - 1) * i3), r3(t5[n4 + 2 * w4 - 0], 255 & L4, L4 >> 16, g4, m4 + (2 * w4 - 0) * i3), null != a3 && (A4 = P3 + x4 >> 1, L4 = k4 + _3 >> 1, r3(a3[o3 + 2 * w4 - 1], 255 & A4, A4 >> 16, v4, b6 + (2 * w4 - 1) * i3), r3(a3[o3 + 2 * w4 + 0], 255 & L4, L4 >> 16, v4, b6 + (2 * w4 + 0) * i3)), L4 = S3, x4 = _3;
        }
        1 & y4 || (A4 = 3 * L4 + x4 + 131074 >> 2, r3(t5[n4 + y4 - 1], 255 & A4, A4 >> 16, g4, m4 + (y4 - 1) * i3), null != a3 && (A4 = 3 * x4 + L4 + 131074 >> 2, r3(a3[o3 + y4 - 1], 255 & A4, A4 >> 16, v4, b6 + (y4 - 1) * i3)));
      };
    }
    function bn() {
      mi2[Mr] = vi2, mi2[qr] = yi2, mi2[Er] = bi2, mi2[Rr] = wi2, mi2[Dr] = Ni2, mi2[Tr] = Li2, mi2[zr] = xi2, mi2[Ur] = yi2, mi2[Hr] = wi2, mi2[Wr] = Ni2, mi2[Vr] = Li2;
    }
    function yn(t5) {
      return t5 & ~Fi2 ? 0 > t5 ? 0 : 255 : t5 >> ki2;
    }
    function wn(t5, e2) {
      return yn((19077 * t5 >> 8) + (26149 * e2 >> 8) - 14234);
    }
    function Nn(t5, e2, n3) {
      return yn((19077 * t5 >> 8) - (6419 * e2 >> 8) - (13320 * n3 >> 8) + 8708);
    }
    function Ln(t5, e2) {
      return yn((19077 * t5 >> 8) + (33050 * e2 >> 8) - 17685);
    }
    function xn(t5, e2, n3, r3, i3) {
      r3[i3 + 0] = wn(t5, n3), r3[i3 + 1] = Nn(t5, e2, n3), r3[i3 + 2] = Ln(t5, e2);
    }
    function An(t5, e2, n3, r3, i3) {
      r3[i3 + 0] = Ln(t5, e2), r3[i3 + 1] = Nn(t5, e2, n3), r3[i3 + 2] = wn(t5, n3);
    }
    function Sn(t5, e2, n3, r3, i3) {
      var a3 = Nn(t5, e2, n3);
      e2 = a3 << 3 & 224 | Ln(t5, e2) >> 3, r3[i3 + 0] = 248 & wn(t5, n3) | a3 >> 5, r3[i3 + 1] = e2;
    }
    function _n(t5, e2, n3, r3, i3) {
      var a3 = 240 & Ln(t5, e2) | 15;
      r3[i3 + 0] = 240 & wn(t5, n3) | Nn(t5, e2, n3) >> 4, r3[i3 + 1] = a3;
    }
    function Pn(t5, e2, n3, r3, i3) {
      r3[i3 + 0] = 255, xn(t5, e2, n3, r3, i3 + 1);
    }
    function kn(t5, e2, n3, r3, i3) {
      An(t5, e2, n3, r3, i3), r3[i3 + 3] = 255;
    }
    function Fn(t5, e2, n3, r3, i3) {
      xn(t5, e2, n3, r3, i3), r3[i3 + 3] = 255;
    }
    function In(e2, n3, r3) {
      t4[e2] = function(t5, e3, i3, a3, o3, s3, u4, c4, l4) {
        for (var h4 = c4 + (-2 & l4) * r3; c4 != h4; )
          n3(t5[e3 + 0], i3[a3 + 0], o3[s3 + 0], u4, c4), n3(t5[e3 + 1], i3[a3 + 0], o3[s3 + 0], u4, c4 + r3), e3 += 2, ++a3, ++s3, c4 += 2 * r3;
        1 & l4 && n3(t5[e3 + 0], i3[a3 + 0], o3[s3 + 0], u4, c4);
      };
    }
    function jn(t5, e2, n3) {
      return 0 == n3 ? 0 == t5 ? 0 == e2 ? 6 : 5 : 0 == e2 ? 4 : 0 : n3;
    }
    function Cn(t5, e2, n3, r3, i3) {
      switch (t5 >>> 30) {
        case 3:
          ar(e2, n3, r3, i3, 0);
          break;
        case 2:
          or(e2, n3, r3, i3);
          break;
        case 1:
          ur(e2, n3, r3, i3);
      }
    }
    function On(t5, e2) {
      var n3, a3, o3 = e2.M, s3 = e2.Nb, u4 = t5.oc, c4 = t5.pc + 40, l4 = t5.oc, h4 = t5.pc + 584, f4 = t5.oc, d4 = t5.pc + 600;
      for (n3 = 0; 16 > n3; ++n3)
        u4[c4 + 32 * n3 - 1] = 129;
      for (n3 = 0; 8 > n3; ++n3)
        l4[h4 + 32 * n3 - 1] = 129, f4[d4 + 32 * n3 - 1] = 129;
      for (0 < o3 ? u4[c4 - 1 - 32] = l4[h4 - 1 - 32] = f4[d4 - 1 - 32] = 129 : (i2(u4, c4 - 32 - 1, 127, 21), i2(l4, h4 - 32 - 1, 127, 9), i2(f4, d4 - 32 - 1, 127, 9)), a3 = 0; a3 < t5.za; ++a3) {
        var p4 = e2.ya[e2.aa + a3];
        if (0 < a3) {
          for (n3 = -1; 16 > n3; ++n3)
            r2(u4, c4 + 32 * n3 - 4, u4, c4 + 32 * n3 + 12, 4);
          for (n3 = -1; 8 > n3; ++n3)
            r2(l4, h4 + 32 * n3 - 4, l4, h4 + 32 * n3 + 4, 4), r2(f4, d4 + 32 * n3 - 4, f4, d4 + 32 * n3 + 4, 4);
        }
        var g4 = t5.Gd, m4 = t5.Hd + a3, v4 = p4.ad, b6 = p4.Hc;
        if (0 < o3 && (r2(u4, c4 - 32, g4[m4].y, 0, 16), r2(l4, h4 - 32, g4[m4].f, 0, 8), r2(f4, d4 - 32, g4[m4].ea, 0, 8)), p4.Za) {
          var y4 = u4, w4 = c4 - 32 + 16;
          for (0 < o3 && (a3 >= t5.za - 1 ? i2(y4, w4, g4[m4].y[15], 4) : r2(y4, w4, g4[m4 + 1].y, 0, 4)), n3 = 0; 4 > n3; n3++)
            y4[w4 + 128 + n3] = y4[w4 + 256 + n3] = y4[w4 + 384 + n3] = y4[w4 + 0 + n3];
          for (n3 = 0; 16 > n3; ++n3, b6 <<= 2)
            y4 = u4, w4 = c4 + Ei2[n3], hi2[p4.Ob[n3]](y4, w4), Cn(b6, v4, 16 * +n3, y4, w4);
        } else if (y4 = jn(a3, o3, p4.Ob[0]), li2[y4](u4, c4), 0 != b6)
          for (n3 = 0; 16 > n3; ++n3, b6 <<= 2)
            Cn(b6, v4, 16 * +n3, u4, c4 + Ei2[n3]);
        for (n3 = p4.Gc, y4 = jn(a3, o3, p4.Dd), fi2[y4](l4, h4), fi2[y4](f4, d4), b6 = v4, y4 = l4, w4 = h4, 255 & (p4 = 0 | n3) && (170 & p4 ? sr(b6, 256, y4, w4) : cr(b6, 256, y4, w4)), p4 = f4, b6 = d4, 255 & (n3 >>= 8) && (170 & n3 ? sr(v4, 320, p4, b6) : cr(v4, 320, p4, b6)), o3 < t5.Ub - 1 && (r2(g4[m4].y, 0, u4, c4 + 480, 16), r2(g4[m4].f, 0, l4, h4 + 224, 8), r2(g4[m4].ea, 0, f4, d4 + 224, 8)), n3 = 8 * s3 * t5.B, g4 = t5.sa, m4 = t5.ta + 16 * a3 + 16 * s3 * t5.R, v4 = t5.qa, p4 = t5.ra + 8 * a3 + n3, b6 = t5.Ha, y4 = t5.Ia + 8 * a3 + n3, n3 = 0; 16 > n3; ++n3)
          r2(g4, m4 + n3 * t5.R, u4, c4 + 32 * n3, 16);
        for (n3 = 0; 8 > n3; ++n3)
          r2(v4, p4 + n3 * t5.B, l4, h4 + 32 * n3, 8), r2(b6, y4 + n3 * t5.B, f4, d4 + 32 * n3, 8);
      }
    }
    function Bn(t5, r3, i3, a3, o3, s3, u4, c4, l4) {
      var h4 = [0], f4 = [0], d4 = 0, p4 = null != l4 ? l4.kd : 0, g4 = null != l4 ? l4 : new nn();
      if (null == t5 || 12 > i3)
        return 7;
      g4.data = t5, g4.w = r3, g4.ha = i3, r3 = [r3], i3 = [i3], g4.gb = [g4.gb];
      t: {
        var m4 = r3, b6 = i3, y4 = g4.gb;
        if (e(null != t5), e(null != b6), e(null != y4), y4[0] = 0, 12 <= b6[0] && !n2(t5, m4[0], "RIFF")) {
          if (n2(t5, m4[0] + 8, "WEBP")) {
            y4 = 3;
            break t;
          }
          var w4 = C2(t5, m4[0] + 4);
          if (12 > w4 || 4294967286 < w4) {
            y4 = 3;
            break t;
          }
          if (p4 && w4 > b6[0] - 8) {
            y4 = 7;
            break t;
          }
          y4[0] = w4, m4[0] += 12, b6[0] -= 12;
        }
        y4 = 0;
      }
      if (0 != y4)
        return y4;
      for (w4 = 0 < g4.gb[0], i3 = i3[0]; ; ) {
        t: {
          var L4 = t5;
          b6 = r3, y4 = i3;
          var x4 = h4, A4 = f4, S3 = m4 = [0];
          if ((k4 = d4 = [d4])[0] = 0, 8 > y4[0])
            y4 = 7;
          else {
            if (!n2(L4, b6[0], "VP8X")) {
              if (10 != C2(L4, b6[0] + 4)) {
                y4 = 3;
                break t;
              }
              if (18 > y4[0]) {
                y4 = 7;
                break t;
              }
              var _3 = C2(L4, b6[0] + 8), P3 = 1 + j2(L4, b6[0] + 12);
              if (2147483648 <= P3 * (L4 = 1 + j2(L4, b6[0] + 15))) {
                y4 = 3;
                break t;
              }
              null != S3 && (S3[0] = _3), null != x4 && (x4[0] = P3), null != A4 && (A4[0] = L4), b6[0] += 18, y4[0] -= 18, k4[0] = 1;
            }
            y4 = 0;
          }
        }
        if (d4 = d4[0], m4 = m4[0], 0 != y4)
          return y4;
        if (b6 = !!(2 & m4), !w4 && d4)
          return 3;
        if (null != s3 && (s3[0] = !!(16 & m4)), null != u4 && (u4[0] = b6), null != c4 && (c4[0] = 0), u4 = h4[0], m4 = f4[0], d4 && b6 && null == l4) {
          y4 = 0;
          break;
        }
        if (4 > i3) {
          y4 = 7;
          break;
        }
        if (w4 && d4 || !w4 && !d4 && !n2(t5, r3[0], "ALPH")) {
          i3 = [i3], g4.na = [g4.na], g4.P = [g4.P], g4.Sa = [g4.Sa];
          t: {
            _3 = t5, y4 = r3, w4 = i3;
            var k4 = g4.gb;
            x4 = g4.na, A4 = g4.P, S3 = g4.Sa, P3 = 22, e(null != _3), e(null != w4), L4 = y4[0];
            var F3 = w4[0];
            for (e(null != x4), e(null != S3), x4[0] = null, A4[0] = null, S3[0] = 0; ; ) {
              if (y4[0] = L4, w4[0] = F3, 8 > F3) {
                y4 = 7;
                break t;
              }
              var I3 = C2(_3, L4 + 4);
              if (4294967286 < I3) {
                y4 = 3;
                break t;
              }
              var O3 = 8 + I3 + 1 & -2;
              if (P3 += O3, 0 < k4 && P3 > k4) {
                y4 = 3;
                break t;
              }
              if (!n2(_3, L4, "VP8 ") || !n2(_3, L4, "VP8L")) {
                y4 = 0;
                break t;
              }
              if (F3[0] < O3) {
                y4 = 7;
                break t;
              }
              n2(_3, L4, "ALPH") || (x4[0] = _3, A4[0] = L4 + 8, S3[0] = I3), L4 += O3, F3 -= O3;
            }
          }
          if (i3 = i3[0], g4.na = g4.na[0], g4.P = g4.P[0], g4.Sa = g4.Sa[0], 0 != y4)
            break;
        }
        i3 = [i3], g4.Ja = [g4.Ja], g4.xa = [g4.xa];
        t:
          if (k4 = t5, y4 = r3, w4 = i3, x4 = g4.gb[0], A4 = g4.Ja, S3 = g4.xa, _3 = y4[0], L4 = !n2(k4, _3, "VP8 "), P3 = !n2(k4, _3, "VP8L"), e(null != k4), e(null != w4), e(null != A4), e(null != S3), 8 > w4[0])
            y4 = 7;
          else {
            if (L4 || P3) {
              if (k4 = C2(k4, _3 + 4), 12 <= x4 && k4 > x4 - 12) {
                y4 = 3;
                break t;
              }
              if (p4 && k4 > w4[0] - 8) {
                y4 = 7;
                break t;
              }
              A4[0] = k4, y4[0] += 8, w4[0] -= 8, S3[0] = P3;
            } else
              S3[0] = 5 <= w4[0] && 47 == k4[_3 + 0] && !(k4[_3 + 4] >> 5), A4[0] = w4[0];
            y4 = 0;
          }
        if (i3 = i3[0], g4.Ja = g4.Ja[0], g4.xa = g4.xa[0], r3 = r3[0], 0 != y4)
          break;
        if (4294967286 < g4.Ja)
          return 3;
        if (null == c4 || b6 || (c4[0] = g4.xa ? 2 : 1), u4 = [u4], m4 = [m4], g4.xa) {
          if (5 > i3) {
            y4 = 7;
            break;
          }
          c4 = u4, p4 = m4, b6 = s3, null == t5 || 5 > i3 ? t5 = 0 : 5 <= i3 && 47 == t5[r3 + 0] && !(t5[r3 + 4] >> 5) ? (w4 = [0], k4 = [0], x4 = [0], v3(A4 = new N3(), t5, r3, i3), gt2(A4, w4, k4, x4) ? (null != c4 && (c4[0] = w4[0]), null != p4 && (p4[0] = k4[0]), null != b6 && (b6[0] = x4[0]), t5 = 1) : t5 = 0) : t5 = 0;
        } else {
          if (10 > i3) {
            y4 = 7;
            break;
          }
          c4 = m4, null == t5 || 10 > i3 || !Xt2(t5, r3 + 3, i3 - 3) ? t5 = 0 : (p4 = t5[r3 + 0] | t5[r3 + 1] << 8 | t5[r3 + 2] << 16, b6 = 16383 & (t5[r3 + 7] << 8 | t5[r3 + 6]), t5 = 16383 & (t5[r3 + 9] << 8 | t5[r3 + 8]), 1 & p4 || 3 < (p4 >> 1 & 7) || !(p4 >> 4 & 1) || p4 >> 5 >= g4.Ja || !b6 || !t5 ? t5 = 0 : (u4 && (u4[0] = b6), c4 && (c4[0] = t5), t5 = 1));
        }
        if (!t5)
          return 3;
        if (u4 = u4[0], m4 = m4[0], d4 && (h4[0] != u4 || f4[0] != m4))
          return 3;
        null != l4 && (l4[0] = g4, l4.offset = r3 - l4.w, e(4294967286 > r3 - l4.w), e(l4.offset == l4.ha - i3));
        break;
      }
      return 0 == y4 || 7 == y4 && d4 && null == l4 ? (null != s3 && (s3[0] |= null != g4.na && 0 < g4.na.length), null != a3 && (a3[0] = u4), null != o3 && (o3[0] = m4), 0) : y4;
    }
    function Mn(t5, e2, n3) {
      var r3 = e2.width, i3 = e2.height, a3 = 0, o3 = 0, s3 = r3, u4 = i3;
      if (e2.Da = null != t5 && 0 < t5.Da, e2.Da && (s3 = t5.cd, u4 = t5.bd, a3 = t5.v, o3 = t5.j, 11 > n3 || (a3 &= -2, o3 &= -2), 0 > a3 || 0 > o3 || 0 >= s3 || 0 >= u4 || a3 + s3 > r3 || o3 + u4 > i3))
        return 0;
      if (e2.v = a3, e2.j = o3, e2.va = a3 + s3, e2.o = o3 + u4, e2.U = s3, e2.T = u4, e2.da = null != t5 && 0 < t5.da, e2.da) {
        if (!q2(s3, u4, n3 = [t5.ib], a3 = [t5.hb]))
          return 0;
        e2.ib = n3[0], e2.hb = a3[0];
      }
      return e2.ob = null != t5 && t5.ob, e2.Kb = null == t5 || !t5.Sd, e2.da && (e2.ob = e2.ib < 3 * r3 / 4 && e2.hb < 3 * i3 / 4, e2.Kb = 0), 1;
    }
    function qn(t5) {
      if (null == t5)
        return 2;
      if (11 > t5.S) {
        var e2 = t5.f.RGBA;
        e2.fb += (t5.height - 1) * e2.A, e2.A = -e2.A;
      } else
        e2 = t5.f.kb, t5 = t5.height, e2.O += (t5 - 1) * e2.fa, e2.fa = -e2.fa, e2.N += (t5 - 1 >> 1) * e2.Ab, e2.Ab = -e2.Ab, e2.W += (t5 - 1 >> 1) * e2.Db, e2.Db = -e2.Db, null != e2.F && (e2.J += (t5 - 1) * e2.lb, e2.lb = -e2.lb);
      return 0;
    }
    function En(t5, e2, n3, r3) {
      if (null == r3 || 0 >= t5 || 0 >= e2)
        return 2;
      if (null != n3) {
        if (n3.Da) {
          var i3 = n3.cd, o3 = n3.bd, s3 = -2 & n3.v, u4 = -2 & n3.j;
          if (0 > s3 || 0 > u4 || 0 >= i3 || 0 >= o3 || s3 + i3 > t5 || u4 + o3 > e2)
            return 2;
          t5 = i3, e2 = o3;
        }
        if (n3.da) {
          if (!q2(t5, e2, i3 = [n3.ib], o3 = [n3.hb]))
            return 2;
          t5 = i3[0], e2 = o3[0];
        }
      }
      r3.width = t5, r3.height = e2;
      t: {
        var c4 = r3.width, l4 = r3.height;
        if (t5 = r3.S, 0 >= c4 || 0 >= l4 || !(t5 >= Mr && 13 > t5))
          t5 = 2;
        else {
          if (0 >= r3.Rd && null == r3.sd) {
            s3 = o3 = i3 = e2 = 0;
            var h4 = (u4 = c4 * zi2[t5]) * l4;
            if (11 > t5 || (o3 = (l4 + 1) / 2 * (e2 = (c4 + 1) / 2), 12 == t5 && (s3 = (i3 = c4) * l4)), null == (l4 = a2(h4 + 2 * o3 + s3))) {
              t5 = 1;
              break t;
            }
            r3.sd = l4, 11 > t5 ? ((c4 = r3.f.RGBA).eb = l4, c4.fb = 0, c4.A = u4, c4.size = h4) : ((c4 = r3.f.kb).y = l4, c4.O = 0, c4.fa = u4, c4.Fd = h4, c4.f = l4, c4.N = 0 + h4, c4.Ab = e2, c4.Cd = o3, c4.ea = l4, c4.W = 0 + h4 + o3, c4.Db = e2, c4.Ed = o3, 12 == t5 && (c4.F = l4, c4.J = 0 + h4 + 2 * o3), c4.Tc = s3, c4.lb = i3);
          }
          if (e2 = 1, i3 = r3.S, o3 = r3.width, s3 = r3.height, i3 >= Mr && 13 > i3)
            if (11 > i3)
              t5 = r3.f.RGBA, e2 &= (u4 = Math.abs(t5.A)) * (s3 - 1) + o3 <= t5.size, e2 &= u4 >= o3 * zi2[i3], e2 &= null != t5.eb;
            else {
              t5 = r3.f.kb, u4 = (o3 + 1) / 2, h4 = (s3 + 1) / 2, c4 = Math.abs(t5.fa), l4 = Math.abs(t5.Ab);
              var f4 = Math.abs(t5.Db), d4 = Math.abs(t5.lb), p4 = d4 * (s3 - 1) + o3;
              e2 &= c4 * (s3 - 1) + o3 <= t5.Fd, e2 &= l4 * (h4 - 1) + u4 <= t5.Cd, e2 = (e2 &= f4 * (h4 - 1) + u4 <= t5.Ed) & c4 >= o3 & l4 >= u4 & f4 >= u4, e2 &= null != t5.y, e2 &= null != t5.f, e2 &= null != t5.ea, 12 == i3 && (e2 &= d4 >= o3, e2 &= p4 <= t5.Tc, e2 &= null != t5.F);
            }
          else
            e2 = 0;
          t5 = e2 ? 0 : 2;
        }
      }
      return 0 != t5 || null != n3 && n3.fd && (t5 = qn(r3)), t5;
    }
    var Rn = 64, Dn = [0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535, 131071, 262143, 524287, 1048575, 2097151, 4194303, 8388607, 16777215], Tn = 24, zn = 32, Un = 8, Hn = [0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7];
    D2("Predictor0", "PredictorAdd0"), t4.Predictor0 = function() {
      return 4278190080;
    }, t4.Predictor1 = function(t5) {
      return t5;
    }, t4.Predictor2 = function(t5, e2, n3) {
      return e2[n3 + 0];
    }, t4.Predictor3 = function(t5, e2, n3) {
      return e2[n3 + 1];
    }, t4.Predictor4 = function(t5, e2, n3) {
      return e2[n3 - 1];
    }, t4.Predictor5 = function(t5, e2, n3) {
      return z2(z2(t5, e2[n3 + 1]), e2[n3 + 0]);
    }, t4.Predictor6 = function(t5, e2, n3) {
      return z2(t5, e2[n3 - 1]);
    }, t4.Predictor7 = function(t5, e2, n3) {
      return z2(t5, e2[n3 + 0]);
    }, t4.Predictor8 = function(t5, e2, n3) {
      return z2(e2[n3 - 1], e2[n3 + 0]);
    }, t4.Predictor9 = function(t5, e2, n3) {
      return z2(e2[n3 + 0], e2[n3 + 1]);
    }, t4.Predictor10 = function(t5, e2, n3) {
      return z2(z2(t5, e2[n3 - 1]), z2(e2[n3 + 0], e2[n3 + 1]));
    }, t4.Predictor11 = function(t5, e2, n3) {
      var r3 = e2[n3 + 0];
      return 0 >= W2(r3 >> 24 & 255, t5 >> 24 & 255, (e2 = e2[n3 - 1]) >> 24 & 255) + W2(r3 >> 16 & 255, t5 >> 16 & 255, e2 >> 16 & 255) + W2(r3 >> 8 & 255, t5 >> 8 & 255, e2 >> 8 & 255) + W2(255 & r3, 255 & t5, 255 & e2) ? r3 : t5;
    }, t4.Predictor12 = function(t5, e2, n3) {
      var r3 = e2[n3 + 0];
      return (U2((t5 >> 24 & 255) + (r3 >> 24 & 255) - ((e2 = e2[n3 - 1]) >> 24 & 255)) << 24 | U2((t5 >> 16 & 255) + (r3 >> 16 & 255) - (e2 >> 16 & 255)) << 16 | U2((t5 >> 8 & 255) + (r3 >> 8 & 255) - (e2 >> 8 & 255)) << 8 | U2((255 & t5) + (255 & r3) - (255 & e2))) >>> 0;
    }, t4.Predictor13 = function(t5, e2, n3) {
      var r3 = e2[n3 - 1];
      return (H2((t5 = z2(t5, e2[n3 + 0])) >> 24 & 255, r3 >> 24 & 255) << 24 | H2(t5 >> 16 & 255, r3 >> 16 & 255) << 16 | H2(t5 >> 8 & 255, r3 >> 8 & 255) << 8 | H2(255 & t5, 255 & r3)) >>> 0;
    };
    var Wn = t4.PredictorAdd0;
    t4.PredictorAdd1 = V2, D2("Predictor2", "PredictorAdd2"), D2("Predictor3", "PredictorAdd3"), D2("Predictor4", "PredictorAdd4"), D2("Predictor5", "PredictorAdd5"), D2("Predictor6", "PredictorAdd6"), D2("Predictor7", "PredictorAdd7"), D2("Predictor8", "PredictorAdd8"), D2("Predictor9", "PredictorAdd9"), D2("Predictor10", "PredictorAdd10"), D2("Predictor11", "PredictorAdd11"), D2("Predictor12", "PredictorAdd12"), D2("Predictor13", "PredictorAdd13");
    var Vn = t4.PredictorAdd2;
    X2("ColorIndexInverseTransform", "MapARGB", "32b", function(t5) {
      return t5 >> 8 & 255;
    }, function(t5) {
      return t5;
    }), X2("VP8LColorIndexInverseTransformAlpha", "MapAlpha", "8b", function(t5) {
      return t5;
    }, function(t5) {
      return t5 >> 8 & 255;
    });
    var Gn, Yn = t4.ColorIndexInverseTransform, Jn = t4.MapARGB, Xn = t4.VP8LColorIndexInverseTransformAlpha, Kn = t4.MapAlpha, Zn = t4.VP8LPredictorsAdd = [];
    Zn.length = 16, (t4.VP8LPredictors = []).length = 16, (t4.VP8LPredictorsAdd_C = []).length = 16, (t4.VP8LPredictors_C = []).length = 16;
    var $n, Qn, tr, er, nr, rr, ir, ar, or, sr, ur, cr, lr, hr, fr, dr, pr, gr, mr, vr, br, yr, wr, Nr, Lr, xr, Ar, Sr, _r = a2(511), Pr = a2(2041), kr = a2(225), Fr = a2(767), Ir = 0, jr = Pr, Cr = kr, Or = Fr, Br = _r, Mr = 0, qr = 1, Er = 2, Rr = 3, Dr = 4, Tr = 5, zr = 6, Ur = 7, Hr = 8, Wr = 9, Vr = 10, Gr = [2, 3, 7], Yr = [3, 3, 11], Jr = [280, 256, 256, 256, 40], Xr = [0, 1, 1, 1, 0], Kr = [17, 18, 0, 1, 2, 3, 4, 5, 16, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], Zr = [24, 7, 23, 25, 40, 6, 39, 41, 22, 26, 38, 42, 56, 5, 55, 57, 21, 27, 54, 58, 37, 43, 72, 4, 71, 73, 20, 28, 53, 59, 70, 74, 36, 44, 88, 69, 75, 52, 60, 3, 87, 89, 19, 29, 86, 90, 35, 45, 68, 76, 85, 91, 51, 61, 104, 2, 103, 105, 18, 30, 102, 106, 34, 46, 84, 92, 67, 77, 101, 107, 50, 62, 120, 1, 119, 121, 83, 93, 17, 31, 100, 108, 66, 78, 118, 122, 33, 47, 117, 123, 49, 63, 99, 109, 82, 94, 0, 116, 124, 65, 79, 16, 32, 98, 110, 48, 115, 125, 81, 95, 64, 114, 126, 97, 111, 80, 113, 127, 96, 112], $r = [2954, 2956, 2958, 2962, 2970, 2986, 3018, 3082, 3212, 3468, 3980, 5004], Qr = 8, ti2 = [4, 5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 16, 17, 17, 18, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 25, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 93, 95, 96, 98, 100, 101, 102, 104, 106, 108, 110, 112, 114, 116, 118, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 143, 145, 148, 151, 154, 157], ei2 = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167, 170, 173, 177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 217, 221, 225, 229, 234, 239, 245, 249, 254, 259, 264, 269, 274, 279, 284], ni2 = null, ri2 = [[173, 148, 140, 0], [176, 155, 140, 135, 0], [180, 157, 141, 134, 130, 0], [254, 254, 243, 230, 196, 177, 153, 140, 133, 130, 129, 0]], ii2 = [0, 1, 4, 8, 5, 2, 3, 6, 9, 12, 13, 10, 7, 11, 14, 15], ai2 = [-0, 1, -1, 2, -2, 3, 4, 6, -3, 5, -4, -5, -6, 7, -7, 8, -8, -9], oi2 = [[[[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]], [[253, 136, 254, 255, 228, 219, 128, 128, 128, 128, 128], [189, 129, 242, 255, 227, 213, 255, 219, 128, 128, 128], [106, 126, 227, 252, 214, 209, 255, 255, 128, 128, 128]], [[1, 98, 248, 255, 236, 226, 255, 255, 128, 128, 128], [181, 133, 238, 254, 221, 234, 255, 154, 128, 128, 128], [78, 134, 202, 247, 198, 180, 255, 219, 128, 128, 128]], [[1, 185, 249, 255, 243, 255, 128, 128, 128, 128, 128], [184, 150, 247, 255, 236, 224, 128, 128, 128, 128, 128], [77, 110, 216, 255, 236, 230, 128, 128, 128, 128, 128]], [[1, 101, 251, 255, 241, 255, 128, 128, 128, 128, 128], [170, 139, 241, 252, 236, 209, 255, 255, 128, 128, 128], [37, 116, 196, 243, 228, 255, 255, 255, 128, 128, 128]], [[1, 204, 254, 255, 245, 255, 128, 128, 128, 128, 128], [207, 160, 250, 255, 238, 128, 128, 128, 128, 128, 128], [102, 103, 231, 255, 211, 171, 128, 128, 128, 128, 128]], [[1, 152, 252, 255, 240, 255, 128, 128, 128, 128, 128], [177, 135, 243, 255, 234, 225, 128, 128, 128, 128, 128], [80, 129, 211, 255, 194, 224, 128, 128, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [246, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [255, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[198, 35, 237, 223, 193, 187, 162, 160, 145, 155, 62], [131, 45, 198, 221, 172, 176, 220, 157, 252, 221, 1], [68, 47, 146, 208, 149, 167, 221, 162, 255, 223, 128]], [[1, 149, 241, 255, 221, 224, 255, 255, 128, 128, 128], [184, 141, 234, 253, 222, 220, 255, 199, 128, 128, 128], [81, 99, 181, 242, 176, 190, 249, 202, 255, 255, 128]], [[1, 129, 232, 253, 214, 197, 242, 196, 255, 255, 128], [99, 121, 210, 250, 201, 198, 255, 202, 128, 128, 128], [23, 91, 163, 242, 170, 187, 247, 210, 255, 255, 128]], [[1, 200, 246, 255, 234, 255, 128, 128, 128, 128, 128], [109, 178, 241, 255, 231, 245, 255, 255, 128, 128, 128], [44, 130, 201, 253, 205, 192, 255, 255, 128, 128, 128]], [[1, 132, 239, 251, 219, 209, 255, 165, 128, 128, 128], [94, 136, 225, 251, 218, 190, 255, 255, 128, 128, 128], [22, 100, 174, 245, 186, 161, 255, 199, 128, 128, 128]], [[1, 182, 249, 255, 232, 235, 128, 128, 128, 128, 128], [124, 143, 241, 255, 227, 234, 128, 128, 128, 128, 128], [35, 77, 181, 251, 193, 211, 255, 205, 128, 128, 128]], [[1, 157, 247, 255, 236, 231, 255, 255, 128, 128, 128], [121, 141, 235, 255, 225, 227, 255, 255, 128, 128, 128], [45, 99, 188, 251, 195, 217, 255, 224, 128, 128, 128]], [[1, 1, 251, 255, 213, 255, 128, 128, 128, 128, 128], [203, 1, 248, 255, 255, 128, 128, 128, 128, 128, 128], [137, 1, 177, 255, 224, 255, 128, 128, 128, 128, 128]]], [[[253, 9, 248, 251, 207, 208, 255, 192, 128, 128, 128], [175, 13, 224, 243, 193, 185, 249, 198, 255, 255, 128], [73, 17, 171, 221, 161, 179, 236, 167, 255, 234, 128]], [[1, 95, 247, 253, 212, 183, 255, 255, 128, 128, 128], [239, 90, 244, 250, 211, 209, 255, 255, 128, 128, 128], [155, 77, 195, 248, 188, 195, 255, 255, 128, 128, 128]], [[1, 24, 239, 251, 218, 219, 255, 205, 128, 128, 128], [201, 51, 219, 255, 196, 186, 128, 128, 128, 128, 128], [69, 46, 190, 239, 201, 218, 255, 228, 128, 128, 128]], [[1, 191, 251, 255, 255, 128, 128, 128, 128, 128, 128], [223, 165, 249, 255, 213, 255, 128, 128, 128, 128, 128], [141, 124, 248, 255, 255, 128, 128, 128, 128, 128, 128]], [[1, 16, 248, 255, 255, 128, 128, 128, 128, 128, 128], [190, 36, 230, 255, 236, 255, 128, 128, 128, 128, 128], [149, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 226, 255, 128, 128, 128, 128, 128, 128, 128, 128], [247, 192, 255, 128, 128, 128, 128, 128, 128, 128, 128], [240, 128, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 134, 252, 255, 255, 128, 128, 128, 128, 128, 128], [213, 62, 250, 255, 255, 128, 128, 128, 128, 128, 128], [55, 93, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[202, 24, 213, 235, 186, 191, 220, 160, 240, 175, 255], [126, 38, 182, 232, 169, 184, 228, 174, 255, 187, 128], [61, 46, 138, 219, 151, 178, 240, 170, 255, 216, 128]], [[1, 112, 230, 250, 199, 191, 247, 159, 255, 255, 128], [166, 109, 228, 252, 211, 215, 255, 174, 128, 128, 128], [39, 77, 162, 232, 172, 180, 245, 178, 255, 255, 128]], [[1, 52, 220, 246, 198, 199, 249, 220, 255, 255, 128], [124, 74, 191, 243, 183, 193, 250, 221, 255, 255, 128], [24, 71, 130, 219, 154, 170, 243, 182, 255, 255, 128]], [[1, 182, 225, 249, 219, 240, 255, 224, 128, 128, 128], [149, 150, 226, 252, 216, 205, 255, 171, 128, 128, 128], [28, 108, 170, 242, 183, 194, 254, 223, 255, 255, 128]], [[1, 81, 230, 252, 204, 203, 255, 192, 128, 128, 128], [123, 102, 209, 247, 188, 196, 255, 233, 128, 128, 128], [20, 95, 153, 243, 164, 173, 255, 203, 128, 128, 128]], [[1, 222, 248, 255, 216, 213, 128, 128, 128, 128, 128], [168, 175, 246, 252, 235, 205, 255, 255, 128, 128, 128], [47, 116, 215, 255, 211, 212, 255, 255, 128, 128, 128]], [[1, 121, 236, 253, 212, 214, 255, 255, 128, 128, 128], [141, 84, 213, 252, 201, 202, 255, 219, 128, 128, 128], [42, 80, 160, 240, 162, 185, 255, 205, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [244, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [238, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]]]], si2 = [[[231, 120, 48, 89, 115, 113, 120, 152, 112], [152, 179, 64, 126, 170, 118, 46, 70, 95], [175, 69, 143, 80, 85, 82, 72, 155, 103], [56, 58, 10, 171, 218, 189, 17, 13, 152], [114, 26, 17, 163, 44, 195, 21, 10, 173], [121, 24, 80, 195, 26, 62, 44, 64, 85], [144, 71, 10, 38, 171, 213, 144, 34, 26], [170, 46, 55, 19, 136, 160, 33, 206, 71], [63, 20, 8, 114, 114, 208, 12, 9, 226], [81, 40, 11, 96, 182, 84, 29, 16, 36]], [[134, 183, 89, 137, 98, 101, 106, 165, 148], [72, 187, 100, 130, 157, 111, 32, 75, 80], [66, 102, 167, 99, 74, 62, 40, 234, 128], [41, 53, 9, 178, 241, 141, 26, 8, 107], [74, 43, 26, 146, 73, 166, 49, 23, 157], [65, 38, 105, 160, 51, 52, 31, 115, 128], [104, 79, 12, 27, 217, 255, 87, 17, 7], [87, 68, 71, 44, 114, 51, 15, 186, 23], [47, 41, 14, 110, 182, 183, 21, 17, 194], [66, 45, 25, 102, 197, 189, 23, 18, 22]], [[88, 88, 147, 150, 42, 46, 45, 196, 205], [43, 97, 183, 117, 85, 38, 35, 179, 61], [39, 53, 200, 87, 26, 21, 43, 232, 171], [56, 34, 51, 104, 114, 102, 29, 93, 77], [39, 28, 85, 171, 58, 165, 90, 98, 64], [34, 22, 116, 206, 23, 34, 43, 166, 73], [107, 54, 32, 26, 51, 1, 81, 43, 31], [68, 25, 106, 22, 64, 171, 36, 225, 114], [34, 19, 21, 102, 132, 188, 16, 76, 124], [62, 18, 78, 95, 85, 57, 50, 48, 51]], [[193, 101, 35, 159, 215, 111, 89, 46, 111], [60, 148, 31, 172, 219, 228, 21, 18, 111], [112, 113, 77, 85, 179, 255, 38, 120, 114], [40, 42, 1, 196, 245, 209, 10, 25, 109], [88, 43, 29, 140, 166, 213, 37, 43, 154], [61, 63, 30, 155, 67, 45, 68, 1, 209], [100, 80, 8, 43, 154, 1, 51, 26, 71], [142, 78, 78, 16, 255, 128, 34, 197, 171], [41, 40, 5, 102, 211, 183, 4, 1, 221], [51, 50, 17, 168, 209, 192, 23, 25, 82]], [[138, 31, 36, 171, 27, 166, 38, 44, 229], [67, 87, 58, 169, 82, 115, 26, 59, 179], [63, 59, 90, 180, 59, 166, 93, 73, 154], [40, 40, 21, 116, 143, 209, 34, 39, 175], [47, 15, 16, 183, 34, 223, 49, 45, 183], [46, 17, 33, 183, 6, 98, 15, 32, 183], [57, 46, 22, 24, 128, 1, 54, 17, 37], [65, 32, 73, 115, 28, 128, 23, 128, 205], [40, 3, 9, 115, 51, 192, 18, 6, 223], [87, 37, 9, 115, 59, 77, 64, 21, 47]], [[104, 55, 44, 218, 9, 54, 53, 130, 226], [64, 90, 70, 205, 40, 41, 23, 26, 57], [54, 57, 112, 184, 5, 41, 38, 166, 213], [30, 34, 26, 133, 152, 116, 10, 32, 134], [39, 19, 53, 221, 26, 114, 32, 73, 255], [31, 9, 65, 234, 2, 15, 1, 118, 73], [75, 32, 12, 51, 192, 255, 160, 43, 51], [88, 31, 35, 67, 102, 85, 55, 186, 85], [56, 21, 23, 111, 59, 205, 45, 37, 192], [55, 38, 70, 124, 73, 102, 1, 34, 98]], [[125, 98, 42, 88, 104, 85, 117, 175, 82], [95, 84, 53, 89, 128, 100, 113, 101, 45], [75, 79, 123, 47, 51, 128, 81, 171, 1], [57, 17, 5, 71, 102, 57, 53, 41, 49], [38, 33, 13, 121, 57, 73, 26, 1, 85], [41, 10, 67, 138, 77, 110, 90, 47, 114], [115, 21, 2, 10, 102, 255, 166, 23, 6], [101, 29, 16, 10, 85, 128, 101, 196, 26], [57, 18, 10, 102, 102, 213, 34, 20, 43], [117, 20, 15, 36, 163, 128, 68, 1, 26]], [[102, 61, 71, 37, 34, 53, 31, 243, 192], [69, 60, 71, 38, 73, 119, 28, 222, 37], [68, 45, 128, 34, 1, 47, 11, 245, 171], [62, 17, 19, 70, 146, 85, 55, 62, 70], [37, 43, 37, 154, 100, 163, 85, 160, 1], [63, 9, 92, 136, 28, 64, 32, 201, 85], [75, 15, 9, 9, 64, 255, 184, 119, 16], [86, 6, 28, 5, 64, 255, 25, 248, 1], [56, 8, 17, 132, 137, 255, 55, 116, 128], [58, 15, 20, 82, 135, 57, 26, 121, 40]], [[164, 50, 31, 137, 154, 133, 25, 35, 218], [51, 103, 44, 131, 131, 123, 31, 6, 158], [86, 40, 64, 135, 148, 224, 45, 183, 128], [22, 26, 17, 131, 240, 154, 14, 1, 209], [45, 16, 21, 91, 64, 222, 7, 1, 197], [56, 21, 39, 155, 60, 138, 23, 102, 213], [83, 12, 13, 54, 192, 255, 68, 47, 28], [85, 26, 85, 85, 128, 128, 32, 146, 171], [18, 11, 7, 63, 144, 171, 4, 4, 246], [35, 27, 10, 146, 174, 171, 12, 26, 128]], [[190, 80, 35, 99, 180, 80, 126, 54, 45], [85, 126, 47, 87, 176, 51, 41, 20, 32], [101, 75, 128, 139, 118, 146, 116, 128, 85], [56, 41, 15, 176, 236, 85, 37, 9, 62], [71, 30, 17, 119, 118, 255, 17, 18, 138], [101, 38, 60, 138, 55, 70, 43, 26, 142], [146, 36, 19, 30, 171, 255, 97, 27, 20], [138, 45, 61, 62, 219, 1, 81, 188, 64], [32, 41, 20, 117, 151, 142, 20, 21, 163], [112, 19, 12, 61, 195, 128, 48, 4, 24]]], ui2 = [[[[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[176, 246, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 241, 252, 255, 255, 255, 255, 255, 255, 255, 255], [249, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 244, 252, 255, 255, 255, 255, 255, 255, 255, 255], [234, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 246, 254, 255, 255, 255, 255, 255, 255, 255, 255], [239, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 254, 255, 255, 255, 255, 255, 255], [250, 255, 254, 255, 254, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[217, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [225, 252, 241, 253, 255, 255, 254, 255, 255, 255, 255], [234, 250, 241, 250, 253, 255, 253, 254, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [238, 253, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [249, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255], [247, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[186, 251, 250, 255, 255, 255, 255, 255, 255, 255, 255], [234, 251, 244, 254, 255, 255, 255, 255, 255, 255, 255], [251, 251, 243, 253, 254, 255, 254, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [236, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 253, 253, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[248, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [250, 254, 252, 254, 255, 255, 255, 255, 255, 255, 255], [248, 254, 249, 253, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [246, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 254, 251, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 252, 255, 255, 255, 255, 255, 255, 255, 255], [248, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [245, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255], [249, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]]], ci2 = [0, 1, 2, 3, 6, 4, 5, 6, 6, 6, 6, 6, 6, 6, 6, 7, 0], li2 = [], hi2 = [], fi2 = [], di2 = 1, pi2 = 2, gi2 = [], mi2 = [];
    vn("UpsampleRgbLinePair", xn, 3), vn("UpsampleBgrLinePair", An, 3), vn("UpsampleRgbaLinePair", Fn, 4), vn("UpsampleBgraLinePair", kn, 4), vn("UpsampleArgbLinePair", Pn, 4), vn("UpsampleRgba4444LinePair", _n, 2), vn("UpsampleRgb565LinePair", Sn, 2);
    var vi2 = t4.UpsampleRgbLinePair, bi2 = t4.UpsampleBgrLinePair, yi2 = t4.UpsampleRgbaLinePair, wi2 = t4.UpsampleBgraLinePair, Ni2 = t4.UpsampleArgbLinePair, Li2 = t4.UpsampleRgba4444LinePair, xi2 = t4.UpsampleRgb565LinePair, Ai2 = 16, Si2 = 1 << Ai2 - 1, _i = -227, Pi2 = 482, ki2 = 6, Fi2 = (256 << ki2) - 1, Ii2 = 0, ji2 = a2(256), Ci2 = a2(256), Oi2 = a2(256), Bi2 = a2(256), Mi2 = a2(Pi2 - _i), qi2 = a2(Pi2 - _i);
    In("YuvToRgbRow", xn, 3), In("YuvToBgrRow", An, 3), In("YuvToRgbaRow", Fn, 4), In("YuvToBgraRow", kn, 4), In("YuvToArgbRow", Pn, 4), In("YuvToRgba4444Row", _n, 2), In("YuvToRgb565Row", Sn, 2);
    var Ei2 = [0, 4, 8, 12, 128, 132, 136, 140, 256, 260, 264, 268, 384, 388, 392, 396], Ri2 = [0, 2, 8], Di2 = [8, 7, 6, 4, 4, 2, 2, 2, 1, 1, 1, 1], Ti2 = 1;
    this.WebPDecodeRGBA = function(t5, n3, s3, u4, c4) {
      var l4 = qr, h4 = new en(), f4 = new ot2();
      h4.ba = f4, f4.S = l4, f4.width = [f4.width], f4.height = [f4.height];
      var d4 = f4.width, p4 = f4.height, g4 = new st2();
      if (null == g4 || null == t5)
        var m4 = 2;
      else
        e(null != g4), m4 = Bn(t5, n3, s3, g4.width, g4.height, g4.Pd, g4.Qd, g4.format, null);
      if (0 != m4 ? d4 = 0 : (null != d4 && (d4[0] = g4.width[0]), null != p4 && (p4[0] = g4.height[0]), d4 = 1), d4) {
        f4.width = f4.width[0], f4.height = f4.height[0], null != u4 && (u4[0] = f4.width), null != c4 && (c4[0] = f4.height);
        t: {
          if (u4 = new Gt2(), (c4 = new nn()).data = t5, c4.w = n3, c4.ha = s3, c4.kd = 1, n3 = [0], e(null != c4), (0 == (t5 = Bn(c4.data, c4.w, c4.ha, null, null, null, n3, null, c4)) || 7 == t5) && n3[0] && (t5 = 4), 0 == (n3 = t5)) {
            if (e(null != h4), u4.data = c4.data, u4.w = c4.w + c4.offset, u4.ha = c4.ha - c4.offset, u4.put = dt2, u4.ac = ft2, u4.bc = pt2, u4.ma = h4, c4.xa) {
              if (null == (t5 = kt2())) {
                h4 = 1;
                break t;
              }
              if (function(t6, n4) {
                var r3 = [0], i3 = [0], a3 = [0];
                e:
                  for (; ; ) {
                    if (null == t6)
                      return 0;
                    if (null == n4)
                      return t6.a = 2, 0;
                    if (t6.l = n4, t6.a = 0, v3(t6.m, n4.data, n4.w, n4.ha), !gt2(t6.m, r3, i3, a3)) {
                      t6.a = 3;
                      break e;
                    }
                    if (t6.xb = pi2, n4.width = r3[0], n4.height = i3[0], !Ft2(r3[0], i3[0], 1, t6, null))
                      break e;
                    return 1;
                  }
                return e(0 != t6.a), 0;
              }(t5, u4)) {
                if (u4 = 0 == (n3 = En(u4.width, u4.height, h4.Oa, h4.ba))) {
                  e: {
                    u4 = t5;
                    n:
                      for (; ; ) {
                        if (null == u4) {
                          u4 = 0;
                          break e;
                        }
                        if (e(null != u4.s.yc), e(null != u4.s.Ya), e(0 < u4.s.Wb), e(null != (s3 = u4.l)), e(null != (c4 = s3.ma)), 0 != u4.xb) {
                          if (u4.ca = c4.ba, u4.tb = c4.tb, e(null != u4.ca), !Mn(c4.Oa, s3, Rr)) {
                            u4.a = 2;
                            break n;
                          }
                          if (!It2(u4, s3.width))
                            break n;
                          if (s3.da)
                            break n;
                          if ((s3.da || rt2(u4.ca.S)) && mn(), 11 > u4.ca.S || (alert("todo:WebPInitConvertARGBToYUV"), null != u4.ca.f.kb.F && mn()), u4.Pb && 0 < u4.s.ua && null == u4.s.vb.X && !O2(u4.s.vb, u4.s.Wa.Xa)) {
                            u4.a = 1;
                            break n;
                          }
                          u4.xb = 0;
                        }
                        if (!_t2(u4, u4.V, u4.Ba, u4.c, u4.i, s3.o, Lt2))
                          break n;
                        c4.Dc = u4.Ma, u4 = 1;
                        break e;
                      }
                    e(0 != u4.a), u4 = 0;
                  }
                  u4 = !u4;
                }
                u4 && (n3 = t5.a);
              } else
                n3 = t5.a;
            } else {
              if (null == (t5 = new Yt2())) {
                h4 = 1;
                break t;
              }
              if (t5.Fa = c4.na, t5.P = c4.P, t5.qc = c4.Sa, Kt2(t5, u4)) {
                if (0 == (n3 = En(u4.width, u4.height, h4.Oa, h4.ba))) {
                  if (t5.Aa = 0, s3 = h4.Oa, e(null != (c4 = t5)), null != s3) {
                    if (0 < (d4 = 0 > (d4 = s3.Md) ? 0 : 100 < d4 ? 255 : 255 * d4 / 100)) {
                      for (p4 = g4 = 0; 4 > p4; ++p4)
                        12 > (m4 = c4.pb[p4]).lc && (m4.ia = d4 * Di2[0 > m4.lc ? 0 : m4.lc] >> 3), g4 |= m4.ia;
                      g4 && (alert("todo:VP8InitRandom"), c4.ia = 1);
                    }
                    c4.Ga = s3.Id, 100 < c4.Ga ? c4.Ga = 100 : 0 > c4.Ga && (c4.Ga = 0);
                  }
                  (function(t6, n4) {
                    if (null == t6)
                      return 0;
                    if (null == n4)
                      return Jt2(t6, 2, "NULL VP8Io parameter in VP8Decode().");
                    if (!t6.cb && !Kt2(t6, n4))
                      return 0;
                    if (e(t6.cb), null == n4.ac || n4.ac(n4)) {
                      n4.ob && (t6.L = 0);
                      var s4 = Ri2[t6.L];
                      if (2 == t6.L ? (t6.yb = 0, t6.zb = 0) : (t6.yb = n4.v - s4 >> 4, t6.zb = n4.j - s4 >> 4, 0 > t6.yb && (t6.yb = 0), 0 > t6.zb && (t6.zb = 0)), t6.Va = n4.o + 15 + s4 >> 4, t6.Hb = n4.va + 15 + s4 >> 4, t6.Hb > t6.za && (t6.Hb = t6.za), t6.Va > t6.Ub && (t6.Va = t6.Ub), 0 < t6.L) {
                        var u5 = t6.ed;
                        for (s4 = 0; 4 > s4; ++s4) {
                          var c5;
                          if (t6.Qa.Cb) {
                            var l5 = t6.Qa.Lb[s4];
                            t6.Qa.Fb || (l5 += u5.Tb);
                          } else
                            l5 = u5.Tb;
                          for (c5 = 0; 1 >= c5; ++c5) {
                            var h5 = t6.gd[s4][c5], f5 = l5;
                            if (u5.Pc && (f5 += u5.vd[0], c5 && (f5 += u5.od[0])), 0 < (f5 = 0 > f5 ? 0 : 63 < f5 ? 63 : f5)) {
                              var d5 = f5;
                              0 < u5.wb && (d5 = 4 < u5.wb ? d5 >> 2 : d5 >> 1) > 9 - u5.wb && (d5 = 9 - u5.wb), 1 > d5 && (d5 = 1), h5.dd = d5, h5.tc = 2 * f5 + d5, h5.ld = 40 <= f5 ? 2 : 15 <= f5 ? 1 : 0;
                            } else
                              h5.tc = 0;
                            h5.La = c5;
                          }
                        }
                      }
                      s4 = 0;
                    } else
                      Jt2(t6, 6, "Frame setup failed"), s4 = t6.a;
                    if (s4 = 0 == s4) {
                      if (s4) {
                        t6.$c = 0, 0 < t6.Aa || (t6.Ic = Ti2);
                        e: {
                          s4 = t6.Ic, u5 = 4 * (d5 = t6.za);
                          var p5 = 32 * d5, g5 = d5 + 1, m5 = 0 < t6.L ? d5 * (0 < t6.Aa ? 2 : 1) : 0, v4 = (2 == t6.Aa ? 2 : 1) * d5;
                          if ((h5 = u5 + 832 + (c5 = 3 * (16 * s4 + Ri2[t6.L]) / 2 * p5) + (l5 = null != t6.Fa && 0 < t6.Fa.length ? t6.Kc.c * t6.Kc.i : 0)) != h5)
                            s4 = 0;
                          else {
                            if (h5 > t6.Vb) {
                              if (t6.Vb = 0, t6.Ec = a2(h5), t6.Fc = 0, null == t6.Ec) {
                                s4 = Jt2(t6, 1, "no memory during frame initialization.");
                                break e;
                              }
                              t6.Vb = h5;
                            }
                            h5 = t6.Ec, f5 = t6.Fc, t6.Ac = h5, t6.Bc = f5, f5 += u5, t6.Gd = o2(p5, Ht2), t6.Hd = 0, t6.rb = o2(g5 + 1, Dt2), t6.sb = 1, t6.wa = m5 ? o2(m5, Rt2) : null, t6.Y = 0, t6.D.Nb = 0, t6.D.wa = t6.wa, t6.D.Y = t6.Y, 0 < t6.Aa && (t6.D.Y += d5), e(true), t6.oc = h5, t6.pc = f5, f5 += 832, t6.ya = o2(v4, zt2), t6.aa = 0, t6.D.ya = t6.ya, t6.D.aa = t6.aa, 2 == t6.Aa && (t6.D.aa += d5), t6.R = 16 * d5, t6.B = 8 * d5, d5 = (p5 = Ri2[t6.L]) * t6.R, p5 = p5 / 2 * t6.B, t6.sa = h5, t6.ta = f5 + d5, t6.qa = t6.sa, t6.ra = t6.ta + 16 * s4 * t6.R + p5, t6.Ha = t6.qa, t6.Ia = t6.ra + 8 * s4 * t6.B + p5, t6.$c = 0, f5 += c5, t6.mb = l5 ? h5 : null, t6.nb = l5 ? f5 : null, e(f5 + l5 <= t6.Fc + t6.Vb), $t2(t6), i2(t6.Ac, t6.Bc, 0, u5), s4 = 1;
                          }
                        }
                        if (s4) {
                          if (n4.ka = 0, n4.y = t6.sa, n4.O = t6.ta, n4.f = t6.qa, n4.N = t6.ra, n4.ea = t6.Ha, n4.Vd = t6.Ia, n4.fa = t6.R, n4.Rc = t6.B, n4.F = null, n4.J = 0, !Ir) {
                            for (s4 = -255; 255 >= s4; ++s4)
                              _r[255 + s4] = 0 > s4 ? -s4 : s4;
                            for (s4 = -1020; 1020 >= s4; ++s4)
                              Pr[1020 + s4] = -128 > s4 ? -128 : 127 < s4 ? 127 : s4;
                            for (s4 = -112; 112 >= s4; ++s4)
                              kr[112 + s4] = -16 > s4 ? -16 : 15 < s4 ? 15 : s4;
                            for (s4 = -255; 510 >= s4; ++s4)
                              Fr[255 + s4] = 0 > s4 ? 0 : 255 < s4 ? 255 : s4;
                            Ir = 1;
                          }
                          ir = ue2, ar = ie2, sr = ae2, ur = oe2, cr = se2, or = re2, lr = Ye2, hr = Je2, fr = Ze2, dr = $e2, pr = Xe2, gr = Ke2, mr = Qe2, vr = tn, br = ze, yr = Ue2, wr = He2, Nr = We2, hi2[0] = xe2, hi2[1] = le2, hi2[2] = Ne2, hi2[3] = Le2, hi2[4] = Ae2, hi2[5] = _e2, hi2[6] = Se2, hi2[7] = Pe2, hi2[8] = Fe2, hi2[9] = ke2, li2[0] = me2, li2[1] = fe2, li2[2] = de2, li2[3] = pe2, li2[4] = ve2, li2[5] = be2, li2[6] = ye2, fi2[0] = Oe2, fi2[1] = he2, fi2[2] = Ie2, fi2[3] = je2, fi2[4] = Me2, fi2[5] = Be2, fi2[6] = qe2, s4 = 1;
                        } else
                          s4 = 0;
                      }
                      s4 && (s4 = function(t7, n5) {
                        for (t7.M = 0; t7.M < t7.Va; ++t7.M) {
                          var o3, s5 = t7.Jc[t7.M & t7.Xb], u6 = t7.m, c6 = t7;
                          for (o3 = 0; o3 < c6.za; ++o3) {
                            var l6 = u6, h6 = c6, f6 = h6.Ac, d6 = h6.Bc + 4 * o3, p6 = h6.zc, g6 = h6.ya[h6.aa + o3];
                            if (h6.Qa.Bb ? g6.$b = k3(l6, h6.Pa.jb[0]) ? 2 + k3(l6, h6.Pa.jb[2]) : k3(l6, h6.Pa.jb[1]) : g6.$b = 0, h6.kc && (g6.Ad = k3(l6, h6.Bd)), g6.Za = !k3(l6, 145) + 0, g6.Za) {
                              var m6 = g6.Ob, v5 = 0;
                              for (h6 = 0; 4 > h6; ++h6) {
                                var b6, y4 = p6[0 + h6];
                                for (b6 = 0; 4 > b6; ++b6) {
                                  y4 = si2[f6[d6 + b6]][y4];
                                  for (var w4 = ai2[k3(l6, y4[0])]; 0 < w4; )
                                    w4 = ai2[2 * w4 + k3(l6, y4[w4])];
                                  y4 = -w4, f6[d6 + b6] = y4;
                                }
                                r2(m6, v5, f6, d6, 4), v5 += 4, p6[0 + h6] = y4;
                              }
                            } else
                              y4 = k3(l6, 156) ? k3(l6, 128) ? 1 : 3 : k3(l6, 163) ? 2 : 0, g6.Ob[0] = y4, i2(f6, d6, y4, 4), i2(p6, 0, y4, 4);
                            g6.Dd = k3(l6, 142) ? k3(l6, 114) ? k3(l6, 183) ? 1 : 3 : 2 : 0;
                          }
                          if (c6.m.Ka)
                            return Jt2(t7, 7, "Premature end-of-partition0 encountered.");
                          for (; t7.ja < t7.za; ++t7.ja) {
                            if (c6 = s5, l6 = (u6 = t7).rb[u6.sb - 1], f6 = u6.rb[u6.sb + u6.ja], o3 = u6.ya[u6.aa + u6.ja], d6 = u6.kc ? o3.Ad : 0)
                              l6.la = f6.la = 0, o3.Za || (l6.Na = f6.Na = 0), o3.Hc = 0, o3.Gc = 0, o3.ia = 0;
                            else {
                              var N4, L4;
                              if (l6 = f6, f6 = c6, d6 = u6.Pa.Xc, p6 = u6.ya[u6.aa + u6.ja], g6 = u6.pb[p6.$b], h6 = p6.ad, m6 = 0, v5 = u6.rb[u6.sb - 1], y4 = b6 = 0, i2(h6, m6, 0, 384), p6.Za)
                                var x4 = 0, A4 = d6[3];
                              else {
                                w4 = a2(16);
                                var S3 = l6.Na + v5.Na;
                                if (S3 = ni2(f6, d6[1], S3, g6.Eb, 0, w4, 0), l6.Na = v5.Na = (0 < S3) + 0, 1 < S3)
                                  ir(w4, 0, h6, m6);
                                else {
                                  var _3 = w4[0] + 3 >> 3;
                                  for (w4 = 0; 256 > w4; w4 += 16)
                                    h6[m6 + w4] = _3;
                                }
                                x4 = 1, A4 = d6[0];
                              }
                              var P3 = 15 & l6.la, F3 = 15 & v5.la;
                              for (w4 = 0; 4 > w4; ++w4) {
                                var I3 = 1 & F3;
                                for (_3 = L4 = 0; 4 > _3; ++_3)
                                  P3 = P3 >> 1 | (I3 = (S3 = ni2(f6, A4, S3 = I3 + (1 & P3), g6.Sc, x4, h6, m6)) > x4) << 7, L4 = L4 << 2 | (3 < S3 ? 3 : 1 < S3 ? 2 : 0 != h6[m6 + 0]), m6 += 16;
                                P3 >>= 4, F3 = F3 >> 1 | I3 << 7, b6 = (b6 << 8 | L4) >>> 0;
                              }
                              for (A4 = P3, x4 = F3 >> 4, N4 = 0; 4 > N4; N4 += 2) {
                                for (L4 = 0, P3 = l6.la >> 4 + N4, F3 = v5.la >> 4 + N4, w4 = 0; 2 > w4; ++w4) {
                                  for (I3 = 1 & F3, _3 = 0; 2 > _3; ++_3)
                                    S3 = I3 + (1 & P3), P3 = P3 >> 1 | (I3 = 0 < (S3 = ni2(f6, d6[2], S3, g6.Qc, 0, h6, m6))) << 3, L4 = L4 << 2 | (3 < S3 ? 3 : 1 < S3 ? 2 : 0 != h6[m6 + 0]), m6 += 16;
                                  P3 >>= 2, F3 = F3 >> 1 | I3 << 5;
                                }
                                y4 |= L4 << 4 * N4, A4 |= P3 << 4 << N4, x4 |= (240 & F3) << N4;
                              }
                              l6.la = A4, v5.la = x4, p6.Hc = b6, p6.Gc = y4, p6.ia = 43690 & y4 ? 0 : g6.ia, d6 = !(b6 | y4);
                            }
                            if (0 < u6.L && (u6.wa[u6.Y + u6.ja] = u6.gd[o3.$b][o3.Za], u6.wa[u6.Y + u6.ja].La |= !d6), c6.Ka)
                              return Jt2(t7, 7, "Premature end-of-file encountered.");
                          }
                          if ($t2(t7), u6 = n5, c6 = 1, o3 = (s5 = t7).D, l6 = 0 < s5.L && s5.M >= s5.zb && s5.M <= s5.Va, 0 == s5.Aa)
                            e: {
                              if (o3.M = s5.M, o3.uc = l6, On(s5, o3), c6 = 1, o3 = (L4 = s5.D).Nb, l6 = (y4 = Ri2[s5.L]) * s5.R, f6 = y4 / 2 * s5.B, w4 = 16 * o3 * s5.R, _3 = 8 * o3 * s5.B, d6 = s5.sa, p6 = s5.ta - l6 + w4, g6 = s5.qa, h6 = s5.ra - f6 + _3, m6 = s5.Ha, v5 = s5.Ia - f6 + _3, F3 = 0 == (P3 = L4.M), b6 = P3 >= s5.Va - 1, 2 == s5.Aa && On(s5, L4), L4.uc)
                                for (I3 = (S3 = s5).D.M, e(S3.D.uc), L4 = S3.yb; L4 < S3.Hb; ++L4) {
                                  x4 = L4, A4 = I3;
                                  var j3 = (C3 = (z3 = S3).D).Nb;
                                  N4 = z3.R;
                                  var C3 = C3.wa[C3.Y + x4], O3 = z3.sa, B3 = z3.ta + 16 * j3 * N4 + 16 * x4, M3 = C3.dd, q3 = C3.tc;
                                  if (0 != q3)
                                    if (e(3 <= q3), 1 == z3.L)
                                      0 < x4 && yr(O3, B3, N4, q3 + 4), C3.La && Nr(O3, B3, N4, q3), 0 < A4 && br(O3, B3, N4, q3 + 4), C3.La && wr(O3, B3, N4, q3);
                                    else {
                                      var E3 = z3.B, R3 = z3.qa, D3 = z3.ra + 8 * j3 * E3 + 8 * x4, T3 = z3.Ha, z3 = z3.Ia + 8 * j3 * E3 + 8 * x4;
                                      j3 = C3.ld, 0 < x4 && (hr(O3, B3, N4, q3 + 4, M3, j3), dr(R3, D3, T3, z3, E3, q3 + 4, M3, j3)), C3.La && (gr(O3, B3, N4, q3, M3, j3), vr(R3, D3, T3, z3, E3, q3, M3, j3)), 0 < A4 && (lr(O3, B3, N4, q3 + 4, M3, j3), fr(R3, D3, T3, z3, E3, q3 + 4, M3, j3)), C3.La && (pr(O3, B3, N4, q3, M3, j3), mr(R3, D3, T3, z3, E3, q3, M3, j3));
                                    }
                                }
                              if (s5.ia && alert("todo:DitherRow"), null != u6.put) {
                                if (L4 = 16 * P3, P3 = 16 * (P3 + 1), F3 ? (u6.y = s5.sa, u6.O = s5.ta + w4, u6.f = s5.qa, u6.N = s5.ra + _3, u6.ea = s5.Ha, u6.W = s5.Ia + _3) : (L4 -= y4, u6.y = d6, u6.O = p6, u6.f = g6, u6.N = h6, u6.ea = m6, u6.W = v5), b6 || (P3 -= y4), P3 > u6.o && (P3 = u6.o), u6.F = null, u6.J = null, null != s5.Fa && 0 < s5.Fa.length && L4 < P3 && (u6.J = hn(s5, u6, L4, P3 - L4), u6.F = s5.mb, null == u6.F && 0 == u6.F.length)) {
                                  c6 = Jt2(s5, 3, "Could not decode alpha data.");
                                  break e;
                                }
                                L4 < u6.j && (y4 = u6.j - L4, L4 = u6.j, e(!(1 & y4)), u6.O += s5.R * y4, u6.N += s5.B * (y4 >> 1), u6.W += s5.B * (y4 >> 1), null != u6.F && (u6.J += u6.width * y4)), L4 < P3 && (u6.O += u6.v, u6.N += u6.v >> 1, u6.W += u6.v >> 1, null != u6.F && (u6.J += u6.v), u6.ka = L4 - u6.j, u6.U = u6.va - u6.v, u6.T = P3 - L4, c6 = u6.put(u6));
                              }
                              o3 + 1 != s5.Ic || b6 || (r2(s5.sa, s5.ta - l6, d6, p6 + 16 * s5.R, l6), r2(s5.qa, s5.ra - f6, g6, h6 + 8 * s5.B, f6), r2(s5.Ha, s5.Ia - f6, m6, v5 + 8 * s5.B, f6));
                            }
                          if (!c6)
                            return Jt2(t7, 6, "Output aborted.");
                        }
                        return 1;
                      }(t6, n4)), null != n4.bc && n4.bc(n4), s4 &= 1;
                    }
                    return s4 ? (t6.cb = 0, s4) : 0;
                  })(t5, u4) || (n3 = t5.a);
                }
              } else
                n3 = t5.a;
            }
            0 == n3 && null != h4.Oa && h4.Oa.fd && (n3 = qn(h4.ba));
          }
          h4 = n3;
        }
        l4 = 0 != h4 ? null : 11 > l4 ? f4.f.RGBA.eb : f4.f.kb.y;
      } else
        l4 = null;
      return l4;
    };
    var zi2 = [3, 4, 3, 4, 4, 2, 2, 4, 4, 4, 2, 1, 1];
  };
  function c2(t4, e2) {
    for (var n3 = "", r3 = 0; r3 < 4; r3++)
      n3 += String.fromCharCode(t4[e2++]);
    return n3;
  }
  function l2(t4, e2) {
    return t4[e2 + 0] | t4[e2 + 1] << 8;
  }
  function h2(t4, e2) {
    return (t4[e2 + 0] | t4[e2 + 1] << 8 | t4[e2 + 2] << 16) >>> 0;
  }
  function f2(t4, e2) {
    return (t4[e2 + 0] | t4[e2 + 1] << 8 | t4[e2 + 2] << 16 | t4[e2 + 3] << 24) >>> 0;
  }
  new u2();
  var d2 = [0], p2 = [0], g2 = [], m2 = new u2(), v2 = t3, b3 = function(t4, e2) {
    var n3 = {}, r3 = 0, i3 = false, a3 = 0, o3 = 0;
    if (n3.frames = [], !function(t5, e3) {
      for (var n4 = 0; n4 < 4; n4++)
        if (t5[e3 + n4] != "RIFF".charCodeAt(n4))
          return true;
      return false;
    }(t4, e2)) {
      for (f2(t4, e2 += 4), e2 += 8; e2 < t4.length; ) {
        var s3 = c2(t4, e2), u3 = f2(t4, e2 += 4);
        e2 += 4;
        var d3 = u3 + (1 & u3);
        switch (s3) {
          case "VP8 ":
          case "VP8L":
            void 0 === n3.frames[r3] && (n3.frames[r3] = {}), (m3 = n3.frames[r3]).src_off = i3 ? o3 : e2 - 8, m3.src_size = a3 + u3 + 8, r3++, i3 && (i3 = false, a3 = 0, o3 = 0);
            break;
          case "VP8X":
            (m3 = n3.header = {}).feature_flags = t4[e2];
            var p3 = e2 + 4;
            m3.canvas_width = 1 + h2(t4, p3), p3 += 3, m3.canvas_height = 1 + h2(t4, p3), p3 += 3;
            break;
          case "ALPH":
            i3 = true, a3 = d3 + 8, o3 = e2 - 8;
            break;
          case "ANIM":
            (m3 = n3.header).bgcolor = f2(t4, e2), p3 = e2 + 4, m3.loop_count = l2(t4, p3), p3 += 2;
            break;
          case "ANMF":
            var g3, m3;
            (m3 = n3.frames[r3] = {}).offset_x = 2 * h2(t4, e2), e2 += 3, m3.offset_y = 2 * h2(t4, e2), e2 += 3, m3.width = 1 + h2(t4, e2), e2 += 3, m3.height = 1 + h2(t4, e2), e2 += 3, m3.duration = h2(t4, e2), e2 += 3, g3 = t4[e2++], m3.dispose = 1 & g3, m3.blend = g3 >> 1 & 1;
        }
        "ANMF" != s3 && (e2 += d3);
      }
      return n3;
    }
  }(v2, 0);
  b3.response = v2, b3.rgbaoutput = true, b3.dataurl = false;
  var y2 = b3.header ? b3.header : null, w2 = b3.frames ? b3.frames : null;
  if (y2) {
    y2.loop_counter = y2.loop_count, d2 = [y2.canvas_height], p2 = [y2.canvas_width];
    for (var N2 = 0; N2 < w2.length && 0 != w2[N2].blend; N2++)
      ;
  }
  var L2 = w2[0], x2 = m2.WebPDecodeRGBA(v2, L2.src_off, L2.src_size, p2, d2);
  L2.rgba = x2, L2.imgwidth = p2[0], L2.imgheight = d2[0];
  for (var A2 = 0; A2 < p2[0] * d2[0] * 4; A2++)
    g2[A2] = x2[A2];
  return this.width = p2, this.height = d2, this.data = g2, this;
}
!function(e) {
  var n2, r2, i2, a2, s2, u2, c2, l2, f2, d2 = function(t3) {
    return t3 = t3 || {}, this.isStrokeTransparent = t3.isStrokeTransparent || false, this.strokeOpacity = t3.strokeOpacity || 1, this.strokeStyle = t3.strokeStyle || "#000000", this.fillStyle = t3.fillStyle || "#000000", this.isFillTransparent = t3.isFillTransparent || false, this.fillOpacity = t3.fillOpacity || 1, this.font = t3.font || "10px sans-serif", this.textBaseline = t3.textBaseline || "alphabetic", this.textAlign = t3.textAlign || "left", this.lineWidth = t3.lineWidth || 1, this.lineJoin = t3.lineJoin || "miter", this.lineCap = t3.lineCap || "butt", this.path = t3.path || [], this.transform = void 0 !== t3.transform ? t3.transform.clone() : new l2(), this.globalCompositeOperation = t3.globalCompositeOperation || "normal", this.globalAlpha = t3.globalAlpha || 1, this.clip_path = t3.clip_path || [], this.currentPoint = t3.currentPoint || new u2(), this.miterLimit = t3.miterLimit || 10, this.lastPoint = t3.lastPoint || new u2(), this.lineDashOffset = t3.lineDashOffset || 0, this.lineDash = t3.lineDash || [], this.margin = t3.margin || [0, 0, 0, 0], this.prevPageLastElemOffset = t3.prevPageLastElemOffset || 0, this.ignoreClearRect = "boolean" != typeof t3.ignoreClearRect || t3.ignoreClearRect, this;
  };
  e.events.push(["initialized", function() {
    this.context2d = new p2(this), n2 = this.internal.f2, r2 = this.internal.getCoordinateString, i2 = this.internal.getVerticalCoordinateString, a2 = this.internal.getHorizontalCoordinate, s2 = this.internal.getVerticalCoordinate, u2 = this.internal.Point, c2 = this.internal.Rectangle, l2 = this.internal.Matrix, f2 = new d2();
  }]);
  var p2 = function(t3) {
    Object.defineProperty(this, "canvas", { get: function() {
      return { parentNode: false, style: false };
    } });
    var e2 = t3;
    Object.defineProperty(this, "pdf", { get: function() {
      return e2;
    } });
    var n3 = false;
    Object.defineProperty(this, "pageWrapXEnabled", { get: function() {
      return n3;
    }, set: function(t4) {
      n3 = Boolean(t4);
    } });
    var r3 = false;
    Object.defineProperty(this, "pageWrapYEnabled", { get: function() {
      return r3;
    }, set: function(t4) {
      r3 = Boolean(t4);
    } });
    var i3 = 0;
    Object.defineProperty(this, "posX", { get: function() {
      return i3;
    }, set: function(t4) {
      isNaN(t4) || (i3 = t4);
    } });
    var a3 = 0;
    Object.defineProperty(this, "posY", { get: function() {
      return a3;
    }, set: function(t4) {
      isNaN(t4) || (a3 = t4);
    } }), Object.defineProperty(this, "margin", { get: function() {
      return f2.margin;
    }, set: function(t4) {
      var e3;
      "number" == typeof t4 ? e3 = [t4, t4, t4, t4] : ((e3 = new Array(4))[0] = t4[0], e3[1] = t4.length >= 2 ? t4[1] : e3[0], e3[2] = t4.length >= 3 ? t4[2] : e3[0], e3[3] = t4.length >= 4 ? t4[3] : e3[1]), f2.margin = e3;
    } });
    var o2 = false;
    Object.defineProperty(this, "autoPaging", { get: function() {
      return o2;
    }, set: function(t4) {
      o2 = t4;
    } });
    var s3 = 0;
    Object.defineProperty(this, "lastBreak", { get: function() {
      return s3;
    }, set: function(t4) {
      s3 = t4;
    } });
    var u3 = [];
    Object.defineProperty(this, "pageBreaks", { get: function() {
      return u3;
    }, set: function(t4) {
      u3 = t4;
    } }), Object.defineProperty(this, "ctx", { get: function() {
      return f2;
    }, set: function(t4) {
      t4 instanceof d2 && (f2 = t4);
    } }), Object.defineProperty(this, "path", { get: function() {
      return f2.path;
    }, set: function(t4) {
      f2.path = t4;
    } });
    var c3 = [];
    Object.defineProperty(this, "ctxStack", { get: function() {
      return c3;
    }, set: function(t4) {
      c3 = t4;
    } }), Object.defineProperty(this, "fillStyle", { get: function() {
      return this.ctx.fillStyle;
    }, set: function(t4) {
      var e3;
      e3 = g2(t4), this.ctx.fillStyle = e3.style, this.ctx.isFillTransparent = 0 === e3.a, this.ctx.fillOpacity = e3.a, this.pdf.setFillColor(e3.r, e3.g, e3.b, { a: e3.a }), this.pdf.setTextColor(e3.r, e3.g, e3.b, { a: e3.a });
    } }), Object.defineProperty(this, "strokeStyle", { get: function() {
      return this.ctx.strokeStyle;
    }, set: function(t4) {
      var e3 = g2(t4);
      this.ctx.strokeStyle = e3.style, this.ctx.isStrokeTransparent = 0 === e3.a, this.ctx.strokeOpacity = e3.a, 0 === e3.a ? this.pdf.setDrawColor(255, 255, 255) : (e3.a, this.pdf.setDrawColor(e3.r, e3.g, e3.b));
    } }), Object.defineProperty(this, "lineCap", { get: function() {
      return this.ctx.lineCap;
    }, set: function(t4) {
      -1 !== ["butt", "round", "square"].indexOf(t4) && (this.ctx.lineCap = t4, this.pdf.setLineCap(t4));
    } }), Object.defineProperty(this, "lineWidth", { get: function() {
      return this.ctx.lineWidth;
    }, set: function(t4) {
      isNaN(t4) || (this.ctx.lineWidth = t4, this.pdf.setLineWidth(t4));
    } }), Object.defineProperty(this, "lineJoin", { get: function() {
      return this.ctx.lineJoin;
    }, set: function(t4) {
      -1 !== ["bevel", "round", "miter"].indexOf(t4) && (this.ctx.lineJoin = t4, this.pdf.setLineJoin(t4));
    } }), Object.defineProperty(this, "miterLimit", { get: function() {
      return this.ctx.miterLimit;
    }, set: function(t4) {
      isNaN(t4) || (this.ctx.miterLimit = t4, this.pdf.setMiterLimit(t4));
    } }), Object.defineProperty(this, "textBaseline", { get: function() {
      return this.ctx.textBaseline;
    }, set: function(t4) {
      this.ctx.textBaseline = t4;
    } }), Object.defineProperty(this, "textAlign", { get: function() {
      return this.ctx.textAlign;
    }, set: function(t4) {
      -1 !== ["right", "end", "center", "left", "start"].indexOf(t4) && (this.ctx.textAlign = t4);
    } });
    var l3 = null, h2 = null;
    var p3 = null;
    Object.defineProperty(this, "fontFaces", { get: function() {
      return p3;
    }, set: function(t4) {
      l3 = null, h2 = null, p3 = t4;
    } }), Object.defineProperty(this, "font", { get: function() {
      return this.ctx.font;
    }, set: function(t4) {
      var e3;
      if (this.ctx.font = t4, null !== (e3 = /^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(t4))) {
        var n4 = e3[1];
        e3[2];
        var r4 = e3[3], i4 = e3[4];
        e3[5];
        var a4 = e3[6], o3 = /^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i4)[2];
        i4 = "px" === o3 ? Math.floor(parseFloat(i4) * this.pdf.internal.scaleFactor) : "em" === o3 ? Math.floor(parseFloat(i4) * this.pdf.getFontSize()) : Math.floor(parseFloat(i4) * this.pdf.internal.scaleFactor), this.pdf.setFontSize(i4);
        var s4 = function(t5) {
          var e4, n5, r5 = [], i5 = t5.trim();
          if ("" === i5)
            return Jt;
          if (i5 in Mt)
            return [Mt[i5]];
          for (; "" !== i5; ) {
            switch (n5 = null, e4 = (i5 = Et(i5)).charAt(0)) {
              case '"':
              case "'":
                n5 = Rt(i5.substring(1), e4);
                break;
              default:
                n5 = Dt(i5);
            }
            if (null === n5)
              return Jt;
            if (r5.push(n5[0]), "" !== (i5 = Et(n5[1])) && "," !== i5.charAt(0))
              return Jt;
            i5 = i5.replace(/^,/, "");
          }
          return r5;
        }(a4);
        if (this.fontFaces) {
          var u4 = function(t5, e4) {
            var n5 = t5.getFontList(), r5 = JSON.stringify(n5);
            if (null === l3 || h2 !== r5) {
              var i5 = function(t6) {
                var e5 = [];
                return Object.keys(t6).forEach(function(n6) {
                  t6[n6].forEach(function(t7) {
                    var r6 = null;
                    switch (t7) {
                      case "bold":
                        r6 = { family: n6, weight: "bold" };
                        break;
                      case "italic":
                        r6 = { family: n6, style: "italic" };
                        break;
                      case "bolditalic":
                        r6 = { family: n6, weight: "bold", style: "italic" };
                        break;
                      case "":
                      case "normal":
                        r6 = { family: n6 };
                    }
                    null !== r6 && (r6.ref = { name: n6, style: t7 }, e5.push(r6));
                  });
                }), e5;
              }(n5);
              l3 = function(t6) {
                for (var e5 = {}, n6 = 0; n6 < t6.length; ++n6) {
                  var r6 = Ct(t6[n6]), i6 = r6.family, a5 = r6.stretch, o4 = r6.style, s5 = r6.weight;
                  e5[i6] = e5[i6] || {}, e5[i6][a5] = e5[i6][a5] || {}, e5[i6][a5][o4] = e5[i6][a5][o4] || {}, e5[i6][a5][o4][s5] = r6;
                }
                return e5;
              }(i5.concat(e4)), h2 = r5;
            }
            return l3;
          }(this.pdf, this.fontFaces), c4 = s4.map(function(t5) {
            return { family: t5, stretch: "normal", weight: r4, style: n4 };
          }), f3 = function(t5, e4, n5) {
            for (var r5 = (n5 = n5 || {}).defaultFontFamily || "times", i5 = Object.assign({}, Bt, n5.genericFontFamilies || {}), a5 = null, o4 = null, s5 = 0; s5 < e4.length; ++s5)
              if (i5[(a5 = Ct(e4[s5])).family] && (a5.family = i5[a5.family]), t5.hasOwnProperty(a5.family)) {
                o4 = t5[a5.family];
                break;
              }
            if (!(o4 = o4 || t5[r5]))
              throw new Error("Could not find a font-family for the rule '" + qt(a5) + "' and default family '" + r5 + "'.");
            if (o4 = function(t6, e5) {
              if (e5[t6])
                return e5[t6];
              var n6 = Ft[t6], r6 = n6 <= Ft.normal ? -1 : 1, i6 = Ot(e5, kt, n6, r6);
              if (!i6)
                throw new Error("Could not find a matching font-stretch value for " + t6);
              return i6;
            }(a5.stretch, o4), o4 = function(t6, e5) {
              if (e5[t6])
                return e5[t6];
              for (var n6 = Pt[t6], r6 = 0; r6 < n6.length; ++r6)
                if (e5[n6[r6]])
                  return e5[n6[r6]];
              throw new Error("Could not find a matching font-style for " + t6);
            }(a5.style, o4), !(o4 = function(t6, e5) {
              if (e5[t6])
                return e5[t6];
              if (400 === t6 && e5[500])
                return e5[500];
              if (500 === t6 && e5[400])
                return e5[400];
              var n6 = jt[t6], r6 = Ot(e5, It, n6, t6 < 400 ? -1 : 1);
              if (!r6)
                throw new Error("Could not find a matching font-weight for value " + t6);
              return r6;
            }(a5.weight, o4)))
              throw new Error("Failed to resolve a font for the rule '" + qt(a5) + "'.");
            return o4;
          }(u4, c4);
          this.pdf.setFont(f3.ref.name, f3.ref.style);
        } else {
          var d3 = "";
          ("bold" === r4 || parseInt(r4, 10) >= 700 || "bold" === n4) && (d3 = "bold"), "italic" === n4 && (d3 += "italic"), 0 === d3.length && (d3 = "normal");
          for (var p4 = "", g3 = { arial: "Helvetica", Arial: "Helvetica", verdana: "Helvetica", Verdana: "Helvetica", helvetica: "Helvetica", Helvetica: "Helvetica", "sans-serif": "Helvetica", fixed: "Courier", monospace: "Courier", terminal: "Courier", cursive: "Times", fantasy: "Times", serif: "Times" }, m3 = 0; m3 < s4.length; m3++) {
            if (void 0 !== this.pdf.internal.getFont(s4[m3], d3, { noFallback: true, disableWarning: true })) {
              p4 = s4[m3];
              break;
            }
            if ("bolditalic" === d3 && void 0 !== this.pdf.internal.getFont(s4[m3], "bold", { noFallback: true, disableWarning: true }))
              p4 = s4[m3], d3 = "bold";
            else if (void 0 !== this.pdf.internal.getFont(s4[m3], "normal", { noFallback: true, disableWarning: true })) {
              p4 = s4[m3], d3 = "normal";
              break;
            }
          }
          if ("" === p4) {
            for (var v3 = 0; v3 < s4.length; v3++)
              if (g3[s4[v3]]) {
                p4 = g3[s4[v3]];
                break;
              }
          }
          p4 = "" === p4 ? "Times" : p4, this.pdf.setFont(p4, d3);
        }
      }
    } }), Object.defineProperty(this, "globalCompositeOperation", { get: function() {
      return this.ctx.globalCompositeOperation;
    }, set: function(t4) {
      this.ctx.globalCompositeOperation = t4;
    } }), Object.defineProperty(this, "globalAlpha", { get: function() {
      return this.ctx.globalAlpha;
    }, set: function(t4) {
      this.ctx.globalAlpha = t4;
    } }), Object.defineProperty(this, "lineDashOffset", { get: function() {
      return this.ctx.lineDashOffset;
    }, set: function(t4) {
      this.ctx.lineDashOffset = t4, T2.call(this);
    } }), Object.defineProperty(this, "lineDash", { get: function() {
      return this.ctx.lineDash;
    }, set: function(t4) {
      this.ctx.lineDash = t4, T2.call(this);
    } }), Object.defineProperty(this, "ignoreClearRect", { get: function() {
      return this.ctx.ignoreClearRect;
    }, set: function(t4) {
      this.ctx.ignoreClearRect = Boolean(t4);
    } });
  };
  p2.prototype.setLineDash = function(t3) {
    this.lineDash = t3;
  }, p2.prototype.getLineDash = function() {
    return this.lineDash.length % 2 ? this.lineDash.concat(this.lineDash) : this.lineDash.slice();
  }, p2.prototype.fill = function() {
    x2.call(this, "fill", false);
  }, p2.prototype.stroke = function() {
    x2.call(this, "stroke", false);
  }, p2.prototype.beginPath = function() {
    this.path = [{ type: "begin" }];
  }, p2.prototype.moveTo = function(t3, e2) {
    if (isNaN(t3) || isNaN(e2))
      throw o.error("jsPDF.context2d.moveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.moveTo");
    var n3 = this.ctx.transform.applyToPoint(new u2(t3, e2));
    this.path.push({ type: "mt", x: n3.x, y: n3.y }), this.ctx.lastPoint = new u2(t3, e2);
  }, p2.prototype.closePath = function() {
    var e2 = new u2(0, 0), n3 = 0;
    for (n3 = this.path.length - 1; -1 !== n3; n3--)
      if ("begin" === this.path[n3].type && "object" === _typeof(this.path[n3 + 1]) && "number" == typeof this.path[n3 + 1].x) {
        e2 = new u2(this.path[n3 + 1].x, this.path[n3 + 1].y);
        break;
      }
    this.path.push({ type: "close" }), this.ctx.lastPoint = new u2(e2.x, e2.y);
  }, p2.prototype.lineTo = function(t3, e2) {
    if (isNaN(t3) || isNaN(e2))
      throw o.error("jsPDF.context2d.lineTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.lineTo");
    var n3 = this.ctx.transform.applyToPoint(new u2(t3, e2));
    this.path.push({ type: "lt", x: n3.x, y: n3.y }), this.ctx.lastPoint = new u2(n3.x, n3.y);
  }, p2.prototype.clip = function() {
    this.ctx.clip_path = JSON.parse(JSON.stringify(this.path)), x2.call(this, null, true);
  }, p2.prototype.quadraticCurveTo = function(t3, e2, n3, r3) {
    if (isNaN(n3) || isNaN(r3) || isNaN(t3) || isNaN(e2))
      throw o.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");
    var i3 = this.ctx.transform.applyToPoint(new u2(n3, r3)), a3 = this.ctx.transform.applyToPoint(new u2(t3, e2));
    this.path.push({ type: "qct", x1: a3.x, y1: a3.y, x: i3.x, y: i3.y }), this.ctx.lastPoint = new u2(i3.x, i3.y);
  }, p2.prototype.bezierCurveTo = function(t3, e2, n3, r3, i3, a3) {
    if (isNaN(i3) || isNaN(a3) || isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3))
      throw o.error("jsPDF.context2d.bezierCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");
    var s3 = this.ctx.transform.applyToPoint(new u2(i3, a3)), c3 = this.ctx.transform.applyToPoint(new u2(t3, e2)), l3 = this.ctx.transform.applyToPoint(new u2(n3, r3));
    this.path.push({ type: "bct", x1: c3.x, y1: c3.y, x2: l3.x, y2: l3.y, x: s3.x, y: s3.y }), this.ctx.lastPoint = new u2(s3.x, s3.y);
  }, p2.prototype.arc = function(t3, e2, n3, r3, i3, a3) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3) || isNaN(i3))
      throw o.error("jsPDF.context2d.arc: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.arc");
    if (a3 = Boolean(a3), !this.ctx.transform.isIdentity) {
      var s3 = this.ctx.transform.applyToPoint(new u2(t3, e2));
      t3 = s3.x, e2 = s3.y;
      var c3 = this.ctx.transform.applyToPoint(new u2(0, n3)), l3 = this.ctx.transform.applyToPoint(new u2(0, 0));
      n3 = Math.sqrt(Math.pow(c3.x - l3.x, 2) + Math.pow(c3.y - l3.y, 2));
    }
    Math.abs(i3 - r3) >= 2 * Math.PI && (r3 = 0, i3 = 2 * Math.PI), this.path.push({ type: "arc", x: t3, y: e2, radius: n3, startAngle: r3, endAngle: i3, counterclockwise: a3 });
  }, p2.prototype.arcTo = function(t3, e2, n3, r3, i3) {
    throw new Error("arcTo not implemented.");
  }, p2.prototype.rect = function(t3, e2, n3, r3) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3))
      throw o.error("jsPDF.context2d.rect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rect");
    this.moveTo(t3, e2), this.lineTo(t3 + n3, e2), this.lineTo(t3 + n3, e2 + r3), this.lineTo(t3, e2 + r3), this.lineTo(t3, e2), this.lineTo(t3 + n3, e2), this.lineTo(t3, e2);
  }, p2.prototype.fillRect = function(t3, e2, n3, r3) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3))
      throw o.error("jsPDF.context2d.fillRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillRect");
    if (!m2.call(this)) {
      var i3 = {};
      "butt" !== this.lineCap && (i3.lineCap = this.lineCap, this.lineCap = "butt"), "miter" !== this.lineJoin && (i3.lineJoin = this.lineJoin, this.lineJoin = "miter"), this.beginPath(), this.rect(t3, e2, n3, r3), this.fill(), i3.hasOwnProperty("lineCap") && (this.lineCap = i3.lineCap), i3.hasOwnProperty("lineJoin") && (this.lineJoin = i3.lineJoin);
    }
  }, p2.prototype.strokeRect = function(t3, e2, n3, r3) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3))
      throw o.error("jsPDF.context2d.strokeRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");
    v2.call(this) || (this.beginPath(), this.rect(t3, e2, n3, r3), this.stroke());
  }, p2.prototype.clearRect = function(t3, e2, n3, r3) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3))
      throw o.error("jsPDF.context2d.clearRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.clearRect");
    this.ignoreClearRect || (this.fillStyle = "#ffffff", this.fillRect(t3, e2, n3, r3));
  }, p2.prototype.save = function(t3) {
    t3 = "boolean" != typeof t3 || t3;
    for (var e2 = this.pdf.internal.getCurrentPageInfo().pageNumber, n3 = 0; n3 < this.pdf.internal.getNumberOfPages(); n3++)
      this.pdf.setPage(n3 + 1), this.pdf.internal.out("q");
    if (this.pdf.setPage(e2), t3) {
      this.ctx.fontSize = this.pdf.internal.getFontSize();
      var r3 = new d2(this.ctx);
      this.ctxStack.push(this.ctx), this.ctx = r3;
    }
  }, p2.prototype.restore = function(t3) {
    t3 = "boolean" != typeof t3 || t3;
    for (var e2 = this.pdf.internal.getCurrentPageInfo().pageNumber, n3 = 0; n3 < this.pdf.internal.getNumberOfPages(); n3++)
      this.pdf.setPage(n3 + 1), this.pdf.internal.out("Q");
    this.pdf.setPage(e2), t3 && 0 !== this.ctxStack.length && (this.ctx = this.ctxStack.pop(), this.fillStyle = this.ctx.fillStyle, this.strokeStyle = this.ctx.strokeStyle, this.font = this.ctx.font, this.lineCap = this.ctx.lineCap, this.lineWidth = this.ctx.lineWidth, this.lineJoin = this.ctx.lineJoin, this.lineDash = this.ctx.lineDash, this.lineDashOffset = this.ctx.lineDashOffset);
  }, p2.prototype.toDataURL = function() {
    throw new Error("toDataUrl not implemented.");
  };
  var g2 = function(t3) {
    var e2, n3, r3, i3;
    if (true === t3.isCanvasGradient && (t3 = t3.getColor()), !t3)
      return { r: 0, g: 0, b: 0, a: 0, style: t3 };
    if (/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t3))
      e2 = 0, n3 = 0, r3 = 0, i3 = 0;
    else {
      var a3 = /rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t3);
      if (null !== a3)
        e2 = parseInt(a3[1]), n3 = parseInt(a3[2]), r3 = parseInt(a3[3]), i3 = 1;
      else if (null !== (a3 = /rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t3)))
        e2 = parseInt(a3[1]), n3 = parseInt(a3[2]), r3 = parseInt(a3[3]), i3 = parseFloat(a3[4]);
      else {
        if (i3 = 1, "string" == typeof t3 && "#" !== t3.charAt(0)) {
          var o2 = new h(t3);
          t3 = o2.ok ? o2.toHex() : "#000000";
        }
        4 === t3.length ? (e2 = t3.substring(1, 2), e2 += e2, n3 = t3.substring(2, 3), n3 += n3, r3 = t3.substring(3, 4), r3 += r3) : (e2 = t3.substring(1, 3), n3 = t3.substring(3, 5), r3 = t3.substring(5, 7)), e2 = parseInt(e2, 16), n3 = parseInt(n3, 16), r3 = parseInt(r3, 16);
      }
    }
    return { r: e2, g: n3, b: r3, a: i3, style: t3 };
  }, m2 = function() {
    return this.ctx.isFillTransparent || 0 == this.globalAlpha;
  }, v2 = function() {
    return Boolean(this.ctx.isStrokeTransparent || 0 == this.globalAlpha);
  };
  p2.prototype.fillText = function(t3, e2, n3, r3) {
    if (isNaN(e2) || isNaN(n3) || "string" != typeof t3)
      throw o.error("jsPDF.context2d.fillText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillText");
    if (r3 = isNaN(r3) ? void 0 : r3, !m2.call(this)) {
      var i3 = E2(this.ctx.transform.rotation), a3 = this.ctx.transform.scaleX;
      j2.call(this, { text: t3, x: e2, y: n3, scale: a3, angle: i3, align: this.textAlign, maxWidth: r3 });
    }
  }, p2.prototype.strokeText = function(t3, e2, n3, r3) {
    if (isNaN(e2) || isNaN(n3) || "string" != typeof t3)
      throw o.error("jsPDF.context2d.strokeText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeText");
    if (!v2.call(this)) {
      r3 = isNaN(r3) ? void 0 : r3;
      var i3 = E2(this.ctx.transform.rotation), a3 = this.ctx.transform.scaleX;
      j2.call(this, { text: t3, x: e2, y: n3, scale: a3, renderingMode: "stroke", angle: i3, align: this.textAlign, maxWidth: r3 });
    }
  }, p2.prototype.measureText = function(t3) {
    if ("string" != typeof t3)
      throw o.error("jsPDF.context2d.measureText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.measureText");
    var e2 = this.pdf, n3 = this.pdf.internal.scaleFactor, r3 = e2.internal.getFontSize(), i3 = e2.getStringUnitWidth(t3) * r3 / e2.internal.scaleFactor;
    return new function(t4) {
      var e3 = (t4 = t4 || {}).width || 0;
      return Object.defineProperty(this, "width", { get: function() {
        return e3;
      } }), this;
    }({ width: i3 *= Math.round(96 * n3 / 72 * 1e4) / 1e4 });
  }, p2.prototype.scale = function(t3, e2) {
    if (isNaN(t3) || isNaN(e2))
      throw o.error("jsPDF.context2d.scale: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.scale");
    var n3 = new l2(t3, 0, 0, e2, 0, 0);
    this.ctx.transform = this.ctx.transform.multiply(n3);
  }, p2.prototype.rotate = function(t3) {
    if (isNaN(t3))
      throw o.error("jsPDF.context2d.rotate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rotate");
    var e2 = new l2(Math.cos(t3), Math.sin(t3), -Math.sin(t3), Math.cos(t3), 0, 0);
    this.ctx.transform = this.ctx.transform.multiply(e2);
  }, p2.prototype.translate = function(t3, e2) {
    if (isNaN(t3) || isNaN(e2))
      throw o.error("jsPDF.context2d.translate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.translate");
    var n3 = new l2(1, 0, 0, 1, t3, e2);
    this.ctx.transform = this.ctx.transform.multiply(n3);
  }, p2.prototype.transform = function(t3, e2, n3, r3, i3, a3) {
    if (isNaN(t3) || isNaN(e2) || isNaN(n3) || isNaN(r3) || isNaN(i3) || isNaN(a3))
      throw o.error("jsPDF.context2d.transform: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.transform");
    var s3 = new l2(t3, e2, n3, r3, i3, a3);
    this.ctx.transform = this.ctx.transform.multiply(s3);
  }, p2.prototype.setTransform = function(t3, e2, n3, r3, i3, a3) {
    t3 = isNaN(t3) ? 1 : t3, e2 = isNaN(e2) ? 0 : e2, n3 = isNaN(n3) ? 0 : n3, r3 = isNaN(r3) ? 1 : r3, i3 = isNaN(i3) ? 0 : i3, a3 = isNaN(a3) ? 0 : a3, this.ctx.transform = new l2(t3, e2, n3, r3, i3, a3);
  };
  var b3 = function() {
    return this.margin[0] > 0 || this.margin[1] > 0 || this.margin[2] > 0 || this.margin[3] > 0;
  };
  p2.prototype.drawImage = function(t3, e2, n3, r3, i3, a3, o2, s3, u3) {
    var h2 = this.pdf.getImageProperties(t3), f3 = 1, d3 = 1, p3 = 1, g3 = 1;
    void 0 !== r3 && void 0 !== s3 && (p3 = s3 / r3, g3 = u3 / i3, f3 = h2.width / r3 * s3 / r3, d3 = h2.height / i3 * u3 / i3), void 0 === a3 && (a3 = e2, o2 = n3, e2 = 0, n3 = 0), void 0 !== r3 && void 0 === s3 && (s3 = r3, u3 = i3), void 0 === r3 && void 0 === s3 && (s3 = h2.width, u3 = h2.height);
    var m3 = this.ctx.transform.decompose(), v3 = E2(m3.rotate.shx), w3 = new l2(), x3 = (w3 = (w3 = (w3 = w3.multiply(m3.translate)).multiply(m3.skew)).multiply(m3.scale)).applyToRectangle(new c2(a3 - e2 * p3, o2 - n3 * g3, r3 * f3, i3 * d3));
    if (this.autoPaging) {
      for (var S3, _3 = y2.call(this, x3), P3 = [], k4 = 0; k4 < _3.length; k4 += 1)
        -1 === P3.indexOf(_3[k4]) && P3.push(_3[k4]);
      L2(P3);
      for (var F3 = P3[0], I3 = P3[P3.length - 1], j3 = F3; j3 < I3 + 1; j3++) {
        this.pdf.setPage(j3);
        var C3 = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], O3 = 1 === j3 ? this.posY + this.margin[0] : this.margin[0], B3 = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], M3 = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], q3 = 1 === j3 ? 0 : B3 + (j3 - 2) * M3;
        if (0 !== this.ctx.clip_path.length) {
          var R3 = this.path;
          S3 = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N2(S3, this.posX + this.margin[3], -q3 + O3 + this.ctx.prevPageLastElemOffset), A2.call(this, "fill", true), this.path = R3;
        }
        var D3 = JSON.parse(JSON.stringify(x3));
        D3 = N2([D3], this.posX + this.margin[3], -q3 + O3 + this.ctx.prevPageLastElemOffset)[0];
        var T3 = (j3 > F3 || j3 < I3) && b3.call(this);
        T3 && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], C3, M3, null).clip().discardPath()), this.pdf.addImage(t3, "JPEG", D3.x, D3.y, D3.w, D3.h, null, null, v3), T3 && this.pdf.restoreGraphicsState();
      }
    } else
      this.pdf.addImage(t3, "JPEG", x3.x, x3.y, x3.w, x3.h, null, null, v3);
  };
  var y2 = function(t3, e2, n3) {
    var r3 = [];
    e2 = e2 || this.pdf.internal.pageSize.width, n3 = n3 || this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2];
    var i3 = this.posY + this.ctx.prevPageLastElemOffset;
    switch (t3.type) {
      default:
      case "mt":
      case "lt":
        r3.push(Math.floor((t3.y + i3) / n3) + 1);
        break;
      case "arc":
        r3.push(Math.floor((t3.y + i3 - t3.radius) / n3) + 1), r3.push(Math.floor((t3.y + i3 + t3.radius) / n3) + 1);
        break;
      case "qct":
        var a3 = R2(this.ctx.lastPoint.x, this.ctx.lastPoint.y, t3.x1, t3.y1, t3.x, t3.y);
        r3.push(Math.floor((a3.y + i3) / n3) + 1), r3.push(Math.floor((a3.y + a3.h + i3) / n3) + 1);
        break;
      case "bct":
        var o2 = D2(this.ctx.lastPoint.x, this.ctx.lastPoint.y, t3.x1, t3.y1, t3.x2, t3.y2, t3.x, t3.y);
        r3.push(Math.floor((o2.y + i3) / n3) + 1), r3.push(Math.floor((o2.y + o2.h + i3) / n3) + 1);
        break;
      case "rect":
        r3.push(Math.floor((t3.y + i3) / n3) + 1), r3.push(Math.floor((t3.y + t3.h + i3) / n3) + 1);
    }
    for (var s3 = 0; s3 < r3.length; s3 += 1)
      for (; this.pdf.internal.getNumberOfPages() < r3[s3]; )
        w2.call(this);
    return r3;
  }, w2 = function() {
    var t3 = this.fillStyle, e2 = this.strokeStyle, n3 = this.font, r3 = this.lineCap, i3 = this.lineWidth, a3 = this.lineJoin;
    this.pdf.addPage(), this.fillStyle = t3, this.strokeStyle = e2, this.font = n3, this.lineCap = r3, this.lineWidth = i3, this.lineJoin = a3;
  }, N2 = function(t3, e2, n3) {
    for (var r3 = 0; r3 < t3.length; r3++)
      switch (t3[r3].type) {
        case "bct":
          t3[r3].x2 += e2, t3[r3].y2 += n3;
        case "qct":
          t3[r3].x1 += e2, t3[r3].y1 += n3;
        default:
          t3[r3].x += e2, t3[r3].y += n3;
      }
    return t3;
  }, L2 = function(t3) {
    return t3.sort(function(t4, e2) {
      return t4 - e2;
    });
  }, x2 = function(t3, e2) {
    var n3 = this.fillStyle, r3 = this.strokeStyle, i3 = this.lineCap, a3 = this.lineWidth, o2 = Math.abs(a3 * this.ctx.transform.scaleX), s3 = this.lineJoin;
    if (this.autoPaging) {
      for (var u3, c3, l3 = JSON.parse(JSON.stringify(this.path)), h2 = JSON.parse(JSON.stringify(this.path)), f3 = [], d3 = 0; d3 < h2.length; d3++)
        if (void 0 !== h2[d3].x)
          for (var p3 = y2.call(this, h2[d3]), g3 = 0; g3 < p3.length; g3 += 1)
            -1 === f3.indexOf(p3[g3]) && f3.push(p3[g3]);
      for (var m3 = 0; m3 < f3.length; m3++)
        for (; this.pdf.internal.getNumberOfPages() < f3[m3]; )
          w2.call(this);
      L2(f3);
      for (var v3 = f3[0], x3 = f3[f3.length - 1], S3 = v3; S3 < x3 + 1; S3++) {
        this.pdf.setPage(S3), this.fillStyle = n3, this.strokeStyle = r3, this.lineCap = i3, this.lineWidth = o2, this.lineJoin = s3;
        var _3 = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], P3 = 1 === S3 ? this.posY + this.margin[0] : this.margin[0], k4 = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], F3 = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], I3 = 1 === S3 ? 0 : k4 + (S3 - 2) * F3;
        if (0 !== this.ctx.clip_path.length) {
          var j3 = this.path;
          u3 = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N2(u3, this.posX + this.margin[3], -I3 + P3 + this.ctx.prevPageLastElemOffset), A2.call(this, t3, true), this.path = j3;
        }
        if (c3 = JSON.parse(JSON.stringify(l3)), this.path = N2(c3, this.posX + this.margin[3], -I3 + P3 + this.ctx.prevPageLastElemOffset), false === e2 || 0 === S3) {
          var C3 = (S3 > v3 || S3 < x3) && b3.call(this);
          C3 && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], _3, F3, null).clip().discardPath()), A2.call(this, t3, e2), C3 && this.pdf.restoreGraphicsState();
        }
        this.lineWidth = a3;
      }
      this.path = l3;
    } else
      this.lineWidth = o2, A2.call(this, t3, e2), this.lineWidth = a3;
  }, A2 = function(t3, e2) {
    if (("stroke" !== t3 || e2 || !v2.call(this)) && ("stroke" === t3 || e2 || !m2.call(this))) {
      for (var n3, r3, i3 = [], a3 = this.path, o2 = 0; o2 < a3.length; o2++) {
        var s3 = a3[o2];
        switch (s3.type) {
          case "begin":
            i3.push({ begin: true });
            break;
          case "close":
            i3.push({ close: true });
            break;
          case "mt":
            i3.push({ start: s3, deltas: [], abs: [] });
            break;
          case "lt":
            var u3 = i3.length;
            if (a3[o2 - 1] && !isNaN(a3[o2 - 1].x) && (n3 = [s3.x - a3[o2 - 1].x, s3.y - a3[o2 - 1].y], u3 > 0)) {
              for (; u3 >= 0; u3--)
                if (true !== i3[u3 - 1].close && true !== i3[u3 - 1].begin) {
                  i3[u3 - 1].deltas.push(n3), i3[u3 - 1].abs.push(s3);
                  break;
                }
            }
            break;
          case "bct":
            n3 = [s3.x1 - a3[o2 - 1].x, s3.y1 - a3[o2 - 1].y, s3.x2 - a3[o2 - 1].x, s3.y2 - a3[o2 - 1].y, s3.x - a3[o2 - 1].x, s3.y - a3[o2 - 1].y], i3[i3.length - 1].deltas.push(n3);
            break;
          case "qct":
            var c3 = a3[o2 - 1].x + 2 / 3 * (s3.x1 - a3[o2 - 1].x), l3 = a3[o2 - 1].y + 2 / 3 * (s3.y1 - a3[o2 - 1].y), h2 = s3.x + 2 / 3 * (s3.x1 - s3.x), f3 = s3.y + 2 / 3 * (s3.y1 - s3.y), d3 = s3.x, p3 = s3.y;
            n3 = [c3 - a3[o2 - 1].x, l3 - a3[o2 - 1].y, h2 - a3[o2 - 1].x, f3 - a3[o2 - 1].y, d3 - a3[o2 - 1].x, p3 - a3[o2 - 1].y], i3[i3.length - 1].deltas.push(n3);
            break;
          case "arc":
            i3.push({ deltas: [], abs: [], arc: true }), Array.isArray(i3[i3.length - 1].abs) && i3[i3.length - 1].abs.push(s3);
        }
      }
      r3 = e2 ? null : "stroke" === t3 ? "stroke" : "fill";
      for (var g3 = false, b5 = 0; b5 < i3.length; b5++)
        if (i3[b5].arc)
          for (var y3 = i3[b5].abs, w3 = 0; w3 < y3.length; w3++) {
            var N3 = y3[w3];
            "arc" === N3.type ? P2.call(this, N3.x, N3.y, N3.radius, N3.startAngle, N3.endAngle, N3.counterclockwise, void 0, e2, !g3) : C2.call(this, N3.x, N3.y), g3 = true;
          }
        else if (true === i3[b5].close)
          this.pdf.internal.out("h"), g3 = false;
        else if (true !== i3[b5].begin) {
          var L3 = i3[b5].start.x, x3 = i3[b5].start.y;
          O2.call(this, i3[b5].deltas, L3, x3), g3 = true;
        }
      r3 && k3.call(this, r3), e2 && F2.call(this);
    }
  }, S2 = function(t3) {
    var e2 = this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor, n3 = e2 * (this.pdf.internal.getLineHeightFactor() - 1);
    switch (this.ctx.textBaseline) {
      case "bottom":
        return t3 - n3;
      case "top":
        return t3 + e2 - n3;
      case "hanging":
        return t3 + e2 - 2 * n3;
      case "middle":
        return t3 + e2 / 2 - n3;
      default:
        return t3;
    }
  }, _2 = function(t3) {
    return t3 + this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor * (this.pdf.internal.getLineHeightFactor() - 1);
  };
  p2.prototype.createLinearGradient = function() {
    var t3 = function() {
    };
    return t3.colorStops = [], t3.addColorStop = function(t4, e2) {
      this.colorStops.push([t4, e2]);
    }, t3.getColor = function() {
      return 0 === this.colorStops.length ? "#000000" : this.colorStops[0][1];
    }, t3.isCanvasGradient = true, t3;
  }, p2.prototype.createPattern = function() {
    return this.createLinearGradient();
  }, p2.prototype.createRadialGradient = function() {
    return this.createLinearGradient();
  };
  var P2 = function(t3, e2, n3, r3, i3, a3, o2, s3, u3) {
    for (var c3 = M2.call(this, n3, r3, i3, a3), l3 = 0; l3 < c3.length; l3++) {
      var h2 = c3[l3];
      0 === l3 && (u3 ? I2.call(this, h2.x1 + t3, h2.y1 + e2) : C2.call(this, h2.x1 + t3, h2.y1 + e2)), B2.call(this, t3, e2, h2.x2, h2.y2, h2.x3, h2.y3, h2.x4, h2.y4);
    }
    s3 ? F2.call(this) : k3.call(this, o2);
  }, k3 = function(t3) {
    switch (t3) {
      case "stroke":
        this.pdf.internal.out("S");
        break;
      case "fill":
        this.pdf.internal.out("f");
    }
  }, F2 = function() {
    this.pdf.clip(), this.pdf.discardPath();
  }, I2 = function(t3, e2) {
    this.pdf.internal.out(r2(t3) + " " + i2(e2) + " m");
  }, j2 = function(t3) {
    var e2;
    switch (t3.align) {
      case "right":
      case "end":
        e2 = "right";
        break;
      case "center":
        e2 = "center";
        break;
      default:
        e2 = "left";
    }
    var n3, r3, i3, a3 = this.pdf.getTextDimensions(t3.text), o2 = S2.call(this, t3.y), s3 = _2.call(this, o2) - a3.h, h2 = this.ctx.transform.applyToPoint(new u2(t3.x, o2));
    if (this.autoPaging) {
      var f3 = this.ctx.transform.decompose(), d3 = new l2();
      d3 = (d3 = (d3 = d3.multiply(f3.translate)).multiply(f3.skew)).multiply(f3.scale);
      for (var p3 = this.ctx.transform.applyToRectangle(new c2(t3.x, o2, a3.w, a3.h)), g3 = d3.applyToRectangle(new c2(t3.x, s3, a3.w, a3.h)), m3 = y2.call(this, g3), v3 = [], w3 = 0; w3 < m3.length; w3 += 1)
        -1 === v3.indexOf(m3[w3]) && v3.push(m3[w3]);
      L2(v3);
      for (var x3 = v3[0], P3 = v3[v3.length - 1], k4 = x3; k4 < P3 + 1; k4++) {
        this.pdf.setPage(k4);
        var F3 = 1 === k4 ? this.posY + this.margin[0] : this.margin[0], I3 = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], j3 = this.pdf.internal.pageSize.height - this.margin[2], C3 = j3 - this.margin[0], O3 = this.pdf.internal.pageSize.width - this.margin[1], B3 = O3 - this.margin[3], M3 = 1 === k4 ? 0 : I3 + (k4 - 2) * C3;
        if (0 !== this.ctx.clip_path.length) {
          var q3 = this.path;
          n3 = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = N2(n3, this.posX + this.margin[3], -1 * M3 + F3), A2.call(this, "fill", true), this.path = q3;
        }
        var E3 = N2([JSON.parse(JSON.stringify(g3))], this.posX + this.margin[3], -M3 + F3 + this.ctx.prevPageLastElemOffset)[0];
        t3.scale >= 0.01 && (r3 = this.pdf.internal.getFontSize(), this.pdf.setFontSize(r3 * t3.scale), i3 = this.lineWidth, this.lineWidth = i3 * t3.scale);
        var R3 = "text" !== this.autoPaging;
        if (R3 || E3.y + E3.h <= j3) {
          if (R3 || E3.y >= F3 && E3.x <= O3) {
            var D3 = R3 ? t3.text : this.pdf.splitTextToSize(t3.text, t3.maxWidth || O3 - E3.x)[0], T3 = N2([JSON.parse(JSON.stringify(p3))], this.posX + this.margin[3], -M3 + F3 + this.ctx.prevPageLastElemOffset)[0], z2 = R3 && (k4 > x3 || k4 < P3) && b3.call(this);
            z2 && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], B3, C3, null).clip().discardPath()), this.pdf.text(D3, T3.x, T3.y, { angle: t3.angle, align: e2, renderingMode: t3.renderingMode }), z2 && this.pdf.restoreGraphicsState();
          }
        } else
          E3.y < j3 && (this.ctx.prevPageLastElemOffset += j3 - E3.y);
        t3.scale >= 0.01 && (this.pdf.setFontSize(r3), this.lineWidth = i3);
      }
    } else
      t3.scale >= 0.01 && (r3 = this.pdf.internal.getFontSize(), this.pdf.setFontSize(r3 * t3.scale), i3 = this.lineWidth, this.lineWidth = i3 * t3.scale), this.pdf.text(t3.text, h2.x + this.posX, h2.y + this.posY, { angle: t3.angle, align: e2, renderingMode: t3.renderingMode, maxWidth: t3.maxWidth }), t3.scale >= 0.01 && (this.pdf.setFontSize(r3), this.lineWidth = i3);
  }, C2 = function(t3, e2, n3, a3) {
    n3 = n3 || 0, a3 = a3 || 0, this.pdf.internal.out(r2(t3 + n3) + " " + i2(e2 + a3) + " l");
  }, O2 = function(t3, e2, n3) {
    return this.pdf.lines(t3, e2, n3, null, null);
  }, B2 = function(t3, e2, r3, i3, o2, u3, c3, l3) {
    this.pdf.internal.out([n2(a2(r3 + t3)), n2(s2(i3 + e2)), n2(a2(o2 + t3)), n2(s2(u3 + e2)), n2(a2(c3 + t3)), n2(s2(l3 + e2)), "c"].join(" "));
  }, M2 = function(t3, e2, n3, r3) {
    for (var i3 = 2 * Math.PI, a3 = Math.PI / 2; e2 > n3; )
      e2 -= i3;
    var o2 = Math.abs(n3 - e2);
    o2 < i3 && r3 && (o2 = i3 - o2);
    for (var s3 = [], u3 = r3 ? -1 : 1, c3 = e2; o2 > 1e-5; ) {
      var l3 = c3 + u3 * Math.min(o2, a3);
      s3.push(q2.call(this, t3, c3, l3)), o2 -= Math.abs(l3 - c3), c3 = l3;
    }
    return s3;
  }, q2 = function(t3, e2, n3) {
    var r3 = (n3 - e2) / 2, i3 = t3 * Math.cos(r3), a3 = t3 * Math.sin(r3), o2 = i3, s3 = -a3, u3 = o2 * o2 + s3 * s3, c3 = u3 + o2 * i3 + s3 * a3, l3 = 4 / 3 * (Math.sqrt(2 * u3 * c3) - c3) / (o2 * a3 - s3 * i3), h2 = o2 - l3 * s3, f3 = s3 + l3 * o2, d3 = h2, p3 = -f3, g3 = r3 + e2, m3 = Math.cos(g3), v3 = Math.sin(g3);
    return { x1: t3 * Math.cos(e2), y1: t3 * Math.sin(e2), x2: h2 * m3 - f3 * v3, y2: h2 * v3 + f3 * m3, x3: d3 * m3 - p3 * v3, y3: d3 * v3 + p3 * m3, x4: t3 * Math.cos(n3), y4: t3 * Math.sin(n3) };
  }, E2 = function(t3) {
    return 180 * t3 / Math.PI;
  }, R2 = function(t3, e2, n3, r3, i3, a3) {
    var o2 = t3 + 0.5 * (n3 - t3), s3 = e2 + 0.5 * (r3 - e2), u3 = i3 + 0.5 * (n3 - i3), l3 = a3 + 0.5 * (r3 - a3), h2 = Math.min(t3, i3, o2, u3), f3 = Math.max(t3, i3, o2, u3), d3 = Math.min(e2, a3, s3, l3), p3 = Math.max(e2, a3, s3, l3);
    return new c2(h2, d3, f3 - h2, p3 - d3);
  }, D2 = function(t3, e2, n3, r3, i3, a3, o2, s3) {
    var u3, l3, h2, f3, d3, p3, g3, m3, v3, b5, y3, w3, N3, L3, x3 = n3 - t3, A3 = r3 - e2, S3 = i3 - n3, _3 = a3 - r3, P3 = o2 - i3, k4 = s3 - a3;
    for (l3 = 0; l3 < 41; l3++)
      v3 = (g3 = (h2 = t3 + (u3 = l3 / 40) * x3) + u3 * ((d3 = n3 + u3 * S3) - h2)) + u3 * (d3 + u3 * (i3 + u3 * P3 - d3) - g3), b5 = (m3 = (f3 = e2 + u3 * A3) + u3 * ((p3 = r3 + u3 * _3) - f3)) + u3 * (p3 + u3 * (a3 + u3 * k4 - p3) - m3), 0 == l3 ? (y3 = v3, w3 = b5, N3 = v3, L3 = b5) : (y3 = Math.min(y3, v3), w3 = Math.min(w3, b5), N3 = Math.max(N3, v3), L3 = Math.max(L3, b5));
    return new c2(Math.round(y3), Math.round(w3), Math.round(N3 - y3), Math.round(L3 - w3));
  }, T2 = function() {
    if (this.prevLineDash || this.ctx.lineDash.length || this.ctx.lineDashOffset) {
      var t3, e2, n3 = (t3 = this.ctx.lineDash, e2 = this.ctx.lineDashOffset, JSON.stringify({ lineDash: t3, lineDashOffset: e2 }));
      this.prevLineDash !== n3 && (this.pdf.setLineDash(this.ctx.lineDash, this.ctx.lineDashOffset), this.prevLineDash = n3);
    }
  };
}(E.API), function(t3) {
  var n2 = function(t4) {
    var e, n3, r3, i3, a3, o3, s2, u2, c2, l2;
    for (/[^\x00-\xFF]/.test(t4), n3 = [], r3 = 0, i3 = (t4 += e = "\0\0\0\0".slice(t4.length % 4 || 4)).length; i3 > r3; r3 += 4)
      0 !== (a3 = (t4.charCodeAt(r3) << 24) + (t4.charCodeAt(r3 + 1) << 16) + (t4.charCodeAt(r3 + 2) << 8) + t4.charCodeAt(r3 + 3)) ? (o3 = (a3 = ((a3 = ((a3 = ((a3 = (a3 - (l2 = a3 % 85)) / 85) - (c2 = a3 % 85)) / 85) - (u2 = a3 % 85)) / 85) - (s2 = a3 % 85)) / 85) % 85, n3.push(o3 + 33, s2 + 33, u2 + 33, c2 + 33, l2 + 33)) : n3.push(122);
    return function(t5, e2) {
      for (var n4 = e2; n4 > 0; n4--)
        t5.pop();
    }(n3, e.length), String.fromCharCode.apply(String, n3) + "~>";
  }, r2 = function(t4) {
    var e, n3, r3, i3, a3, o3 = String, s2 = "length", u2 = 255, c2 = "charCodeAt", l2 = "slice", h2 = "replace";
    for (t4[l2](-2), t4 = t4[l2](0, -2)[h2](/\s/g, "")[h2]("z", "!!!!!"), r3 = [], i3 = 0, a3 = (t4 += e = "uuuuu"[l2](t4[s2] % 5 || 5))[s2]; a3 > i3; i3 += 5)
      n3 = 52200625 * (t4[c2](i3) - 33) + 614125 * (t4[c2](i3 + 1) - 33) + 7225 * (t4[c2](i3 + 2) - 33) + 85 * (t4[c2](i3 + 3) - 33) + (t4[c2](i3 + 4) - 33), r3.push(u2 & n3 >> 24, u2 & n3 >> 16, u2 & n3 >> 8, u2 & n3);
    return function(t5, e2) {
      for (var n4 = e2; n4 > 0; n4--)
        t5.pop();
    }(r3, e[s2]), o3.fromCharCode.apply(o3, r3);
  }, i2 = function(t4) {
    return t4.split("").map(function(t5) {
      return ("0" + t5.charCodeAt().toString(16)).slice(-2);
    }).join("") + ">";
  }, a2 = function(t4) {
    var e = new RegExp(/^([0-9A-Fa-f]{2})+$/);
    if (-1 !== (t4 = t4.replace(/\s/g, "")).indexOf(">") && (t4 = t4.substr(0, t4.indexOf(">"))), t4.length % 2 && (t4 += "0"), false === e.test(t4))
      return "";
    for (var n3 = "", r3 = 0; r3 < t4.length; r3 += 2)
      n3 += String.fromCharCode("0x" + (t4[r3] + t4[r3 + 1]));
    return n3;
  }, o2 = function(t4) {
    for (var n3 = new Uint8Array(t4.length), r3 = t4.length; r3--; )
      n3[r3] = t4.charCodeAt(r3);
    return (n3 = zlibSync(n3)).reduce(function(t5, e) {
      return t5 + String.fromCharCode(e);
    }, "");
  };
  t3.processDataByFilters = function(t4, e) {
    var s2 = 0, u2 = t4 || "", c2 = [];
    for ("string" == typeof (e = e || []) && (e = [e]), s2 = 0; s2 < e.length; s2 += 1)
      switch (e[s2]) {
        case "ASCII85Decode":
        case "/ASCII85Decode":
          u2 = r2(u2), c2.push("/ASCII85Encode");
          break;
        case "ASCII85Encode":
        case "/ASCII85Encode":
          u2 = n2(u2), c2.push("/ASCII85Decode");
          break;
        case "ASCIIHexDecode":
        case "/ASCIIHexDecode":
          u2 = a2(u2), c2.push("/ASCIIHexEncode");
          break;
        case "ASCIIHexEncode":
        case "/ASCIIHexEncode":
          u2 = i2(u2), c2.push("/ASCIIHexDecode");
          break;
        case "FlateEncode":
        case "/FlateEncode":
          u2 = o2(u2), c2.push("/FlateDecode");
          break;
        default:
          throw new Error('The filter: "' + e[s2] + '" is not implemented');
      }
    return { data: u2, reverseChain: c2.reverse().join(" ") };
  };
}(E.API), function(t3) {
  t3.loadFile = function(t4, e, n2) {
    return function(t5, e2, n3) {
      e2 = false !== e2, n3 = "function" == typeof n3 ? n3 : function() {
      };
      var r2 = void 0;
      try {
        r2 = function(t6, e3, n4) {
          var r3 = new XMLHttpRequest(), i2 = 0, a2 = function(t7) {
            var e4 = t7.length, n5 = [], r4 = String.fromCharCode;
            for (i2 = 0; i2 < e4; i2 += 1)
              n5.push(r4(255 & t7.charCodeAt(i2)));
            return n5.join("");
          };
          if (r3.open("GET", t6, !e3), r3.overrideMimeType("text/plain; charset=x-user-defined"), false === e3 && (r3.onload = function() {
            200 === r3.status ? n4(a2(this.responseText)) : n4(void 0);
          }), r3.send(null), e3 && 200 === r3.status)
            return a2(r3.responseText);
        }(t5, e2, n3);
      } catch (i2) {
      }
      return r2;
    }(t4, e, n2);
  }, t3.loadImageFile = t3.loadFile;
}(E.API), function(e) {
  function n2() {
    return (i.html2canvas ? Promise.resolve(i.html2canvas) : __vitePreload(() => import("./html2canvas.esm.0eae2bf4.js"), true ? [] : void 0)).catch(function(t3) {
      return Promise.reject(new Error("Could not load html2canvas: " + t3));
    }).then(function(t3) {
      return t3.default ? t3.default : t3;
    });
  }
  function r2() {
    return (i.DOMPurify ? Promise.resolve(i.DOMPurify) : __vitePreload(() => import("./purify.es.71f4a289.js"), true ? [] : void 0)).catch(function(t3) {
      return Promise.reject(new Error("Could not load dompurify: " + t3));
    }).then(function(t3) {
      return t3.default ? t3.default : t3;
    });
  }
  var a2 = function(e2) {
    var n3 = _typeof(e2);
    return "undefined" === n3 ? "undefined" : "string" === n3 || e2 instanceof String ? "string" : "number" === n3 || e2 instanceof Number ? "number" : "function" === n3 || e2 instanceof Function ? "function" : e2 && e2.constructor === Array ? "array" : e2 && 1 === e2.nodeType ? "element" : "object" === n3 ? "object" : "unknown";
  }, o2 = function(t3, e2) {
    var n3 = document.createElement(t3);
    for (var r3 in e2.className && (n3.className = e2.className), e2.innerHTML && e2.dompurify && (n3.innerHTML = e2.dompurify.sanitize(e2.innerHTML)), e2.style)
      n3.style[r3] = e2.style[r3];
    return n3;
  }, s2 = function t3(e2, n3) {
    for (var r3 = 3 === e2.nodeType ? document.createTextNode(e2.nodeValue) : e2.cloneNode(false), i2 = e2.firstChild; i2; i2 = i2.nextSibling)
      true !== n3 && 1 === i2.nodeType && "SCRIPT" === i2.nodeName || r3.appendChild(t3(i2, n3));
    return 1 === e2.nodeType && ("CANVAS" === e2.nodeName ? (r3.width = e2.width, r3.height = e2.height, r3.getContext("2d").drawImage(e2, 0, 0)) : "TEXTAREA" !== e2.nodeName && "SELECT" !== e2.nodeName || (r3.value = e2.value), r3.addEventListener("load", function() {
      r3.scrollTop = e2.scrollTop, r3.scrollLeft = e2.scrollLeft;
    }, true)), r3;
  }, u2 = function t3(e2) {
    var n3 = Object.assign(t3.convert(Promise.resolve()), JSON.parse(JSON.stringify(t3.template))), r3 = t3.convert(Promise.resolve(), n3);
    return (r3 = r3.setProgress(1, t3, 1, [t3])).set(e2);
  };
  (u2.prototype = Object.create(Promise.prototype)).constructor = u2, u2.convert = function(t3, e2) {
    return t3.__proto__ = e2 || u2.prototype, t3;
  }, u2.template = { prop: { src: null, container: null, overlay: null, canvas: null, img: null, pdf: null, pageSize: null, callback: function() {
  } }, progress: { val: 0, state: null, n: 0, stack: [] }, opt: { filename: "file.pdf", margin: [0, 0, 0, 0], enableLinks: true, x: 0, y: 0, html2canvas: {}, jsPDF: {}, backgroundColor: "transparent" } }, u2.prototype.from = function(t3, e2) {
    return this.then(function() {
      switch (e2 = e2 || function(t4) {
        switch (a2(t4)) {
          case "string":
            return "string";
          case "element":
            return "canvas" === t4.nodeName.toLowerCase() ? "canvas" : "element";
          default:
            return "unknown";
        }
      }(t3), e2) {
        case "string":
          return this.then(r2).then(function(e3) {
            return this.set({ src: o2("div", { innerHTML: t3, dompurify: e3 }) });
          });
        case "element":
          return this.set({ src: t3 });
        case "canvas":
          return this.set({ canvas: t3 });
        case "img":
          return this.set({ img: t3 });
        default:
          return this.error("Unknown source type.");
      }
    });
  }, u2.prototype.to = function(t3) {
    switch (t3) {
      case "container":
        return this.toContainer();
      case "canvas":
        return this.toCanvas();
      case "img":
        return this.toImg();
      case "pdf":
        return this.toPdf();
      default:
        return this.error("Invalid target.");
    }
  }, u2.prototype.toContainer = function() {
    return this.thenList([function() {
      return this.prop.src || this.error("Cannot duplicate - no source HTML.");
    }, function() {
      return this.prop.pageSize || this.setPageSize();
    }]).then(function() {
      var t3 = { position: "relative", display: "inline-block", width: ("number" != typeof this.opt.width || isNaN(this.opt.width) || "number" != typeof this.opt.windowWidth || isNaN(this.opt.windowWidth) ? Math.max(this.prop.src.clientWidth, this.prop.src.scrollWidth, this.prop.src.offsetWidth) : this.opt.windowWidth) + "px", left: 0, right: 0, top: 0, margin: "auto", backgroundColor: this.opt.backgroundColor }, e2 = s2(this.prop.src, this.opt.html2canvas.javascriptEnabled);
      "BODY" === e2.tagName && (t3.height = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) + "px"), this.prop.overlay = o2("div", { className: "html2pdf__overlay", style: { position: "fixed", overflow: "hidden", zIndex: 1e3, left: "-100000px", right: 0, bottom: 0, top: 0 } }), this.prop.container = o2("div", { className: "html2pdf__container", style: t3 }), this.prop.container.appendChild(e2), this.prop.container.firstChild.appendChild(o2("div", { style: { clear: "both", border: "0 none transparent", margin: 0, padding: 0, height: 0 } })), this.prop.container.style.float = "none", this.prop.overlay.appendChild(this.prop.container), document.body.appendChild(this.prop.overlay), this.prop.container.firstChild.style.position = "relative", this.prop.container.height = Math.max(this.prop.container.firstChild.clientHeight, this.prop.container.firstChild.scrollHeight, this.prop.container.firstChild.offsetHeight) + "px";
    });
  }, u2.prototype.toCanvas = function() {
    var t3 = [function() {
      return document.body.contains(this.prop.container) || this.toContainer();
    }];
    return this.thenList(t3).then(n2).then(function(t4) {
      var e2 = Object.assign({}, this.opt.html2canvas);
      return delete e2.onrendered, t4(this.prop.container, e2);
    }).then(function(t4) {
      (this.opt.html2canvas.onrendered || function() {
      })(t4), this.prop.canvas = t4, document.body.removeChild(this.prop.overlay);
    });
  }, u2.prototype.toContext2d = function() {
    var t3 = [function() {
      return document.body.contains(this.prop.container) || this.toContainer();
    }];
    return this.thenList(t3).then(n2).then(function(t4) {
      var e2 = this.opt.jsPDF, n3 = this.opt.fontFaces, r3 = "number" != typeof this.opt.width || isNaN(this.opt.width) || "number" != typeof this.opt.windowWidth || isNaN(this.opt.windowWidth) ? 1 : this.opt.width / this.opt.windowWidth, i2 = Object.assign({ async: true, allowTaint: true, scale: r3, scrollX: this.opt.scrollX || 0, scrollY: this.opt.scrollY || 0, backgroundColor: "#ffffff", imageTimeout: 15e3, logging: true, proxy: null, removeContainer: true, foreignObjectRendering: false, useCORS: false }, this.opt.html2canvas);
      if (delete i2.onrendered, e2.context2d.autoPaging = void 0 === this.opt.autoPaging || this.opt.autoPaging, e2.context2d.posX = this.opt.x, e2.context2d.posY = this.opt.y, e2.context2d.margin = this.opt.margin, e2.context2d.fontFaces = n3, n3)
        for (var a3 = 0; a3 < n3.length; ++a3) {
          var o3 = n3[a3], s3 = o3.src.find(function(t5) {
            return "truetype" === t5.format;
          });
          s3 && e2.addFont(s3.url, o3.ref.name, o3.ref.style);
        }
      return i2.windowHeight = i2.windowHeight || 0, i2.windowHeight = 0 == i2.windowHeight ? Math.max(this.prop.container.clientHeight, this.prop.container.scrollHeight, this.prop.container.offsetHeight) : i2.windowHeight, e2.context2d.save(true), t4(this.prop.container, i2);
    }).then(function(t4) {
      this.opt.jsPDF.context2d.restore(true), (this.opt.html2canvas.onrendered || function() {
      })(t4), this.prop.canvas = t4, document.body.removeChild(this.prop.overlay);
    });
  }, u2.prototype.toImg = function() {
    return this.thenList([function() {
      return this.prop.canvas || this.toCanvas();
    }]).then(function() {
      var t3 = this.prop.canvas.toDataURL("image/" + this.opt.image.type, this.opt.image.quality);
      this.prop.img = document.createElement("img"), this.prop.img.src = t3;
    });
  }, u2.prototype.toPdf = function() {
    return this.thenList([function() {
      return this.toContext2d();
    }]).then(function() {
      this.prop.pdf = this.prop.pdf || this.opt.jsPDF;
    });
  }, u2.prototype.output = function(t3, e2, n3) {
    return "img" === (n3 = n3 || "pdf").toLowerCase() || "image" === n3.toLowerCase() ? this.outputImg(t3, e2) : this.outputPdf(t3, e2);
  }, u2.prototype.outputPdf = function(t3, e2) {
    return this.thenList([function() {
      return this.prop.pdf || this.toPdf();
    }]).then(function() {
      return this.prop.pdf.output(t3, e2);
    });
  }, u2.prototype.outputImg = function(t3) {
    return this.thenList([function() {
      return this.prop.img || this.toImg();
    }]).then(function() {
      switch (t3) {
        case void 0:
        case "img":
          return this.prop.img;
        case "datauristring":
        case "dataurlstring":
          return this.prop.img.src;
        case "datauri":
        case "dataurl":
          return document.location.href = this.prop.img.src;
        default:
          throw 'Image output type "' + t3 + '" is not supported.';
      }
    });
  }, u2.prototype.save = function(t3) {
    return this.thenList([function() {
      return this.prop.pdf || this.toPdf();
    }]).set(t3 ? { filename: t3 } : null).then(function() {
      this.prop.pdf.save(this.opt.filename);
    });
  }, u2.prototype.doCallback = function() {
    return this.thenList([function() {
      return this.prop.pdf || this.toPdf();
    }]).then(function() {
      this.prop.callback(this.prop.pdf);
    });
  }, u2.prototype.set = function(t3) {
    if ("object" !== a2(t3))
      return this;
    var e2 = Object.keys(t3 || {}).map(function(e3) {
      if (e3 in u2.template.prop)
        return function() {
          this.prop[e3] = t3[e3];
        };
      switch (e3) {
        case "margin":
          return this.setMargin.bind(this, t3.margin);
        case "jsPDF":
          return function() {
            return this.opt.jsPDF = t3.jsPDF, this.setPageSize();
          };
        case "pageSize":
          return this.setPageSize.bind(this, t3.pageSize);
        default:
          return function() {
            this.opt[e3] = t3[e3];
          };
      }
    }, this);
    return this.then(function() {
      return this.thenList(e2);
    });
  }, u2.prototype.get = function(t3, e2) {
    return this.then(function() {
      var n3 = t3 in u2.template.prop ? this.prop[t3] : this.opt[t3];
      return e2 ? e2(n3) : n3;
    });
  }, u2.prototype.setMargin = function(t3) {
    return this.then(function() {
      switch (a2(t3)) {
        case "number":
          t3 = [t3, t3, t3, t3];
        case "array":
          if (2 === t3.length && (t3 = [t3[0], t3[1], t3[0], t3[1]]), 4 === t3.length)
            break;
        default:
          return this.error("Invalid margin array.");
      }
      this.opt.margin = t3;
    }).then(this.setPageSize);
  }, u2.prototype.setPageSize = function(t3) {
    function e2(t4, e3) {
      return Math.floor(t4 * e3 / 72 * 96);
    }
    return this.then(function() {
      (t3 = t3 || E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner") || (t3.inner = { width: t3.width - this.opt.margin[1] - this.opt.margin[3], height: t3.height - this.opt.margin[0] - this.opt.margin[2] }, t3.inner.px = { width: e2(t3.inner.width, t3.k), height: e2(t3.inner.height, t3.k) }, t3.inner.ratio = t3.inner.height / t3.inner.width), this.prop.pageSize = t3;
    });
  }, u2.prototype.setProgress = function(t3, e2, n3, r3) {
    return null != t3 && (this.progress.val = t3), null != e2 && (this.progress.state = e2), null != n3 && (this.progress.n = n3), null != r3 && (this.progress.stack = r3), this.progress.ratio = this.progress.val / this.progress.state, this;
  }, u2.prototype.updateProgress = function(t3, e2, n3, r3) {
    return this.setProgress(t3 ? this.progress.val + t3 : null, e2 || null, n3 ? this.progress.n + n3 : null, r3 ? this.progress.stack.concat(r3) : null);
  }, u2.prototype.then = function(t3, e2) {
    var n3 = this;
    return this.thenCore(t3, e2, function(t4, e3) {
      return n3.updateProgress(null, null, 1, [t4]), Promise.prototype.then.call(this, function(e4) {
        return n3.updateProgress(null, t4), e4;
      }).then(t4, e3).then(function(t5) {
        return n3.updateProgress(1), t5;
      });
    });
  }, u2.prototype.thenCore = function(t3, e2, n3) {
    n3 = n3 || Promise.prototype.then;
    var r3 = this;
    t3 && (t3 = t3.bind(r3)), e2 && (e2 = e2.bind(r3));
    var i2 = -1 !== Promise.toString().indexOf("[native code]") && "Promise" === Promise.name ? r3 : u2.convert(Object.assign({}, r3), Promise.prototype), a3 = n3.call(i2, t3, e2);
    return u2.convert(a3, r3.__proto__);
  }, u2.prototype.thenExternal = function(t3, e2) {
    return Promise.prototype.then.call(this, t3, e2);
  }, u2.prototype.thenList = function(t3) {
    var e2 = this;
    return t3.forEach(function(t4) {
      e2 = e2.thenCore(t4);
    }), e2;
  }, u2.prototype.catch = function(t3) {
    t3 && (t3 = t3.bind(this));
    var e2 = Promise.prototype.catch.call(this, t3);
    return u2.convert(e2, this);
  }, u2.prototype.catchExternal = function(t3) {
    return Promise.prototype.catch.call(this, t3);
  }, u2.prototype.error = function(t3) {
    return this.then(function() {
      throw new Error(t3);
    });
  }, u2.prototype.using = u2.prototype.set, u2.prototype.saveAs = u2.prototype.save, u2.prototype.export = u2.prototype.output, u2.prototype.run = u2.prototype.then, E.getPageSize = function(e2, n3, r3) {
    if ("object" === _typeof(e2)) {
      var i2 = e2;
      e2 = i2.orientation, n3 = i2.unit || n3, r3 = i2.format || r3;
    }
    n3 = n3 || "mm", r3 = r3 || "a4", e2 = ("" + (e2 || "P")).toLowerCase();
    var a3, o3 = ("" + r3).toLowerCase(), s3 = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] };
    switch (n3) {
      case "pt":
        a3 = 1;
        break;
      case "mm":
        a3 = 72 / 25.4;
        break;
      case "cm":
        a3 = 72 / 2.54;
        break;
      case "in":
        a3 = 72;
        break;
      case "px":
        a3 = 0.75;
        break;
      case "pc":
      case "em":
        a3 = 12;
        break;
      case "ex":
        a3 = 6;
        break;
      default:
        throw "Invalid unit: " + n3;
    }
    var u3, c2 = 0, l2 = 0;
    if (s3.hasOwnProperty(o3))
      c2 = s3[o3][1] / a3, l2 = s3[o3][0] / a3;
    else
      try {
        c2 = r3[1], l2 = r3[0];
      } catch (h2) {
        throw new Error("Invalid format: " + r3);
      }
    if ("p" === e2 || "portrait" === e2)
      e2 = "p", l2 > c2 && (u3 = l2, l2 = c2, c2 = u3);
    else {
      if ("l" !== e2 && "landscape" !== e2)
        throw "Invalid orientation: " + e2;
      e2 = "l", c2 > l2 && (u3 = l2, l2 = c2, c2 = u3);
    }
    return { width: l2, height: c2, unit: n3, k: a3, orientation: e2 };
  }, e.html = function(t3, e2) {
    (e2 = e2 || {}).callback = e2.callback || function() {
    }, e2.html2canvas = e2.html2canvas || {}, e2.html2canvas.canvas = e2.html2canvas.canvas || this.canvas, e2.jsPDF = e2.jsPDF || this, e2.fontFaces = e2.fontFaces ? e2.fontFaces.map(Ct) : null;
    var n3 = new u2(e2);
    return e2.worker ? n3 : n3.from(t3).doCallback();
  };
}(E.API), E.API.addJS = function(t3) {
  return Ut = t3, this.internal.events.subscribe("postPutResources", function() {
    Tt = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/Names [(EmbeddedJS) " + (Tt + 1) + " 0 R]"), this.internal.out(">>"), this.internal.out("endobj"), zt = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /JavaScript"), this.internal.out("/JS (" + Ut + ")"), this.internal.out(">>"), this.internal.out("endobj");
  }), this.internal.events.subscribe("putCatalog", function() {
    void 0 !== Tt && void 0 !== zt && this.internal.out("/Names <</JavaScript " + Tt + " 0 R>>");
  }), this;
}, function(t3) {
  var e;
  t3.events.push(["postPutResources", function() {
    var t4 = this, n2 = /^(\d+) 0 obj$/;
    if (this.outline.root.children.length > 0)
      for (var r2 = t4.outline.render().split(/\r\n/), i2 = 0; i2 < r2.length; i2++) {
        var a2 = r2[i2], o2 = n2.exec(a2);
        if (null != o2) {
          var s2 = o2[1];
          t4.internal.newObjectDeferredBegin(s2, false);
        }
        t4.internal.write(a2);
      }
    if (this.outline.createNamedDestinations) {
      var u2 = this.internal.pages.length, c2 = [];
      for (i2 = 0; i2 < u2; i2++) {
        var l2 = t4.internal.newObject();
        c2.push(l2);
        var h2 = t4.internal.getPageInfo(i2 + 1);
        t4.internal.write("<< /D[" + h2.objId + " 0 R /XYZ null null null]>> endobj");
      }
      var f2 = t4.internal.newObject();
      for (t4.internal.write("<< /Names [ "), i2 = 0; i2 < c2.length; i2++)
        t4.internal.write("(page_" + (i2 + 1) + ")" + c2[i2] + " 0 R");
      t4.internal.write(" ] >>", "endobj"), e = t4.internal.newObject(), t4.internal.write("<< /Dests " + f2 + " 0 R"), t4.internal.write(">>", "endobj");
    }
  }]), t3.events.push(["putCatalog", function() {
    var t4 = this;
    t4.outline.root.children.length > 0 && (t4.internal.write("/Outlines", this.outline.makeRef(this.outline.root)), this.outline.createNamedDestinations && t4.internal.write("/Names " + e + " 0 R"));
  }]), t3.events.push(["initialized", function() {
    var t4 = this;
    t4.outline = { createNamedDestinations: false, root: { children: [] } }, t4.outline.add = function(t5, e2, n2) {
      var r2 = { title: e2, options: n2, children: [] };
      return null == t5 && (t5 = this.root), t5.children.push(r2), r2;
    }, t4.outline.render = function() {
      return this.ctx = {}, this.ctx.val = "", this.ctx.pdf = t4, this.genIds_r(this.root), this.renderRoot(this.root), this.renderItems(this.root), this.ctx.val;
    }, t4.outline.genIds_r = function(e2) {
      e2.id = t4.internal.newObjectDeferred();
      for (var n2 = 0; n2 < e2.children.length; n2++)
        this.genIds_r(e2.children[n2]);
    }, t4.outline.renderRoot = function(t5) {
      this.objStart(t5), this.line("/Type /Outlines"), t5.children.length > 0 && (this.line("/First " + this.makeRef(t5.children[0])), this.line("/Last " + this.makeRef(t5.children[t5.children.length - 1]))), this.line("/Count " + this.count_r({ count: 0 }, t5)), this.objEnd();
    }, t4.outline.renderItems = function(e2) {
      for (var n2 = this.ctx.pdf.internal.getVerticalCoordinateString, r2 = 0; r2 < e2.children.length; r2++) {
        var i2 = e2.children[r2];
        this.objStart(i2), this.line("/Title " + this.makeString(i2.title)), this.line("/Parent " + this.makeRef(e2)), r2 > 0 && this.line("/Prev " + this.makeRef(e2.children[r2 - 1])), r2 < e2.children.length - 1 && this.line("/Next " + this.makeRef(e2.children[r2 + 1])), i2.children.length > 0 && (this.line("/First " + this.makeRef(i2.children[0])), this.line("/Last " + this.makeRef(i2.children[i2.children.length - 1])));
        var a2 = this.count = this.count_r({ count: 0 }, i2);
        if (a2 > 0 && this.line("/Count " + a2), i2.options && i2.options.pageNumber) {
          var o2 = t4.internal.getPageInfo(i2.options.pageNumber);
          this.line("/Dest [" + o2.objId + " 0 R /XYZ 0 " + n2(0) + " 0]");
        }
        this.objEnd();
      }
      for (var s2 = 0; s2 < e2.children.length; s2++)
        this.renderItems(e2.children[s2]);
    }, t4.outline.line = function(t5) {
      this.ctx.val += t5 + "\r\n";
    }, t4.outline.makeRef = function(t5) {
      return t5.id + " 0 R";
    }, t4.outline.makeString = function(e2) {
      return "(" + t4.internal.pdfEscape(e2) + ")";
    }, t4.outline.objStart = function(t5) {
      this.ctx.val += "\r\n" + t5.id + " 0 obj\r\n<<\r\n";
    }, t4.outline.objEnd = function() {
      this.ctx.val += ">> \r\nendobj\r\n";
    }, t4.outline.count_r = function(t5, e2) {
      for (var n2 = 0; n2 < e2.children.length; n2++)
        t5.count++, this.count_r(t5, e2.children[n2]);
      return t5.count;
    };
  }]);
}(E.API), function(t3) {
  var e = [192, 193, 194, 195, 196, 197, 198, 199];
  t3.processJPEG = function(t4, n2, r2, i2, a2, o2) {
    var s2, u2 = this.decode.DCT_DECODE, c2 = null;
    if ("string" == typeof t4 || this.__addimage__.isArrayBuffer(t4) || this.__addimage__.isArrayBufferView(t4)) {
      switch (t4 = a2 || t4, t4 = this.__addimage__.isArrayBuffer(t4) ? new Uint8Array(t4) : t4, s2 = function(t5) {
        for (var n3, r3 = 256 * t5.charCodeAt(4) + t5.charCodeAt(5), i3 = t5.length, a3 = { width: 0, height: 0, numcomponents: 1 }, o3 = 4; o3 < i3; o3 += 2) {
          if (o3 += r3, -1 !== e.indexOf(t5.charCodeAt(o3 + 1))) {
            n3 = 256 * t5.charCodeAt(o3 + 5) + t5.charCodeAt(o3 + 6), a3 = { width: 256 * t5.charCodeAt(o3 + 7) + t5.charCodeAt(o3 + 8), height: n3, numcomponents: t5.charCodeAt(o3 + 9) };
            break;
          }
          r3 = 256 * t5.charCodeAt(o3 + 2) + t5.charCodeAt(o3 + 3);
        }
        return a3;
      }(t4 = this.__addimage__.isArrayBufferView(t4) ? this.__addimage__.arrayBufferToBinaryString(t4) : t4), s2.numcomponents) {
        case 1:
          o2 = this.color_spaces.DEVICE_GRAY;
          break;
        case 4:
          o2 = this.color_spaces.DEVICE_CMYK;
          break;
        case 3:
          o2 = this.color_spaces.DEVICE_RGB;
      }
      c2 = { data: t4, width: s2.width, height: s2.height, colorSpace: o2, bitsPerComponent: 8, filter: u2, index: n2, alias: r2 };
    }
    return c2;
  };
}(E.API), E.API.processPNG = function(t3, i2, a2, o2) {
  if (this.__addimage__.isArrayBuffer(t3) && (t3 = new Uint8Array(t3)), this.__addimage__.isArrayBufferView(t3)) {
    var s2, u2 = decodePng(t3, { checkCrc: true }), c2 = u2.width, l2 = u2.height, h2 = u2.channels, f2 = u2.palette, d2 = u2.depth;
    s2 = f2 && 1 === h2 ? function(t4) {
      for (var e = t4.width, r2 = t4.height, i3 = t4.data, a3 = t4.palette, o3 = t4.depth, s3 = false, u3 = [], c3 = [], l3 = void 0, h3 = false, f3 = 0, d3 = 0; d3 < a3.length; d3++) {
        var p3 = _slicedToArray(a3[d3], 4), g3 = p3[0], m3 = p3[1], v3 = p3[2], b5 = p3[3];
        u3.push(g3, m3, v3), null != b5 && (0 === b5 ? (f3++, c3.length < 1 && c3.push(d3)) : b5 < 255 && (h3 = true));
      }
      if (h3 || f3 > 1) {
        s3 = true, c3 = void 0;
        var y3 = e * r2;
        l3 = new Uint8Array(y3);
        for (var w3 = new DataView(i3.buffer), N3 = 0; N3 < y3; N3++) {
          var L3 = re(w3, N3, o3), x3 = _slicedToArray(a3[L3], 4)[3];
          l3[N3] = x3;
        }
      } else
        0 === f3 && (c3 = void 0);
      return { colorSpace: "Indexed", colorsPerPixel: 1, sMaskBitsPerComponent: s3 ? 8 : void 0, colorBytes: i3, alphaBytes: l3, needSMask: s3, palette: u3, mask: c3 };
    }(u2) : 2 === h2 || 4 === h2 ? function(t4) {
      for (var e = t4.data, n2 = t4.width, r2 = t4.height, i3 = t4.channels, a3 = t4.depth, o3 = 2 === i3 ? "DeviceGray" : "DeviceRGB", s3 = i3 - 1, u3 = n2 * r2, c3 = s3, l3 = u3 * c3, h3 = 1 * u3, f3 = Math.ceil(l3 * a3 / 8), d3 = Math.ceil(h3 * a3 / 8), p3 = new Uint8Array(f3), g3 = new Uint8Array(d3), m3 = new DataView(e.buffer), v3 = new DataView(p3.buffer), b5 = new DataView(g3.buffer), y3 = false, w3 = 0; w3 < u3; w3++) {
        for (var N3 = w3 * i3, L3 = 0; L3 < c3; L3++)
          ie(v3, re(m3, N3 + L3, a3), w3 * c3 + L3, a3);
        var x3 = re(m3, N3 + c3, a3);
        x3 < (1 << a3) - 1 && (y3 = true), ie(b5, x3, 1 * w3, a3);
      }
      return { colorSpace: o3, colorsPerPixel: s3, sMaskBitsPerComponent: y3 ? a3 : void 0, colorBytes: p3, alphaBytes: g3, needSMask: y3 };
    }(u2) : function(t4) {
      var e = t4.data, n2 = 1 === t4.channels ? "DeviceGray" : "DeviceRGB";
      return { colorSpace: n2, colorsPerPixel: "DeviceGray" === n2 ? 1 : 3, colorBytes: e instanceof Uint16Array ? function(t5) {
        for (var e2 = t5.length, n3 = new Uint8Array(2 * e2), r2 = new DataView(n3.buffer, n3.byteOffset, n3.byteLength), i3 = 0; i3 < e2; i3++)
          r2.setUint16(2 * i3, t5[i3], false);
        return n3;
      }(e) : e, needSMask: false };
    }(u2);
    var p2, g2, m2, v2 = s2, b3 = v2.colorSpace, y2 = v2.colorsPerPixel, w2 = v2.sMaskBitsPerComponent, N2 = v2.colorBytes, L2 = v2.alphaBytes, x2 = v2.needSMask, A2 = v2.palette, S2 = v2.mask, _2 = null;
    return o2 !== E.API.image_compression.NONE && "function" == typeof zlibSync ? (_2 = function(t4) {
      var e;
      switch (t4) {
        case E.API.image_compression.FAST:
          e = 11;
          break;
        case E.API.image_compression.MEDIUM:
          e = 13;
          break;
        case E.API.image_compression.SLOW:
          e = 14;
          break;
        default:
          e = 12;
      }
      return e;
    }(o2), p2 = this.decode.FLATE_DECODE, g2 = "/Predictor ".concat(_2, " /Colors ").concat(y2, " /BitsPerComponent ").concat(d2, " /Columns ").concat(c2), t3 = Xt(N2, Math.ceil(c2 * y2 * d2 / 8), y2, d2, o2), x2 && (m2 = Xt(L2, Math.ceil(c2 * w2 / 8), 1, w2, o2))) : (p2 = void 0, g2 = void 0, t3 = N2, x2 && (m2 = L2)), (this.__addimage__.isArrayBuffer(t3) || this.__addimage__.isArrayBufferView(t3)) && (t3 = this.__addimage__.arrayBufferToBinaryString(t3)), (m2 && this.__addimage__.isArrayBuffer(m2) || this.__addimage__.isArrayBufferView(m2)) && (m2 = this.__addimage__.arrayBufferToBinaryString(m2)), { alias: a2, data: t3, index: i2, filter: p2, decodeParameters: g2, transparency: S2, palette: A2, sMask: m2, predictor: _2, width: c2, height: l2, bitsPerComponent: d2, sMaskBitsPerComponent: w2, colorSpace: b3 };
  }
}, function(t3) {
  t3.processGIF89A = function(e, n2, r2, i2) {
    var a2 = new oe(e), o2 = a2.width, s2 = a2.height, u2 = [];
    a2.decodeAndBlitFrameRGBA(0, u2);
    var c2 = { data: u2, width: o2, height: s2 }, l2 = new ue(100).encode(c2, 100);
    return t3.processJPEG.call(this, l2, n2, r2, i2);
  }, t3.processGIF87A = t3.processGIF89A;
}(E.API), ce.prototype.parseHeader = function() {
  if (this.fileSize = this.datav.getUint32(this.pos, true), this.pos += 4, this.reserved = this.datav.getUint32(this.pos, true), this.pos += 4, this.offset = this.datav.getUint32(this.pos, true), this.pos += 4, this.headerSize = this.datav.getUint32(this.pos, true), this.pos += 4, this.width = this.datav.getUint32(this.pos, true), this.pos += 4, this.height = this.datav.getInt32(this.pos, true), this.pos += 4, this.planes = this.datav.getUint16(this.pos, true), this.pos += 2, this.bitPP = this.datav.getUint16(this.pos, true), this.pos += 2, this.compress = this.datav.getUint32(this.pos, true), this.pos += 4, this.rawSize = this.datav.getUint32(this.pos, true), this.pos += 4, this.hr = this.datav.getUint32(this.pos, true), this.pos += 4, this.vr = this.datav.getUint32(this.pos, true), this.pos += 4, this.colors = this.datav.getUint32(this.pos, true), this.pos += 4, this.importantColors = this.datav.getUint32(this.pos, true), this.pos += 4, 16 === this.bitPP && this.is_with_alpha && (this.bitPP = 15), this.bitPP < 15) {
    var t3 = 0 === this.colors ? 1 << this.bitPP : this.colors;
    this.palette = new Array(t3);
    for (var e = 0; e < t3; e++) {
      var n2 = this.datav.getUint8(this.pos++, true), r2 = this.datav.getUint8(this.pos++, true), i2 = this.datav.getUint8(this.pos++, true), a2 = this.datav.getUint8(this.pos++, true);
      this.palette[e] = { red: i2, green: r2, blue: n2, quad: a2 };
    }
  }
  this.height < 0 && (this.height *= -1, this.bottom_up = false);
}, ce.prototype.parseBGR = function() {
  this.pos = this.offset;
  try {
    var t3 = "bit" + this.bitPP, e = this.width * this.height * 4;
    this.data = new Uint8Array(e), this[t3]();
  } catch (n2) {
    o.log("bit decode error:" + n2);
  }
}, ce.prototype.bit1 = function() {
  var t3, e = Math.ceil(this.width / 8), n2 = e % 4;
  for (t3 = this.height - 1; t3 >= 0; t3--) {
    for (var r2 = this.bottom_up ? t3 : this.height - 1 - t3, i2 = 0; i2 < e; i2++)
      for (var a2 = this.datav.getUint8(this.pos++, true), o2 = r2 * this.width * 4 + 8 * i2 * 4, s2 = 0; s2 < 8 && 8 * i2 + s2 < this.width; s2++) {
        var u2 = this.palette[a2 >> 7 - s2 & 1];
        this.data[o2 + 4 * s2] = u2.blue, this.data[o2 + 4 * s2 + 1] = u2.green, this.data[o2 + 4 * s2 + 2] = u2.red, this.data[o2 + 4 * s2 + 3] = 255;
      }
    0 !== n2 && (this.pos += 4 - n2);
  }
}, ce.prototype.bit4 = function() {
  for (var t3 = Math.ceil(this.width / 2), e = t3 % 4, n2 = this.height - 1; n2 >= 0; n2--) {
    for (var r2 = this.bottom_up ? n2 : this.height - 1 - n2, i2 = 0; i2 < t3; i2++) {
      var a2 = this.datav.getUint8(this.pos++, true), o2 = r2 * this.width * 4 + 2 * i2 * 4, s2 = a2 >> 4, u2 = 15 & a2, c2 = this.palette[s2];
      if (this.data[o2] = c2.blue, this.data[o2 + 1] = c2.green, this.data[o2 + 2] = c2.red, this.data[o2 + 3] = 255, 2 * i2 + 1 >= this.width)
        break;
      c2 = this.palette[u2], this.data[o2 + 4] = c2.blue, this.data[o2 + 4 + 1] = c2.green, this.data[o2 + 4 + 2] = c2.red, this.data[o2 + 4 + 3] = 255;
    }
    0 !== e && (this.pos += 4 - e);
  }
}, ce.prototype.bit8 = function() {
  for (var t3 = this.width % 4, e = this.height - 1; e >= 0; e--) {
    for (var n2 = this.bottom_up ? e : this.height - 1 - e, r2 = 0; r2 < this.width; r2++) {
      var i2 = this.datav.getUint8(this.pos++, true), a2 = n2 * this.width * 4 + 4 * r2;
      if (i2 < this.palette.length) {
        var o2 = this.palette[i2];
        this.data[a2] = o2.red, this.data[a2 + 1] = o2.green, this.data[a2 + 2] = o2.blue, this.data[a2 + 3] = 255;
      } else
        this.data[a2] = 255, this.data[a2 + 1] = 255, this.data[a2 + 2] = 255, this.data[a2 + 3] = 255;
    }
    0 !== t3 && (this.pos += 4 - t3);
  }
}, ce.prototype.bit15 = function() {
  for (var t3 = this.width % 3, e = parseInt("11111", 2), n2 = this.height - 1; n2 >= 0; n2--) {
    for (var r2 = this.bottom_up ? n2 : this.height - 1 - n2, i2 = 0; i2 < this.width; i2++) {
      var a2 = this.datav.getUint16(this.pos, true);
      this.pos += 2;
      var o2 = (a2 & e) / e * 255 | 0, s2 = (a2 >> 5 & e) / e * 255 | 0, u2 = (a2 >> 10 & e) / e * 255 | 0, c2 = a2 >> 15 ? 255 : 0, l2 = r2 * this.width * 4 + 4 * i2;
      this.data[l2] = u2, this.data[l2 + 1] = s2, this.data[l2 + 2] = o2, this.data[l2 + 3] = c2;
    }
    this.pos += t3;
  }
}, ce.prototype.bit16 = function() {
  for (var t3 = this.width % 3, e = parseInt("11111", 2), n2 = parseInt("111111", 2), r2 = this.height - 1; r2 >= 0; r2--) {
    for (var i2 = this.bottom_up ? r2 : this.height - 1 - r2, a2 = 0; a2 < this.width; a2++) {
      var o2 = this.datav.getUint16(this.pos, true);
      this.pos += 2;
      var s2 = (o2 & e) / e * 255 | 0, u2 = (o2 >> 5 & n2) / n2 * 255 | 0, c2 = (o2 >> 11) / e * 255 | 0, l2 = i2 * this.width * 4 + 4 * a2;
      this.data[l2] = c2, this.data[l2 + 1] = u2, this.data[l2 + 2] = s2, this.data[l2 + 3] = 255;
    }
    this.pos += t3;
  }
}, ce.prototype.bit24 = function() {
  for (var t3 = this.height - 1; t3 >= 0; t3--) {
    for (var e = this.bottom_up ? t3 : this.height - 1 - t3, n2 = 0; n2 < this.width; n2++) {
      var r2 = this.datav.getUint8(this.pos++, true), i2 = this.datav.getUint8(this.pos++, true), a2 = this.datav.getUint8(this.pos++, true), o2 = e * this.width * 4 + 4 * n2;
      this.data[o2] = a2, this.data[o2 + 1] = i2, this.data[o2 + 2] = r2, this.data[o2 + 3] = 255;
    }
    this.pos += this.width % 4;
  }
}, ce.prototype.bit32 = function() {
  for (var t3 = this.height - 1; t3 >= 0; t3--)
    for (var e = this.bottom_up ? t3 : this.height - 1 - t3, n2 = 0; n2 < this.width; n2++) {
      var r2 = this.datav.getUint8(this.pos++, true), i2 = this.datav.getUint8(this.pos++, true), a2 = this.datav.getUint8(this.pos++, true), o2 = this.datav.getUint8(this.pos++, true), s2 = e * this.width * 4 + 4 * n2;
      this.data[s2] = a2, this.data[s2 + 1] = i2, this.data[s2 + 2] = r2, this.data[s2 + 3] = o2;
    }
}, ce.prototype.getData = function() {
  return this.data;
}, function(t3) {
  t3.processBMP = function(e, n2, r2, i2) {
    var a2 = new ce(e, false), o2 = a2.width, s2 = a2.height, u2 = { data: a2.getData(), width: o2, height: s2 }, c2 = new ue(100).encode(u2, 100);
    return t3.processJPEG.call(this, c2, n2, r2, i2);
  };
}(E.API), le.prototype.getData = function() {
  return this.data;
}, function(t3) {
  t3.processWEBP = function(e, n2, r2, i2) {
    var a2 = new le(e), o2 = a2.width, s2 = a2.height, u2 = { data: a2.getData(), width: o2, height: s2 }, c2 = new ue(100).encode(u2, 100);
    return t3.processJPEG.call(this, c2, n2, r2, i2);
  };
}(E.API), E.API.processRGBA = function(t3, e, n2) {
  for (var r2 = t3.data, i2 = r2.length, a2 = new Uint8Array(i2 / 4 * 3), o2 = new Uint8Array(i2 / 4), s2 = 0, u2 = 0, c2 = 0; c2 < i2; c2 += 4) {
    var l2 = r2[c2], h2 = r2[c2 + 1], f2 = r2[c2 + 2], d2 = r2[c2 + 3];
    a2[s2++] = l2, a2[s2++] = h2, a2[s2++] = f2, o2[u2++] = d2;
  }
  var p2 = this.__addimage__.arrayBufferToBinaryString(a2);
  return { alpha: this.__addimage__.arrayBufferToBinaryString(o2), data: p2, index: e, alias: n2, colorSpace: "DeviceRGB", bitsPerComponent: 8, width: t3.width, height: t3.height };
}, E.API.setLanguage = function(t3) {
  return void 0 === this.internal.languageSettings && (this.internal.languageSettings = {}, this.internal.languageSettings.isSubscribed = false), void 0 !== { af: "Afrikaans", sq: "Albanian", ar: "Arabic (Standard)", "ar-DZ": "Arabic (Algeria)", "ar-BH": "Arabic (Bahrain)", "ar-EG": "Arabic (Egypt)", "ar-IQ": "Arabic (Iraq)", "ar-JO": "Arabic (Jordan)", "ar-KW": "Arabic (Kuwait)", "ar-LB": "Arabic (Lebanon)", "ar-LY": "Arabic (Libya)", "ar-MA": "Arabic (Morocco)", "ar-OM": "Arabic (Oman)", "ar-QA": "Arabic (Qatar)", "ar-SA": "Arabic (Saudi Arabia)", "ar-SY": "Arabic (Syria)", "ar-TN": "Arabic (Tunisia)", "ar-AE": "Arabic (U.A.E.)", "ar-YE": "Arabic (Yemen)", an: "Aragonese", hy: "Armenian", as: "Assamese", ast: "Asturian", az: "Azerbaijani", eu: "Basque", be: "Belarusian", bn: "Bengali", bs: "Bosnian", br: "Breton", bg: "Bulgarian", my: "Burmese", ca: "Catalan", ch: "Chamorro", ce: "Chechen", zh: "Chinese", "zh-HK": "Chinese (Hong Kong)", "zh-CN": "Chinese (PRC)", "zh-SG": "Chinese (Singapore)", "zh-TW": "Chinese (Taiwan)", cv: "Chuvash", co: "Corsican", cr: "Cree", hr: "Croatian", cs: "Czech", da: "Danish", nl: "Dutch (Standard)", "nl-BE": "Dutch (Belgian)", en: "English", "en-AU": "English (Australia)", "en-BZ": "English (Belize)", "en-CA": "English (Canada)", "en-IE": "English (Ireland)", "en-JM": "English (Jamaica)", "en-NZ": "English (New Zealand)", "en-PH": "English (Philippines)", "en-ZA": "English (South Africa)", "en-TT": "English (Trinidad & Tobago)", "en-GB": "English (United Kingdom)", "en-US": "English (United States)", "en-ZW": "English (Zimbabwe)", eo: "Esperanto", et: "Estonian", fo: "Faeroese", fj: "Fijian", fi: "Finnish", fr: "French (Standard)", "fr-BE": "French (Belgium)", "fr-CA": "French (Canada)", "fr-FR": "French (France)", "fr-LU": "French (Luxembourg)", "fr-MC": "French (Monaco)", "fr-CH": "French (Switzerland)", fy: "Frisian", fur: "Friulian", gd: "Gaelic (Scots)", "gd-IE": "Gaelic (Irish)", gl: "Galacian", ka: "Georgian", de: "German (Standard)", "de-AT": "German (Austria)", "de-DE": "German (Germany)", "de-LI": "German (Liechtenstein)", "de-LU": "German (Luxembourg)", "de-CH": "German (Switzerland)", el: "Greek", gu: "Gujurati", ht: "Haitian", he: "Hebrew", hi: "Hindi", hu: "Hungarian", is: "Icelandic", id: "Indonesian", iu: "Inuktitut", ga: "Irish", it: "Italian (Standard)", "it-CH": "Italian (Switzerland)", ja: "Japanese", kn: "Kannada", ks: "Kashmiri", kk: "Kazakh", km: "Khmer", ky: "Kirghiz", tlh: "Klingon", ko: "Korean", "ko-KP": "Korean (North Korea)", "ko-KR": "Korean (South Korea)", la: "Latin", lv: "Latvian", lt: "Lithuanian", lb: "Luxembourgish", mk: "North Macedonia", ms: "Malay", ml: "Malayalam", mt: "Maltese", mi: "Maori", mr: "Marathi", mo: "Moldavian", nv: "Navajo", ng: "Ndonga", ne: "Nepali", no: "Norwegian", nb: "Norwegian (Bokmal)", nn: "Norwegian (Nynorsk)", oc: "Occitan", or: "Oriya", om: "Oromo", fa: "Persian", "fa-IR": "Persian/Iran", pl: "Polish", pt: "Portuguese", "pt-BR": "Portuguese (Brazil)", pa: "Punjabi", "pa-IN": "Punjabi (India)", "pa-PK": "Punjabi (Pakistan)", qu: "Quechua", rm: "Rhaeto-Romanic", ro: "Romanian", "ro-MO": "Romanian (Moldavia)", ru: "Russian", "ru-MO": "Russian (Moldavia)", sz: "Sami (Lappish)", sg: "Sango", sa: "Sanskrit", sc: "Sardinian", sd: "Sindhi", si: "Singhalese", sr: "Serbian", sk: "Slovak", sl: "Slovenian", so: "Somani", sb: "Sorbian", es: "Spanish", "es-AR": "Spanish (Argentina)", "es-BO": "Spanish (Bolivia)", "es-CL": "Spanish (Chile)", "es-CO": "Spanish (Colombia)", "es-CR": "Spanish (Costa Rica)", "es-DO": "Spanish (Dominican Republic)", "es-EC": "Spanish (Ecuador)", "es-SV": "Spanish (El Salvador)", "es-GT": "Spanish (Guatemala)", "es-HN": "Spanish (Honduras)", "es-MX": "Spanish (Mexico)", "es-NI": "Spanish (Nicaragua)", "es-PA": "Spanish (Panama)", "es-PY": "Spanish (Paraguay)", "es-PE": "Spanish (Peru)", "es-PR": "Spanish (Puerto Rico)", "es-ES": "Spanish (Spain)", "es-UY": "Spanish (Uruguay)", "es-VE": "Spanish (Venezuela)", sx: "Sutu", sw: "Swahili", sv: "Swedish", "sv-FI": "Swedish (Finland)", "sv-SV": "Swedish (Sweden)", ta: "Tamil", tt: "Tatar", te: "Teluga", th: "Thai", tig: "Tigre", ts: "Tsonga", tn: "Tswana", tr: "Turkish", tk: "Turkmen", uk: "Ukrainian", hsb: "Upper Sorbian", ur: "Urdu", ve: "Venda", vi: "Vietnamese", vo: "Volapuk", wa: "Walloon", cy: "Welsh", xh: "Xhosa", ji: "Yiddish", zu: "Zulu" }[t3] && (this.internal.languageSettings.languageCode = t3, false === this.internal.languageSettings.isSubscribed && (this.internal.events.subscribe("putCatalog", function() {
    this.internal.write("/Lang (" + this.internal.languageSettings.languageCode + ")");
  }), this.internal.languageSettings.isSubscribed = true)), this;
}, Ht = E.API, Wt = Ht.getCharWidthsArray = function(e, n2) {
  var r2, i2, a2 = (n2 = n2 || {}).font || this.internal.getFont(), o2 = n2.fontSize || this.internal.getFontSize(), s2 = n2.charSpace || this.internal.getCharSpace(), u2 = n2.widths ? n2.widths : a2.metadata.Unicode.widths, c2 = u2.fof ? u2.fof : 1, l2 = n2.kerning ? n2.kerning : a2.metadata.Unicode.kerning, h2 = l2.fof ? l2.fof : 1, f2 = false !== n2.doKerning, d2 = 0, p2 = e.length, g2 = 0, m2 = u2[0] || c2, v2 = [];
  for (r2 = 0; r2 < p2; r2++)
    i2 = e.charCodeAt(r2), "function" == typeof a2.metadata.widthOfString ? v2.push((a2.metadata.widthOfGlyph(a2.metadata.characterToGlyph(i2)) + s2 * (1e3 / o2) || 0) / 1e3) : (d2 = f2 && "object" === _typeof(l2[i2]) && !isNaN(parseInt(l2[i2][g2], 10)) ? l2[i2][g2] / h2 : 0, v2.push((u2[i2] || m2) / c2 + d2)), g2 = i2;
  return v2;
}, Vt = Ht.getStringUnitWidth = function(t3, e) {
  var n2 = (e = e || {}).fontSize || this.internal.getFontSize(), r2 = e.font || this.internal.getFont(), i2 = e.charSpace || this.internal.getCharSpace();
  return Ht.processArabic && (t3 = Ht.processArabic(t3)), "function" == typeof r2.metadata.widthOfString ? r2.metadata.widthOfString(t3, n2, i2) / n2 : Wt.apply(this, arguments).reduce(function(t4, e2) {
    return t4 + e2;
  }, 0);
}, Gt = function(t3, e, n2, r2) {
  for (var i2 = [], a2 = 0, o2 = t3.length, s2 = 0; a2 !== o2 && s2 + e[a2] < n2; )
    s2 += e[a2], a2++;
  i2.push(t3.slice(0, a2));
  var u2 = a2;
  for (s2 = 0; a2 !== o2; )
    s2 + e[a2] > r2 && (i2.push(t3.slice(u2, a2)), s2 = 0, u2 = a2), s2 += e[a2], a2++;
  return u2 !== a2 && i2.push(t3.slice(u2, a2)), i2;
}, Yt = function(t3, e, n2) {
  n2 || (n2 = {});
  var r2, i2, a2, o2, s2, u2, c2, l2 = [], h2 = [l2], f2 = n2.textIndent || 0, d2 = 0, p2 = 0, g2 = t3.split(" "), m2 = Wt.apply(this, [" ", n2])[0];
  if (u2 = -1 === n2.lineIndent ? g2[0].length + 2 : n2.lineIndent || 0) {
    var v2 = Array(u2).join(" "), b3 = [];
    g2.map(function(t4) {
      (t4 = t4.split(/\s*\n/)).length > 1 ? b3 = b3.concat(t4.map(function(t5, e2) {
        return (e2 && t5.length ? "\n" : "") + t5;
      })) : b3.push(t4[0]);
    }), g2 = b3, u2 = Vt.apply(this, [v2, n2]);
  }
  for (a2 = 0, o2 = g2.length; a2 < o2; a2++) {
    var y2 = 0;
    if (r2 = g2[a2], u2 && "\n" == r2[0] && (r2 = r2.substr(1), y2 = 1), f2 + d2 + (p2 = (i2 = Wt.apply(this, [r2, n2])).reduce(function(t4, e2) {
      return t4 + e2;
    }, 0)) > e || y2) {
      if (p2 > e) {
        for (s2 = Gt.apply(this, [r2, i2, e - (f2 + d2), e]), l2.push(s2.shift()), l2 = [s2.pop()]; s2.length; )
          h2.push([s2.shift()]);
        p2 = i2.slice(r2.length - (l2[0] ? l2[0].length : 0)).reduce(function(t4, e2) {
          return t4 + e2;
        }, 0);
      } else
        l2 = [r2];
      h2.push(l2), f2 = p2 + u2, d2 = m2;
    } else
      l2.push(r2), f2 += d2 + p2, d2 = m2;
  }
  return c2 = u2 ? function(t4, e2) {
    return (e2 ? v2 : "") + t4.join(" ");
  } : function(t4) {
    return t4.join(" ");
  }, h2.map(c2);
}, Ht.splitTextToSize = function(t3, e, n2) {
  var r2, i2 = (n2 = n2 || {}).fontSize || this.internal.getFontSize(), a2 = function(t4) {
    if (t4.widths && t4.kerning)
      return { widths: t4.widths, kerning: t4.kerning };
    var e2 = this.internal.getFont(t4.fontName, t4.fontStyle), n3 = "Unicode";
    return e2.metadata[n3] ? { widths: e2.metadata[n3].widths || { 0: 1 }, kerning: e2.metadata[n3].kerning || {} } : { font: e2.metadata, fontSize: this.internal.getFontSize(), charSpace: this.internal.getCharSpace() };
  }.call(this, n2);
  r2 = Array.isArray(t3) ? t3 : String(t3).split(/\r?\n/);
  var o2 = 1 * this.internal.scaleFactor * e / i2;
  a2.textIndent = n2.textIndent ? 1 * n2.textIndent * this.internal.scaleFactor / i2 : 0, a2.lineIndent = n2.lineIndent;
  var s2, u2, c2 = [];
  for (s2 = 0, u2 = r2.length; s2 < u2; s2++)
    c2 = c2.concat(Yt.apply(this, [r2[s2], o2, a2]));
  return c2;
}, function(e) {
  e.__fontmetrics__ = e.__fontmetrics__ || {};
  for (var n2 = "0123456789abcdef", r2 = "klmnopqrstuvwxyz", i2 = {}, a2 = {}, o2 = 0; o2 < 16; o2++)
    i2[r2[o2]] = n2[o2], a2[n2[o2]] = r2[o2];
  var s2 = function(t3) {
    return "0x" + parseInt(t3, 10).toString(16);
  }, u2 = e.__fontmetrics__.compress = function(e2) {
    var n3, r3, i3, o3, c3 = ["{"];
    for (var l3 in e2) {
      if (n3 = e2[l3], isNaN(parseInt(l3, 10)) ? r3 = "'" + l3 + "'" : (l3 = parseInt(l3, 10), r3 = (r3 = s2(l3).slice(2)).slice(0, -1) + a2[r3.slice(-1)]), "number" == typeof n3)
        n3 < 0 ? (i3 = s2(n3).slice(3), o3 = "-") : (i3 = s2(n3).slice(2), o3 = ""), i3 = o3 + i3.slice(0, -1) + a2[i3.slice(-1)];
      else {
        if ("object" !== _typeof(n3))
          throw new Error("Don't know what to do with value type " + _typeof(n3) + ".");
        i3 = u2(n3);
      }
      c3.push(r3 + i3);
    }
    return c3.push("}"), c3.join("");
  }, c2 = e.__fontmetrics__.uncompress = function(t3) {
    if ("string" != typeof t3)
      throw new Error("Invalid argument passed to uncompress.");
    for (var e2, n3, r3, a3, o3 = {}, s3 = 1, u3 = o3, c3 = [], l3 = "", h3 = "", f3 = t3.length - 1, d2 = 1; d2 < f3; d2 += 1)
      "'" == (a3 = t3[d2]) ? e2 ? (r3 = e2.join(""), e2 = void 0) : e2 = [] : e2 ? e2.push(a3) : "{" == a3 ? (c3.push([u3, r3]), u3 = {}, r3 = void 0) : "}" == a3 ? ((n3 = c3.pop())[0][n3[1]] = u3, r3 = void 0, u3 = n3[0]) : "-" == a3 ? s3 = -1 : void 0 === r3 ? i2.hasOwnProperty(a3) ? (l3 += i2[a3], r3 = parseInt(l3, 16) * s3, s3 = 1, l3 = "") : l3 += a3 : i2.hasOwnProperty(a3) ? (h3 += i2[a3], u3[r3] = parseInt(h3, 16) * s3, s3 = 1, r3 = void 0, h3 = "") : h3 += a3;
    return o3;
  }, l2 = { codePages: ["WinAnsiEncoding"], WinAnsiEncoding: c2("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}") }, h2 = { Unicode: { Courier: l2, "Courier-Bold": l2, "Courier-BoldOblique": l2, "Courier-Oblique": l2, Helvetica: l2, "Helvetica-Bold": l2, "Helvetica-BoldOblique": l2, "Helvetica-Oblique": l2, "Times-Roman": l2, "Times-Bold": l2, "Times-BoldItalic": l2, "Times-Italic": l2 } }, f2 = { Unicode: { "Courier-Oblique": c2("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-BoldItalic": c2("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"), "Helvetica-Bold": c2("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), Courier: c2("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-BoldOblique": c2("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Bold": c2("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"), Symbol: c2("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"), Helvetica: c2("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"), "Helvetica-BoldOblique": c2("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), ZapfDingbats: c2("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-Bold": c2("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Italic": c2("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"), "Times-Roman": c2("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"), "Helvetica-Oblique": c2("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}") } };
  e.events.push(["addFont", function(t3) {
    var e2 = t3.font, n3 = f2.Unicode[e2.postScriptName];
    n3 && (e2.metadata.Unicode = {}, e2.metadata.Unicode.widths = n3.widths, e2.metadata.Unicode.kerning = n3.kerning);
    var r3 = h2.Unicode[e2.postScriptName];
    r3 && (e2.metadata.Unicode.encoding = r3, e2.encoding = r3.codePages[0]);
  }]);
}(E.API), function(t3) {
  var e = function(t4) {
    for (var e2 = t4.length, n2 = new Uint8Array(e2), r2 = 0; r2 < e2; r2++)
      n2[r2] = t4.charCodeAt(r2);
    return n2;
  };
  t3.API.events.push(["addFont", function(n2) {
    var r2 = void 0, i2 = n2.font, a2 = n2.instance;
    if (!i2.isStandardFont) {
      if (void 0 === a2)
        throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('" + i2.postScriptName + "').");
      if ("string" != typeof (r2 = false === a2.existsFileInVFS(i2.postScriptName) ? a2.loadFile(i2.postScriptName) : a2.getFileFromVFS(i2.postScriptName)))
        throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('" + i2.postScriptName + "').");
      !function(n3, r3) {
        r3 = /^\x00\x01\x00\x00/.test(r3) ? e(r3) : e(f(r3)), n3.metadata = t3.API.TTFFont.open(r3), n3.metadata.Unicode = n3.metadata.Unicode || { encoding: {}, kerning: {}, widths: [] }, n3.metadata.glyIdsUsed = [0];
      }(i2, r2);
    }
  }]);
}(E), E.API.addSvgAsImage = function(t3, e, n2, r2, a2, s2, u2, c2) {
  if (isNaN(e) || isNaN(n2))
    throw o.error("jsPDF.addSvgAsImage: Invalid coordinates", arguments), new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");
  if (isNaN(r2) || isNaN(a2))
    throw o.error("jsPDF.addSvgAsImage: Invalid measurements", arguments), new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");
  var l2 = document.createElement("canvas");
  l2.width = r2, l2.height = a2;
  var h2 = l2.getContext("2d");
  h2.fillStyle = "#fff", h2.fillRect(0, 0, l2.width, l2.height);
  var f2 = { ignoreMouse: true, ignoreAnimation: true, ignoreDimensions: true }, d2 = this;
  return (i.canvg ? Promise.resolve(i.canvg) : __vitePreload(() => import("./index.es.5107fd88.js"), true ? [] : void 0)).catch(function(t4) {
    return Promise.reject(new Error("Could not load canvg: " + t4));
  }).then(function(t4) {
    return t4.default ? t4.default : t4;
  }).then(function(e2) {
    return e2.fromString(h2, t3, f2);
  }, function() {
    return Promise.reject(new Error("Could not load canvg."));
  }).then(function(t4) {
    return t4.render(f2);
  }).then(function() {
    d2.addImage(l2.toDataURL("image/jpeg", 1), e, n2, r2, a2, u2, c2);
  });
}, E.API.putTotalPages = function(t3) {
  var e, n2 = 0;
  parseInt(this.internal.getFont().id.substr(1), 10) < 15 ? (e = new RegExp(t3, "g"), n2 = this.internal.getNumberOfPages()) : (e = new RegExp(this.pdfEscape16(t3, this.internal.getFont()), "g"), n2 = this.pdfEscape16(this.internal.getNumberOfPages() + "", this.internal.getFont()));
  for (var r2 = 1; r2 <= this.internal.getNumberOfPages(); r2++)
    for (var i2 = 0; i2 < this.internal.pages[r2].length; i2++)
      this.internal.pages[r2][i2] = this.internal.pages[r2][i2].replace(e, n2);
  return this;
}, E.API.viewerPreferences = function(e, n2) {
  var r2;
  e = e || {}, n2 = n2 || false;
  var i2, a2, o2, s2 = { HideToolbar: { defaultValue: false, value: false, type: "boolean", explicitSet: false, valueSet: [true, false], pdfVersion: 1.3 }, HideMenubar: { defaultValue: false, value: false, type: "boolean", explicitSet: false, valueSet: [true, false], pdfVersion: 1.3 }, HideWindowUI: { defaultValue: false, value: false, type: "boolean", explicitSet: false, valueSet: [true, false], pdfVersion: 1.3 }, FitWindow: { defaultValue: false, value: false, type: "boolean", explicitSet: false, valueSet: [true, false], pdfVersion: 1.3 }, CenterWindow: { defaultValue: false, value: false, type: "boolean", explicitSet: false, valueSet: [true, false], pdfVersion: 1.3 }, DisplayDocTitle: { defaultValue: false, value: false, type: "boolean", explicitSet: false, valueSet: [true, false], pdfVersion: 1.4 }, NonFullScreenPageMode: { defaultValue: "UseNone", value: "UseNone", type: "name", explicitSet: false, valueSet: ["UseNone", "UseOutlines", "UseThumbs", "UseOC"], pdfVersion: 1.3 }, Direction: { defaultValue: "L2R", value: "L2R", type: "name", explicitSet: false, valueSet: ["L2R", "R2L"], pdfVersion: 1.3 }, ViewArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: false, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, ViewClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: false, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: false, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: false, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintScaling: { defaultValue: "AppDefault", value: "AppDefault", type: "name", explicitSet: false, valueSet: ["AppDefault", "None"], pdfVersion: 1.6 }, Duplex: { defaultValue: "", value: "none", type: "name", explicitSet: false, valueSet: ["Simplex", "DuplexFlipShortEdge", "DuplexFlipLongEdge", "none"], pdfVersion: 1.7 }, PickTrayByPDFSize: { defaultValue: false, value: false, type: "boolean", explicitSet: false, valueSet: [true, false], pdfVersion: 1.7 }, PrintPageRange: { defaultValue: "", value: "", type: "array", explicitSet: false, valueSet: null, pdfVersion: 1.7 }, NumCopies: { defaultValue: 1, value: 1, type: "integer", explicitSet: false, valueSet: null, pdfVersion: 1.7 } }, u2 = Object.keys(s2), c2 = [], l2 = 0, h2 = 0, f2 = 0;
  function d2(t3, e2) {
    var n3, r3 = false;
    for (n3 = 0; n3 < t3.length; n3 += 1)
      t3[n3] === e2 && (r3 = true);
    return r3;
  }
  if (void 0 === this.internal.viewerpreferences && (this.internal.viewerpreferences = {}, this.internal.viewerpreferences.configuration = JSON.parse(JSON.stringify(s2)), this.internal.viewerpreferences.isSubscribed = false), r2 = this.internal.viewerpreferences.configuration, "reset" === e || true === n2) {
    var p2 = u2.length;
    for (f2 = 0; f2 < p2; f2 += 1)
      r2[u2[f2]].value = r2[u2[f2]].defaultValue, r2[u2[f2]].explicitSet = false;
  }
  if ("object" === _typeof(e)) {
    for (a2 in e)
      if (o2 = e[a2], d2(u2, a2) && void 0 !== o2) {
        if ("boolean" === r2[a2].type && "boolean" == typeof o2)
          r2[a2].value = o2;
        else if ("name" === r2[a2].type && d2(r2[a2].valueSet, o2))
          r2[a2].value = o2;
        else if ("integer" === r2[a2].type && Number.isInteger(o2))
          r2[a2].value = o2;
        else if ("array" === r2[a2].type) {
          for (l2 = 0; l2 < o2.length; l2 += 1)
            if (i2 = true, 1 === o2[l2].length && "number" == typeof o2[l2][0])
              c2.push(String(o2[l2] - 1));
            else if (o2[l2].length > 1) {
              for (h2 = 0; h2 < o2[l2].length; h2 += 1)
                "number" != typeof o2[l2][h2] && (i2 = false);
              true === i2 && c2.push([o2[l2][0] - 1, o2[l2][1] - 1].join(" "));
            }
          r2[a2].value = "[" + c2.join(" ") + "]";
        } else
          r2[a2].value = r2[a2].defaultValue;
        r2[a2].explicitSet = true;
      }
  }
  return false === this.internal.viewerpreferences.isSubscribed && (this.internal.events.subscribe("putCatalog", function() {
    var t3, e2 = [];
    for (t3 in r2)
      true === r2[t3].explicitSet && ("name" === r2[t3].type ? e2.push("/" + t3 + " /" + r2[t3].value) : e2.push("/" + t3 + " " + r2[t3].value));
    0 !== e2.length && this.internal.write("/ViewerPreferences\n<<\n" + e2.join("\n") + "\n>>");
  }), this.internal.viewerpreferences.isSubscribed = true), this.internal.viewerpreferences.configuration = r2, this;
}, function(t3) {
  var e = function() {
    var t4 = '<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="' + this.internal.__metadata__.namespaceuri + '"><jspdf:metadata>', e2 = unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')), n3 = unescape(encodeURIComponent(t4)), r2 = unescape(encodeURIComponent(this.internal.__metadata__.metadata)), i2 = unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")), a2 = unescape(encodeURIComponent("</x:xmpmeta>")), o2 = n3.length + r2.length + i2.length + e2.length + a2.length;
    this.internal.__metadata__.metadata_object_number = this.internal.newObject(), this.internal.write("<< /Type /Metadata /Subtype /XML /Length " + o2 + " >>"), this.internal.write("stream"), this.internal.write(e2 + n3 + r2 + i2 + a2), this.internal.write("endstream"), this.internal.write("endobj");
  }, n2 = function() {
    this.internal.__metadata__.metadata_object_number && this.internal.write("/Metadata " + this.internal.__metadata__.metadata_object_number + " 0 R");
  };
  t3.addMetadata = function(t4, r2) {
    return void 0 === this.internal.__metadata__ && (this.internal.__metadata__ = { metadata: t4, namespaceuri: r2 || "http://jspdf.default.namespaceuri/" }, this.internal.events.subscribe("putCatalog", n2), this.internal.events.subscribe("postPutResources", e)), this;
  };
}(E.API), function(t3) {
  var e = t3.API, n2 = e.pdfEscape16 = function(t4, e2) {
    for (var n3, r3 = e2.metadata.Unicode.widths, i3 = ["", "0", "00", "000", "0000"], a2 = [""], o2 = 0, s2 = t4.length; o2 < s2; ++o2) {
      if (n3 = e2.metadata.characterToGlyph(t4.charCodeAt(o2)), e2.metadata.glyIdsUsed.push(n3), e2.metadata.toUnicode[n3] = t4.charCodeAt(o2), -1 == r3.indexOf(n3) && (r3.push(n3), r3.push([parseInt(e2.metadata.widthOfGlyph(n3), 10)])), "0" == n3)
        return a2.join("");
      n3 = n3.toString(16), a2.push(i3[4 - n3.length], n3);
    }
    return a2.join("");
  }, r2 = function(t4) {
    var e2, n3, r3, i3, a2, o2, s2;
    for (a2 = "/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange", r3 = [], o2 = 0, s2 = (n3 = Object.keys(t4).sort(function(t5, e3) {
      return t5 - e3;
    })).length; o2 < s2; o2++)
      e2 = n3[o2], r3.length >= 100 && (a2 += "\n" + r3.length + " beginbfchar\n" + r3.join("\n") + "\nendbfchar", r3 = []), void 0 !== t4[e2] && null !== t4[e2] && "function" == typeof t4[e2].toString && (i3 = ("0000" + t4[e2].toString(16)).slice(-4), e2 = ("0000" + (+e2).toString(16)).slice(-4), r3.push("<" + e2 + "><" + i3 + ">"));
    return r3.length && (a2 += "\n" + r3.length + " beginbfchar\n" + r3.join("\n") + "\nendbfchar\n"), a2 + "endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend";
  };
  e.events.push(["putFont", function(e2) {
    !function(e3) {
      var n3 = e3.font, i3 = e3.out, a2 = e3.newObject, o2 = e3.putStream;
      if (n3.metadata instanceof t3.API.TTFFont && "Identity-H" === n3.encoding) {
        for (var s2 = n3.metadata.Unicode.widths, u2 = n3.metadata.subset.encode(n3.metadata.glyIdsUsed, 1), c2 = "", l2 = 0; l2 < u2.length; l2++)
          c2 += String.fromCharCode(u2[l2]);
        var h2 = a2();
        o2({ data: c2, addLength1: true, objectId: h2 }), i3("endobj");
        var f2 = a2();
        o2({ data: r2(n3.metadata.toUnicode), addLength1: true, objectId: f2 }), i3("endobj");
        var d2 = a2();
        i3("<<"), i3("/Type /FontDescriptor"), i3("/FontName /" + j(n3.fontName)), i3("/FontFile2 " + h2 + " 0 R"), i3("/FontBBox " + t3.API.PDFObject.convert(n3.metadata.bbox)), i3("/Flags " + n3.metadata.flags), i3("/StemV " + n3.metadata.stemV), i3("/ItalicAngle " + n3.metadata.italicAngle), i3("/Ascent " + n3.metadata.ascender), i3("/Descent " + n3.metadata.decender), i3("/CapHeight " + n3.metadata.capHeight), i3(">>"), i3("endobj");
        var p2 = a2();
        i3("<<"), i3("/Type /Font"), i3("/BaseFont /" + j(n3.fontName)), i3("/FontDescriptor " + d2 + " 0 R"), i3("/W " + t3.API.PDFObject.convert(s2)), i3("/CIDToGIDMap /Identity"), i3("/DW 1000"), i3("/Subtype /CIDFontType2"), i3("/CIDSystemInfo"), i3("<<"), i3("/Supplement 0"), i3("/Registry (Adobe)"), i3("/Ordering (" + n3.encoding + ")"), i3(">>"), i3(">>"), i3("endobj"), n3.objectNumber = a2(), i3("<<"), i3("/Type /Font"), i3("/Subtype /Type0"), i3("/ToUnicode " + f2 + " 0 R"), i3("/BaseFont /" + j(n3.fontName)), i3("/Encoding /" + n3.encoding), i3("/DescendantFonts [" + p2 + " 0 R]"), i3(">>"), i3("endobj"), n3.isAlreadyPutted = true;
      }
    }(e2);
  }]), e.events.push(["putFont", function(e2) {
    !function(e3) {
      var n3 = e3.font, i3 = e3.out, a2 = e3.newObject, o2 = e3.putStream;
      if (n3.metadata instanceof t3.API.TTFFont && "WinAnsiEncoding" === n3.encoding) {
        for (var s2 = n3.metadata.rawData, u2 = "", c2 = 0; c2 < s2.length; c2++)
          u2 += String.fromCharCode(s2[c2]);
        var l2 = a2();
        o2({ data: u2, addLength1: true, objectId: l2 }), i3("endobj");
        var h2 = a2();
        o2({ data: r2(n3.metadata.toUnicode), addLength1: true, objectId: h2 }), i3("endobj");
        var f2 = a2();
        i3("<<"), i3("/Descent " + n3.metadata.decender), i3("/CapHeight " + n3.metadata.capHeight), i3("/StemV " + n3.metadata.stemV), i3("/Type /FontDescriptor"), i3("/FontFile2 " + l2 + " 0 R"), i3("/Flags 96"), i3("/FontBBox " + t3.API.PDFObject.convert(n3.metadata.bbox)), i3("/FontName /" + j(n3.fontName)), i3("/ItalicAngle " + n3.metadata.italicAngle), i3("/Ascent " + n3.metadata.ascender), i3(">>"), i3("endobj"), n3.objectNumber = a2();
        for (var d2 = 0; d2 < n3.metadata.hmtx.widths.length; d2++)
          n3.metadata.hmtx.widths[d2] = parseInt(n3.metadata.hmtx.widths[d2] * (1e3 / n3.metadata.head.unitsPerEm));
        i3("<</Subtype/TrueType/Type/Font/ToUnicode " + h2 + " 0 R/BaseFont/" + j(n3.fontName) + "/FontDescriptor " + f2 + " 0 R/Encoding/" + n3.encoding + " /FirstChar 29 /LastChar 255 /Widths " + t3.API.PDFObject.convert(n3.metadata.hmtx.widths) + ">>"), i3("endobj"), n3.isAlreadyPutted = true;
      }
    }(e2);
  }]);
  var i2 = function(t4) {
    var e2, r3 = t4.text || "", i3 = t4.x, a2 = t4.y, o2 = t4.options || {}, s2 = t4.mutex || {}, u2 = s2.pdfEscape, c2 = s2.activeFontKey, l2 = s2.fonts, h2 = c2, f2 = "", d2 = 0, p2 = "", g2 = l2[h2].encoding;
    if ("Identity-H" !== l2[h2].encoding)
      return { text: r3, x: i3, y: a2, options: o2, mutex: s2 };
    for (p2 = r3, h2 = c2, Array.isArray(r3) && (p2 = r3[0]), d2 = 0; d2 < p2.length; d2 += 1)
      l2[h2].metadata.hasOwnProperty("cmap") && (e2 = l2[h2].metadata.cmap.unicode.codeMap[p2[d2].charCodeAt(0)]), e2 || p2[d2].charCodeAt(0) < 256 && l2[h2].metadata.hasOwnProperty("Unicode") ? f2 += p2[d2] : f2 += "";
    var m2 = "";
    return parseInt(h2.slice(1)) < 14 || "WinAnsiEncoding" === g2 ? m2 = u2(f2, h2).split("").map(function(t5) {
      return t5.charCodeAt(0).toString(16);
    }).join("") : "Identity-H" === g2 && (m2 = n2(f2, l2[h2])), s2.isHex = true, { text: m2, x: i3, y: a2, options: o2, mutex: s2 };
  };
  e.events.push(["postProcessText", function(t4) {
    var e2 = t4.text || "", n3 = [], r3 = { text: e2, x: t4.x, y: t4.y, options: t4.options, mutex: t4.mutex };
    if (Array.isArray(e2)) {
      var a2 = 0;
      for (a2 = 0; a2 < e2.length; a2 += 1)
        Array.isArray(e2[a2]) && 3 === e2[a2].length ? n3.push([i2(Object.assign({}, r3, { text: e2[a2][0] })).text, e2[a2][1], e2[a2][2]]) : n3.push(i2(Object.assign({}, r3, { text: e2[a2] })).text);
      t4.text = n3;
    } else
      t4.text = i2(Object.assign({}, r3, { text: e2 })).text;
  }]);
}(E), function(t3) {
  var e = function() {
    return void 0 === this.internal.vFS && (this.internal.vFS = {}), true;
  };
  t3.existsFileInVFS = function(t4) {
    return e.call(this), void 0 !== this.internal.vFS[t4];
  }, t3.addFileToVFS = function(t4, n2) {
    return e.call(this), this.internal.vFS[t4] = n2, this;
  }, t3.getFileFromVFS = function(t4) {
    return e.call(this), void 0 !== this.internal.vFS[t4] ? this.internal.vFS[t4] : null;
  };
}(E.API), function(t3) {
  t3.__bidiEngine__ = t3.prototype.__bidiEngine__ = function(t4) {
    var n3, r2, i2, a2, o2, s2, u2, c2 = e, l2 = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]], h2 = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]], f2 = { L: 0, R: 1, EN: 2, AN: 3, N: 4, B: 5, S: 6 }, d2 = { 0: 0, 5: 1, 6: 2, 7: 3, 32: 4, 251: 5, 254: 6, 255: 7 }, p2 = ["(", ")", "(", "<", ">", "<", "[", "]", "[", "{", "}", "{", "\xAB", "\xBB", "\xAB", "\u2039", "\u203A", "\u2039", "\u2045", "\u2046", "\u2045", "\u207D", "\u207E", "\u207D", "\u208D", "\u208E", "\u208D", "\u2264", "\u2265", "\u2264", "\u2329", "\u232A", "\u2329", "\uFE59", "\uFE5A", "\uFE59", "\uFE5B", "\uFE5C", "\uFE5B", "\uFE5D", "\uFE5E", "\uFE5D", "\uFE64", "\uFE65", "\uFE64"], g2 = new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/), m2 = false, v2 = 0;
    this.__bidiEngine__ = {};
    var b3 = function(t5) {
      var e2 = t5.charCodeAt(), n4 = e2 >> 8, r3 = d2[n4];
      return void 0 !== r3 ? c2[256 * r3 + (255 & e2)] : 252 === n4 || 253 === n4 ? "AL" : g2.test(n4) ? "L" : 8 === n4 ? "R" : "N";
    }, y2 = function(t5) {
      for (var e2, n4 = 0; n4 < t5.length; n4++) {
        if ("L" === (e2 = b3(t5.charAt(n4))))
          return false;
        if ("R" === e2)
          return true;
      }
      return false;
    }, w2 = function(t5, e2, o3, s3) {
      var u3, c3, l3, h3, f3 = e2[s3];
      switch (f3) {
        case "L":
        case "R":
        case "LRE":
        case "RLE":
        case "LRO":
        case "RLO":
        case "PDF":
          m2 = false;
          break;
        case "N":
        case "AN":
          break;
        case "EN":
          m2 && (f3 = "AN");
          break;
        case "AL":
          m2 = true, f3 = "R";
          break;
        case "WS":
        case "BN":
          f3 = "N";
          break;
        case "CS":
          s3 < 1 || s3 + 1 >= e2.length || "EN" !== (u3 = o3[s3 - 1]) && "AN" !== u3 || "EN" !== (c3 = e2[s3 + 1]) && "AN" !== c3 ? f3 = "N" : m2 && (c3 = "AN"), f3 = c3 === u3 ? c3 : "N";
          break;
        case "ES":
          f3 = "EN" === (u3 = s3 > 0 ? o3[s3 - 1] : "B") && s3 + 1 < e2.length && "EN" === e2[s3 + 1] ? "EN" : "N";
          break;
        case "ET":
          if (s3 > 0 && "EN" === o3[s3 - 1]) {
            f3 = "EN";
            break;
          }
          if (m2) {
            f3 = "N";
            break;
          }
          for (l3 = s3 + 1, h3 = e2.length; l3 < h3 && "ET" === e2[l3]; )
            l3++;
          f3 = l3 < h3 && "EN" === e2[l3] ? "EN" : "N";
          break;
        case "NSM":
          if (i2 && !a2) {
            for (h3 = e2.length, l3 = s3 + 1; l3 < h3 && "NSM" === e2[l3]; )
              l3++;
            if (l3 < h3) {
              var d3 = t5[s3], p3 = d3 >= 1425 && d3 <= 2303 || 64286 === d3;
              if (u3 = e2[l3], p3 && ("R" === u3 || "AL" === u3)) {
                f3 = "R";
                break;
              }
            }
          }
          f3 = s3 < 1 || "B" === (u3 = e2[s3 - 1]) ? "N" : o3[s3 - 1];
          break;
        case "B":
          m2 = false, n3 = true, f3 = v2;
          break;
        case "S":
          r2 = true, f3 = "N";
      }
      return f3;
    }, N2 = function(t5, e2, n4) {
      var r3 = t5.split("");
      return n4 && L2(r3, n4, { hiLevel: v2 }), r3.reverse(), e2 && e2.reverse(), r3.join("");
    }, L2 = function(t5, e2, i3) {
      var a3, o3, s3, u3, c3, d3 = -1, p3 = t5.length, g3 = 0, y3 = [], N3 = v2 ? h2 : l2, L3 = [];
      for (m2 = false, n3 = false, r2 = false, o3 = 0; o3 < p3; o3++)
        L3[o3] = b3(t5[o3]);
      for (s3 = 0; s3 < p3; s3++) {
        if (c3 = g3, y3[s3] = w2(t5, L3, y3, s3), a3 = 240 & (g3 = N3[c3][f2[y3[s3]]]), g3 &= 15, e2[s3] = u3 = N3[g3][5], a3 > 0)
          if (16 === a3) {
            for (o3 = d3; o3 < s3; o3++)
              e2[o3] = 1;
            d3 = -1;
          } else
            d3 = -1;
        if (N3[g3][6])
          -1 === d3 && (d3 = s3);
        else if (d3 > -1) {
          for (o3 = d3; o3 < s3; o3++)
            e2[o3] = u3;
          d3 = -1;
        }
        "B" === L3[s3] && (e2[s3] = 0), i3.hiLevel |= u3;
      }
      r2 && function(t6, e3, n4) {
        for (var r3 = 0; r3 < n4; r3++)
          if ("S" === t6[r3]) {
            e3[r3] = v2;
            for (var i4 = r3 - 1; i4 >= 0 && "WS" === t6[i4]; i4--)
              e3[i4] = v2;
          }
      }(L3, e2, p3);
    }, x2 = function(t5, e2, r3, i3, a3) {
      if (!(a3.hiLevel < t5)) {
        if (1 === t5 && 1 === v2 && !n3)
          return e2.reverse(), void (r3 && r3.reverse());
        for (var o3, s3, u3, c3, l3 = e2.length, h3 = 0; h3 < l3; ) {
          if (i3[h3] >= t5) {
            for (u3 = h3 + 1; u3 < l3 && i3[u3] >= t5; )
              u3++;
            for (c3 = h3, s3 = u3 - 1; c3 < s3; c3++, s3--)
              o3 = e2[c3], e2[c3] = e2[s3], e2[s3] = o3, r3 && (o3 = r3[c3], r3[c3] = r3[s3], r3[s3] = o3);
            h3 = u3;
          }
          h3++;
        }
      }
    }, A2 = function(t5, e2, n4) {
      var r3 = t5.split(""), i3 = { hiLevel: v2 };
      return n4 || (n4 = []), L2(r3, n4, i3), function(t6, e3, n5) {
        if (0 !== n5.hiLevel && u2)
          for (var r4, i4 = 0; i4 < t6.length; i4++)
            1 === e3[i4] && (r4 = p2.indexOf(t6[i4])) >= 0 && (t6[i4] = p2[r4 + 1]);
      }(r3, n4, i3), x2(2, r3, e2, n4, i3), x2(1, r3, e2, n4, i3), r3.join("");
    };
    return this.__bidiEngine__.doBidiReorder = function(t5, e2, n4) {
      if (function(t6, e3) {
        if (e3)
          for (var n5 = 0; n5 < t6.length; n5++)
            e3[n5] = n5;
        void 0 === a2 && (a2 = y2(t6)), void 0 === s2 && (s2 = y2(t6));
      }(t5, e2), i2 || !o2 || s2)
        if (i2 && o2 && a2 ^ s2)
          v2 = a2 ? 1 : 0, t5 = N2(t5, e2, n4);
        else if (!i2 && o2 && s2)
          v2 = a2 ? 1 : 0, t5 = A2(t5, e2, n4), t5 = N2(t5, e2);
        else if (!i2 || a2 || o2 || s2) {
          if (i2 && !o2 && a2 ^ s2)
            t5 = N2(t5, e2), a2 ? (v2 = 0, t5 = A2(t5, e2, n4)) : (v2 = 1, t5 = A2(t5, e2, n4), t5 = N2(t5, e2));
          else if (i2 && a2 && !o2 && s2)
            v2 = 1, t5 = A2(t5, e2, n4), t5 = N2(t5, e2);
          else if (!i2 && !o2 && a2 ^ s2) {
            var r3 = u2;
            a2 ? (v2 = 1, t5 = A2(t5, e2, n4), v2 = 0, u2 = false, t5 = A2(t5, e2, n4), u2 = r3) : (v2 = 0, t5 = A2(t5, e2, n4), t5 = N2(t5, e2), v2 = 1, u2 = false, t5 = A2(t5, e2, n4), u2 = r3, t5 = N2(t5, e2));
          }
        } else
          v2 = 0, t5 = A2(t5, e2, n4);
      else
        v2 = a2 ? 1 : 0, t5 = A2(t5, e2, n4);
      return t5;
    }, this.__bidiEngine__.setOptions = function(t5) {
      t5 && (i2 = t5.isInputVisual, o2 = t5.isOutputVisual, a2 = t5.isInputRtl, s2 = t5.isOutputRtl, u2 = t5.isSymmetricSwapping);
    }, this.__bidiEngine__.setOptions(t4), this.__bidiEngine__;
  };
  var e = ["BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "S", "B", "S", "WS", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "B", "B", "B", "S", "WS", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "BN", "BN", "BN", "BN", "BN", "BN", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "CS", "N", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "L", "N", "N", "BN", "N", "N", "ET", "ET", "EN", "EN", "N", "L", "N", "N", "N", "EN", "L", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "N", "N", "N", "N", "N", "ET", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "NSM", "R", "NSM", "NSM", "R", "NSM", "NSM", "R", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AN", "AN", "AN", "AN", "AN", "AN", "N", "N", "AL", "ET", "ET", "AL", "CS", "AL", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "ET", "AN", "AN", "AL", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "NSM", "NSM", "N", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "R", "N", "N", "N", "N", "R", "N", "N", "N", "N", "N", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "BN", "BN", "BN", "L", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "B", "LRE", "RLE", "PDF", "LRO", "RLO", "CS", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "BN", "BN", "BN", "BN", "BN", "N", "LRI", "RLI", "FSI", "PDI", "BN", "BN", "BN", "BN", "BN", "BN", "EN", "L", "N", "N", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "L", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "R", "NSM", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "ES", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "R", "R", "R", "R", "R", "N", "R", "N", "R", "R", "N", "R", "R", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "CS", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "ET", "N", "N", "ES", "ES", "N", "N", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "BN", "N", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "N", "N", "N", "ET", "ET", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N"], n2 = new t3.__bidiEngine__({ isInputVisual: true });
  t3.API.events.push(["postProcessText", function(t4) {
    var e2 = t4.text;
    t4.x, t4.y;
    var r2 = t4.options || {};
    t4.mutex, r2.lang;
    var i2 = [];
    if (r2.isInputVisual = "boolean" != typeof r2.isInputVisual || r2.isInputVisual, n2.setOptions(r2), "[object Array]" === Object.prototype.toString.call(e2)) {
      var a2 = 0;
      for (i2 = [], a2 = 0; a2 < e2.length; a2 += 1)
        "[object Array]" === Object.prototype.toString.call(e2[a2]) ? i2.push([n2.doBidiReorder(e2[a2][0]), e2[a2][1], e2[a2][2]]) : i2.push([n2.doBidiReorder(e2[a2])]);
      t4.text = i2;
    } else
      t4.text = n2.doBidiReorder(e2);
    n2.setOptions({ isInputVisual: true });
  }]);
}(E), E.API.TTFFont = function() {
  function t3(t4) {
    var e;
    if (this.rawData = t4, e = this.contents = new fe(t4), this.contents.pos = 4, "ttcf" === e.readString(4))
      throw new Error("TTCF not supported.");
    e.pos = 0, this.parse(), this.subset = new je(this), this.registerTTF();
  }
  return t3.open = function(e) {
    return new t3(e);
  }, t3.prototype.parse = function() {
    return this.directory = new de(this.contents), this.head = new me(this), this.name = new xe(this), this.cmap = new be(this), this.toUnicode = {}, this.hhea = new ye(this), this.maxp = new Ae(this), this.hmtx = new Se(this), this.post = new Ne(this), this.os2 = new we(this), this.loca = new Ie(this), this.glyf = new Pe(this), this.ascender = this.os2.exists && this.os2.ascender || this.hhea.ascender, this.decender = this.os2.exists && this.os2.decender || this.hhea.decender, this.lineGap = this.os2.exists && this.os2.lineGap || this.hhea.lineGap, this.bbox = [this.head.xMin, this.head.yMin, this.head.xMax, this.head.yMax];
  }, t3.prototype.registerTTF = function() {
    var t4, e, n2, r2, i2;
    if (this.scaleFactor = 1e3 / this.head.unitsPerEm, this.bbox = function() {
      var e2, n3, r3, i3;
      for (i3 = [], e2 = 0, n3 = (r3 = this.bbox).length; e2 < n3; e2++)
        t4 = r3[e2], i3.push(Math.round(t4 * this.scaleFactor));
      return i3;
    }.call(this), this.stemV = 0, this.post.exists ? (n2 = 255 & (r2 = this.post.italic_angle), 32768 & (e = r2 >> 16) && (e = -(1 + (65535 ^ e))), this.italicAngle = +(e + "." + n2)) : this.italicAngle = 0, this.ascender = Math.round(this.ascender * this.scaleFactor), this.decender = Math.round(this.decender * this.scaleFactor), this.lineGap = Math.round(this.lineGap * this.scaleFactor), this.capHeight = this.os2.exists && this.os2.capHeight || this.ascender, this.xHeight = this.os2.exists && this.os2.xHeight || 0, this.familyClass = (this.os2.exists && this.os2.familyClass || 0) >> 8, this.isSerif = 1 === (i2 = this.familyClass) || 2 === i2 || 3 === i2 || 4 === i2 || 5 === i2 || 7 === i2, this.isScript = 10 === this.familyClass, this.flags = 0, this.post.isFixedPitch && (this.flags |= 1), this.isSerif && (this.flags |= 2), this.isScript && (this.flags |= 8), 0 !== this.italicAngle && (this.flags |= 64), this.flags |= 32, !this.cmap.unicode)
      throw new Error("No unicode cmap for font");
  }, t3.prototype.characterToGlyph = function(t4) {
    var e;
    return (null != (e = this.cmap.unicode) ? e.codeMap[t4] : void 0) || 0;
  }, t3.prototype.widthOfGlyph = function(t4) {
    var e;
    return e = 1e3 / this.head.unitsPerEm, this.hmtx.forGlyph(t4).advance * e;
  }, t3.prototype.widthOfString = function(t4, e, n2) {
    var r2, i2, a2, o2;
    for (a2 = 0, i2 = 0, o2 = (t4 = "" + t4).length; 0 <= o2 ? i2 < o2 : i2 > o2; i2 = 0 <= o2 ? ++i2 : --i2)
      r2 = t4.charCodeAt(i2), a2 += this.widthOfGlyph(this.characterToGlyph(r2)) + n2 * (1e3 / e) || 0;
    return a2 * (e / 1e3);
  }, t3.prototype.lineHeight = function(t4, e) {
    var n2;
    return null == e && (e = false), n2 = e ? this.lineGap : 0, (this.ascender + n2 - this.decender) / 1e3 * t4;
  }, t3;
}();
var he, fe = function() {
  function t3(t4) {
    this.data = null != t4 ? t4 : [], this.pos = 0, this.length = this.data.length;
  }
  return t3.prototype.readByte = function() {
    return this.data[this.pos++];
  }, t3.prototype.writeByte = function(t4) {
    return this.data[this.pos++] = t4;
  }, t3.prototype.readUInt32 = function() {
    return 16777216 * this.readByte() + (this.readByte() << 16) + (this.readByte() << 8) + this.readByte();
  }, t3.prototype.writeUInt32 = function(t4) {
    return this.writeByte(t4 >>> 24 & 255), this.writeByte(t4 >> 16 & 255), this.writeByte(t4 >> 8 & 255), this.writeByte(255 & t4);
  }, t3.prototype.readInt32 = function() {
    var t4;
    return (t4 = this.readUInt32()) >= 2147483648 ? t4 - 4294967296 : t4;
  }, t3.prototype.writeInt32 = function(t4) {
    return t4 < 0 && (t4 += 4294967296), this.writeUInt32(t4);
  }, t3.prototype.readUInt16 = function() {
    return this.readByte() << 8 | this.readByte();
  }, t3.prototype.writeUInt16 = function(t4) {
    return this.writeByte(t4 >> 8 & 255), this.writeByte(255 & t4);
  }, t3.prototype.readInt16 = function() {
    var t4;
    return (t4 = this.readUInt16()) >= 32768 ? t4 - 65536 : t4;
  }, t3.prototype.writeInt16 = function(t4) {
    return t4 < 0 && (t4 += 65536), this.writeUInt16(t4);
  }, t3.prototype.readString = function(t4) {
    var e, n2;
    for (n2 = [], e = 0; 0 <= t4 ? e < t4 : e > t4; e = 0 <= t4 ? ++e : --e)
      n2[e] = String.fromCharCode(this.readByte());
    return n2.join("");
  }, t3.prototype.writeString = function(t4) {
    var e, n2, r2;
    for (r2 = [], e = 0, n2 = t4.length; 0 <= n2 ? e < n2 : e > n2; e = 0 <= n2 ? ++e : --e)
      r2.push(this.writeByte(t4.charCodeAt(e)));
    return r2;
  }, t3.prototype.readShort = function() {
    return this.readInt16();
  }, t3.prototype.writeShort = function(t4) {
    return this.writeInt16(t4);
  }, t3.prototype.readLongLong = function() {
    var t4, e, n2, r2, i2, a2, o2, s2;
    return t4 = this.readByte(), e = this.readByte(), n2 = this.readByte(), r2 = this.readByte(), i2 = this.readByte(), a2 = this.readByte(), o2 = this.readByte(), s2 = this.readByte(), 128 & t4 ? -1 * (72057594037927940 * (255 ^ t4) + 281474976710656 * (255 ^ e) + 1099511627776 * (255 ^ n2) + 4294967296 * (255 ^ r2) + 16777216 * (255 ^ i2) + 65536 * (255 ^ a2) + 256 * (255 ^ o2) + (255 ^ s2) + 1) : 72057594037927940 * t4 + 281474976710656 * e + 1099511627776 * n2 + 4294967296 * r2 + 16777216 * i2 + 65536 * a2 + 256 * o2 + s2;
  }, t3.prototype.writeLongLong = function(t4) {
    var e, n2;
    return e = Math.floor(t4 / 4294967296), n2 = 4294967295 & t4, this.writeByte(e >> 24 & 255), this.writeByte(e >> 16 & 255), this.writeByte(e >> 8 & 255), this.writeByte(255 & e), this.writeByte(n2 >> 24 & 255), this.writeByte(n2 >> 16 & 255), this.writeByte(n2 >> 8 & 255), this.writeByte(255 & n2);
  }, t3.prototype.readInt = function() {
    return this.readInt32();
  }, t3.prototype.writeInt = function(t4) {
    return this.writeInt32(t4);
  }, t3.prototype.read = function(t4) {
    var e, n2;
    for (e = [], n2 = 0; 0 <= t4 ? n2 < t4 : n2 > t4; n2 = 0 <= t4 ? ++n2 : --n2)
      e.push(this.readByte());
    return e;
  }, t3.prototype.write = function(t4) {
    var e, n2, r2, i2;
    for (i2 = [], n2 = 0, r2 = t4.length; n2 < r2; n2++)
      e = t4[n2], i2.push(this.writeByte(e));
    return i2;
  }, t3;
}(), de = function() {
  var t3;
  function e(t4) {
    var e2, n2, r2;
    for (this.scalarType = t4.readInt(), this.tableCount = t4.readShort(), this.searchRange = t4.readShort(), this.entrySelector = t4.readShort(), this.rangeShift = t4.readShort(), this.tables = {}, n2 = 0, r2 = this.tableCount; 0 <= r2 ? n2 < r2 : n2 > r2; n2 = 0 <= r2 ? ++n2 : --n2)
      e2 = { tag: t4.readString(4), checksum: t4.readInt(), offset: t4.readInt(), length: t4.readInt() }, this.tables[e2.tag] = e2;
  }
  return e.prototype.encode = function(e2) {
    var n2, r2, i2, a2, o2, s2, u2, c2, l2, h2, f2, d2, p2;
    for (p2 in f2 = Object.keys(e2).length, s2 = Math.log(2), l2 = 16 * Math.floor(Math.log(f2) / s2), a2 = Math.floor(l2 / s2), c2 = 16 * f2 - l2, (r2 = new fe()).writeInt(this.scalarType), r2.writeShort(f2), r2.writeShort(l2), r2.writeShort(a2), r2.writeShort(c2), i2 = 16 * f2, u2 = r2.pos + i2, o2 = null, d2 = [], e2)
      for (h2 = e2[p2], r2.writeString(p2), r2.writeInt(t3(h2)), r2.writeInt(u2), r2.writeInt(h2.length), d2 = d2.concat(h2), "head" === p2 && (o2 = u2), u2 += h2.length; u2 % 4; )
        d2.push(0), u2++;
    return r2.write(d2), n2 = 2981146554 - t3(r2.data), r2.pos = o2 + 8, r2.writeUInt32(n2), r2.data;
  }, t3 = function(t4) {
    var e2, n2, r2, i2;
    for (t4 = _e.call(t4); t4.length % 4; )
      t4.push(0);
    for (r2 = new fe(t4), n2 = 0, e2 = 0, i2 = t4.length; e2 < i2; e2 = e2 += 4)
      n2 += r2.readUInt32();
    return 4294967295 & n2;
  }, e;
}(), pe = {}.hasOwnProperty, ge = function(t3, e) {
  for (var n2 in e)
    pe.call(e, n2) && (t3[n2] = e[n2]);
  function r2() {
    this.constructor = t3;
  }
  return r2.prototype = e.prototype, t3.prototype = new r2(), t3.__super__ = e.prototype, t3;
};
he = function() {
  function t3(t4) {
    var e;
    this.file = t4, e = this.file.directory.tables[this.tag], this.exists = !!e, e && (this.offset = e.offset, this.length = e.length, this.parse(this.file.contents));
  }
  return t3.prototype.parse = function() {
  }, t3.prototype.encode = function() {
  }, t3.prototype.raw = function() {
    return this.exists ? (this.file.contents.pos = this.offset, this.file.contents.read(this.length)) : null;
  }, t3;
}();
var me = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "head", t3.prototype.parse = function(t4) {
    return t4.pos = this.offset, this.version = t4.readInt(), this.revision = t4.readInt(), this.checkSumAdjustment = t4.readInt(), this.magicNumber = t4.readInt(), this.flags = t4.readShort(), this.unitsPerEm = t4.readShort(), this.created = t4.readLongLong(), this.modified = t4.readLongLong(), this.xMin = t4.readShort(), this.yMin = t4.readShort(), this.xMax = t4.readShort(), this.yMax = t4.readShort(), this.macStyle = t4.readShort(), this.lowestRecPPEM = t4.readShort(), this.fontDirectionHint = t4.readShort(), this.indexToLocFormat = t4.readShort(), this.glyphDataFormat = t4.readShort();
  }, t3.prototype.encode = function(t4) {
    var e;
    return (e = new fe()).writeInt(this.version), e.writeInt(this.revision), e.writeInt(this.checkSumAdjustment), e.writeInt(this.magicNumber), e.writeShort(this.flags), e.writeShort(this.unitsPerEm), e.writeLongLong(this.created), e.writeLongLong(this.modified), e.writeShort(this.xMin), e.writeShort(this.yMin), e.writeShort(this.xMax), e.writeShort(this.yMax), e.writeShort(this.macStyle), e.writeShort(this.lowestRecPPEM), e.writeShort(this.fontDirectionHint), e.writeShort(t4), e.writeShort(this.glyphDataFormat), e.data;
  }, t3;
}(), ve = function() {
  function t3(t4, e) {
    var n2, r2, i2, a2, o2, s2, u2, c2, l2, h2, f2, d2, p2, g2, m2, v2, b3;
    switch (this.platformID = t4.readUInt16(), this.encodingID = t4.readShort(), this.offset = e + t4.readInt(), l2 = t4.pos, t4.pos = this.offset, this.format = t4.readUInt16(), this.length = t4.readUInt16(), this.language = t4.readUInt16(), this.isUnicode = 3 === this.platformID && 1 === this.encodingID && 4 === this.format || 0 === this.platformID && 4 === this.format, this.codeMap = {}, this.format) {
      case 0:
        for (s2 = 0; s2 < 256; ++s2)
          this.codeMap[s2] = t4.readByte();
        break;
      case 4:
        for (f2 = t4.readUInt16(), h2 = f2 / 2, t4.pos += 6, i2 = function() {
          var e2, n3;
          for (n3 = [], s2 = e2 = 0; 0 <= h2 ? e2 < h2 : e2 > h2; s2 = 0 <= h2 ? ++e2 : --e2)
            n3.push(t4.readUInt16());
          return n3;
        }(), t4.pos += 2, p2 = function() {
          var e2, n3;
          for (n3 = [], s2 = e2 = 0; 0 <= h2 ? e2 < h2 : e2 > h2; s2 = 0 <= h2 ? ++e2 : --e2)
            n3.push(t4.readUInt16());
          return n3;
        }(), u2 = function() {
          var e2, n3;
          for (n3 = [], s2 = e2 = 0; 0 <= h2 ? e2 < h2 : e2 > h2; s2 = 0 <= h2 ? ++e2 : --e2)
            n3.push(t4.readUInt16());
          return n3;
        }(), c2 = function() {
          var e2, n3;
          for (n3 = [], s2 = e2 = 0; 0 <= h2 ? e2 < h2 : e2 > h2; s2 = 0 <= h2 ? ++e2 : --e2)
            n3.push(t4.readUInt16());
          return n3;
        }(), r2 = (this.length - t4.pos + this.offset) / 2, o2 = function() {
          var e2, n3;
          for (n3 = [], s2 = e2 = 0; 0 <= r2 ? e2 < r2 : e2 > r2; s2 = 0 <= r2 ? ++e2 : --e2)
            n3.push(t4.readUInt16());
          return n3;
        }(), s2 = m2 = 0, b3 = i2.length; m2 < b3; s2 = ++m2)
          for (g2 = i2[s2], n2 = v2 = d2 = p2[s2]; d2 <= g2 ? v2 <= g2 : v2 >= g2; n2 = d2 <= g2 ? ++v2 : --v2)
            0 === c2[s2] ? a2 = n2 + u2[s2] : 0 !== (a2 = o2[c2[s2] / 2 + (n2 - d2) - (h2 - s2)] || 0) && (a2 += u2[s2]), this.codeMap[n2] = 65535 & a2;
    }
    t4.pos = l2;
  }
  return t3.encode = function(t4, e) {
    var n2, r2, i2, a2, o2, s2, u2, c2, l2, h2, f2, d2, p2, g2, m2, v2, b3, y2, w2, N2, L2, x2, A2, S2, _2, P2, k3, F2, I2, j2, C2, O2, B2, M2, q2, E2, R2, D2, T2, z2, U2, H2, W2, V2, G2, Y2;
    switch (F2 = new fe(), a2 = Object.keys(t4).sort(function(t5, e2) {
      return t5 - e2;
    }), e) {
      case "macroman":
        for (p2 = 0, g2 = function() {
          var t5 = [];
          for (d2 = 0; d2 < 256; ++d2)
            t5.push(0);
          return t5;
        }(), v2 = { 0: 0 }, i2 = {}, I2 = 0, B2 = a2.length; I2 < B2; I2++)
          null == v2[W2 = t4[r2 = a2[I2]]] && (v2[W2] = ++p2), i2[r2] = { old: t4[r2], new: v2[t4[r2]] }, g2[r2] = v2[t4[r2]];
        return F2.writeUInt16(1), F2.writeUInt16(0), F2.writeUInt32(12), F2.writeUInt16(0), F2.writeUInt16(262), F2.writeUInt16(0), F2.write(g2), { charMap: i2, subtable: F2.data, maxGlyphID: p2 + 1 };
      case "unicode":
        for (P2 = [], l2 = [], b3 = 0, v2 = {}, n2 = {}, m2 = u2 = null, j2 = 0, M2 = a2.length; j2 < M2; j2++)
          null == v2[w2 = t4[r2 = a2[j2]]] && (v2[w2] = ++b3), n2[r2] = { old: w2, new: v2[w2] }, o2 = v2[w2] - r2, null != m2 && o2 === u2 || (m2 && l2.push(m2), P2.push(r2), u2 = o2), m2 = r2;
        for (m2 && l2.push(m2), l2.push(65535), P2.push(65535), S2 = 2 * (A2 = P2.length), x2 = 2 * Math.pow(Math.log(A2) / Math.LN2, 2), h2 = Math.log(x2 / 2) / Math.LN2, L2 = 2 * A2 - x2, s2 = [], N2 = [], f2 = [], d2 = C2 = 0, q2 = P2.length; C2 < q2; d2 = ++C2) {
          if (_2 = P2[d2], c2 = l2[d2], 65535 === _2) {
            s2.push(0), N2.push(0);
            break;
          }
          if (_2 - (k3 = n2[_2].new) >= 32768)
            for (s2.push(0), N2.push(2 * (f2.length + A2 - d2)), r2 = O2 = _2; _2 <= c2 ? O2 <= c2 : O2 >= c2; r2 = _2 <= c2 ? ++O2 : --O2)
              f2.push(n2[r2].new);
          else
            s2.push(k3 - _2), N2.push(0);
        }
        for (F2.writeUInt16(3), F2.writeUInt16(1), F2.writeUInt32(12), F2.writeUInt16(4), F2.writeUInt16(16 + 8 * A2 + 2 * f2.length), F2.writeUInt16(0), F2.writeUInt16(S2), F2.writeUInt16(x2), F2.writeUInt16(h2), F2.writeUInt16(L2), U2 = 0, E2 = l2.length; U2 < E2; U2++)
          r2 = l2[U2], F2.writeUInt16(r2);
        for (F2.writeUInt16(0), H2 = 0, R2 = P2.length; H2 < R2; H2++)
          r2 = P2[H2], F2.writeUInt16(r2);
        for (V2 = 0, D2 = s2.length; V2 < D2; V2++)
          o2 = s2[V2], F2.writeUInt16(o2);
        for (G2 = 0, T2 = N2.length; G2 < T2; G2++)
          y2 = N2[G2], F2.writeUInt16(y2);
        for (Y2 = 0, z2 = f2.length; Y2 < z2; Y2++)
          p2 = f2[Y2], F2.writeUInt16(p2);
        return { charMap: n2, subtable: F2.data, maxGlyphID: b3 + 1 };
    }
  }, t3;
}(), be = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "cmap", t3.prototype.parse = function(t4) {
    var e, n2, r2;
    for (t4.pos = this.offset, this.version = t4.readUInt16(), r2 = t4.readUInt16(), this.tables = [], this.unicode = null, n2 = 0; 0 <= r2 ? n2 < r2 : n2 > r2; n2 = 0 <= r2 ? ++n2 : --n2)
      e = new ve(t4, this.offset), this.tables.push(e), e.isUnicode && null == this.unicode && (this.unicode = e);
    return true;
  }, t3.encode = function(t4, e) {
    var n2, r2;
    return null == e && (e = "macroman"), n2 = ve.encode(t4, e), (r2 = new fe()).writeUInt16(0), r2.writeUInt16(1), n2.table = r2.data.concat(n2.subtable), n2;
  }, t3;
}(), ye = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "hhea", t3.prototype.parse = function(t4) {
    return t4.pos = this.offset, this.version = t4.readInt(), this.ascender = t4.readShort(), this.decender = t4.readShort(), this.lineGap = t4.readShort(), this.advanceWidthMax = t4.readShort(), this.minLeftSideBearing = t4.readShort(), this.minRightSideBearing = t4.readShort(), this.xMaxExtent = t4.readShort(), this.caretSlopeRise = t4.readShort(), this.caretSlopeRun = t4.readShort(), this.caretOffset = t4.readShort(), t4.pos += 8, this.metricDataFormat = t4.readShort(), this.numberOfMetrics = t4.readUInt16();
  }, t3;
}(), we = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "OS/2", t3.prototype.parse = function(t4) {
    if (t4.pos = this.offset, this.version = t4.readUInt16(), this.averageCharWidth = t4.readShort(), this.weightClass = t4.readUInt16(), this.widthClass = t4.readUInt16(), this.type = t4.readShort(), this.ySubscriptXSize = t4.readShort(), this.ySubscriptYSize = t4.readShort(), this.ySubscriptXOffset = t4.readShort(), this.ySubscriptYOffset = t4.readShort(), this.ySuperscriptXSize = t4.readShort(), this.ySuperscriptYSize = t4.readShort(), this.ySuperscriptXOffset = t4.readShort(), this.ySuperscriptYOffset = t4.readShort(), this.yStrikeoutSize = t4.readShort(), this.yStrikeoutPosition = t4.readShort(), this.familyClass = t4.readShort(), this.panose = function() {
      var e, n2;
      for (n2 = [], e = 0; e < 10; ++e)
        n2.push(t4.readByte());
      return n2;
    }(), this.charRange = function() {
      var e, n2;
      for (n2 = [], e = 0; e < 4; ++e)
        n2.push(t4.readInt());
      return n2;
    }(), this.vendorID = t4.readString(4), this.selection = t4.readShort(), this.firstCharIndex = t4.readShort(), this.lastCharIndex = t4.readShort(), this.version > 0 && (this.ascent = t4.readShort(), this.descent = t4.readShort(), this.lineGap = t4.readShort(), this.winAscent = t4.readShort(), this.winDescent = t4.readShort(), this.codePageRange = function() {
      var e, n2;
      for (n2 = [], e = 0; e < 2; e = ++e)
        n2.push(t4.readInt());
      return n2;
    }(), this.version > 1))
      return this.xHeight = t4.readShort(), this.capHeight = t4.readShort(), this.defaultChar = t4.readShort(), this.breakChar = t4.readShort(), this.maxContext = t4.readShort();
  }, t3;
}(), Ne = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "post", t3.prototype.parse = function(t4) {
    var e, n2, r2;
    switch (t4.pos = this.offset, this.format = t4.readInt(), this.italicAngle = t4.readInt(), this.underlinePosition = t4.readShort(), this.underlineThickness = t4.readShort(), this.isFixedPitch = t4.readInt(), this.minMemType42 = t4.readInt(), this.maxMemType42 = t4.readInt(), this.minMemType1 = t4.readInt(), this.maxMemType1 = t4.readInt(), this.format) {
      case 65536:
      case 196608:
        break;
      case 131072:
        var i2;
        for (n2 = t4.readUInt16(), this.glyphNameIndex = [], i2 = 0; 0 <= n2 ? i2 < n2 : i2 > n2; i2 = 0 <= n2 ? ++i2 : --i2)
          this.glyphNameIndex.push(t4.readUInt16());
        for (this.names = [], r2 = []; t4.pos < this.offset + this.length; )
          e = t4.readByte(), r2.push(this.names.push(t4.readString(e)));
        return r2;
      case 151552:
        return n2 = t4.readUInt16(), this.offsets = t4.read(n2);
      case 262144:
        return this.map = function() {
          var e2, n3, r3;
          for (r3 = [], i2 = e2 = 0, n3 = this.file.maxp.numGlyphs; 0 <= n3 ? e2 < n3 : e2 > n3; i2 = 0 <= n3 ? ++e2 : --e2)
            r3.push(t4.readUInt32());
          return r3;
        }.call(this);
    }
  }, t3;
}(), Le = function(t3, e) {
  this.raw = t3, this.length = t3.length, this.platformID = e.platformID, this.encodingID = e.encodingID, this.languageID = e.languageID;
}, xe = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "name", t3.prototype.parse = function(t4) {
    var e, n2, r2, i2, a2, o2, s2, u2, c2, l2, h2;
    for (t4.pos = this.offset, t4.readShort(), e = t4.readShort(), o2 = t4.readShort(), n2 = [], i2 = 0; 0 <= e ? i2 < e : i2 > e; i2 = 0 <= e ? ++i2 : --i2)
      n2.push({ platformID: t4.readShort(), encodingID: t4.readShort(), languageID: t4.readShort(), nameID: t4.readShort(), length: t4.readShort(), offset: this.offset + o2 + t4.readShort() });
    for (s2 = {}, i2 = c2 = 0, l2 = n2.length; c2 < l2; i2 = ++c2)
      r2 = n2[i2], t4.pos = r2.offset, u2 = t4.readString(r2.length), a2 = new Le(u2, r2), null == s2[h2 = r2.nameID] && (s2[h2] = []), s2[r2.nameID].push(a2);
    this.strings = s2, this.copyright = s2[0], this.fontFamily = s2[1], this.fontSubfamily = s2[2], this.uniqueSubfamily = s2[3], this.fontName = s2[4], this.version = s2[5];
    try {
      this.postscriptName = s2[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "");
    } catch (f2) {
      this.postscriptName = s2[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "");
    }
    return this.trademark = s2[7], this.manufacturer = s2[8], this.designer = s2[9], this.description = s2[10], this.vendorUrl = s2[11], this.designerUrl = s2[12], this.license = s2[13], this.licenseUrl = s2[14], this.preferredFamily = s2[15], this.preferredSubfamily = s2[17], this.compatibleFull = s2[18], this.sampleText = s2[19];
  }, t3;
}(), Ae = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "maxp", t3.prototype.parse = function(t4) {
    return t4.pos = this.offset, this.version = t4.readInt(), this.numGlyphs = t4.readUInt16(), this.maxPoints = t4.readUInt16(), this.maxContours = t4.readUInt16(), this.maxCompositePoints = t4.readUInt16(), this.maxComponentContours = t4.readUInt16(), this.maxZones = t4.readUInt16(), this.maxTwilightPoints = t4.readUInt16(), this.maxStorage = t4.readUInt16(), this.maxFunctionDefs = t4.readUInt16(), this.maxInstructionDefs = t4.readUInt16(), this.maxStackElements = t4.readUInt16(), this.maxSizeOfInstructions = t4.readUInt16(), this.maxComponentElements = t4.readUInt16(), this.maxComponentDepth = t4.readUInt16();
  }, t3;
}(), Se = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "hmtx", t3.prototype.parse = function(t4) {
    var e, n2, r2, i2, a2, o2, s2;
    for (t4.pos = this.offset, this.metrics = [], e = 0, o2 = this.file.hhea.numberOfMetrics; 0 <= o2 ? e < o2 : e > o2; e = 0 <= o2 ? ++e : --e)
      this.metrics.push({ advance: t4.readUInt16(), lsb: t4.readInt16() });
    for (r2 = this.file.maxp.numGlyphs - this.file.hhea.numberOfMetrics, this.leftSideBearings = function() {
      var n3, i3;
      for (i3 = [], e = n3 = 0; 0 <= r2 ? n3 < r2 : n3 > r2; e = 0 <= r2 ? ++n3 : --n3)
        i3.push(t4.readInt16());
      return i3;
    }(), this.widths = function() {
      var t5, e2, n3, r3;
      for (r3 = [], t5 = 0, e2 = (n3 = this.metrics).length; t5 < e2; t5++)
        i2 = n3[t5], r3.push(i2.advance);
      return r3;
    }.call(this), n2 = this.widths[this.widths.length - 1], s2 = [], e = a2 = 0; 0 <= r2 ? a2 < r2 : a2 > r2; e = 0 <= r2 ? ++a2 : --a2)
      s2.push(this.widths.push(n2));
    return s2;
  }, t3.prototype.forGlyph = function(t4) {
    return t4 in this.metrics ? this.metrics[t4] : { advance: this.metrics[this.metrics.length - 1].advance, lsb: this.leftSideBearings[t4 - this.metrics.length] };
  }, t3;
}(), _e = [].slice, Pe = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "glyf", t3.prototype.parse = function() {
    return this.cache = {};
  }, t3.prototype.glyphFor = function(t4) {
    var e, n2, r2, i2, a2, o2, s2, u2, c2, l2;
    return t4 in this.cache ? this.cache[t4] : (i2 = this.file.loca, e = this.file.contents, n2 = i2.indexOf(t4), 0 === (r2 = i2.lengthOf(t4)) ? this.cache[t4] = null : (e.pos = this.offset + n2, a2 = (o2 = new fe(e.read(r2))).readShort(), u2 = o2.readShort(), l2 = o2.readShort(), s2 = o2.readShort(), c2 = o2.readShort(), this.cache[t4] = -1 === a2 ? new Fe(o2, u2, l2, s2, c2) : new ke(o2, a2, u2, l2, s2, c2), this.cache[t4]));
  }, t3.prototype.encode = function(t4, e, n2) {
    var r2, i2, a2, o2, s2;
    for (a2 = [], i2 = [], o2 = 0, s2 = e.length; o2 < s2; o2++)
      r2 = t4[e[o2]], i2.push(a2.length), r2 && (a2 = a2.concat(r2.encode(n2)));
    return i2.push(a2.length), { table: a2, offsets: i2 };
  }, t3;
}(), ke = function() {
  function t3(t4, e, n2, r2, i2, a2) {
    this.raw = t4, this.numberOfContours = e, this.xMin = n2, this.yMin = r2, this.xMax = i2, this.yMax = a2, this.compound = false;
  }
  return t3.prototype.encode = function() {
    return this.raw.data;
  }, t3;
}(), Fe = function() {
  function t3(t4, e, n2, r2, i2) {
    var a2, o2;
    for (this.raw = t4, this.xMin = e, this.yMin = n2, this.xMax = r2, this.yMax = i2, this.compound = true, this.glyphIDs = [], this.glyphOffsets = [], a2 = this.raw; o2 = a2.readShort(), this.glyphOffsets.push(a2.pos), this.glyphIDs.push(a2.readUInt16()), 32 & o2; )
      a2.pos += 1 & o2 ? 4 : 2, 128 & o2 ? a2.pos += 8 : 64 & o2 ? a2.pos += 4 : 8 & o2 && (a2.pos += 2);
  }
  return t3.prototype.encode = function() {
    var t4, e, n2;
    for (e = new fe(_e.call(this.raw.data)), t4 = 0, n2 = this.glyphIDs.length; t4 < n2; ++t4)
      e.pos = this.glyphOffsets[t4];
    return e.data;
  }, t3;
}(), Ie = function() {
  function t3() {
    return t3.__super__.constructor.apply(this, arguments);
  }
  return ge(t3, he), t3.prototype.tag = "loca", t3.prototype.parse = function(t4) {
    var e, n2;
    return t4.pos = this.offset, e = this.file.head.indexToLocFormat, this.offsets = 0 === e ? function() {
      var e2, r2;
      for (r2 = [], n2 = 0, e2 = this.length; n2 < e2; n2 += 2)
        r2.push(2 * t4.readUInt16());
      return r2;
    }.call(this) : function() {
      var e2, r2;
      for (r2 = [], n2 = 0, e2 = this.length; n2 < e2; n2 += 4)
        r2.push(t4.readUInt32());
      return r2;
    }.call(this);
  }, t3.prototype.indexOf = function(t4) {
    return this.offsets[t4];
  }, t3.prototype.lengthOf = function(t4) {
    return this.offsets[t4 + 1] - this.offsets[t4];
  }, t3.prototype.encode = function(t4, e) {
    for (var n2 = new Uint32Array(this.offsets.length), r2 = 0, i2 = 0, a2 = 0; a2 < n2.length; ++a2)
      if (n2[a2] = r2, i2 < e.length && e[i2] == a2) {
        ++i2, n2[a2] = r2;
        var o2 = this.offsets[a2], s2 = this.offsets[a2 + 1] - o2;
        s2 > 0 && (r2 += s2);
      }
    for (var u2 = new Array(4 * n2.length), c2 = 0; c2 < n2.length; ++c2)
      u2[4 * c2 + 3] = 255 & n2[c2], u2[4 * c2 + 2] = (65280 & n2[c2]) >> 8, u2[4 * c2 + 1] = (16711680 & n2[c2]) >> 16, u2[4 * c2] = (4278190080 & n2[c2]) >> 24;
    return u2;
  }, t3;
}(), je = function() {
  function t3(t4) {
    this.font = t4, this.subset = {}, this.unicodes = {}, this.next = 33;
  }
  return t3.prototype.generateCmap = function() {
    var t4, e, n2, r2, i2;
    for (e in r2 = this.font.cmap.tables[0].codeMap, t4 = {}, i2 = this.subset)
      n2 = i2[e], t4[e] = r2[n2];
    return t4;
  }, t3.prototype.glyphsFor = function(t4) {
    var e, n2, r2, i2, a2, o2, s2;
    for (r2 = {}, a2 = 0, o2 = t4.length; a2 < o2; a2++)
      r2[i2 = t4[a2]] = this.font.glyf.glyphFor(i2);
    for (i2 in e = [], r2)
      (null != (n2 = r2[i2]) ? n2.compound : void 0) && e.push.apply(e, n2.glyphIDs);
    if (e.length > 0)
      for (i2 in s2 = this.glyphsFor(e))
        n2 = s2[i2], r2[i2] = n2;
    return r2;
  }, t3.prototype.encode = function(t4, e) {
    var n2, r2, i2, a2, o2, s2, u2, c2, l2, h2, f2, d2, p2, g2, m2;
    for (r2 in n2 = be.encode(this.generateCmap(), "unicode"), a2 = this.glyphsFor(t4), f2 = { 0: 0 }, m2 = n2.charMap)
      f2[(s2 = m2[r2]).old] = s2.new;
    for (d2 in h2 = n2.maxGlyphID, a2)
      d2 in f2 || (f2[d2] = h2++);
    return c2 = function(t5) {
      var e2, n3;
      for (e2 in n3 = {}, t5)
        n3[t5[e2]] = e2;
      return n3;
    }(f2), l2 = Object.keys(c2).sort(function(t5, e2) {
      return t5 - e2;
    }), p2 = function() {
      var t5, e2, n3;
      for (n3 = [], t5 = 0, e2 = l2.length; t5 < e2; t5++)
        o2 = l2[t5], n3.push(c2[o2]);
      return n3;
    }(), i2 = this.font.glyf.encode(a2, p2, f2), u2 = this.font.loca.encode(i2.offsets, p2), g2 = { cmap: this.font.cmap.raw(), glyf: i2.table, loca: u2, hmtx: this.font.hmtx.raw(), hhea: this.font.hhea.raw(), maxp: this.font.maxp.raw(), post: this.font.post.raw(), name: this.font.name.raw(), head: this.font.head.encode(e) }, this.font.os2.exists && (g2["OS/2"] = this.font.os2.raw()), this.font.directory.encode(g2);
  }, t3;
}();
E.API.PDFObject = function() {
  var t3;
  function e() {
  }
  return t3 = function(t4, e2) {
    return (Array(e2 + 1).join("0") + t4).slice(-e2);
  }, e.convert = function(n2) {
    var r2, i2, a2, o2;
    if (Array.isArray(n2))
      return "[" + function() {
        var t4, i3, a3;
        for (a3 = [], t4 = 0, i3 = n2.length; t4 < i3; t4++)
          r2 = n2[t4], a3.push(e.convert(r2));
        return a3;
      }().join(" ") + "]";
    if ("string" == typeof n2)
      return "/" + n2;
    if (null != n2 ? n2.isString : void 0)
      return "(" + n2 + ")";
    if (n2 instanceof Date)
      return "(D:" + t3(n2.getUTCFullYear(), 4) + t3(n2.getUTCMonth(), 2) + t3(n2.getUTCDate(), 2) + t3(n2.getUTCHours(), 2) + t3(n2.getUTCMinutes(), 2) + t3(n2.getUTCSeconds(), 2) + "Z)";
    if ("[object Object]" === {}.toString.call(n2)) {
      for (i2 in a2 = ["<<"], n2)
        o2 = n2[i2], a2.push("/" + i2 + " " + e.convert(o2));
      return a2.push(">>"), a2.join("\n");
    }
    return "" + n2;
  }, e;
}();
function autoTableText(text, x2, y2, styles, doc) {
  styles = styles || {};
  var PHYSICAL_LINE_HEIGHT = 1.15;
  var k3 = doc.internal.scaleFactor;
  var fontSize = doc.internal.getFontSize() / k3;
  var lineHeightFactor = doc.getLineHeightFactor ? doc.getLineHeightFactor() : PHYSICAL_LINE_HEIGHT;
  var lineHeight = fontSize * lineHeightFactor;
  var splitRegex = /\r\n|\r|\n/g;
  var splitText = "";
  var lineCount = 1;
  if (styles.valign === "middle" || styles.valign === "bottom" || styles.halign === "center" || styles.halign === "right") {
    splitText = typeof text === "string" ? text.split(splitRegex) : text;
    lineCount = splitText.length || 1;
  }
  y2 += fontSize * (2 - PHYSICAL_LINE_HEIGHT);
  if (styles.valign === "middle")
    y2 -= lineCount / 2 * lineHeight;
  else if (styles.valign === "bottom")
    y2 -= lineCount * lineHeight;
  if (styles.halign === "center" || styles.halign === "right") {
    var alignSize = fontSize;
    if (styles.halign === "center")
      alignSize *= 0.5;
    if (splitText && lineCount >= 1) {
      for (var iLine = 0; iLine < splitText.length; iLine++) {
        doc.text(splitText[iLine], x2 - doc.getStringUnitWidth(splitText[iLine]) * alignSize, y2);
        y2 += lineHeight;
      }
      return doc;
    }
    x2 -= doc.getStringUnitWidth(text) * alignSize;
  }
  if (styles.halign === "justify") {
    doc.text(text, x2, y2, { maxWidth: styles.maxWidth || 100, align: "justify" });
  } else {
    doc.text(text, x2, y2);
  }
  return doc;
}
var globalDefaults = {};
var DocHandler = function() {
  function DocHandler2(jsPDFDocument) {
    this.jsPDFDocument = jsPDFDocument;
    this.userStyles = {
      textColor: jsPDFDocument.getTextColor ? this.jsPDFDocument.getTextColor() : 0,
      fontSize: jsPDFDocument.internal.getFontSize(),
      fontStyle: jsPDFDocument.internal.getFont().fontStyle,
      font: jsPDFDocument.internal.getFont().fontName,
      lineWidth: jsPDFDocument.getLineWidth ? this.jsPDFDocument.getLineWidth() : 0,
      lineColor: jsPDFDocument.getDrawColor ? this.jsPDFDocument.getDrawColor() : 0
    };
  }
  DocHandler2.setDefaults = function(defaults, doc) {
    if (doc === void 0) {
      doc = null;
    }
    if (doc) {
      doc.__autoTableDocumentDefaults = defaults;
    } else {
      globalDefaults = defaults;
    }
  };
  DocHandler2.unifyColor = function(c2) {
    if (Array.isArray(c2)) {
      return c2;
    } else if (typeof c2 === "number") {
      return [c2, c2, c2];
    } else if (typeof c2 === "string") {
      return [c2];
    } else {
      return null;
    }
  };
  DocHandler2.prototype.applyStyles = function(styles, fontOnly) {
    var _a2, _b2, _c;
    if (fontOnly === void 0) {
      fontOnly = false;
    }
    if (styles.fontStyle && this.jsPDFDocument.setFontStyle) {
      this.jsPDFDocument.setFontStyle(styles.fontStyle);
    }
    var _d = this.jsPDFDocument.internal.getFont(), fontStyle = _d.fontStyle, fontName = _d.fontName;
    if (styles.font)
      fontName = styles.font;
    if (styles.fontStyle) {
      fontStyle = styles.fontStyle;
      var availableFontStyles = this.getFontList()[fontName];
      if (availableFontStyles && availableFontStyles.indexOf(fontStyle) === -1 && this.jsPDFDocument.setFontStyle) {
        this.jsPDFDocument.setFontStyle(availableFontStyles[0]);
        fontStyle = availableFontStyles[0];
      }
    }
    this.jsPDFDocument.setFont(fontName, fontStyle);
    if (styles.fontSize)
      this.jsPDFDocument.setFontSize(styles.fontSize);
    if (fontOnly) {
      return;
    }
    var color = DocHandler2.unifyColor(styles.fillColor);
    if (color)
      (_a2 = this.jsPDFDocument).setFillColor.apply(_a2, color);
    color = DocHandler2.unifyColor(styles.textColor);
    if (color)
      (_b2 = this.jsPDFDocument).setTextColor.apply(_b2, color);
    color = DocHandler2.unifyColor(styles.lineColor);
    if (color)
      (_c = this.jsPDFDocument).setDrawColor.apply(_c, color);
    if (typeof styles.lineWidth === "number") {
      this.jsPDFDocument.setLineWidth(styles.lineWidth);
    }
  };
  DocHandler2.prototype.splitTextToSize = function(text, size, opts) {
    return this.jsPDFDocument.splitTextToSize(text, size, opts);
  };
  DocHandler2.prototype.rect = function(x2, y2, width, height, fillStyle) {
    return this.jsPDFDocument.rect(x2, y2, width, height, fillStyle);
  };
  DocHandler2.prototype.getLastAutoTable = function() {
    return this.jsPDFDocument.lastAutoTable || null;
  };
  DocHandler2.prototype.getTextWidth = function(text) {
    return this.jsPDFDocument.getTextWidth(text);
  };
  DocHandler2.prototype.getDocument = function() {
    return this.jsPDFDocument;
  };
  DocHandler2.prototype.setPage = function(page) {
    this.jsPDFDocument.setPage(page);
  };
  DocHandler2.prototype.addPage = function() {
    return this.jsPDFDocument.addPage();
  };
  DocHandler2.prototype.getFontList = function() {
    return this.jsPDFDocument.getFontList();
  };
  DocHandler2.prototype.getGlobalOptions = function() {
    return globalDefaults || {};
  };
  DocHandler2.prototype.getDocumentOptions = function() {
    return this.jsPDFDocument.__autoTableDocumentDefaults || {};
  };
  DocHandler2.prototype.pageSize = function() {
    var pageSize = this.jsPDFDocument.internal.pageSize;
    if (pageSize.width == null) {
      pageSize = { width: pageSize.getWidth(), height: pageSize.getHeight() };
    }
    return pageSize;
  };
  DocHandler2.prototype.scaleFactor = function() {
    return this.jsPDFDocument.internal.scaleFactor;
  };
  DocHandler2.prototype.getLineHeightFactor = function() {
    var doc = this.jsPDFDocument;
    return doc.getLineHeightFactor ? doc.getLineHeightFactor() : 1.15;
  };
  DocHandler2.prototype.getLineHeight = function(fontSize) {
    return fontSize / this.scaleFactor() * this.getLineHeightFactor();
  };
  DocHandler2.prototype.pageNumber = function() {
    var pageInfo = this.jsPDFDocument.internal.getCurrentPageInfo();
    if (!pageInfo) {
      return this.jsPDFDocument.internal.getNumberOfPages();
    }
    return pageInfo.pageNumber;
  };
  return DocHandler2;
}();
var extendStatics = function(d2, b3) {
  extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b5) {
    d3.__proto__ = b5;
  } || function(d3, b5) {
    for (var p2 in b5)
      if (Object.prototype.hasOwnProperty.call(b5, p2))
        d3[p2] = b5[p2];
  };
  return extendStatics(d2, b3);
};
function __extends(d2, b3) {
  if (typeof b3 !== "function" && b3 !== null)
    throw new TypeError("Class extends value " + String(b3) + " is not a constructor or null");
  extendStatics(d2, b3);
  function __() {
    this.constructor = d2;
  }
  d2.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
}
typeof SuppressedError === "function" ? SuppressedError : function(error, suppressed, message) {
  var e = new Error(message);
  return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};
var HtmlRowInput = function(_super) {
  __extends(HtmlRowInput2, _super);
  function HtmlRowInput2(element) {
    var _this = _super.call(this) || this;
    _this._element = element;
    return _this;
  }
  return HtmlRowInput2;
}(Array);
function defaultStyles(scaleFactor) {
  return {
    font: "helvetica",
    fontStyle: "normal",
    overflow: "linebreak",
    fillColor: false,
    textColor: 20,
    halign: "left",
    valign: "top",
    fontSize: 10,
    cellPadding: 5 / scaleFactor,
    lineColor: 200,
    lineWidth: 0,
    cellWidth: "auto",
    minCellHeight: 0,
    minCellWidth: 0
  };
}
function getTheme(name) {
  var themes = {
    striped: {
      table: { fillColor: 255, textColor: 80, fontStyle: "normal" },
      head: { textColor: 255, fillColor: [41, 128, 185], fontStyle: "bold" },
      body: {},
      foot: { textColor: 255, fillColor: [41, 128, 185], fontStyle: "bold" },
      alternateRow: { fillColor: 245 }
    },
    grid: {
      table: {
        fillColor: 255,
        textColor: 80,
        fontStyle: "normal",
        lineWidth: 0.1
      },
      head: {
        textColor: 255,
        fillColor: [26, 188, 156],
        fontStyle: "bold",
        lineWidth: 0
      },
      body: {},
      foot: {
        textColor: 255,
        fillColor: [26, 188, 156],
        fontStyle: "bold",
        lineWidth: 0
      },
      alternateRow: {}
    },
    plain: { head: { fontStyle: "bold" }, foot: { fontStyle: "bold" } }
  };
  return themes[name];
}
function getStringWidth(text, styles, doc) {
  doc.applyStyles(styles, true);
  var textArr = Array.isArray(text) ? text : [text];
  var widestLineWidth = textArr.map(function(text2) {
    return doc.getTextWidth(text2);
  }).reduce(function(a2, b3) {
    return Math.max(a2, b3);
  }, 0);
  return widestLineWidth;
}
function addTableBorder(doc, table, startPos, cursor) {
  var lineWidth = table.settings.tableLineWidth;
  var lineColor = table.settings.tableLineColor;
  doc.applyStyles({ lineWidth, lineColor });
  var fillStyle = getFillStyle(lineWidth, false);
  if (fillStyle) {
    doc.rect(startPos.x, startPos.y, table.getWidth(doc.pageSize().width), cursor.y - startPos.y, fillStyle);
  }
}
function getFillStyle(lineWidth, fillColor) {
  var drawLine = lineWidth > 0;
  var drawBackground = fillColor || fillColor === 0;
  if (drawLine && drawBackground) {
    return "DF";
  } else if (drawLine) {
    return "S";
  } else if (drawBackground) {
    return "F";
  } else {
    return null;
  }
}
function parseSpacing(value, defaultValue) {
  var _a2, _b2, _c, _d;
  value = value || defaultValue;
  if (Array.isArray(value)) {
    if (value.length >= 4) {
      return {
        top: value[0],
        right: value[1],
        bottom: value[2],
        left: value[3]
      };
    } else if (value.length === 3) {
      return {
        top: value[0],
        right: value[1],
        bottom: value[2],
        left: value[1]
      };
    } else if (value.length === 2) {
      return {
        top: value[0],
        right: value[1],
        bottom: value[0],
        left: value[1]
      };
    } else if (value.length === 1) {
      value = value[0];
    } else {
      value = defaultValue;
    }
  }
  if (typeof value === "object") {
    if (typeof value.vertical === "number") {
      value.top = value.vertical;
      value.bottom = value.vertical;
    }
    if (typeof value.horizontal === "number") {
      value.right = value.horizontal;
      value.left = value.horizontal;
    }
    return {
      left: (_a2 = value.left) !== null && _a2 !== void 0 ? _a2 : defaultValue,
      top: (_b2 = value.top) !== null && _b2 !== void 0 ? _b2 : defaultValue,
      right: (_c = value.right) !== null && _c !== void 0 ? _c : defaultValue,
      bottom: (_d = value.bottom) !== null && _d !== void 0 ? _d : defaultValue
    };
  }
  if (typeof value !== "number") {
    value = defaultValue;
  }
  return { top: value, right: value, bottom: value, left: value };
}
function getPageAvailableWidth(doc, table) {
  var margins = parseSpacing(table.settings.margin, 0);
  return doc.pageSize().width - (margins.left + margins.right);
}
function parseCss(supportedFonts, element, scaleFactor, style, window2) {
  var result = {};
  var pxScaleFactor = 96 / 72;
  var backgroundColor = parseColor(element, function(elem) {
    return window2.getComputedStyle(elem)["backgroundColor"];
  });
  if (backgroundColor != null)
    result.fillColor = backgroundColor;
  var textColor = parseColor(element, function(elem) {
    return window2.getComputedStyle(elem)["color"];
  });
  if (textColor != null)
    result.textColor = textColor;
  var padding = parsePadding(style, scaleFactor);
  if (padding)
    result.cellPadding = padding;
  var borderColorSide = "borderTopColor";
  var finalScaleFactor = pxScaleFactor * scaleFactor;
  var btw = style.borderTopWidth;
  if (style.borderBottomWidth === btw && style.borderRightWidth === btw && style.borderLeftWidth === btw) {
    var borderWidth = (parseFloat(btw) || 0) / finalScaleFactor;
    if (borderWidth)
      result.lineWidth = borderWidth;
  } else {
    result.lineWidth = {
      top: (parseFloat(style.borderTopWidth) || 0) / finalScaleFactor,
      right: (parseFloat(style.borderRightWidth) || 0) / finalScaleFactor,
      bottom: (parseFloat(style.borderBottomWidth) || 0) / finalScaleFactor,
      left: (parseFloat(style.borderLeftWidth) || 0) / finalScaleFactor
    };
    if (!result.lineWidth.top) {
      if (result.lineWidth.right) {
        borderColorSide = "borderRightColor";
      } else if (result.lineWidth.bottom) {
        borderColorSide = "borderBottomColor";
      } else if (result.lineWidth.left) {
        borderColorSide = "borderLeftColor";
      }
    }
  }
  var borderColor = parseColor(element, function(elem) {
    return window2.getComputedStyle(elem)[borderColorSide];
  });
  if (borderColor != null)
    result.lineColor = borderColor;
  var accepted = ["left", "right", "center", "justify"];
  if (accepted.indexOf(style.textAlign) !== -1) {
    result.halign = style.textAlign;
  }
  accepted = ["middle", "bottom", "top"];
  if (accepted.indexOf(style.verticalAlign) !== -1) {
    result.valign = style.verticalAlign;
  }
  var res = parseInt(style.fontSize || "");
  if (!isNaN(res))
    result.fontSize = res / pxScaleFactor;
  var fontStyle = parseFontStyle(style);
  if (fontStyle)
    result.fontStyle = fontStyle;
  var font = (style.fontFamily || "").toLowerCase();
  if (supportedFonts.indexOf(font) !== -1) {
    result.font = font;
  }
  return result;
}
function parseFontStyle(style) {
  var res = "";
  if (style.fontWeight === "bold" || style.fontWeight === "bolder" || parseInt(style.fontWeight) >= 700) {
    res = "bold";
  }
  if (style.fontStyle === "italic" || style.fontStyle === "oblique") {
    res += "italic";
  }
  return res;
}
function parseColor(element, styleGetter) {
  var cssColor = realColor(element, styleGetter);
  if (!cssColor)
    return null;
  var rgba = cssColor.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);
  if (!rgba || !Array.isArray(rgba)) {
    return null;
  }
  var color = [
    parseInt(rgba[1]),
    parseInt(rgba[2]),
    parseInt(rgba[3])
  ];
  var alpha = parseInt(rgba[4]);
  if (alpha === 0 || isNaN(color[0]) || isNaN(color[1]) || isNaN(color[2])) {
    return null;
  }
  return color;
}
function realColor(elem, styleGetter) {
  var bg2 = styleGetter(elem);
  if (bg2 === "rgba(0, 0, 0, 0)" || bg2 === "transparent" || bg2 === "initial" || bg2 === "inherit") {
    if (elem.parentElement == null) {
      return null;
    }
    return realColor(elem.parentElement, styleGetter);
  } else {
    return bg2;
  }
}
function parsePadding(style, scaleFactor) {
  var val = [
    style.paddingTop,
    style.paddingRight,
    style.paddingBottom,
    style.paddingLeft
  ];
  var pxScaleFactor = 96 / (72 / scaleFactor);
  var linePadding = (parseInt(style.lineHeight) - parseInt(style.fontSize)) / scaleFactor / 2;
  var inputPadding = val.map(function(n2) {
    return parseInt(n2 || "0") / pxScaleFactor;
  });
  var padding = parseSpacing(inputPadding, 0);
  if (linePadding > padding.top) {
    padding.top = linePadding;
  }
  if (linePadding > padding.bottom) {
    padding.bottom = linePadding;
  }
  return padding;
}
function parseHtml(doc, input, window2, includeHiddenHtml, useCss) {
  var _a2, _b2;
  if (includeHiddenHtml === void 0) {
    includeHiddenHtml = false;
  }
  if (useCss === void 0) {
    useCss = false;
  }
  var tableElement;
  if (typeof input === "string") {
    tableElement = window2.document.querySelector(input);
  } else {
    tableElement = input;
  }
  var supportedFonts = Object.keys(doc.getFontList());
  var scaleFactor = doc.scaleFactor();
  var head = [], body = [], foot = [];
  if (!tableElement) {
    console.error("Html table could not be found with input: ", input);
    return { head, body, foot };
  }
  for (var i2 = 0; i2 < tableElement.rows.length; i2++) {
    var element = tableElement.rows[i2];
    var tagName = (_b2 = (_a2 = element === null || element === void 0 ? void 0 : element.parentElement) === null || _a2 === void 0 ? void 0 : _a2.tagName) === null || _b2 === void 0 ? void 0 : _b2.toLowerCase();
    var row = parseRowContent(supportedFonts, scaleFactor, window2, element, includeHiddenHtml, useCss);
    if (!row)
      continue;
    if (tagName === "thead") {
      head.push(row);
    } else if (tagName === "tfoot") {
      foot.push(row);
    } else {
      body.push(row);
    }
  }
  return { head, body, foot };
}
function parseRowContent(supportedFonts, scaleFactor, window2, row, includeHidden, useCss) {
  var resultRow = new HtmlRowInput(row);
  for (var i2 = 0; i2 < row.cells.length; i2++) {
    var cell = row.cells[i2];
    var style_1 = window2.getComputedStyle(cell);
    if (includeHidden || style_1.display !== "none") {
      var cellStyles2 = void 0;
      if (useCss) {
        cellStyles2 = parseCss(supportedFonts, cell, scaleFactor, style_1, window2);
      }
      resultRow.push({
        rowSpan: cell.rowSpan,
        colSpan: cell.colSpan,
        styles: cellStyles2,
        _element: cell,
        content: parseCellContent(cell)
      });
    }
  }
  var style = window2.getComputedStyle(row);
  if (resultRow.length > 0 && (includeHidden || style.display !== "none")) {
    return resultRow;
  }
}
function parseCellContent(orgCell) {
  var cell = orgCell.cloneNode(true);
  cell.innerHTML = cell.innerHTML.replace(/\n/g, "").replace(/ +/g, " ");
  cell.innerHTML = cell.innerHTML.split(/<br.*?>/).map(function(part) {
    return part.trim();
  }).join("\n");
  return cell.innerText || cell.textContent || "";
}
function validateInput(global2, document2, current) {
  for (var _i = 0, _a2 = [global2, document2, current]; _i < _a2.length; _i++) {
    var options = _a2[_i];
    if (options && typeof options !== "object") {
      console.error("The options parameter should be of type object, is: " + typeof options);
    }
    if (options.startY && typeof options.startY !== "number") {
      console.error("Invalid value for startY option", options.startY);
      delete options.startY;
    }
  }
}
function assign(target, s2, s1, s22, s3) {
  if (target == null) {
    throw new TypeError("Cannot convert undefined or null to object");
  }
  var to = Object(target);
  for (var index = 1; index < arguments.length; index++) {
    var nextSource = arguments[index];
    if (nextSource != null) {
      for (var nextKey in nextSource) {
        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
          to[nextKey] = nextSource[nextKey];
        }
      }
    }
  }
  return to;
}
function parseInput(d2, current) {
  var doc = new DocHandler(d2);
  var document2 = doc.getDocumentOptions();
  var global2 = doc.getGlobalOptions();
  validateInput(global2, document2, current);
  var options = assign({}, global2, document2, current);
  var win;
  if (typeof window !== "undefined") {
    win = window;
  }
  var styles = parseStyles(global2, document2, current);
  var hooks = parseHooks(global2, document2, current);
  var settings = parseSettings(doc, options);
  var content = parseContent$1(doc, options, win);
  return { id: current.tableId, content, hooks, styles, settings };
}
function parseStyles(gInput, dInput, cInput) {
  var styleOptions = {
    styles: {},
    headStyles: {},
    bodyStyles: {},
    footStyles: {},
    alternateRowStyles: {},
    columnStyles: {}
  };
  var _loop_1 = function(prop2) {
    if (prop2 === "columnStyles") {
      var global_1 = gInput[prop2];
      var document_1 = dInput[prop2];
      var current = cInput[prop2];
      styleOptions.columnStyles = assign({}, global_1, document_1, current);
    } else {
      var allOptions = [gInput, dInput, cInput];
      var styles = allOptions.map(function(opts) {
        return opts[prop2] || {};
      });
      styleOptions[prop2] = assign({}, styles[0], styles[1], styles[2]);
    }
  };
  for (var _i = 0, _a2 = Object.keys(styleOptions); _i < _a2.length; _i++) {
    var prop = _a2[_i];
    _loop_1(prop);
  }
  return styleOptions;
}
function parseHooks(global2, document2, current) {
  var allOptions = [global2, document2, current];
  var result = {
    didParseCell: [],
    willDrawCell: [],
    didDrawCell: [],
    willDrawPage: [],
    didDrawPage: []
  };
  for (var _i = 0, allOptions_1 = allOptions; _i < allOptions_1.length; _i++) {
    var options = allOptions_1[_i];
    if (options.didParseCell)
      result.didParseCell.push(options.didParseCell);
    if (options.willDrawCell)
      result.willDrawCell.push(options.willDrawCell);
    if (options.didDrawCell)
      result.didDrawCell.push(options.didDrawCell);
    if (options.willDrawPage)
      result.willDrawPage.push(options.willDrawPage);
    if (options.didDrawPage)
      result.didDrawPage.push(options.didDrawPage);
  }
  return result;
}
function parseSettings(doc, options) {
  var _a2, _b2, _c, _d, _e2, _f, _g, _h, _j, _k, _l, _m;
  var margin = parseSpacing(options.margin, 40 / doc.scaleFactor());
  var startY = (_a2 = getStartY(doc, options.startY)) !== null && _a2 !== void 0 ? _a2 : margin.top;
  var showFoot;
  if (options.showFoot === true) {
    showFoot = "everyPage";
  } else if (options.showFoot === false) {
    showFoot = "never";
  } else {
    showFoot = (_b2 = options.showFoot) !== null && _b2 !== void 0 ? _b2 : "everyPage";
  }
  var showHead;
  if (options.showHead === true) {
    showHead = "everyPage";
  } else if (options.showHead === false) {
    showHead = "never";
  } else {
    showHead = (_c = options.showHead) !== null && _c !== void 0 ? _c : "everyPage";
  }
  var useCss = (_d = options.useCss) !== null && _d !== void 0 ? _d : false;
  var theme = options.theme || (useCss ? "plain" : "striped");
  var horizontalPageBreak = !!options.horizontalPageBreak;
  var horizontalPageBreakRepeat = (_e2 = options.horizontalPageBreakRepeat) !== null && _e2 !== void 0 ? _e2 : null;
  return {
    includeHiddenHtml: (_f = options.includeHiddenHtml) !== null && _f !== void 0 ? _f : false,
    useCss,
    theme,
    startY,
    margin,
    pageBreak: (_g = options.pageBreak) !== null && _g !== void 0 ? _g : "auto",
    rowPageBreak: (_h = options.rowPageBreak) !== null && _h !== void 0 ? _h : "auto",
    tableWidth: (_j = options.tableWidth) !== null && _j !== void 0 ? _j : "auto",
    showHead,
    showFoot,
    tableLineWidth: (_k = options.tableLineWidth) !== null && _k !== void 0 ? _k : 0,
    tableLineColor: (_l = options.tableLineColor) !== null && _l !== void 0 ? _l : 200,
    horizontalPageBreak,
    horizontalPageBreakRepeat,
    horizontalPageBreakBehaviour: (_m = options.horizontalPageBreakBehaviour) !== null && _m !== void 0 ? _m : "afterAllRows"
  };
}
function getStartY(doc, userStartY) {
  var previous = doc.getLastAutoTable();
  var sf2 = doc.scaleFactor();
  var currentPage = doc.pageNumber();
  var isSamePageAsPreviousTable = false;
  if (previous && previous.startPageNumber) {
    var endingPage = previous.startPageNumber + previous.pageNumber - 1;
    isSamePageAsPreviousTable = endingPage === currentPage;
  }
  if (typeof userStartY === "number") {
    return userStartY;
  } else if (userStartY == null || userStartY === false) {
    if (isSamePageAsPreviousTable && (previous === null || previous === void 0 ? void 0 : previous.finalY) != null) {
      return previous.finalY + 20 / sf2;
    }
  }
  return null;
}
function parseContent$1(doc, options, window2) {
  var head = options.head || [];
  var body = options.body || [];
  var foot = options.foot || [];
  if (options.html) {
    var hidden = options.includeHiddenHtml;
    if (window2) {
      var htmlContent = parseHtml(doc, options.html, window2, hidden, options.useCss) || {};
      head = htmlContent.head || head;
      body = htmlContent.body || head;
      foot = htmlContent.foot || head;
    } else {
      console.error("Cannot parse html in non browser environment");
    }
  }
  var columns = options.columns || parseColumns(head, body, foot);
  return { columns, head, body, foot };
}
function parseColumns(head, body, foot) {
  var firstRow = head[0] || body[0] || foot[0] || [];
  var result = [];
  Object.keys(firstRow).filter(function(key) {
    return key !== "_element";
  }).forEach(function(key) {
    var colSpan = 1;
    var input;
    if (Array.isArray(firstRow)) {
      input = firstRow[parseInt(key)];
    } else {
      input = firstRow[key];
    }
    if (typeof input === "object" && !Array.isArray(input)) {
      colSpan = (input === null || input === void 0 ? void 0 : input.colSpan) || 1;
    }
    for (var i2 = 0; i2 < colSpan; i2++) {
      var id2 = void 0;
      if (Array.isArray(firstRow)) {
        id2 = result.length;
      } else {
        id2 = key + (i2 > 0 ? "_".concat(i2) : "");
      }
      var rowResult = { dataKey: id2 };
      result.push(rowResult);
    }
  });
  return result;
}
var HookData = function() {
  function HookData2(doc, table, cursor) {
    this.table = table;
    this.pageNumber = table.pageNumber;
    this.settings = table.settings;
    this.cursor = cursor;
    this.doc = doc.getDocument();
  }
  return HookData2;
}();
var CellHookData = function(_super) {
  __extends(CellHookData2, _super);
  function CellHookData2(doc, table, cell, row, column, cursor) {
    var _this = _super.call(this, doc, table, cursor) || this;
    _this.cell = cell;
    _this.row = row;
    _this.column = column;
    _this.section = row.section;
    return _this;
  }
  return CellHookData2;
}(HookData);
var Table = function() {
  function Table2(input, content) {
    this.pageNumber = 1;
    this.id = input.id;
    this.settings = input.settings;
    this.styles = input.styles;
    this.hooks = input.hooks;
    this.columns = content.columns;
    this.head = content.head;
    this.body = content.body;
    this.foot = content.foot;
  }
  Table2.prototype.getHeadHeight = function(columns) {
    return this.head.reduce(function(acc, row) {
      return acc + row.getMaxCellHeight(columns);
    }, 0);
  };
  Table2.prototype.getFootHeight = function(columns) {
    return this.foot.reduce(function(acc, row) {
      return acc + row.getMaxCellHeight(columns);
    }, 0);
  };
  Table2.prototype.allRows = function() {
    return this.head.concat(this.body).concat(this.foot);
  };
  Table2.prototype.callCellHooks = function(doc, handlers, cell, row, column, cursor) {
    for (var _i = 0, handlers_1 = handlers; _i < handlers_1.length; _i++) {
      var handler = handlers_1[_i];
      var data2 = new CellHookData(doc, this, cell, row, column, cursor);
      var result = handler(data2) === false;
      cell.text = Array.isArray(cell.text) ? cell.text : [cell.text];
      if (result) {
        return false;
      }
    }
    return true;
  };
  Table2.prototype.callEndPageHooks = function(doc, cursor) {
    doc.applyStyles(doc.userStyles);
    for (var _i = 0, _a2 = this.hooks.didDrawPage; _i < _a2.length; _i++) {
      var handler = _a2[_i];
      handler(new HookData(doc, this, cursor));
    }
  };
  Table2.prototype.callWillDrawPageHooks = function(doc, cursor) {
    for (var _i = 0, _a2 = this.hooks.willDrawPage; _i < _a2.length; _i++) {
      var handler = _a2[_i];
      handler(new HookData(doc, this, cursor));
    }
  };
  Table2.prototype.getWidth = function(pageWidth) {
    if (typeof this.settings.tableWidth === "number") {
      return this.settings.tableWidth;
    } else if (this.settings.tableWidth === "wrap") {
      var wrappedWidth = this.columns.reduce(function(total, col) {
        return total + col.wrappedWidth;
      }, 0);
      return wrappedWidth;
    } else {
      var margin = this.settings.margin;
      return pageWidth - margin.left - margin.right;
    }
  };
  return Table2;
}();
var Row = function() {
  function Row2(raw, index, section, cells, spansMultiplePages) {
    if (spansMultiplePages === void 0) {
      spansMultiplePages = false;
    }
    this.height = 0;
    this.raw = raw;
    if (raw instanceof HtmlRowInput) {
      this.raw = raw._element;
      this.element = raw._element;
    }
    this.index = index;
    this.section = section;
    this.cells = cells;
    this.spansMultiplePages = spansMultiplePages;
  }
  Row2.prototype.getMaxCellHeight = function(columns) {
    var _this = this;
    return columns.reduce(function(acc, column) {
      var _a2;
      return Math.max(acc, ((_a2 = _this.cells[column.index]) === null || _a2 === void 0 ? void 0 : _a2.height) || 0);
    }, 0);
  };
  Row2.prototype.hasRowSpan = function(columns) {
    var _this = this;
    return columns.filter(function(column) {
      var cell = _this.cells[column.index];
      if (!cell)
        return false;
      return cell.rowSpan > 1;
    }).length > 0;
  };
  Row2.prototype.canEntireRowFit = function(height, columns) {
    return this.getMaxCellHeight(columns) <= height;
  };
  Row2.prototype.getMinimumRowHeight = function(columns, doc) {
    var _this = this;
    return columns.reduce(function(acc, column) {
      var cell = _this.cells[column.index];
      if (!cell)
        return 0;
      var lineHeight = doc.getLineHeight(cell.styles.fontSize);
      var vPadding = cell.padding("vertical");
      var oneRowHeight = vPadding + lineHeight;
      return oneRowHeight > acc ? oneRowHeight : acc;
    }, 0);
  };
  return Row2;
}();
var Cell = function() {
  function Cell2(raw, styles, section) {
    var _a2;
    this.contentHeight = 0;
    this.contentWidth = 0;
    this.wrappedWidth = 0;
    this.minReadableWidth = 0;
    this.minWidth = 0;
    this.width = 0;
    this.height = 0;
    this.x = 0;
    this.y = 0;
    this.styles = styles;
    this.section = section;
    this.raw = raw;
    var content = raw;
    if (raw != null && typeof raw === "object" && !Array.isArray(raw)) {
      this.rowSpan = raw.rowSpan || 1;
      this.colSpan = raw.colSpan || 1;
      content = (_a2 = raw.content) !== null && _a2 !== void 0 ? _a2 : raw;
      if (raw._element) {
        this.raw = raw._element;
      }
    } else {
      this.rowSpan = 1;
      this.colSpan = 1;
    }
    var text = content != null ? "" + content : "";
    var splitRegex = /\r\n|\r|\n/g;
    this.text = text.split(splitRegex);
  }
  Cell2.prototype.getTextPos = function() {
    var y2;
    if (this.styles.valign === "top") {
      y2 = this.y + this.padding("top");
    } else if (this.styles.valign === "bottom") {
      y2 = this.y + this.height - this.padding("bottom");
    } else {
      var netHeight = this.height - this.padding("vertical");
      y2 = this.y + netHeight / 2 + this.padding("top");
    }
    var x2;
    if (this.styles.halign === "right") {
      x2 = this.x + this.width - this.padding("right");
    } else if (this.styles.halign === "center") {
      var netWidth = this.width - this.padding("horizontal");
      x2 = this.x + netWidth / 2 + this.padding("left");
    } else {
      x2 = this.x + this.padding("left");
    }
    return { x: x2, y: y2 };
  };
  Cell2.prototype.getContentHeight = function(scaleFactor, lineHeightFactor) {
    if (lineHeightFactor === void 0) {
      lineHeightFactor = 1.15;
    }
    var lineCount = Array.isArray(this.text) ? this.text.length : 1;
    var lineHeight = this.styles.fontSize / scaleFactor * lineHeightFactor;
    var height = lineCount * lineHeight + this.padding("vertical");
    return Math.max(height, this.styles.minCellHeight);
  };
  Cell2.prototype.padding = function(name) {
    var padding = parseSpacing(this.styles.cellPadding, 0);
    if (name === "vertical") {
      return padding.top + padding.bottom;
    } else if (name === "horizontal") {
      return padding.left + padding.right;
    } else {
      return padding[name];
    }
  };
  return Cell2;
}();
var Column = function() {
  function Column2(dataKey, raw, index) {
    this.wrappedWidth = 0;
    this.minReadableWidth = 0;
    this.minWidth = 0;
    this.width = 0;
    this.dataKey = dataKey;
    this.raw = raw;
    this.index = index;
  }
  Column2.prototype.getMaxCustomCellWidth = function(table) {
    var max2 = 0;
    for (var _i = 0, _a2 = table.allRows(); _i < _a2.length; _i++) {
      var row = _a2[_i];
      var cell = row.cells[this.index];
      if (cell && typeof cell.styles.cellWidth === "number") {
        max2 = Math.max(max2, cell.styles.cellWidth);
      }
    }
    return max2;
  };
  return Column2;
}();
function calculateWidths(doc, table) {
  calculate(doc, table);
  var resizableColumns = [];
  var initialTableWidth = 0;
  table.columns.forEach(function(column) {
    var customWidth = column.getMaxCustomCellWidth(table);
    if (customWidth) {
      column.width = customWidth;
    } else {
      column.width = column.wrappedWidth;
      resizableColumns.push(column);
    }
    initialTableWidth += column.width;
  });
  var resizeWidth = table.getWidth(doc.pageSize().width) - initialTableWidth;
  if (resizeWidth) {
    resizeWidth = resizeColumns(resizableColumns, resizeWidth, function(column) {
      return Math.max(column.minReadableWidth, column.minWidth);
    });
  }
  if (resizeWidth) {
    resizeWidth = resizeColumns(resizableColumns, resizeWidth, function(column) {
      return column.minWidth;
    });
  }
  resizeWidth = Math.abs(resizeWidth);
  if (!table.settings.horizontalPageBreak && resizeWidth > 0.1 / doc.scaleFactor()) {
    resizeWidth = resizeWidth < 1 ? resizeWidth : Math.round(resizeWidth);
    console.warn("Of the table content, ".concat(resizeWidth, " units width could not fit page"));
  }
  applyColSpans(table);
  fitContent(table, doc);
  applyRowSpans(table);
}
function calculate(doc, table) {
  var sf2 = doc.scaleFactor();
  var horizontalPageBreak = table.settings.horizontalPageBreak;
  var availablePageWidth = getPageAvailableWidth(doc, table);
  table.allRows().forEach(function(row) {
    for (var _i = 0, _a2 = table.columns; _i < _a2.length; _i++) {
      var column = _a2[_i];
      var cell = row.cells[column.index];
      if (!cell)
        continue;
      var hooks = table.hooks.didParseCell;
      table.callCellHooks(doc, hooks, cell, row, column, null);
      var padding = cell.padding("horizontal");
      cell.contentWidth = getStringWidth(cell.text, cell.styles, doc) + padding;
      var longestWordWidth = getStringWidth(cell.text.join(" ").split(/[^\S\u00A0]+/), cell.styles, doc);
      cell.minReadableWidth = longestWordWidth + cell.padding("horizontal");
      if (typeof cell.styles.cellWidth === "number") {
        cell.minWidth = cell.styles.cellWidth;
        cell.wrappedWidth = cell.styles.cellWidth;
      } else if (cell.styles.cellWidth === "wrap" || horizontalPageBreak === true) {
        if (cell.contentWidth > availablePageWidth) {
          cell.minWidth = availablePageWidth;
          cell.wrappedWidth = availablePageWidth;
        } else {
          cell.minWidth = cell.contentWidth;
          cell.wrappedWidth = cell.contentWidth;
        }
      } else {
        var defaultMinWidth = 10 / sf2;
        cell.minWidth = cell.styles.minCellWidth || defaultMinWidth;
        cell.wrappedWidth = cell.contentWidth;
        if (cell.minWidth > cell.wrappedWidth) {
          cell.wrappedWidth = cell.minWidth;
        }
      }
    }
  });
  table.allRows().forEach(function(row) {
    for (var _i = 0, _a2 = table.columns; _i < _a2.length; _i++) {
      var column = _a2[_i];
      var cell = row.cells[column.index];
      if (cell && cell.colSpan === 1) {
        column.wrappedWidth = Math.max(column.wrappedWidth, cell.wrappedWidth);
        column.minWidth = Math.max(column.minWidth, cell.minWidth);
        column.minReadableWidth = Math.max(column.minReadableWidth, cell.minReadableWidth);
      } else {
        var columnStyles = table.styles.columnStyles[column.dataKey] || table.styles.columnStyles[column.index] || {};
        var cellWidth = columnStyles.cellWidth || columnStyles.minCellWidth;
        if (cellWidth && typeof cellWidth === "number") {
          column.minWidth = cellWidth;
          column.wrappedWidth = cellWidth;
        }
      }
      if (cell) {
        if (cell.colSpan > 1 && !column.minWidth) {
          column.minWidth = cell.minWidth;
        }
        if (cell.colSpan > 1 && !column.wrappedWidth) {
          column.wrappedWidth = cell.minWidth;
        }
      }
    }
  });
}
function resizeColumns(columns, resizeWidth, getMinWidth) {
  var initialResizeWidth = resizeWidth;
  var sumWrappedWidth = columns.reduce(function(acc, column2) {
    return acc + column2.wrappedWidth;
  }, 0);
  for (var i2 = 0; i2 < columns.length; i2++) {
    var column = columns[i2];
    var ratio = column.wrappedWidth / sumWrappedWidth;
    var suggestedChange = initialResizeWidth * ratio;
    var suggestedWidth = column.width + suggestedChange;
    var minWidth = getMinWidth(column);
    var newWidth = suggestedWidth < minWidth ? minWidth : suggestedWidth;
    resizeWidth -= newWidth - column.width;
    column.width = newWidth;
  }
  resizeWidth = Math.round(resizeWidth * 1e10) / 1e10;
  if (resizeWidth) {
    var resizableColumns = columns.filter(function(column2) {
      return resizeWidth < 0 ? column2.width > getMinWidth(column2) : true;
    });
    if (resizableColumns.length) {
      resizeWidth = resizeColumns(resizableColumns, resizeWidth, getMinWidth);
    }
  }
  return resizeWidth;
}
function applyRowSpans(table) {
  var rowSpanCells = {};
  var colRowSpansLeft = 1;
  var all = table.allRows();
  for (var rowIndex = 0; rowIndex < all.length; rowIndex++) {
    var row = all[rowIndex];
    for (var _i = 0, _a2 = table.columns; _i < _a2.length; _i++) {
      var column = _a2[_i];
      var data2 = rowSpanCells[column.index];
      if (colRowSpansLeft > 1) {
        colRowSpansLeft--;
        delete row.cells[column.index];
      } else if (data2) {
        data2.cell.height += row.height;
        colRowSpansLeft = data2.cell.colSpan;
        delete row.cells[column.index];
        data2.left--;
        if (data2.left <= 1) {
          delete rowSpanCells[column.index];
        }
      } else {
        var cell = row.cells[column.index];
        if (!cell) {
          continue;
        }
        cell.height = row.height;
        if (cell.rowSpan > 1) {
          var remaining = all.length - rowIndex;
          var left = cell.rowSpan > remaining ? remaining : cell.rowSpan;
          rowSpanCells[column.index] = { cell, left, row };
        }
      }
    }
  }
}
function applyColSpans(table) {
  var all = table.allRows();
  for (var rowIndex = 0; rowIndex < all.length; rowIndex++) {
    var row = all[rowIndex];
    var colSpanCell = null;
    var combinedColSpanWidth = 0;
    var colSpansLeft = 0;
    for (var columnIndex = 0; columnIndex < table.columns.length; columnIndex++) {
      var column = table.columns[columnIndex];
      colSpansLeft -= 1;
      if (colSpansLeft > 1 && table.columns[columnIndex + 1]) {
        combinedColSpanWidth += column.width;
        delete row.cells[column.index];
      } else if (colSpanCell) {
        var cell = colSpanCell;
        delete row.cells[column.index];
        colSpanCell = null;
        cell.width = column.width + combinedColSpanWidth;
      } else {
        var cell = row.cells[column.index];
        if (!cell)
          continue;
        colSpansLeft = cell.colSpan;
        combinedColSpanWidth = 0;
        if (cell.colSpan > 1) {
          colSpanCell = cell;
          combinedColSpanWidth += column.width;
          continue;
        }
        cell.width = column.width + combinedColSpanWidth;
      }
    }
  }
}
function fitContent(table, doc) {
  var rowSpanHeight = { count: 0, height: 0 };
  for (var _i = 0, _a2 = table.allRows(); _i < _a2.length; _i++) {
    var row = _a2[_i];
    for (var _b2 = 0, _c = table.columns; _b2 < _c.length; _b2++) {
      var column = _c[_b2];
      var cell = row.cells[column.index];
      if (!cell)
        continue;
      doc.applyStyles(cell.styles, true);
      var textSpace = cell.width - cell.padding("horizontal");
      if (cell.styles.overflow === "linebreak") {
        cell.text = doc.splitTextToSize(cell.text, textSpace + 1 / doc.scaleFactor(), { fontSize: cell.styles.fontSize });
      } else if (cell.styles.overflow === "ellipsize") {
        cell.text = ellipsize(cell.text, textSpace, cell.styles, doc, "...");
      } else if (cell.styles.overflow === "hidden") {
        cell.text = ellipsize(cell.text, textSpace, cell.styles, doc, "");
      } else if (typeof cell.styles.overflow === "function") {
        var result = cell.styles.overflow(cell.text, textSpace);
        if (typeof result === "string") {
          cell.text = [result];
        } else {
          cell.text = result;
        }
      }
      cell.contentHeight = cell.getContentHeight(doc.scaleFactor(), doc.getLineHeightFactor());
      var realContentHeight = cell.contentHeight / cell.rowSpan;
      if (cell.rowSpan > 1 && rowSpanHeight.count * rowSpanHeight.height < realContentHeight * cell.rowSpan) {
        rowSpanHeight = { height: realContentHeight, count: cell.rowSpan };
      } else if (rowSpanHeight && rowSpanHeight.count > 0) {
        if (rowSpanHeight.height > realContentHeight) {
          realContentHeight = rowSpanHeight.height;
        }
      }
      if (realContentHeight > row.height) {
        row.height = realContentHeight;
      }
    }
    rowSpanHeight.count--;
  }
}
function ellipsize(text, width, styles, doc, overflow) {
  return text.map(function(str) {
    return ellipsizeStr(str, width, styles, doc, overflow);
  });
}
function ellipsizeStr(text, width, styles, doc, overflow) {
  var precision = 1e4 * doc.scaleFactor();
  width = Math.ceil(width * precision) / precision;
  if (width >= getStringWidth(text, styles, doc)) {
    return text;
  }
  while (width < getStringWidth(text + overflow, styles, doc)) {
    if (text.length <= 1) {
      break;
    }
    text = text.substring(0, text.length - 1);
  }
  return text.trim() + overflow;
}
function createTable(jsPDFDoc, input) {
  var doc = new DocHandler(jsPDFDoc);
  var content = parseContent(input, doc.scaleFactor());
  var table = new Table(input, content);
  calculateWidths(doc, table);
  doc.applyStyles(doc.userStyles);
  return table;
}
function parseContent(input, sf2) {
  var content = input.content;
  var columns = createColumns(content.columns);
  if (content.head.length === 0) {
    var sectionRow = generateSectionRow(columns, "head");
    if (sectionRow)
      content.head.push(sectionRow);
  }
  if (content.foot.length === 0) {
    var sectionRow = generateSectionRow(columns, "foot");
    if (sectionRow)
      content.foot.push(sectionRow);
  }
  var theme = input.settings.theme;
  var styles = input.styles;
  return {
    columns,
    head: parseSection("head", content.head, columns, styles, theme, sf2),
    body: parseSection("body", content.body, columns, styles, theme, sf2),
    foot: parseSection("foot", content.foot, columns, styles, theme, sf2)
  };
}
function parseSection(sectionName, sectionRows, columns, styleProps, theme, scaleFactor) {
  var rowSpansLeftForColumn = {};
  var result = sectionRows.map(function(rawRow, rowIndex) {
    var skippedRowForRowSpans = 0;
    var cells = {};
    var colSpansAdded = 0;
    var columnSpansLeft = 0;
    for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {
      var column = columns_1[_i];
      if (rowSpansLeftForColumn[column.index] == null || rowSpansLeftForColumn[column.index].left === 0) {
        if (columnSpansLeft === 0) {
          var rawCell = void 0;
          if (Array.isArray(rawRow)) {
            rawCell = rawRow[column.index - colSpansAdded - skippedRowForRowSpans];
          } else {
            rawCell = rawRow[column.dataKey];
          }
          var cellInputStyles = {};
          if (typeof rawCell === "object" && !Array.isArray(rawCell)) {
            cellInputStyles = (rawCell === null || rawCell === void 0 ? void 0 : rawCell.styles) || {};
          }
          var styles = cellStyles(sectionName, column, rowIndex, theme, styleProps, scaleFactor, cellInputStyles);
          var cell = new Cell(rawCell, styles, sectionName);
          cells[column.dataKey] = cell;
          cells[column.index] = cell;
          columnSpansLeft = cell.colSpan - 1;
          rowSpansLeftForColumn[column.index] = {
            left: cell.rowSpan - 1,
            times: columnSpansLeft
          };
        } else {
          columnSpansLeft--;
          colSpansAdded++;
        }
      } else {
        rowSpansLeftForColumn[column.index].left--;
        columnSpansLeft = rowSpansLeftForColumn[column.index].times;
        skippedRowForRowSpans++;
      }
    }
    return new Row(rawRow, rowIndex, sectionName, cells);
  });
  return result;
}
function generateSectionRow(columns, section) {
  var sectionRow = {};
  columns.forEach(function(col) {
    if (col.raw != null) {
      var title = getSectionTitle(section, col.raw);
      if (title != null)
        sectionRow[col.dataKey] = title;
    }
  });
  return Object.keys(sectionRow).length > 0 ? sectionRow : null;
}
function getSectionTitle(section, column) {
  if (section === "head") {
    if (typeof column === "object") {
      return column.header || null;
    } else if (typeof column === "string" || typeof column === "number") {
      return column;
    }
  } else if (section === "foot" && typeof column === "object") {
    return column.footer;
  }
  return null;
}
function createColumns(columns) {
  return columns.map(function(input, index) {
    var _a2;
    var key;
    if (typeof input === "object") {
      key = (_a2 = input.dataKey) !== null && _a2 !== void 0 ? _a2 : index;
    } else {
      key = index;
    }
    return new Column(key, input, index);
  });
}
function cellStyles(sectionName, column, rowIndex, themeName, styles, scaleFactor, cellInputStyles) {
  var theme = getTheme(themeName);
  var sectionStyles;
  if (sectionName === "head") {
    sectionStyles = styles.headStyles;
  } else if (sectionName === "body") {
    sectionStyles = styles.bodyStyles;
  } else if (sectionName === "foot") {
    sectionStyles = styles.footStyles;
  }
  var otherStyles = assign({}, theme.table, theme[sectionName], styles.styles, sectionStyles);
  var columnStyles = styles.columnStyles[column.dataKey] || styles.columnStyles[column.index] || {};
  var colStyles = sectionName === "body" ? columnStyles : {};
  var rowStyles = sectionName === "body" && rowIndex % 2 === 0 ? assign({}, theme.alternateRow, styles.alternateRowStyles) : {};
  var defaultStyle = defaultStyles(scaleFactor);
  var themeStyles = assign({}, defaultStyle, otherStyles, rowStyles, colStyles);
  return assign(themeStyles, cellInputStyles);
}
function getColumnsCanFitInPage(doc, table, config) {
  var _a2;
  if (config === void 0) {
    config = {};
  }
  var remainingWidth = getPageAvailableWidth(doc, table);
  var repeatColumnsMap = /* @__PURE__ */ new Map();
  var colIndexes = [];
  var columns = [];
  var horizontalPageBreakRepeat = [];
  if (Array.isArray(table.settings.horizontalPageBreakRepeat)) {
    horizontalPageBreakRepeat = table.settings.horizontalPageBreakRepeat;
  } else if (typeof table.settings.horizontalPageBreakRepeat === "string" || typeof table.settings.horizontalPageBreakRepeat === "number") {
    horizontalPageBreakRepeat = [table.settings.horizontalPageBreakRepeat];
  }
  horizontalPageBreakRepeat.forEach(function(field) {
    var col = table.columns.find(function(item) {
      return item.dataKey === field || item.index === field;
    });
    if (col && !repeatColumnsMap.has(col.index)) {
      repeatColumnsMap.set(col.index, true);
      colIndexes.push(col.index);
      columns.push(table.columns[col.index]);
      remainingWidth -= col.wrappedWidth;
    }
  });
  var first = true;
  var i2 = (_a2 = config === null || config === void 0 ? void 0 : config.start) !== null && _a2 !== void 0 ? _a2 : 0;
  while (i2 < table.columns.length) {
    if (repeatColumnsMap.has(i2)) {
      i2++;
      continue;
    }
    var colWidth = table.columns[i2].wrappedWidth;
    if (first || remainingWidth >= colWidth) {
      first = false;
      colIndexes.push(i2);
      columns.push(table.columns[i2]);
      remainingWidth -= colWidth;
    } else {
      break;
    }
    i2++;
  }
  return { colIndexes, columns, lastIndex: i2 - 1 };
}
function calculateAllColumnsCanFitInPage(doc, table) {
  var allResults = [];
  for (var i2 = 0; i2 < table.columns.length; i2++) {
    var result = getColumnsCanFitInPage(doc, table, { start: i2 });
    if (result.columns.length) {
      allResults.push(result);
      i2 = result.lastIndex;
    }
  }
  return allResults;
}
function drawTable(jsPDFDoc, table) {
  var settings = table.settings;
  var startY = settings.startY;
  var margin = settings.margin;
  var cursor = { x: margin.left, y: startY };
  var sectionsHeight = table.getHeadHeight(table.columns) + table.getFootHeight(table.columns);
  var minTableBottomPos = startY + margin.bottom + sectionsHeight;
  if (settings.pageBreak === "avoid") {
    var rows = table.body;
    var tableHeight = rows.reduce(function(acc, row) {
      return acc + row.height;
    }, 0);
    minTableBottomPos += tableHeight;
  }
  var doc = new DocHandler(jsPDFDoc);
  if (settings.pageBreak === "always" || settings.startY != null && minTableBottomPos > doc.pageSize().height) {
    nextPage(doc);
    cursor.y = margin.top;
  }
  table.callWillDrawPageHooks(doc, cursor);
  var startPos = assign({}, cursor);
  table.startPageNumber = doc.pageNumber();
  if (settings.horizontalPageBreak) {
    printTableWithHorizontalPageBreak(doc, table, startPos, cursor);
  } else {
    doc.applyStyles(doc.userStyles);
    if (settings.showHead === "firstPage" || settings.showHead === "everyPage") {
      table.head.forEach(function(row) {
        return printRow(doc, table, row, cursor, table.columns);
      });
    }
    doc.applyStyles(doc.userStyles);
    table.body.forEach(function(row, index) {
      var isLastRow = index === table.body.length - 1;
      printFullRow(doc, table, row, isLastRow, startPos, cursor, table.columns);
    });
    doc.applyStyles(doc.userStyles);
    if (settings.showFoot === "lastPage" || settings.showFoot === "everyPage") {
      table.foot.forEach(function(row) {
        return printRow(doc, table, row, cursor, table.columns);
      });
    }
  }
  addTableBorder(doc, table, startPos, cursor);
  table.callEndPageHooks(doc, cursor);
  table.finalY = cursor.y;
  jsPDFDoc.lastAutoTable = table;
  doc.applyStyles(doc.userStyles);
}
function printTableWithHorizontalPageBreak(doc, table, startPos, cursor) {
  var allColumnsCanFitResult = calculateAllColumnsCanFitInPage(doc, table);
  var settings = table.settings;
  if (settings.horizontalPageBreakBehaviour === "afterAllRows") {
    allColumnsCanFitResult.forEach(function(colsAndIndexes, index) {
      doc.applyStyles(doc.userStyles);
      if (index > 0) {
        addPage(doc, table, startPos, cursor, colsAndIndexes.columns, true);
      } else {
        printHead(doc, table, cursor, colsAndIndexes.columns);
      }
      printBody(doc, table, startPos, cursor, colsAndIndexes.columns);
      printFoot(doc, table, cursor, colsAndIndexes.columns);
    });
  } else {
    var lastRowIndexOfLastPage_1 = -1;
    var firstColumnsToFitResult = allColumnsCanFitResult[0];
    var _loop_1 = function() {
      var lastPrintedRowIndex = lastRowIndexOfLastPage_1;
      if (firstColumnsToFitResult) {
        doc.applyStyles(doc.userStyles);
        var firstColumnsToFit = firstColumnsToFitResult.columns;
        if (lastRowIndexOfLastPage_1 >= 0) {
          addPage(doc, table, startPos, cursor, firstColumnsToFit, true);
        } else {
          printHead(doc, table, cursor, firstColumnsToFit);
        }
        lastPrintedRowIndex = printBodyWithoutPageBreaks(doc, table, lastRowIndexOfLastPage_1 + 1, cursor, firstColumnsToFit);
        printFoot(doc, table, cursor, firstColumnsToFit);
      }
      var maxNumberOfRows = lastPrintedRowIndex - lastRowIndexOfLastPage_1;
      allColumnsCanFitResult.slice(1).forEach(function(colsAndIndexes) {
        doc.applyStyles(doc.userStyles);
        addPage(doc, table, startPos, cursor, colsAndIndexes.columns, true);
        printBodyWithoutPageBreaks(doc, table, lastRowIndexOfLastPage_1 + 1, cursor, colsAndIndexes.columns, maxNumberOfRows);
        printFoot(doc, table, cursor, colsAndIndexes.columns);
      });
      lastRowIndexOfLastPage_1 = lastPrintedRowIndex;
    };
    while (lastRowIndexOfLastPage_1 < table.body.length - 1) {
      _loop_1();
    }
  }
}
function printHead(doc, table, cursor, columns) {
  var settings = table.settings;
  doc.applyStyles(doc.userStyles);
  if (settings.showHead === "firstPage" || settings.showHead === "everyPage") {
    table.head.forEach(function(row) {
      return printRow(doc, table, row, cursor, columns);
    });
  }
}
function printBody(doc, table, startPos, cursor, columns) {
  doc.applyStyles(doc.userStyles);
  table.body.forEach(function(row, index) {
    var isLastRow = index === table.body.length - 1;
    printFullRow(doc, table, row, isLastRow, startPos, cursor, columns);
  });
}
function printBodyWithoutPageBreaks(doc, table, startRowIndex, cursor, columns, maxNumberOfRows) {
  doc.applyStyles(doc.userStyles);
  maxNumberOfRows = maxNumberOfRows !== null && maxNumberOfRows !== void 0 ? maxNumberOfRows : table.body.length;
  var endRowIndex = Math.min(startRowIndex + maxNumberOfRows, table.body.length);
  var lastPrintedRowIndex = -1;
  table.body.slice(startRowIndex, endRowIndex).forEach(function(row, index) {
    var isLastRow = startRowIndex + index === table.body.length - 1;
    var remainingSpace = getRemainingPageSpace(doc, table, isLastRow, cursor);
    if (row.canEntireRowFit(remainingSpace, columns)) {
      printRow(doc, table, row, cursor, columns);
      lastPrintedRowIndex = startRowIndex + index;
    }
  });
  return lastPrintedRowIndex;
}
function printFoot(doc, table, cursor, columns) {
  var settings = table.settings;
  doc.applyStyles(doc.userStyles);
  if (settings.showFoot === "lastPage" || settings.showFoot === "everyPage") {
    table.foot.forEach(function(row) {
      return printRow(doc, table, row, cursor, columns);
    });
  }
}
function getRemainingLineCount(cell, remainingPageSpace, doc) {
  var lineHeight = doc.getLineHeight(cell.styles.fontSize);
  var vPadding = cell.padding("vertical");
  var remainingLines = Math.floor((remainingPageSpace - vPadding) / lineHeight);
  return Math.max(0, remainingLines);
}
function modifyRowToFit(row, remainingPageSpace, table, doc) {
  var cells = {};
  row.spansMultiplePages = true;
  row.height = 0;
  var rowHeight = 0;
  for (var _i = 0, _a2 = table.columns; _i < _a2.length; _i++) {
    var column = _a2[_i];
    var cell = row.cells[column.index];
    if (!cell)
      continue;
    if (!Array.isArray(cell.text)) {
      cell.text = [cell.text];
    }
    var remainderCell = new Cell(cell.raw, cell.styles, cell.section);
    remainderCell = assign(remainderCell, cell);
    remainderCell.text = [];
    var remainingLineCount = getRemainingLineCount(cell, remainingPageSpace, doc);
    if (cell.text.length > remainingLineCount) {
      remainderCell.text = cell.text.splice(remainingLineCount, cell.text.length);
    }
    var scaleFactor = doc.scaleFactor();
    var lineHeightFactor = doc.getLineHeightFactor();
    cell.contentHeight = cell.getContentHeight(scaleFactor, lineHeightFactor);
    if (cell.contentHeight >= remainingPageSpace) {
      cell.contentHeight = remainingPageSpace;
      remainderCell.styles.minCellHeight -= remainingPageSpace;
    }
    if (cell.contentHeight > row.height) {
      row.height = cell.contentHeight;
    }
    remainderCell.contentHeight = remainderCell.getContentHeight(scaleFactor, lineHeightFactor);
    if (remainderCell.contentHeight > rowHeight) {
      rowHeight = remainderCell.contentHeight;
    }
    cells[column.index] = remainderCell;
  }
  var remainderRow = new Row(row.raw, -1, row.section, cells, true);
  remainderRow.height = rowHeight;
  for (var _b2 = 0, _c = table.columns; _b2 < _c.length; _b2++) {
    var column = _c[_b2];
    var remainderCell = remainderRow.cells[column.index];
    if (remainderCell) {
      remainderCell.height = remainderRow.height;
    }
    var cell = row.cells[column.index];
    if (cell) {
      cell.height = row.height;
    }
  }
  return remainderRow;
}
function shouldPrintOnCurrentPage(doc, row, remainingPageSpace, table) {
  var pageHeight = doc.pageSize().height;
  var margin = table.settings.margin;
  var marginHeight = margin.top + margin.bottom;
  var maxRowHeight = pageHeight - marginHeight;
  if (row.section === "body") {
    maxRowHeight -= table.getHeadHeight(table.columns) + table.getFootHeight(table.columns);
  }
  var minRowHeight = row.getMinimumRowHeight(table.columns, doc);
  var minRowFits = minRowHeight < remainingPageSpace;
  if (minRowHeight > maxRowHeight) {
    console.error("Will not be able to print row ".concat(row.index, " correctly since it's minimum height is larger than page height"));
    return true;
  }
  if (!minRowFits) {
    return false;
  }
  var rowHasRowSpanCell = row.hasRowSpan(table.columns);
  var rowHigherThanPage = row.getMaxCellHeight(table.columns) > maxRowHeight;
  if (rowHigherThanPage) {
    if (rowHasRowSpanCell) {
      console.error("The content of row ".concat(row.index, " will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported."));
    }
    return true;
  }
  if (rowHasRowSpanCell) {
    return false;
  }
  if (table.settings.rowPageBreak === "avoid") {
    return false;
  }
  return true;
}
function printFullRow(doc, table, row, isLastRow, startPos, cursor, columns) {
  var remainingSpace = getRemainingPageSpace(doc, table, isLastRow, cursor);
  if (row.canEntireRowFit(remainingSpace, columns)) {
    printRow(doc, table, row, cursor, columns);
  } else if (shouldPrintOnCurrentPage(doc, row, remainingSpace, table)) {
    var remainderRow = modifyRowToFit(row, remainingSpace, table, doc);
    printRow(doc, table, row, cursor, columns);
    addPage(doc, table, startPos, cursor, columns);
    printFullRow(doc, table, remainderRow, isLastRow, startPos, cursor, columns);
  } else {
    addPage(doc, table, startPos, cursor, columns);
    printFullRow(doc, table, row, isLastRow, startPos, cursor, columns);
  }
}
function printRow(doc, table, row, cursor, columns) {
  cursor.x = table.settings.margin.left;
  for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {
    var column = columns_1[_i];
    var cell = row.cells[column.index];
    if (!cell) {
      cursor.x += column.width;
      continue;
    }
    doc.applyStyles(cell.styles);
    cell.x = cursor.x;
    cell.y = cursor.y;
    var result = table.callCellHooks(doc, table.hooks.willDrawCell, cell, row, column, cursor);
    if (result === false) {
      cursor.x += column.width;
      continue;
    }
    drawCellRect(doc, cell, cursor);
    var textPos = cell.getTextPos();
    autoTableText(cell.text, textPos.x, textPos.y, {
      halign: cell.styles.halign,
      valign: cell.styles.valign,
      maxWidth: Math.ceil(cell.width - cell.padding("left") - cell.padding("right"))
    }, doc.getDocument());
    table.callCellHooks(doc, table.hooks.didDrawCell, cell, row, column, cursor);
    cursor.x += column.width;
  }
  cursor.y += row.height;
}
function drawCellRect(doc, cell, cursor) {
  var cellStyles2 = cell.styles;
  doc.getDocument().setFillColor(doc.getDocument().getFillColor());
  if (typeof cellStyles2.lineWidth === "number") {
    var fillStyle = getFillStyle(cellStyles2.lineWidth, cellStyles2.fillColor);
    if (fillStyle) {
      doc.rect(cell.x, cursor.y, cell.width, cell.height, fillStyle);
    }
  } else if (typeof cellStyles2.lineWidth === "object") {
    if (cellStyles2.fillColor) {
      doc.rect(cell.x, cursor.y, cell.width, cell.height, "F");
    }
    drawCellBorders(doc, cell, cursor, cellStyles2.lineWidth);
  }
}
function drawCellBorders(doc, cell, cursor, lineWidth) {
  var x1, y1, x2, y2;
  if (lineWidth.top) {
    x1 = cursor.x;
    y1 = cursor.y;
    x2 = cursor.x + cell.width;
    y2 = cursor.y;
    if (lineWidth.right) {
      x2 += 0.5 * lineWidth.right;
    }
    if (lineWidth.left) {
      x1 -= 0.5 * lineWidth.left;
    }
    drawLine(lineWidth.top, x1, y1, x2, y2);
  }
  if (lineWidth.bottom) {
    x1 = cursor.x;
    y1 = cursor.y + cell.height;
    x2 = cursor.x + cell.width;
    y2 = cursor.y + cell.height;
    if (lineWidth.right) {
      x2 += 0.5 * lineWidth.right;
    }
    if (lineWidth.left) {
      x1 -= 0.5 * lineWidth.left;
    }
    drawLine(lineWidth.bottom, x1, y1, x2, y2);
  }
  if (lineWidth.left) {
    x1 = cursor.x;
    y1 = cursor.y;
    x2 = cursor.x;
    y2 = cursor.y + cell.height;
    if (lineWidth.top) {
      y1 -= 0.5 * lineWidth.top;
    }
    if (lineWidth.bottom) {
      y2 += 0.5 * lineWidth.bottom;
    }
    drawLine(lineWidth.left, x1, y1, x2, y2);
  }
  if (lineWidth.right) {
    x1 = cursor.x + cell.width;
    y1 = cursor.y;
    x2 = cursor.x + cell.width;
    y2 = cursor.y + cell.height;
    if (lineWidth.top) {
      y1 -= 0.5 * lineWidth.top;
    }
    if (lineWidth.bottom) {
      y2 += 0.5 * lineWidth.bottom;
    }
    drawLine(lineWidth.right, x1, y1, x2, y2);
  }
  function drawLine(width, x12, y12, x22, y22) {
    doc.getDocument().setLineWidth(width);
    doc.getDocument().line(x12, y12, x22, y22, "S");
  }
}
function getRemainingPageSpace(doc, table, isLastRow, cursor) {
  var bottomContentHeight = table.settings.margin.bottom;
  var showFoot = table.settings.showFoot;
  if (showFoot === "everyPage" || showFoot === "lastPage" && isLastRow) {
    bottomContentHeight += table.getFootHeight(table.columns);
  }
  return doc.pageSize().height - cursor.y - bottomContentHeight;
}
function addPage(doc, table, startPos, cursor, columns, suppressFooter) {
  if (columns === void 0) {
    columns = [];
  }
  if (suppressFooter === void 0) {
    suppressFooter = false;
  }
  doc.applyStyles(doc.userStyles);
  if (table.settings.showFoot === "everyPage" && !suppressFooter) {
    table.foot.forEach(function(row) {
      return printRow(doc, table, row, cursor, columns);
    });
  }
  table.callEndPageHooks(doc, cursor);
  var margin = table.settings.margin;
  addTableBorder(doc, table, startPos, cursor);
  nextPage(doc);
  table.pageNumber++;
  cursor.x = margin.left;
  cursor.y = margin.top;
  startPos.y = margin.top;
  table.callWillDrawPageHooks(doc, cursor);
  if (table.settings.showHead === "everyPage") {
    table.head.forEach(function(row) {
      return printRow(doc, table, row, cursor, columns);
    });
    doc.applyStyles(doc.userStyles);
  }
}
function nextPage(doc) {
  var current = doc.pageNumber();
  doc.setPage(current + 1);
  var newCurrent = doc.pageNumber();
  if (newCurrent === current) {
    doc.addPage();
    return true;
  }
  return false;
}
function applyPlugin(jsPDF) {
  jsPDF.API.autoTable = function() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    var options = args[0];
    var input = parseInput(this, options);
    var table = createTable(this, input);
    drawTable(this, table);
    return this;
  };
  jsPDF.API.lastAutoTable = false;
  jsPDF.API.autoTableText = function(text, x2, y2, styles) {
    autoTableText(text, x2, y2, styles, this);
  };
  jsPDF.API.autoTableSetDefaults = function(defaults) {
    DocHandler.setDefaults(defaults, this);
    return this;
  };
  jsPDF.autoTableSetDefaults = function(defaults, doc) {
    DocHandler.setDefaults(defaults, doc);
  };
  jsPDF.API.autoTableHtmlToJson = function(tableElem, includeHiddenElements) {
    var _a2;
    if (includeHiddenElements === void 0) {
      includeHiddenElements = false;
    }
    if (typeof window === "undefined") {
      console.error("Cannot run autoTableHtmlToJson in non browser environment");
      return null;
    }
    var doc = new DocHandler(this);
    var _b2 = parseHtml(doc, tableElem, window, includeHiddenElements, false), head = _b2.head, body = _b2.body;
    var columns = ((_a2 = head[0]) === null || _a2 === void 0 ? void 0 : _a2.map(function(c2) {
      return c2.content;
    })) || [];
    return { columns, rows: body, data: body };
  };
}
var _a;
function autoTable(d2, options) {
  var input = parseInput(d2, options);
  var table = createTable(d2, input);
  drawTable(d2, table);
}
function __createTable(d2, options) {
  var input = parseInput(d2, options);
  return createTable(d2, input);
}
function __drawTable(d2, table) {
  drawTable(d2, table);
}
try {
  if (typeof window !== "undefined" && window) {
    var anyWindow = window;
    var jsPDF = anyWindow.jsPDF || ((_a = anyWindow.jspdf) === null || _a === void 0 ? void 0 : _a.jsPDF);
    if (jsPDF) {
      applyPlugin(jsPDF);
    }
  }
} catch (error) {
  console.error("Could not apply autoTable plugin", error);
}
var jszip_min = { exports: {} };
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
(function(module2, exports2) {
  !function(e) {
    if (true)
      module2.exports = e();
    else if (false)
      (void 0)([], e);
    else {
      ("undefined" != typeof window ? window : "undefined" != typeof commonjsGlobal ? commonjsGlobal : "undefined" != typeof self ? self : this).JSZip = e();
    }
  }(function() {
    return function s2(a2, o2, h2) {
      function u2(r2, e2) {
        if (!o2[r2]) {
          if (!a2[r2]) {
            var t3 = "function" == typeof commonjsRequire && commonjsRequire;
            if (!e2 && t3)
              return t3(r2, true);
            if (l2)
              return l2(r2, true);
            var n2 = new Error("Cannot find module '" + r2 + "'");
            throw n2.code = "MODULE_NOT_FOUND", n2;
          }
          var i2 = o2[r2] = { exports: {} };
          a2[r2][0].call(i2.exports, function(e3) {
            var t4 = a2[r2][1][e3];
            return u2(t4 || e3);
          }, i2, i2.exports, s2, a2, o2, h2);
        }
        return o2[r2].exports;
      }
      for (var l2 = "function" == typeof commonjsRequire && commonjsRequire, e = 0; e < h2.length; e++)
        u2(h2[e]);
      return u2;
    }({ 1: [function(e, t3, r2) {
      "use strict";
      var d2 = e("./utils"), c2 = e("./support"), p2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      r2.encode = function(e2) {
        for (var t4, r3, n2, i2, s2, a2, o2, h2 = [], u2 = 0, l2 = e2.length, f2 = l2, c3 = "string" !== d2.getTypeOf(e2); u2 < e2.length; )
          f2 = l2 - u2, n2 = c3 ? (t4 = e2[u2++], r3 = u2 < l2 ? e2[u2++] : 0, u2 < l2 ? e2[u2++] : 0) : (t4 = e2.charCodeAt(u2++), r3 = u2 < l2 ? e2.charCodeAt(u2++) : 0, u2 < l2 ? e2.charCodeAt(u2++) : 0), i2 = t4 >> 2, s2 = (3 & t4) << 4 | r3 >> 4, a2 = 1 < f2 ? (15 & r3) << 2 | n2 >> 6 : 64, o2 = 2 < f2 ? 63 & n2 : 64, h2.push(p2.charAt(i2) + p2.charAt(s2) + p2.charAt(a2) + p2.charAt(o2));
        return h2.join("");
      }, r2.decode = function(e2) {
        var t4, r3, n2, i2, s2, a2, o2 = 0, h2 = 0, u2 = "data:";
        if (e2.substr(0, u2.length) === u2)
          throw new Error("Invalid base64 input, it looks like a data url.");
        var l2, f2 = 3 * (e2 = e2.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4;
        if (e2.charAt(e2.length - 1) === p2.charAt(64) && f2--, e2.charAt(e2.length - 2) === p2.charAt(64) && f2--, f2 % 1 != 0)
          throw new Error("Invalid base64 input, bad content length.");
        for (l2 = c2.uint8array ? new Uint8Array(0 | f2) : new Array(0 | f2); o2 < e2.length; )
          t4 = p2.indexOf(e2.charAt(o2++)) << 2 | (i2 = p2.indexOf(e2.charAt(o2++))) >> 4, r3 = (15 & i2) << 4 | (s2 = p2.indexOf(e2.charAt(o2++))) >> 2, n2 = (3 & s2) << 6 | (a2 = p2.indexOf(e2.charAt(o2++))), l2[h2++] = t4, 64 !== s2 && (l2[h2++] = r3), 64 !== a2 && (l2[h2++] = n2);
        return l2;
      };
    }, { "./support": 30, "./utils": 32 }], 2: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./external"), i2 = e("./stream/DataWorker"), s2 = e("./stream/Crc32Probe"), a2 = e("./stream/DataLengthProbe");
      function o2(e2, t4, r3, n3, i3) {
        this.compressedSize = e2, this.uncompressedSize = t4, this.crc32 = r3, this.compression = n3, this.compressedContent = i3;
      }
      o2.prototype = { getContentWorker: function() {
        var e2 = new i2(n2.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a2("data_length")), t4 = this;
        return e2.on("end", function() {
          if (this.streamInfo.data_length !== t4.uncompressedSize)
            throw new Error("Bug : uncompressed data size mismatch");
        }), e2;
      }, getCompressedWorker: function() {
        return new i2(n2.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression);
      } }, o2.createWorkerFrom = function(e2, t4, r3) {
        return e2.pipe(new s2()).pipe(new a2("uncompressedSize")).pipe(t4.compressWorker(r3)).pipe(new a2("compressedSize")).withStreamInfo("compression", t4);
      }, t3.exports = o2;
    }, { "./external": 6, "./stream/Crc32Probe": 25, "./stream/DataLengthProbe": 26, "./stream/DataWorker": 27 }], 3: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./stream/GenericWorker");
      r2.STORE = { magic: "\0\0", compressWorker: function() {
        return new n2("STORE compression");
      }, uncompressWorker: function() {
        return new n2("STORE decompression");
      } }, r2.DEFLATE = e("./flate");
    }, { "./flate": 7, "./stream/GenericWorker": 28 }], 4: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./utils");
      var o2 = function() {
        for (var e2, t4 = [], r3 = 0; r3 < 256; r3++) {
          e2 = r3;
          for (var n3 = 0; n3 < 8; n3++)
            e2 = 1 & e2 ? 3988292384 ^ e2 >>> 1 : e2 >>> 1;
          t4[r3] = e2;
        }
        return t4;
      }();
      t3.exports = function(e2, t4) {
        return void 0 !== e2 && e2.length ? "string" !== n2.getTypeOf(e2) ? function(e3, t5, r3, n3) {
          var i2 = o2, s2 = n3 + r3;
          e3 ^= -1;
          for (var a2 = n3; a2 < s2; a2++)
            e3 = e3 >>> 8 ^ i2[255 & (e3 ^ t5[a2])];
          return -1 ^ e3;
        }(0 | t4, e2, e2.length, 0) : function(e3, t5, r3, n3) {
          var i2 = o2, s2 = n3 + r3;
          e3 ^= -1;
          for (var a2 = n3; a2 < s2; a2++)
            e3 = e3 >>> 8 ^ i2[255 & (e3 ^ t5.charCodeAt(a2))];
          return -1 ^ e3;
        }(0 | t4, e2, e2.length, 0) : 0;
      };
    }, { "./utils": 32 }], 5: [function(e, t3, r2) {
      "use strict";
      r2.base64 = false, r2.binary = false, r2.dir = false, r2.createFolders = true, r2.date = null, r2.compression = null, r2.compressionOptions = null, r2.comment = null, r2.unixPermissions = null, r2.dosPermissions = null;
    }, {}], 6: [function(e, t3, r2) {
      "use strict";
      var n2 = null;
      n2 = "undefined" != typeof Promise ? Promise : e("lie"), t3.exports = { Promise: n2 };
    }, { lie: 37 }], 7: [function(e, t3, r2) {
      "use strict";
      var n2 = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array, i2 = e("pako"), s2 = e("./utils"), a2 = e("./stream/GenericWorker"), o2 = n2 ? "uint8array" : "array";
      function h2(e2, t4) {
        a2.call(this, "FlateWorker/" + e2), this._pako = null, this._pakoAction = e2, this._pakoOptions = t4, this.meta = {};
      }
      r2.magic = "\b\0", s2.inherits(h2, a2), h2.prototype.processChunk = function(e2) {
        this.meta = e2.meta, null === this._pako && this._createPako(), this._pako.push(s2.transformTo(o2, e2.data), false);
      }, h2.prototype.flush = function() {
        a2.prototype.flush.call(this), null === this._pako && this._createPako(), this._pako.push([], true);
      }, h2.prototype.cleanUp = function() {
        a2.prototype.cleanUp.call(this), this._pako = null;
      }, h2.prototype._createPako = function() {
        this._pako = new i2[this._pakoAction]({ raw: true, level: this._pakoOptions.level || -1 });
        var t4 = this;
        this._pako.onData = function(e2) {
          t4.push({ data: e2, meta: t4.meta });
        };
      }, r2.compressWorker = function(e2) {
        return new h2("Deflate", e2);
      }, r2.uncompressWorker = function() {
        return new h2("Inflate", {});
      };
    }, { "./stream/GenericWorker": 28, "./utils": 32, pako: 38 }], 8: [function(e, t3, r2) {
      "use strict";
      function A2(e2, t4) {
        var r3, n3 = "";
        for (r3 = 0; r3 < t4; r3++)
          n3 += String.fromCharCode(255 & e2), e2 >>>= 8;
        return n3;
      }
      function n2(e2, t4, r3, n3, i3, s3) {
        var a2, o2, h2 = e2.file, u2 = e2.compression, l2 = s3 !== O2.utf8encode, f2 = I2.transformTo("string", s3(h2.name)), c2 = I2.transformTo("string", O2.utf8encode(h2.name)), d2 = h2.comment, p2 = I2.transformTo("string", s3(d2)), m2 = I2.transformTo("string", O2.utf8encode(d2)), _2 = c2.length !== h2.name.length, g2 = m2.length !== d2.length, b3 = "", v2 = "", y2 = "", w2 = h2.dir, k3 = h2.date, x2 = { crc32: 0, compressedSize: 0, uncompressedSize: 0 };
        t4 && !r3 || (x2.crc32 = e2.crc32, x2.compressedSize = e2.compressedSize, x2.uncompressedSize = e2.uncompressedSize);
        var S2 = 0;
        t4 && (S2 |= 8), l2 || !_2 && !g2 || (S2 |= 2048);
        var z2 = 0, C2 = 0;
        w2 && (z2 |= 16), "UNIX" === i3 ? (C2 = 798, z2 |= function(e3, t5) {
          var r4 = e3;
          return e3 || (r4 = t5 ? 16893 : 33204), (65535 & r4) << 16;
        }(h2.unixPermissions, w2)) : (C2 = 20, z2 |= function(e3) {
          return 63 & (e3 || 0);
        }(h2.dosPermissions)), a2 = k3.getUTCHours(), a2 <<= 6, a2 |= k3.getUTCMinutes(), a2 <<= 5, a2 |= k3.getUTCSeconds() / 2, o2 = k3.getUTCFullYear() - 1980, o2 <<= 4, o2 |= k3.getUTCMonth() + 1, o2 <<= 5, o2 |= k3.getUTCDate(), _2 && (v2 = A2(1, 1) + A2(B2(f2), 4) + c2, b3 += "up" + A2(v2.length, 2) + v2), g2 && (y2 = A2(1, 1) + A2(B2(p2), 4) + m2, b3 += "uc" + A2(y2.length, 2) + y2);
        var E2 = "";
        return E2 += "\n\0", E2 += A2(S2, 2), E2 += u2.magic, E2 += A2(a2, 2), E2 += A2(o2, 2), E2 += A2(x2.crc32, 4), E2 += A2(x2.compressedSize, 4), E2 += A2(x2.uncompressedSize, 4), E2 += A2(f2.length, 2), E2 += A2(b3.length, 2), { fileRecord: R2.LOCAL_FILE_HEADER + E2 + f2 + b3, dirRecord: R2.CENTRAL_FILE_HEADER + A2(C2, 2) + E2 + A2(p2.length, 2) + "\0\0\0\0" + A2(z2, 4) + A2(n3, 4) + f2 + b3 + p2 };
      }
      var I2 = e("../utils"), i2 = e("../stream/GenericWorker"), O2 = e("../utf8"), B2 = e("../crc32"), R2 = e("../signature");
      function s2(e2, t4, r3, n3) {
        i2.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = t4, this.zipPlatform = r3, this.encodeFileName = n3, this.streamFiles = e2, this.accumulate = false, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = [];
      }
      I2.inherits(s2, i2), s2.prototype.push = function(e2) {
        var t4 = e2.meta.percent || 0, r3 = this.entriesCount, n3 = this._sources.length;
        this.accumulate ? this.contentBuffer.push(e2) : (this.bytesWritten += e2.data.length, i2.prototype.push.call(this, { data: e2.data, meta: { currentFile: this.currentFile, percent: r3 ? (t4 + 100 * (r3 - n3 - 1)) / r3 : 100 } }));
      }, s2.prototype.openedSource = function(e2) {
        this.currentSourceOffset = this.bytesWritten, this.currentFile = e2.file.name;
        var t4 = this.streamFiles && !e2.file.dir;
        if (t4) {
          var r3 = n2(e2, t4, false, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
          this.push({ data: r3.fileRecord, meta: { percent: 0 } });
        } else
          this.accumulate = true;
      }, s2.prototype.closedSource = function(e2) {
        this.accumulate = false;
        var t4 = this.streamFiles && !e2.file.dir, r3 = n2(e2, t4, true, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
        if (this.dirRecords.push(r3.dirRecord), t4)
          this.push({ data: function(e3) {
            return R2.DATA_DESCRIPTOR + A2(e3.crc32, 4) + A2(e3.compressedSize, 4) + A2(e3.uncompressedSize, 4);
          }(e2), meta: { percent: 100 } });
        else
          for (this.push({ data: r3.fileRecord, meta: { percent: 0 } }); this.contentBuffer.length; )
            this.push(this.contentBuffer.shift());
        this.currentFile = null;
      }, s2.prototype.flush = function() {
        for (var e2 = this.bytesWritten, t4 = 0; t4 < this.dirRecords.length; t4++)
          this.push({ data: this.dirRecords[t4], meta: { percent: 100 } });
        var r3 = this.bytesWritten - e2, n3 = function(e3, t5, r4, n4, i3) {
          var s3 = I2.transformTo("string", i3(n4));
          return R2.CENTRAL_DIRECTORY_END + "\0\0\0\0" + A2(e3, 2) + A2(e3, 2) + A2(t5, 4) + A2(r4, 4) + A2(s3.length, 2) + s3;
        }(this.dirRecords.length, r3, e2, this.zipComment, this.encodeFileName);
        this.push({ data: n3, meta: { percent: 100 } });
      }, s2.prototype.prepareNextSource = function() {
        this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume();
      }, s2.prototype.registerPrevious = function(e2) {
        this._sources.push(e2);
        var t4 = this;
        return e2.on("data", function(e3) {
          t4.processChunk(e3);
        }), e2.on("end", function() {
          t4.closedSource(t4.previous.streamInfo), t4._sources.length ? t4.prepareNextSource() : t4.end();
        }), e2.on("error", function(e3) {
          t4.error(e3);
        }), this;
      }, s2.prototype.resume = function() {
        return !!i2.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), true) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), true));
      }, s2.prototype.error = function(e2) {
        var t4 = this._sources;
        if (!i2.prototype.error.call(this, e2))
          return false;
        for (var r3 = 0; r3 < t4.length; r3++)
          try {
            t4[r3].error(e2);
          } catch (e3) {
          }
        return true;
      }, s2.prototype.lock = function() {
        i2.prototype.lock.call(this);
        for (var e2 = this._sources, t4 = 0; t4 < e2.length; t4++)
          e2[t4].lock();
      }, t3.exports = s2;
    }, { "../crc32": 4, "../signature": 23, "../stream/GenericWorker": 28, "../utf8": 31, "../utils": 32 }], 9: [function(e, t3, r2) {
      "use strict";
      var u2 = e("../compressions"), n2 = e("./ZipFileWorker");
      r2.generateWorker = function(e2, a2, t4) {
        var o2 = new n2(a2.streamFiles, t4, a2.platform, a2.encodeFileName), h2 = 0;
        try {
          e2.forEach(function(e3, t5) {
            h2++;
            var r3 = function(e4, t6) {
              var r4 = e4 || t6, n4 = u2[r4];
              if (!n4)
                throw new Error(r4 + " is not a valid compression method !");
              return n4;
            }(t5.options.compression, a2.compression), n3 = t5.options.compressionOptions || a2.compressionOptions || {}, i2 = t5.dir, s2 = t5.date;
            t5._compressWorker(r3, n3).withStreamInfo("file", { name: e3, dir: i2, date: s2, comment: t5.comment || "", unixPermissions: t5.unixPermissions, dosPermissions: t5.dosPermissions }).pipe(o2);
          }), o2.entriesCount = h2;
        } catch (e3) {
          o2.error(e3);
        }
        return o2;
      };
    }, { "../compressions": 3, "./ZipFileWorker": 8 }], 10: [function(e, t3, r2) {
      "use strict";
      function n2() {
        if (!(this instanceof n2))
          return new n2();
        if (arguments.length)
          throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");
        this.files = /* @__PURE__ */ Object.create(null), this.comment = null, this.root = "", this.clone = function() {
          var e2 = new n2();
          for (var t4 in this)
            "function" != typeof this[t4] && (e2[t4] = this[t4]);
          return e2;
        };
      }
      (n2.prototype = e("./object")).loadAsync = e("./load"), n2.support = e("./support"), n2.defaults = e("./defaults"), n2.version = "3.10.1", n2.loadAsync = function(e2, t4) {
        return new n2().loadAsync(e2, t4);
      }, n2.external = e("./external"), t3.exports = n2;
    }, { "./defaults": 5, "./external": 6, "./load": 11, "./object": 15, "./support": 30 }], 11: [function(e, t3, r2) {
      "use strict";
      var u2 = e("./utils"), i2 = e("./external"), n2 = e("./utf8"), s2 = e("./zipEntries"), a2 = e("./stream/Crc32Probe"), l2 = e("./nodejsUtils");
      function f2(n3) {
        return new i2.Promise(function(e2, t4) {
          var r3 = n3.decompressed.getContentWorker().pipe(new a2());
          r3.on("error", function(e3) {
            t4(e3);
          }).on("end", function() {
            r3.streamInfo.crc32 !== n3.decompressed.crc32 ? t4(new Error("Corrupted zip : CRC32 mismatch")) : e2();
          }).resume();
        });
      }
      t3.exports = function(e2, o2) {
        var h2 = this;
        return o2 = u2.extend(o2 || {}, { base64: false, checkCRC32: false, optimizedBinaryString: false, createFolders: false, decodeFileName: n2.utf8decode }), l2.isNode && l2.isStream(e2) ? i2.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : u2.prepareContent("the loaded zip file", e2, true, o2.optimizedBinaryString, o2.base64).then(function(e3) {
          var t4 = new s2(o2);
          return t4.load(e3), t4;
        }).then(function(e3) {
          var t4 = [i2.Promise.resolve(e3)], r3 = e3.files;
          if (o2.checkCRC32)
            for (var n3 = 0; n3 < r3.length; n3++)
              t4.push(f2(r3[n3]));
          return i2.Promise.all(t4);
        }).then(function(e3) {
          for (var t4 = e3.shift(), r3 = t4.files, n3 = 0; n3 < r3.length; n3++) {
            var i3 = r3[n3], s3 = i3.fileNameStr, a3 = u2.resolve(i3.fileNameStr);
            h2.file(a3, i3.decompressed, { binary: true, optimizedBinaryString: true, date: i3.date, dir: i3.dir, comment: i3.fileCommentStr.length ? i3.fileCommentStr : null, unixPermissions: i3.unixPermissions, dosPermissions: i3.dosPermissions, createFolders: o2.createFolders }), i3.dir || (h2.file(a3).unsafeOriginalName = s3);
          }
          return t4.zipComment.length && (h2.comment = t4.zipComment), h2;
        });
      };
    }, { "./external": 6, "./nodejsUtils": 14, "./stream/Crc32Probe": 25, "./utf8": 31, "./utils": 32, "./zipEntries": 33 }], 12: [function(e, t3, r2) {
      "use strict";
      var n2 = e("../utils"), i2 = e("../stream/GenericWorker");
      function s2(e2, t4) {
        i2.call(this, "Nodejs stream input adapter for " + e2), this._upstreamEnded = false, this._bindStream(t4);
      }
      n2.inherits(s2, i2), s2.prototype._bindStream = function(e2) {
        var t4 = this;
        (this._stream = e2).pause(), e2.on("data", function(e3) {
          t4.push({ data: e3, meta: { percent: 0 } });
        }).on("error", function(e3) {
          t4.isPaused ? this.generatedError = e3 : t4.error(e3);
        }).on("end", function() {
          t4.isPaused ? t4._upstreamEnded = true : t4.end();
        });
      }, s2.prototype.pause = function() {
        return !!i2.prototype.pause.call(this) && (this._stream.pause(), true);
      }, s2.prototype.resume = function() {
        return !!i2.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(), true);
      }, t3.exports = s2;
    }, { "../stream/GenericWorker": 28, "../utils": 32 }], 13: [function(e, t3, r2) {
      "use strict";
      var i2 = e("readable-stream").Readable;
      function n2(e2, t4, r3) {
        i2.call(this, t4), this._helper = e2;
        var n3 = this;
        e2.on("data", function(e3, t5) {
          n3.push(e3) || n3._helper.pause(), r3 && r3(t5);
        }).on("error", function(e3) {
          n3.emit("error", e3);
        }).on("end", function() {
          n3.push(null);
        });
      }
      e("../utils").inherits(n2, i2), n2.prototype._read = function() {
        this._helper.resume();
      }, t3.exports = n2;
    }, { "../utils": 32, "readable-stream": 16 }], 14: [function(e, t3, r2) {
      "use strict";
      t3.exports = { isNode: "undefined" != typeof Buffer, newBufferFrom: function(e2, t4) {
        if (Buffer.from && Buffer.from !== Uint8Array.from)
          return Buffer.from(e2, t4);
        if ("number" == typeof e2)
          throw new Error('The "data" argument must not be a number');
        return new Buffer(e2, t4);
      }, allocBuffer: function(e2) {
        if (Buffer.alloc)
          return Buffer.alloc(e2);
        var t4 = new Buffer(e2);
        return t4.fill(0), t4;
      }, isBuffer: function(e2) {
        return Buffer.isBuffer(e2);
      }, isStream: function(e2) {
        return e2 && "function" == typeof e2.on && "function" == typeof e2.pause && "function" == typeof e2.resume;
      } };
    }, {}], 15: [function(e, t3, r2) {
      "use strict";
      function s2(e2, t4, r3) {
        var n3, i3 = u2.getTypeOf(t4), s3 = u2.extend(r3 || {}, f2);
        s3.date = s3.date || new Date(), null !== s3.compression && (s3.compression = s3.compression.toUpperCase()), "string" == typeof s3.unixPermissions && (s3.unixPermissions = parseInt(s3.unixPermissions, 8)), s3.unixPermissions && 16384 & s3.unixPermissions && (s3.dir = true), s3.dosPermissions && 16 & s3.dosPermissions && (s3.dir = true), s3.dir && (e2 = g2(e2)), s3.createFolders && (n3 = _2(e2)) && b3.call(this, n3, true);
        var a3 = "string" === i3 && false === s3.binary && false === s3.base64;
        r3 && void 0 !== r3.binary || (s3.binary = !a3), (t4 instanceof c2 && 0 === t4.uncompressedSize || s3.dir || !t4 || 0 === t4.length) && (s3.base64 = false, s3.binary = true, t4 = "", s3.compression = "STORE", i3 = "string");
        var o3 = null;
        o3 = t4 instanceof c2 || t4 instanceof l2 ? t4 : p2.isNode && p2.isStream(t4) ? new m2(e2, t4) : u2.prepareContent(e2, t4, s3.binary, s3.optimizedBinaryString, s3.base64);
        var h3 = new d2(e2, o3, s3);
        this.files[e2] = h3;
      }
      var i2 = e("./utf8"), u2 = e("./utils"), l2 = e("./stream/GenericWorker"), a2 = e("./stream/StreamHelper"), f2 = e("./defaults"), c2 = e("./compressedObject"), d2 = e("./zipObject"), o2 = e("./generate"), p2 = e("./nodejsUtils"), m2 = e("./nodejs/NodejsStreamInputAdapter"), _2 = function(e2) {
        "/" === e2.slice(-1) && (e2 = e2.substring(0, e2.length - 1));
        var t4 = e2.lastIndexOf("/");
        return 0 < t4 ? e2.substring(0, t4) : "";
      }, g2 = function(e2) {
        return "/" !== e2.slice(-1) && (e2 += "/"), e2;
      }, b3 = function(e2, t4) {
        return t4 = void 0 !== t4 ? t4 : f2.createFolders, e2 = g2(e2), this.files[e2] || s2.call(this, e2, null, { dir: true, createFolders: t4 }), this.files[e2];
      };
      function h2(e2) {
        return "[object RegExp]" === Object.prototype.toString.call(e2);
      }
      var n2 = { load: function() {
        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
      }, forEach: function(e2) {
        var t4, r3, n3;
        for (t4 in this.files)
          n3 = this.files[t4], (r3 = t4.slice(this.root.length, t4.length)) && t4.slice(0, this.root.length) === this.root && e2(r3, n3);
      }, filter: function(r3) {
        var n3 = [];
        return this.forEach(function(e2, t4) {
          r3(e2, t4) && n3.push(t4);
        }), n3;
      }, file: function(e2, t4, r3) {
        if (1 !== arguments.length)
          return e2 = this.root + e2, s2.call(this, e2, t4, r3), this;
        if (h2(e2)) {
          var n3 = e2;
          return this.filter(function(e3, t5) {
            return !t5.dir && n3.test(e3);
          });
        }
        var i3 = this.files[this.root + e2];
        return i3 && !i3.dir ? i3 : null;
      }, folder: function(r3) {
        if (!r3)
          return this;
        if (h2(r3))
          return this.filter(function(e3, t5) {
            return t5.dir && r3.test(e3);
          });
        var e2 = this.root + r3, t4 = b3.call(this, e2), n3 = this.clone();
        return n3.root = t4.name, n3;
      }, remove: function(r3) {
        r3 = this.root + r3;
        var e2 = this.files[r3];
        if (e2 || ("/" !== r3.slice(-1) && (r3 += "/"), e2 = this.files[r3]), e2 && !e2.dir)
          delete this.files[r3];
        else
          for (var t4 = this.filter(function(e3, t5) {
            return t5.name.slice(0, r3.length) === r3;
          }), n3 = 0; n3 < t4.length; n3++)
            delete this.files[t4[n3].name];
        return this;
      }, generate: function() {
        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
      }, generateInternalStream: function(e2) {
        var t4, r3 = {};
        try {
          if ((r3 = u2.extend(e2 || {}, { streamFiles: false, compression: "STORE", compressionOptions: null, type: "", platform: "DOS", comment: null, mimeType: "application/zip", encodeFileName: i2.utf8encode })).type = r3.type.toLowerCase(), r3.compression = r3.compression.toUpperCase(), "binarystring" === r3.type && (r3.type = "string"), !r3.type)
            throw new Error("No output type specified.");
          u2.checkSupport(r3.type), "darwin" !== r3.platform && "freebsd" !== r3.platform && "linux" !== r3.platform && "sunos" !== r3.platform || (r3.platform = "UNIX"), "win32" === r3.platform && (r3.platform = "DOS");
          var n3 = r3.comment || this.comment || "";
          t4 = o2.generateWorker(this, r3, n3);
        } catch (e3) {
          (t4 = new l2("error")).error(e3);
        }
        return new a2(t4, r3.type || "string", r3.mimeType);
      }, generateAsync: function(e2, t4) {
        return this.generateInternalStream(e2).accumulate(t4);
      }, generateNodeStream: function(e2, t4) {
        return (e2 = e2 || {}).type || (e2.type = "nodebuffer"), this.generateInternalStream(e2).toNodejsStream(t4);
      } };
      t3.exports = n2;
    }, { "./compressedObject": 2, "./defaults": 5, "./generate": 9, "./nodejs/NodejsStreamInputAdapter": 12, "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31, "./utils": 32, "./zipObject": 35 }], 16: [function(e, t3, r2) {
      "use strict";
      t3.exports = e("stream");
    }, { stream: void 0 }], 17: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./DataReader");
      function i2(e2) {
        n2.call(this, e2);
        for (var t4 = 0; t4 < this.data.length; t4++)
          e2[t4] = 255 & e2[t4];
      }
      e("../utils").inherits(i2, n2), i2.prototype.byteAt = function(e2) {
        return this.data[this.zero + e2];
      }, i2.prototype.lastIndexOfSignature = function(e2) {
        for (var t4 = e2.charCodeAt(0), r3 = e2.charCodeAt(1), n3 = e2.charCodeAt(2), i3 = e2.charCodeAt(3), s2 = this.length - 4; 0 <= s2; --s2)
          if (this.data[s2] === t4 && this.data[s2 + 1] === r3 && this.data[s2 + 2] === n3 && this.data[s2 + 3] === i3)
            return s2 - this.zero;
        return -1;
      }, i2.prototype.readAndCheckSignature = function(e2) {
        var t4 = e2.charCodeAt(0), r3 = e2.charCodeAt(1), n3 = e2.charCodeAt(2), i3 = e2.charCodeAt(3), s2 = this.readData(4);
        return t4 === s2[0] && r3 === s2[1] && n3 === s2[2] && i3 === s2[3];
      }, i2.prototype.readData = function(e2) {
        if (this.checkOffset(e2), 0 === e2)
          return [];
        var t4 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
        return this.index += e2, t4;
      }, t3.exports = i2;
    }, { "../utils": 32, "./DataReader": 18 }], 18: [function(e, t3, r2) {
      "use strict";
      var n2 = e("../utils");
      function i2(e2) {
        this.data = e2, this.length = e2.length, this.index = 0, this.zero = 0;
      }
      i2.prototype = { checkOffset: function(e2) {
        this.checkIndex(this.index + e2);
      }, checkIndex: function(e2) {
        if (this.length < this.zero + e2 || e2 < 0)
          throw new Error("End of data reached (data length = " + this.length + ", asked index = " + e2 + "). Corrupted zip ?");
      }, setIndex: function(e2) {
        this.checkIndex(e2), this.index = e2;
      }, skip: function(e2) {
        this.setIndex(this.index + e2);
      }, byteAt: function() {
      }, readInt: function(e2) {
        var t4, r3 = 0;
        for (this.checkOffset(e2), t4 = this.index + e2 - 1; t4 >= this.index; t4--)
          r3 = (r3 << 8) + this.byteAt(t4);
        return this.index += e2, r3;
      }, readString: function(e2) {
        return n2.transformTo("string", this.readData(e2));
      }, readData: function() {
      }, lastIndexOfSignature: function() {
      }, readAndCheckSignature: function() {
      }, readDate: function() {
        var e2 = this.readInt(4);
        return new Date(Date.UTC(1980 + (e2 >> 25 & 127), (e2 >> 21 & 15) - 1, e2 >> 16 & 31, e2 >> 11 & 31, e2 >> 5 & 63, (31 & e2) << 1));
      } }, t3.exports = i2;
    }, { "../utils": 32 }], 19: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./Uint8ArrayReader");
      function i2(e2) {
        n2.call(this, e2);
      }
      e("../utils").inherits(i2, n2), i2.prototype.readData = function(e2) {
        this.checkOffset(e2);
        var t4 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
        return this.index += e2, t4;
      }, t3.exports = i2;
    }, { "../utils": 32, "./Uint8ArrayReader": 21 }], 20: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./DataReader");
      function i2(e2) {
        n2.call(this, e2);
      }
      e("../utils").inherits(i2, n2), i2.prototype.byteAt = function(e2) {
        return this.data.charCodeAt(this.zero + e2);
      }, i2.prototype.lastIndexOfSignature = function(e2) {
        return this.data.lastIndexOf(e2) - this.zero;
      }, i2.prototype.readAndCheckSignature = function(e2) {
        return e2 === this.readData(4);
      }, i2.prototype.readData = function(e2) {
        this.checkOffset(e2);
        var t4 = this.data.slice(this.zero + this.index, this.zero + this.index + e2);
        return this.index += e2, t4;
      }, t3.exports = i2;
    }, { "../utils": 32, "./DataReader": 18 }], 21: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./ArrayReader");
      function i2(e2) {
        n2.call(this, e2);
      }
      e("../utils").inherits(i2, n2), i2.prototype.readData = function(e2) {
        if (this.checkOffset(e2), 0 === e2)
          return new Uint8Array(0);
        var t4 = this.data.subarray(this.zero + this.index, this.zero + this.index + e2);
        return this.index += e2, t4;
      }, t3.exports = i2;
    }, { "../utils": 32, "./ArrayReader": 17 }], 22: [function(e, t3, r2) {
      "use strict";
      var n2 = e("../utils"), i2 = e("../support"), s2 = e("./ArrayReader"), a2 = e("./StringReader"), o2 = e("./NodeBufferReader"), h2 = e("./Uint8ArrayReader");
      t3.exports = function(e2) {
        var t4 = n2.getTypeOf(e2);
        return n2.checkSupport(t4), "string" !== t4 || i2.uint8array ? "nodebuffer" === t4 ? new o2(e2) : i2.uint8array ? new h2(n2.transformTo("uint8array", e2)) : new s2(n2.transformTo("array", e2)) : new a2(e2);
      };
    }, { "../support": 30, "../utils": 32, "./ArrayReader": 17, "./NodeBufferReader": 19, "./StringReader": 20, "./Uint8ArrayReader": 21 }], 23: [function(e, t3, r2) {
      "use strict";
      r2.LOCAL_FILE_HEADER = "PK", r2.CENTRAL_FILE_HEADER = "PK", r2.CENTRAL_DIRECTORY_END = "PK", r2.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x07", r2.ZIP64_CENTRAL_DIRECTORY_END = "PK", r2.DATA_DESCRIPTOR = "PK\x07\b";
    }, {}], 24: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./GenericWorker"), i2 = e("../utils");
      function s2(e2) {
        n2.call(this, "ConvertWorker to " + e2), this.destType = e2;
      }
      i2.inherits(s2, n2), s2.prototype.processChunk = function(e2) {
        this.push({ data: i2.transformTo(this.destType, e2.data), meta: e2.meta });
      }, t3.exports = s2;
    }, { "../utils": 32, "./GenericWorker": 28 }], 25: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./GenericWorker"), i2 = e("../crc32");
      function s2() {
        n2.call(this, "Crc32Probe"), this.withStreamInfo("crc32", 0);
      }
      e("../utils").inherits(s2, n2), s2.prototype.processChunk = function(e2) {
        this.streamInfo.crc32 = i2(e2.data, this.streamInfo.crc32 || 0), this.push(e2);
      }, t3.exports = s2;
    }, { "../crc32": 4, "../utils": 32, "./GenericWorker": 28 }], 26: [function(e, t3, r2) {
      "use strict";
      var n2 = e("../utils"), i2 = e("./GenericWorker");
      function s2(e2) {
        i2.call(this, "DataLengthProbe for " + e2), this.propName = e2, this.withStreamInfo(e2, 0);
      }
      n2.inherits(s2, i2), s2.prototype.processChunk = function(e2) {
        if (e2) {
          var t4 = this.streamInfo[this.propName] || 0;
          this.streamInfo[this.propName] = t4 + e2.data.length;
        }
        i2.prototype.processChunk.call(this, e2);
      }, t3.exports = s2;
    }, { "../utils": 32, "./GenericWorker": 28 }], 27: [function(e, t3, r2) {
      "use strict";
      var n2 = e("../utils"), i2 = e("./GenericWorker");
      function s2(e2) {
        i2.call(this, "DataWorker");
        var t4 = this;
        this.dataIsReady = false, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = false, e2.then(function(e3) {
          t4.dataIsReady = true, t4.data = e3, t4.max = e3 && e3.length || 0, t4.type = n2.getTypeOf(e3), t4.isPaused || t4._tickAndRepeat();
        }, function(e3) {
          t4.error(e3);
        });
      }
      n2.inherits(s2, i2), s2.prototype.cleanUp = function() {
        i2.prototype.cleanUp.call(this), this.data = null;
      }, s2.prototype.resume = function() {
        return !!i2.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = true, n2.delay(this._tickAndRepeat, [], this)), true);
      }, s2.prototype._tickAndRepeat = function() {
        this._tickScheduled = false, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (n2.delay(this._tickAndRepeat, [], this), this._tickScheduled = true));
      }, s2.prototype._tick = function() {
        if (this.isPaused || this.isFinished)
          return false;
        var e2 = null, t4 = Math.min(this.max, this.index + 16384);
        if (this.index >= this.max)
          return this.end();
        switch (this.type) {
          case "string":
            e2 = this.data.substring(this.index, t4);
            break;
          case "uint8array":
            e2 = this.data.subarray(this.index, t4);
            break;
          case "array":
          case "nodebuffer":
            e2 = this.data.slice(this.index, t4);
        }
        return this.index = t4, this.push({ data: e2, meta: { percent: this.max ? this.index / this.max * 100 : 0 } });
      }, t3.exports = s2;
    }, { "../utils": 32, "./GenericWorker": 28 }], 28: [function(e, t3, r2) {
      "use strict";
      function n2(e2) {
        this.name = e2 || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = true, this.isFinished = false, this.isLocked = false, this._listeners = { data: [], end: [], error: [] }, this.previous = null;
      }
      n2.prototype = { push: function(e2) {
        this.emit("data", e2);
      }, end: function() {
        if (this.isFinished)
          return false;
        this.flush();
        try {
          this.emit("end"), this.cleanUp(), this.isFinished = true;
        } catch (e2) {
          this.emit("error", e2);
        }
        return true;
      }, error: function(e2) {
        return !this.isFinished && (this.isPaused ? this.generatedError = e2 : (this.isFinished = true, this.emit("error", e2), this.previous && this.previous.error(e2), this.cleanUp()), true);
      }, on: function(e2, t4) {
        return this._listeners[e2].push(t4), this;
      }, cleanUp: function() {
        this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = [];
      }, emit: function(e2, t4) {
        if (this._listeners[e2])
          for (var r3 = 0; r3 < this._listeners[e2].length; r3++)
            this._listeners[e2][r3].call(this, t4);
      }, pipe: function(e2) {
        return e2.registerPrevious(this);
      }, registerPrevious: function(e2) {
        if (this.isLocked)
          throw new Error("The stream '" + this + "' has already been used.");
        this.streamInfo = e2.streamInfo, this.mergeStreamInfo(), this.previous = e2;
        var t4 = this;
        return e2.on("data", function(e3) {
          t4.processChunk(e3);
        }), e2.on("end", function() {
          t4.end();
        }), e2.on("error", function(e3) {
          t4.error(e3);
        }), this;
      }, pause: function() {
        return !this.isPaused && !this.isFinished && (this.isPaused = true, this.previous && this.previous.pause(), true);
      }, resume: function() {
        if (!this.isPaused || this.isFinished)
          return false;
        var e2 = this.isPaused = false;
        return this.generatedError && (this.error(this.generatedError), e2 = true), this.previous && this.previous.resume(), !e2;
      }, flush: function() {
      }, processChunk: function(e2) {
        this.push(e2);
      }, withStreamInfo: function(e2, t4) {
        return this.extraStreamInfo[e2] = t4, this.mergeStreamInfo(), this;
      }, mergeStreamInfo: function() {
        for (var e2 in this.extraStreamInfo)
          Object.prototype.hasOwnProperty.call(this.extraStreamInfo, e2) && (this.streamInfo[e2] = this.extraStreamInfo[e2]);
      }, lock: function() {
        if (this.isLocked)
          throw new Error("The stream '" + this + "' has already been used.");
        this.isLocked = true, this.previous && this.previous.lock();
      }, toString: function() {
        var e2 = "Worker " + this.name;
        return this.previous ? this.previous + " -> " + e2 : e2;
      } }, t3.exports = n2;
    }, {}], 29: [function(e, t3, r2) {
      "use strict";
      var h2 = e("../utils"), i2 = e("./ConvertWorker"), s2 = e("./GenericWorker"), u2 = e("../base64"), n2 = e("../support"), a2 = e("../external"), o2 = null;
      if (n2.nodestream)
        try {
          o2 = e("../nodejs/NodejsStreamOutputAdapter");
        } catch (e2) {
        }
      function l2(e2, o3) {
        return new a2.Promise(function(t4, r3) {
          var n3 = [], i3 = e2._internalType, s3 = e2._outputType, a3 = e2._mimeType;
          e2.on("data", function(e3, t5) {
            n3.push(e3), o3 && o3(t5);
          }).on("error", function(e3) {
            n3 = [], r3(e3);
          }).on("end", function() {
            try {
              var e3 = function(e4, t5, r4) {
                switch (e4) {
                  case "blob":
                    return h2.newBlob(h2.transformTo("arraybuffer", t5), r4);
                  case "base64":
                    return u2.encode(t5);
                  default:
                    return h2.transformTo(e4, t5);
                }
              }(s3, function(e4, t5) {
                var r4, n4 = 0, i4 = null, s4 = 0;
                for (r4 = 0; r4 < t5.length; r4++)
                  s4 += t5[r4].length;
                switch (e4) {
                  case "string":
                    return t5.join("");
                  case "array":
                    return Array.prototype.concat.apply([], t5);
                  case "uint8array":
                    for (i4 = new Uint8Array(s4), r4 = 0; r4 < t5.length; r4++)
                      i4.set(t5[r4], n4), n4 += t5[r4].length;
                    return i4;
                  case "nodebuffer":
                    return Buffer.concat(t5);
                  default:
                    throw new Error("concat : unsupported type '" + e4 + "'");
                }
              }(i3, n3), a3);
              t4(e3);
            } catch (e4) {
              r3(e4);
            }
            n3 = [];
          }).resume();
        });
      }
      function f2(e2, t4, r3) {
        var n3 = t4;
        switch (t4) {
          case "blob":
          case "arraybuffer":
            n3 = "uint8array";
            break;
          case "base64":
            n3 = "string";
        }
        try {
          this._internalType = n3, this._outputType = t4, this._mimeType = r3, h2.checkSupport(n3), this._worker = e2.pipe(new i2(n3)), e2.lock();
        } catch (e3) {
          this._worker = new s2("error"), this._worker.error(e3);
        }
      }
      f2.prototype = { accumulate: function(e2) {
        return l2(this, e2);
      }, on: function(e2, t4) {
        var r3 = this;
        return "data" === e2 ? this._worker.on(e2, function(e3) {
          t4.call(r3, e3.data, e3.meta);
        }) : this._worker.on(e2, function() {
          h2.delay(t4, arguments, r3);
        }), this;
      }, resume: function() {
        return h2.delay(this._worker.resume, [], this._worker), this;
      }, pause: function() {
        return this._worker.pause(), this;
      }, toNodejsStream: function(e2) {
        if (h2.checkSupport("nodestream"), "nodebuffer" !== this._outputType)
          throw new Error(this._outputType + " is not supported by this method");
        return new o2(this, { objectMode: "nodebuffer" !== this._outputType }, e2);
      } }, t3.exports = f2;
    }, { "../base64": 1, "../external": 6, "../nodejs/NodejsStreamOutputAdapter": 13, "../support": 30, "../utils": 32, "./ConvertWorker": 24, "./GenericWorker": 28 }], 30: [function(e, t3, r2) {
      "use strict";
      if (r2.base64 = true, r2.array = true, r2.string = true, r2.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, r2.nodebuffer = "undefined" != typeof Buffer, r2.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer)
        r2.blob = false;
      else {
        var n2 = new ArrayBuffer(0);
        try {
          r2.blob = 0 === new Blob([n2], { type: "application/zip" }).size;
        } catch (e2) {
          try {
            var i2 = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder)();
            i2.append(n2), r2.blob = 0 === i2.getBlob("application/zip").size;
          } catch (e3) {
            r2.blob = false;
          }
        }
      }
      try {
        r2.nodestream = !!e("readable-stream").Readable;
      } catch (e2) {
        r2.nodestream = false;
      }
    }, { "readable-stream": 16 }], 31: [function(e, t3, s2) {
      "use strict";
      for (var o2 = e("./utils"), h2 = e("./support"), r2 = e("./nodejsUtils"), n2 = e("./stream/GenericWorker"), u2 = new Array(256), i2 = 0; i2 < 256; i2++)
        u2[i2] = 252 <= i2 ? 6 : 248 <= i2 ? 5 : 240 <= i2 ? 4 : 224 <= i2 ? 3 : 192 <= i2 ? 2 : 1;
      u2[254] = u2[254] = 1;
      function a2() {
        n2.call(this, "utf-8 decode"), this.leftOver = null;
      }
      function l2() {
        n2.call(this, "utf-8 encode");
      }
      s2.utf8encode = function(e2) {
        return h2.nodebuffer ? r2.newBufferFrom(e2, "utf-8") : function(e3) {
          var t4, r3, n3, i3, s3, a3 = e3.length, o3 = 0;
          for (i3 = 0; i3 < a3; i3++)
            55296 == (64512 & (r3 = e3.charCodeAt(i3))) && i3 + 1 < a3 && 56320 == (64512 & (n3 = e3.charCodeAt(i3 + 1))) && (r3 = 65536 + (r3 - 55296 << 10) + (n3 - 56320), i3++), o3 += r3 < 128 ? 1 : r3 < 2048 ? 2 : r3 < 65536 ? 3 : 4;
          for (t4 = h2.uint8array ? new Uint8Array(o3) : new Array(o3), i3 = s3 = 0; s3 < o3; i3++)
            55296 == (64512 & (r3 = e3.charCodeAt(i3))) && i3 + 1 < a3 && 56320 == (64512 & (n3 = e3.charCodeAt(i3 + 1))) && (r3 = 65536 + (r3 - 55296 << 10) + (n3 - 56320), i3++), r3 < 128 ? t4[s3++] = r3 : (r3 < 2048 ? t4[s3++] = 192 | r3 >>> 6 : (r3 < 65536 ? t4[s3++] = 224 | r3 >>> 12 : (t4[s3++] = 240 | r3 >>> 18, t4[s3++] = 128 | r3 >>> 12 & 63), t4[s3++] = 128 | r3 >>> 6 & 63), t4[s3++] = 128 | 63 & r3);
          return t4;
        }(e2);
      }, s2.utf8decode = function(e2) {
        return h2.nodebuffer ? o2.transformTo("nodebuffer", e2).toString("utf-8") : function(e3) {
          var t4, r3, n3, i3, s3 = e3.length, a3 = new Array(2 * s3);
          for (t4 = r3 = 0; t4 < s3; )
            if ((n3 = e3[t4++]) < 128)
              a3[r3++] = n3;
            else if (4 < (i3 = u2[n3]))
              a3[r3++] = 65533, t4 += i3 - 1;
            else {
              for (n3 &= 2 === i3 ? 31 : 3 === i3 ? 15 : 7; 1 < i3 && t4 < s3; )
                n3 = n3 << 6 | 63 & e3[t4++], i3--;
              1 < i3 ? a3[r3++] = 65533 : n3 < 65536 ? a3[r3++] = n3 : (n3 -= 65536, a3[r3++] = 55296 | n3 >> 10 & 1023, a3[r3++] = 56320 | 1023 & n3);
            }
          return a3.length !== r3 && (a3.subarray ? a3 = a3.subarray(0, r3) : a3.length = r3), o2.applyFromCharCode(a3);
        }(e2 = o2.transformTo(h2.uint8array ? "uint8array" : "array", e2));
      }, o2.inherits(a2, n2), a2.prototype.processChunk = function(e2) {
        var t4 = o2.transformTo(h2.uint8array ? "uint8array" : "array", e2.data);
        if (this.leftOver && this.leftOver.length) {
          if (h2.uint8array) {
            var r3 = t4;
            (t4 = new Uint8Array(r3.length + this.leftOver.length)).set(this.leftOver, 0), t4.set(r3, this.leftOver.length);
          } else
            t4 = this.leftOver.concat(t4);
          this.leftOver = null;
        }
        var n3 = function(e3, t5) {
          var r4;
          for ((t5 = t5 || e3.length) > e3.length && (t5 = e3.length), r4 = t5 - 1; 0 <= r4 && 128 == (192 & e3[r4]); )
            r4--;
          return r4 < 0 ? t5 : 0 === r4 ? t5 : r4 + u2[e3[r4]] > t5 ? r4 : t5;
        }(t4), i3 = t4;
        n3 !== t4.length && (h2.uint8array ? (i3 = t4.subarray(0, n3), this.leftOver = t4.subarray(n3, t4.length)) : (i3 = t4.slice(0, n3), this.leftOver = t4.slice(n3, t4.length))), this.push({ data: s2.utf8decode(i3), meta: e2.meta });
      }, a2.prototype.flush = function() {
        this.leftOver && this.leftOver.length && (this.push({ data: s2.utf8decode(this.leftOver), meta: {} }), this.leftOver = null);
      }, s2.Utf8DecodeWorker = a2, o2.inherits(l2, n2), l2.prototype.processChunk = function(e2) {
        this.push({ data: s2.utf8encode(e2.data), meta: e2.meta });
      }, s2.Utf8EncodeWorker = l2;
    }, { "./nodejsUtils": 14, "./stream/GenericWorker": 28, "./support": 30, "./utils": 32 }], 32: [function(e, t3, a2) {
      "use strict";
      var o2 = e("./support"), h2 = e("./base64"), r2 = e("./nodejsUtils"), u2 = e("./external");
      function n2(e2) {
        return e2;
      }
      function l2(e2, t4) {
        for (var r3 = 0; r3 < e2.length; ++r3)
          t4[r3] = 255 & e2.charCodeAt(r3);
        return t4;
      }
      e("setimmediate"), a2.newBlob = function(t4, r3) {
        a2.checkSupport("blob");
        try {
          return new Blob([t4], { type: r3 });
        } catch (e2) {
          try {
            var n3 = new (self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder)();
            return n3.append(t4), n3.getBlob(r3);
          } catch (e3) {
            throw new Error("Bug : can't construct the Blob.");
          }
        }
      };
      var i2 = { stringifyByChunk: function(e2, t4, r3) {
        var n3 = [], i3 = 0, s3 = e2.length;
        if (s3 <= r3)
          return String.fromCharCode.apply(null, e2);
        for (; i3 < s3; )
          "array" === t4 || "nodebuffer" === t4 ? n3.push(String.fromCharCode.apply(null, e2.slice(i3, Math.min(i3 + r3, s3)))) : n3.push(String.fromCharCode.apply(null, e2.subarray(i3, Math.min(i3 + r3, s3)))), i3 += r3;
        return n3.join("");
      }, stringifyByChar: function(e2) {
        for (var t4 = "", r3 = 0; r3 < e2.length; r3++)
          t4 += String.fromCharCode(e2[r3]);
        return t4;
      }, applyCanBeUsed: { uint8array: function() {
        try {
          return o2.uint8array && 1 === String.fromCharCode.apply(null, new Uint8Array(1)).length;
        } catch (e2) {
          return false;
        }
      }(), nodebuffer: function() {
        try {
          return o2.nodebuffer && 1 === String.fromCharCode.apply(null, r2.allocBuffer(1)).length;
        } catch (e2) {
          return false;
        }
      }() } };
      function s2(e2) {
        var t4 = 65536, r3 = a2.getTypeOf(e2), n3 = true;
        if ("uint8array" === r3 ? n3 = i2.applyCanBeUsed.uint8array : "nodebuffer" === r3 && (n3 = i2.applyCanBeUsed.nodebuffer), n3)
          for (; 1 < t4; )
            try {
              return i2.stringifyByChunk(e2, r3, t4);
            } catch (e3) {
              t4 = Math.floor(t4 / 2);
            }
        return i2.stringifyByChar(e2);
      }
      function f2(e2, t4) {
        for (var r3 = 0; r3 < e2.length; r3++)
          t4[r3] = e2[r3];
        return t4;
      }
      a2.applyFromCharCode = s2;
      var c2 = {};
      c2.string = { string: n2, array: function(e2) {
        return l2(e2, new Array(e2.length));
      }, arraybuffer: function(e2) {
        return c2.string.uint8array(e2).buffer;
      }, uint8array: function(e2) {
        return l2(e2, new Uint8Array(e2.length));
      }, nodebuffer: function(e2) {
        return l2(e2, r2.allocBuffer(e2.length));
      } }, c2.array = { string: s2, array: n2, arraybuffer: function(e2) {
        return new Uint8Array(e2).buffer;
      }, uint8array: function(e2) {
        return new Uint8Array(e2);
      }, nodebuffer: function(e2) {
        return r2.newBufferFrom(e2);
      } }, c2.arraybuffer = { string: function(e2) {
        return s2(new Uint8Array(e2));
      }, array: function(e2) {
        return f2(new Uint8Array(e2), new Array(e2.byteLength));
      }, arraybuffer: n2, uint8array: function(e2) {
        return new Uint8Array(e2);
      }, nodebuffer: function(e2) {
        return r2.newBufferFrom(new Uint8Array(e2));
      } }, c2.uint8array = { string: s2, array: function(e2) {
        return f2(e2, new Array(e2.length));
      }, arraybuffer: function(e2) {
        return e2.buffer;
      }, uint8array: n2, nodebuffer: function(e2) {
        return r2.newBufferFrom(e2);
      } }, c2.nodebuffer = { string: s2, array: function(e2) {
        return f2(e2, new Array(e2.length));
      }, arraybuffer: function(e2) {
        return c2.nodebuffer.uint8array(e2).buffer;
      }, uint8array: function(e2) {
        return f2(e2, new Uint8Array(e2.length));
      }, nodebuffer: n2 }, a2.transformTo = function(e2, t4) {
        if (t4 = t4 || "", !e2)
          return t4;
        a2.checkSupport(e2);
        var r3 = a2.getTypeOf(t4);
        return c2[r3][e2](t4);
      }, a2.resolve = function(e2) {
        for (var t4 = e2.split("/"), r3 = [], n3 = 0; n3 < t4.length; n3++) {
          var i3 = t4[n3];
          "." === i3 || "" === i3 && 0 !== n3 && n3 !== t4.length - 1 || (".." === i3 ? r3.pop() : r3.push(i3));
        }
        return r3.join("/");
      }, a2.getTypeOf = function(e2) {
        return "string" == typeof e2 ? "string" : "[object Array]" === Object.prototype.toString.call(e2) ? "array" : o2.nodebuffer && r2.isBuffer(e2) ? "nodebuffer" : o2.uint8array && e2 instanceof Uint8Array ? "uint8array" : o2.arraybuffer && e2 instanceof ArrayBuffer ? "arraybuffer" : void 0;
      }, a2.checkSupport = function(e2) {
        if (!o2[e2.toLowerCase()])
          throw new Error(e2 + " is not supported by this platform");
      }, a2.MAX_VALUE_16BITS = 65535, a2.MAX_VALUE_32BITS = -1, a2.pretty = function(e2) {
        var t4, r3, n3 = "";
        for (r3 = 0; r3 < (e2 || "").length; r3++)
          n3 += "\\x" + ((t4 = e2.charCodeAt(r3)) < 16 ? "0" : "") + t4.toString(16).toUpperCase();
        return n3;
      }, a2.delay = function(e2, t4, r3) {
        setImmediate(function() {
          e2.apply(r3 || null, t4 || []);
        });
      }, a2.inherits = function(e2, t4) {
        function r3() {
        }
        r3.prototype = t4.prototype, e2.prototype = new r3();
      }, a2.extend = function() {
        var e2, t4, r3 = {};
        for (e2 = 0; e2 < arguments.length; e2++)
          for (t4 in arguments[e2])
            Object.prototype.hasOwnProperty.call(arguments[e2], t4) && void 0 === r3[t4] && (r3[t4] = arguments[e2][t4]);
        return r3;
      }, a2.prepareContent = function(r3, e2, n3, i3, s3) {
        return u2.Promise.resolve(e2).then(function(n4) {
          return o2.blob && (n4 instanceof Blob || -1 !== ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(n4))) && "undefined" != typeof FileReader ? new u2.Promise(function(t4, r4) {
            var e3 = new FileReader();
            e3.onload = function(e4) {
              t4(e4.target.result);
            }, e3.onerror = function(e4) {
              r4(e4.target.error);
            }, e3.readAsArrayBuffer(n4);
          }) : n4;
        }).then(function(e3) {
          var t4 = a2.getTypeOf(e3);
          return t4 ? ("arraybuffer" === t4 ? e3 = a2.transformTo("uint8array", e3) : "string" === t4 && (s3 ? e3 = h2.decode(e3) : n3 && true !== i3 && (e3 = function(e4) {
            return l2(e4, o2.uint8array ? new Uint8Array(e4.length) : new Array(e4.length));
          }(e3))), e3) : u2.Promise.reject(new Error("Can't read the data of '" + r3 + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));
        });
      };
    }, { "./base64": 1, "./external": 6, "./nodejsUtils": 14, "./support": 30, setimmediate: 54 }], 33: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./reader/readerFor"), i2 = e("./utils"), s2 = e("./signature"), a2 = e("./zipEntry"), o2 = e("./support");
      function h2(e2) {
        this.files = [], this.loadOptions = e2;
      }
      h2.prototype = { checkSignature: function(e2) {
        if (!this.reader.readAndCheckSignature(e2)) {
          this.reader.index -= 4;
          var t4 = this.reader.readString(4);
          throw new Error("Corrupted zip or bug: unexpected signature (" + i2.pretty(t4) + ", expected " + i2.pretty(e2) + ")");
        }
      }, isSignature: function(e2, t4) {
        var r3 = this.reader.index;
        this.reader.setIndex(e2);
        var n3 = this.reader.readString(4) === t4;
        return this.reader.setIndex(r3), n3;
      }, readBlockEndOfCentral: function() {
        this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2);
        var e2 = this.reader.readData(this.zipCommentLength), t4 = o2.uint8array ? "uint8array" : "array", r3 = i2.transformTo(t4, e2);
        this.zipComment = this.loadOptions.decodeFileName(r3);
      }, readBlockZip64EndOfCentral: function() {
        this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
        for (var e2, t4, r3, n3 = this.zip64EndOfCentralSize - 44; 0 < n3; )
          e2 = this.reader.readInt(2), t4 = this.reader.readInt(4), r3 = this.reader.readData(t4), this.zip64ExtensibleData[e2] = { id: e2, length: t4, value: r3 };
      }, readBlockZip64EndOfCentralLocator: function() {
        if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount)
          throw new Error("Multi-volumes zip are not supported");
      }, readLocalFiles: function() {
        var e2, t4;
        for (e2 = 0; e2 < this.files.length; e2++)
          t4 = this.files[e2], this.reader.setIndex(t4.localHeaderOffset), this.checkSignature(s2.LOCAL_FILE_HEADER), t4.readLocalPart(this.reader), t4.handleUTF8(), t4.processAttributes();
      }, readCentralDir: function() {
        var e2;
        for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(s2.CENTRAL_FILE_HEADER); )
          (e2 = new a2({ zip64: this.zip64 }, this.loadOptions)).readCentralPart(this.reader), this.files.push(e2);
        if (this.centralDirRecords !== this.files.length && 0 !== this.centralDirRecords && 0 === this.files.length)
          throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length);
      }, readEndOfCentral: function() {
        var e2 = this.reader.lastIndexOfSignature(s2.CENTRAL_DIRECTORY_END);
        if (e2 < 0)
          throw !this.isSignature(0, s2.LOCAL_FILE_HEADER) ? new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html") : new Error("Corrupted zip: can't find end of central directory");
        this.reader.setIndex(e2);
        var t4 = e2;
        if (this.checkSignature(s2.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === i2.MAX_VALUE_16BITS || this.diskWithCentralDirStart === i2.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === i2.MAX_VALUE_16BITS || this.centralDirRecords === i2.MAX_VALUE_16BITS || this.centralDirSize === i2.MAX_VALUE_32BITS || this.centralDirOffset === i2.MAX_VALUE_32BITS) {
          if (this.zip64 = true, (e2 = this.reader.lastIndexOfSignature(s2.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0)
            throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");
          if (this.reader.setIndex(e2), this.checkSignature(s2.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, s2.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(s2.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0))
            throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");
          this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(s2.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral();
        }
        var r3 = this.centralDirOffset + this.centralDirSize;
        this.zip64 && (r3 += 20, r3 += 12 + this.zip64EndOfCentralSize);
        var n3 = t4 - r3;
        if (0 < n3)
          this.isSignature(t4, s2.CENTRAL_FILE_HEADER) || (this.reader.zero = n3);
        else if (n3 < 0)
          throw new Error("Corrupted zip: missing " + Math.abs(n3) + " bytes.");
      }, prepareReader: function(e2) {
        this.reader = n2(e2);
      }, load: function(e2) {
        this.prepareReader(e2), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles();
      } }, t3.exports = h2;
    }, { "./reader/readerFor": 22, "./signature": 23, "./support": 30, "./utils": 32, "./zipEntry": 34 }], 34: [function(e, t3, r2) {
      "use strict";
      var n2 = e("./reader/readerFor"), s2 = e("./utils"), i2 = e("./compressedObject"), a2 = e("./crc32"), o2 = e("./utf8"), h2 = e("./compressions"), u2 = e("./support");
      function l2(e2, t4) {
        this.options = e2, this.loadOptions = t4;
      }
      l2.prototype = { isEncrypted: function() {
        return 1 == (1 & this.bitFlag);
      }, useUTF8: function() {
        return 2048 == (2048 & this.bitFlag);
      }, readLocalPart: function(e2) {
        var t4, r3;
        if (e2.skip(22), this.fileNameLength = e2.readInt(2), r3 = e2.readInt(2), this.fileName = e2.readData(this.fileNameLength), e2.skip(r3), -1 === this.compressedSize || -1 === this.uncompressedSize)
          throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");
        if (null === (t4 = function(e3) {
          for (var t5 in h2)
            if (Object.prototype.hasOwnProperty.call(h2, t5) && h2[t5].magic === e3)
              return h2[t5];
          return null;
        }(this.compressionMethod)))
          throw new Error("Corrupted zip : compression " + s2.pretty(this.compressionMethod) + " unknown (inner file : " + s2.transformTo("string", this.fileName) + ")");
        this.decompressed = new i2(this.compressedSize, this.uncompressedSize, this.crc32, t4, e2.readData(this.compressedSize));
      }, readCentralPart: function(e2) {
        this.versionMadeBy = e2.readInt(2), e2.skip(2), this.bitFlag = e2.readInt(2), this.compressionMethod = e2.readString(2), this.date = e2.readDate(), this.crc32 = e2.readInt(4), this.compressedSize = e2.readInt(4), this.uncompressedSize = e2.readInt(4);
        var t4 = e2.readInt(2);
        if (this.extraFieldsLength = e2.readInt(2), this.fileCommentLength = e2.readInt(2), this.diskNumberStart = e2.readInt(2), this.internalFileAttributes = e2.readInt(2), this.externalFileAttributes = e2.readInt(4), this.localHeaderOffset = e2.readInt(4), this.isEncrypted())
          throw new Error("Encrypted zip are not supported");
        e2.skip(t4), this.readExtraFields(e2), this.parseZIP64ExtraField(e2), this.fileComment = e2.readData(this.fileCommentLength);
      }, processAttributes: function() {
        this.unixPermissions = null, this.dosPermissions = null;
        var e2 = this.versionMadeBy >> 8;
        this.dir = !!(16 & this.externalFileAttributes), 0 == e2 && (this.dosPermissions = 63 & this.externalFileAttributes), 3 == e2 && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || "/" !== this.fileNameStr.slice(-1) || (this.dir = true);
      }, parseZIP64ExtraField: function() {
        if (this.extraFields[1]) {
          var e2 = n2(this.extraFields[1].value);
          this.uncompressedSize === s2.MAX_VALUE_32BITS && (this.uncompressedSize = e2.readInt(8)), this.compressedSize === s2.MAX_VALUE_32BITS && (this.compressedSize = e2.readInt(8)), this.localHeaderOffset === s2.MAX_VALUE_32BITS && (this.localHeaderOffset = e2.readInt(8)), this.diskNumberStart === s2.MAX_VALUE_32BITS && (this.diskNumberStart = e2.readInt(4));
        }
      }, readExtraFields: function(e2) {
        var t4, r3, n3, i3 = e2.index + this.extraFieldsLength;
        for (this.extraFields || (this.extraFields = {}); e2.index + 4 < i3; )
          t4 = e2.readInt(2), r3 = e2.readInt(2), n3 = e2.readData(r3), this.extraFields[t4] = { id: t4, length: r3, value: n3 };
        e2.setIndex(i3);
      }, handleUTF8: function() {
        var e2 = u2.uint8array ? "uint8array" : "array";
        if (this.useUTF8())
          this.fileNameStr = o2.utf8decode(this.fileName), this.fileCommentStr = o2.utf8decode(this.fileComment);
        else {
          var t4 = this.findExtraFieldUnicodePath();
          if (null !== t4)
            this.fileNameStr = t4;
          else {
            var r3 = s2.transformTo(e2, this.fileName);
            this.fileNameStr = this.loadOptions.decodeFileName(r3);
          }
          var n3 = this.findExtraFieldUnicodeComment();
          if (null !== n3)
            this.fileCommentStr = n3;
          else {
            var i3 = s2.transformTo(e2, this.fileComment);
            this.fileCommentStr = this.loadOptions.decodeFileName(i3);
          }
        }
      }, findExtraFieldUnicodePath: function() {
        var e2 = this.extraFields[28789];
        if (e2) {
          var t4 = n2(e2.value);
          return 1 !== t4.readInt(1) ? null : a2(this.fileName) !== t4.readInt(4) ? null : o2.utf8decode(t4.readData(e2.length - 5));
        }
        return null;
      }, findExtraFieldUnicodeComment: function() {
        var e2 = this.extraFields[25461];
        if (e2) {
          var t4 = n2(e2.value);
          return 1 !== t4.readInt(1) ? null : a2(this.fileComment) !== t4.readInt(4) ? null : o2.utf8decode(t4.readData(e2.length - 5));
        }
        return null;
      } }, t3.exports = l2;
    }, { "./compressedObject": 2, "./compressions": 3, "./crc32": 4, "./reader/readerFor": 22, "./support": 30, "./utf8": 31, "./utils": 32 }], 35: [function(e, t3, r2) {
      "use strict";
      function n2(e2, t4, r3) {
        this.name = e2, this.dir = r3.dir, this.date = r3.date, this.comment = r3.comment, this.unixPermissions = r3.unixPermissions, this.dosPermissions = r3.dosPermissions, this._data = t4, this._dataBinary = r3.binary, this.options = { compression: r3.compression, compressionOptions: r3.compressionOptions };
      }
      var s2 = e("./stream/StreamHelper"), i2 = e("./stream/DataWorker"), a2 = e("./utf8"), o2 = e("./compressedObject"), h2 = e("./stream/GenericWorker");
      n2.prototype = { internalStream: function(e2) {
        var t4 = null, r3 = "string";
        try {
          if (!e2)
            throw new Error("No output type specified.");
          var n3 = "string" === (r3 = e2.toLowerCase()) || "text" === r3;
          "binarystring" !== r3 && "text" !== r3 || (r3 = "string"), t4 = this._decompressWorker();
          var i3 = !this._dataBinary;
          i3 && !n3 && (t4 = t4.pipe(new a2.Utf8EncodeWorker())), !i3 && n3 && (t4 = t4.pipe(new a2.Utf8DecodeWorker()));
        } catch (e3) {
          (t4 = new h2("error")).error(e3);
        }
        return new s2(t4, r3, "");
      }, async: function(e2, t4) {
        return this.internalStream(e2).accumulate(t4);
      }, nodeStream: function(e2, t4) {
        return this.internalStream(e2 || "nodebuffer").toNodejsStream(t4);
      }, _compressWorker: function(e2, t4) {
        if (this._data instanceof o2 && this._data.compression.magic === e2.magic)
          return this._data.getCompressedWorker();
        var r3 = this._decompressWorker();
        return this._dataBinary || (r3 = r3.pipe(new a2.Utf8EncodeWorker())), o2.createWorkerFrom(r3, e2, t4);
      }, _decompressWorker: function() {
        return this._data instanceof o2 ? this._data.getContentWorker() : this._data instanceof h2 ? this._data : new i2(this._data);
      } };
      for (var u2 = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], l2 = function() {
        throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
      }, f2 = 0; f2 < u2.length; f2++)
        n2.prototype[u2[f2]] = l2;
      t3.exports = n2;
    }, { "./compressedObject": 2, "./stream/DataWorker": 27, "./stream/GenericWorker": 28, "./stream/StreamHelper": 29, "./utf8": 31 }], 36: [function(e, l2, t3) {
      (function(t4) {
        "use strict";
        var r2, n2, e2 = t4.MutationObserver || t4.WebKitMutationObserver;
        if (e2) {
          var i2 = 0, s2 = new e2(u2), a2 = t4.document.createTextNode("");
          s2.observe(a2, { characterData: true }), r2 = function() {
            a2.data = i2 = ++i2 % 2;
          };
        } else if (t4.setImmediate || void 0 === t4.MessageChannel)
          r2 = "document" in t4 && "onreadystatechange" in t4.document.createElement("script") ? function() {
            var e3 = t4.document.createElement("script");
            e3.onreadystatechange = function() {
              u2(), e3.onreadystatechange = null, e3.parentNode.removeChild(e3), e3 = null;
            }, t4.document.documentElement.appendChild(e3);
          } : function() {
            setTimeout(u2, 0);
          };
        else {
          var o2 = new t4.MessageChannel();
          o2.port1.onmessage = u2, r2 = function() {
            o2.port2.postMessage(0);
          };
        }
        var h2 = [];
        function u2() {
          var e3, t5;
          n2 = true;
          for (var r3 = h2.length; r3; ) {
            for (t5 = h2, h2 = [], e3 = -1; ++e3 < r3; )
              t5[e3]();
            r3 = h2.length;
          }
          n2 = false;
        }
        l2.exports = function(e3) {
          1 !== h2.push(e3) || n2 || r2();
        };
      }).call(this, "undefined" != typeof commonjsGlobal ? commonjsGlobal : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, {}], 37: [function(e, t3, r2) {
      "use strict";
      var i2 = e("immediate");
      function u2() {
      }
      var l2 = {}, s2 = ["REJECTED"], a2 = ["FULFILLED"], n2 = ["PENDING"];
      function o2(e2) {
        if ("function" != typeof e2)
          throw new TypeError("resolver must be a function");
        this.state = n2, this.queue = [], this.outcome = void 0, e2 !== u2 && d2(this, e2);
      }
      function h2(e2, t4, r3) {
        this.promise = e2, "function" == typeof t4 && (this.onFulfilled = t4, this.callFulfilled = this.otherCallFulfilled), "function" == typeof r3 && (this.onRejected = r3, this.callRejected = this.otherCallRejected);
      }
      function f2(t4, r3, n3) {
        i2(function() {
          var e2;
          try {
            e2 = r3(n3);
          } catch (e3) {
            return l2.reject(t4, e3);
          }
          e2 === t4 ? l2.reject(t4, new TypeError("Cannot resolve promise with itself")) : l2.resolve(t4, e2);
        });
      }
      function c2(e2) {
        var t4 = e2 && e2.then;
        if (e2 && ("object" == typeof e2 || "function" == typeof e2) && "function" == typeof t4)
          return function() {
            t4.apply(e2, arguments);
          };
      }
      function d2(t4, e2) {
        var r3 = false;
        function n3(e3) {
          r3 || (r3 = true, l2.reject(t4, e3));
        }
        function i3(e3) {
          r3 || (r3 = true, l2.resolve(t4, e3));
        }
        var s3 = p2(function() {
          e2(i3, n3);
        });
        "error" === s3.status && n3(s3.value);
      }
      function p2(e2, t4) {
        var r3 = {};
        try {
          r3.value = e2(t4), r3.status = "success";
        } catch (e3) {
          r3.status = "error", r3.value = e3;
        }
        return r3;
      }
      (t3.exports = o2).prototype.finally = function(t4) {
        if ("function" != typeof t4)
          return this;
        var r3 = this.constructor;
        return this.then(function(e2) {
          return r3.resolve(t4()).then(function() {
            return e2;
          });
        }, function(e2) {
          return r3.resolve(t4()).then(function() {
            throw e2;
          });
        });
      }, o2.prototype.catch = function(e2) {
        return this.then(null, e2);
      }, o2.prototype.then = function(e2, t4) {
        if ("function" != typeof e2 && this.state === a2 || "function" != typeof t4 && this.state === s2)
          return this;
        var r3 = new this.constructor(u2);
        this.state !== n2 ? f2(r3, this.state === a2 ? e2 : t4, this.outcome) : this.queue.push(new h2(r3, e2, t4));
        return r3;
      }, h2.prototype.callFulfilled = function(e2) {
        l2.resolve(this.promise, e2);
      }, h2.prototype.otherCallFulfilled = function(e2) {
        f2(this.promise, this.onFulfilled, e2);
      }, h2.prototype.callRejected = function(e2) {
        l2.reject(this.promise, e2);
      }, h2.prototype.otherCallRejected = function(e2) {
        f2(this.promise, this.onRejected, e2);
      }, l2.resolve = function(e2, t4) {
        var r3 = p2(c2, t4);
        if ("error" === r3.status)
          return l2.reject(e2, r3.value);
        var n3 = r3.value;
        if (n3)
          d2(e2, n3);
        else {
          e2.state = a2, e2.outcome = t4;
          for (var i3 = -1, s3 = e2.queue.length; ++i3 < s3; )
            e2.queue[i3].callFulfilled(t4);
        }
        return e2;
      }, l2.reject = function(e2, t4) {
        e2.state = s2, e2.outcome = t4;
        for (var r3 = -1, n3 = e2.queue.length; ++r3 < n3; )
          e2.queue[r3].callRejected(t4);
        return e2;
      }, o2.resolve = function(e2) {
        if (e2 instanceof this)
          return e2;
        return l2.resolve(new this(u2), e2);
      }, o2.reject = function(e2) {
        var t4 = new this(u2);
        return l2.reject(t4, e2);
      }, o2.all = function(e2) {
        var r3 = this;
        if ("[object Array]" !== Object.prototype.toString.call(e2))
          return this.reject(new TypeError("must be an array"));
        var n3 = e2.length, i3 = false;
        if (!n3)
          return this.resolve([]);
        var s3 = new Array(n3), a3 = 0, t4 = -1, o3 = new this(u2);
        for (; ++t4 < n3; )
          h3(e2[t4], t4);
        return o3;
        function h3(e3, t5) {
          r3.resolve(e3).then(function(e4) {
            s3[t5] = e4, ++a3 !== n3 || i3 || (i3 = true, l2.resolve(o3, s3));
          }, function(e4) {
            i3 || (i3 = true, l2.reject(o3, e4));
          });
        }
      }, o2.race = function(e2) {
        var t4 = this;
        if ("[object Array]" !== Object.prototype.toString.call(e2))
          return this.reject(new TypeError("must be an array"));
        var r3 = e2.length, n3 = false;
        if (!r3)
          return this.resolve([]);
        var i3 = -1, s3 = new this(u2);
        for (; ++i3 < r3; )
          a3 = e2[i3], t4.resolve(a3).then(function(e3) {
            n3 || (n3 = true, l2.resolve(s3, e3));
          }, function(e3) {
            n3 || (n3 = true, l2.reject(s3, e3));
          });
        var a3;
        return s3;
      };
    }, { immediate: 36 }], 38: [function(e, t3, r2) {
      "use strict";
      var n2 = {};
      (0, e("./lib/utils/common").assign)(n2, e("./lib/deflate"), e("./lib/inflate"), e("./lib/zlib/constants")), t3.exports = n2;
    }, { "./lib/deflate": 39, "./lib/inflate": 40, "./lib/utils/common": 41, "./lib/zlib/constants": 44 }], 39: [function(e, t3, r2) {
      "use strict";
      var a2 = e("./zlib/deflate"), o2 = e("./utils/common"), h2 = e("./utils/strings"), i2 = e("./zlib/messages"), s2 = e("./zlib/zstream"), u2 = Object.prototype.toString, l2 = 0, f2 = -1, c2 = 0, d2 = 8;
      function p2(e2) {
        if (!(this instanceof p2))
          return new p2(e2);
        this.options = o2.assign({ level: f2, method: d2, chunkSize: 16384, windowBits: 15, memLevel: 8, strategy: c2, to: "" }, e2 || {});
        var t4 = this.options;
        t4.raw && 0 < t4.windowBits ? t4.windowBits = -t4.windowBits : t4.gzip && 0 < t4.windowBits && t4.windowBits < 16 && (t4.windowBits += 16), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new s2(), this.strm.avail_out = 0;
        var r3 = a2.deflateInit2(this.strm, t4.level, t4.method, t4.windowBits, t4.memLevel, t4.strategy);
        if (r3 !== l2)
          throw new Error(i2[r3]);
        if (t4.header && a2.deflateSetHeader(this.strm, t4.header), t4.dictionary) {
          var n3;
          if (n3 = "string" == typeof t4.dictionary ? h2.string2buf(t4.dictionary) : "[object ArrayBuffer]" === u2.call(t4.dictionary) ? new Uint8Array(t4.dictionary) : t4.dictionary, (r3 = a2.deflateSetDictionary(this.strm, n3)) !== l2)
            throw new Error(i2[r3]);
          this._dict_set = true;
        }
      }
      function n2(e2, t4) {
        var r3 = new p2(t4);
        if (r3.push(e2, true), r3.err)
          throw r3.msg || i2[r3.err];
        return r3.result;
      }
      p2.prototype.push = function(e2, t4) {
        var r3, n3, i3 = this.strm, s3 = this.options.chunkSize;
        if (this.ended)
          return false;
        n3 = t4 === ~~t4 ? t4 : true === t4 ? 4 : 0, "string" == typeof e2 ? i3.input = h2.string2buf(e2) : "[object ArrayBuffer]" === u2.call(e2) ? i3.input = new Uint8Array(e2) : i3.input = e2, i3.next_in = 0, i3.avail_in = i3.input.length;
        do {
          if (0 === i3.avail_out && (i3.output = new o2.Buf8(s3), i3.next_out = 0, i3.avail_out = s3), 1 !== (r3 = a2.deflate(i3, n3)) && r3 !== l2)
            return this.onEnd(r3), !(this.ended = true);
          0 !== i3.avail_out && (0 !== i3.avail_in || 4 !== n3 && 2 !== n3) || ("string" === this.options.to ? this.onData(h2.buf2binstring(o2.shrinkBuf(i3.output, i3.next_out))) : this.onData(o2.shrinkBuf(i3.output, i3.next_out)));
        } while ((0 < i3.avail_in || 0 === i3.avail_out) && 1 !== r3);
        return 4 === n3 ? (r3 = a2.deflateEnd(this.strm), this.onEnd(r3), this.ended = true, r3 === l2) : 2 !== n3 || (this.onEnd(l2), !(i3.avail_out = 0));
      }, p2.prototype.onData = function(e2) {
        this.chunks.push(e2);
      }, p2.prototype.onEnd = function(e2) {
        e2 === l2 && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = o2.flattenChunks(this.chunks)), this.chunks = [], this.err = e2, this.msg = this.strm.msg;
      }, r2.Deflate = p2, r2.deflate = n2, r2.deflateRaw = function(e2, t4) {
        return (t4 = t4 || {}).raw = true, n2(e2, t4);
      }, r2.gzip = function(e2, t4) {
        return (t4 = t4 || {}).gzip = true, n2(e2, t4);
      };
    }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/deflate": 46, "./zlib/messages": 51, "./zlib/zstream": 53 }], 40: [function(e, t3, r2) {
      "use strict";
      var c2 = e("./zlib/inflate"), d2 = e("./utils/common"), p2 = e("./utils/strings"), m2 = e("./zlib/constants"), n2 = e("./zlib/messages"), i2 = e("./zlib/zstream"), s2 = e("./zlib/gzheader"), _2 = Object.prototype.toString;
      function a2(e2) {
        if (!(this instanceof a2))
          return new a2(e2);
        this.options = d2.assign({ chunkSize: 16384, windowBits: 0, to: "" }, e2 || {});
        var t4 = this.options;
        t4.raw && 0 <= t4.windowBits && t4.windowBits < 16 && (t4.windowBits = -t4.windowBits, 0 === t4.windowBits && (t4.windowBits = -15)), !(0 <= t4.windowBits && t4.windowBits < 16) || e2 && e2.windowBits || (t4.windowBits += 32), 15 < t4.windowBits && t4.windowBits < 48 && 0 == (15 & t4.windowBits) && (t4.windowBits |= 15), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new i2(), this.strm.avail_out = 0;
        var r3 = c2.inflateInit2(this.strm, t4.windowBits);
        if (r3 !== m2.Z_OK)
          throw new Error(n2[r3]);
        this.header = new s2(), c2.inflateGetHeader(this.strm, this.header);
      }
      function o2(e2, t4) {
        var r3 = new a2(t4);
        if (r3.push(e2, true), r3.err)
          throw r3.msg || n2[r3.err];
        return r3.result;
      }
      a2.prototype.push = function(e2, t4) {
        var r3, n3, i3, s3, a3, o3, h2 = this.strm, u2 = this.options.chunkSize, l2 = this.options.dictionary, f2 = false;
        if (this.ended)
          return false;
        n3 = t4 === ~~t4 ? t4 : true === t4 ? m2.Z_FINISH : m2.Z_NO_FLUSH, "string" == typeof e2 ? h2.input = p2.binstring2buf(e2) : "[object ArrayBuffer]" === _2.call(e2) ? h2.input = new Uint8Array(e2) : h2.input = e2, h2.next_in = 0, h2.avail_in = h2.input.length;
        do {
          if (0 === h2.avail_out && (h2.output = new d2.Buf8(u2), h2.next_out = 0, h2.avail_out = u2), (r3 = c2.inflate(h2, m2.Z_NO_FLUSH)) === m2.Z_NEED_DICT && l2 && (o3 = "string" == typeof l2 ? p2.string2buf(l2) : "[object ArrayBuffer]" === _2.call(l2) ? new Uint8Array(l2) : l2, r3 = c2.inflateSetDictionary(this.strm, o3)), r3 === m2.Z_BUF_ERROR && true === f2 && (r3 = m2.Z_OK, f2 = false), r3 !== m2.Z_STREAM_END && r3 !== m2.Z_OK)
            return this.onEnd(r3), !(this.ended = true);
          h2.next_out && (0 !== h2.avail_out && r3 !== m2.Z_STREAM_END && (0 !== h2.avail_in || n3 !== m2.Z_FINISH && n3 !== m2.Z_SYNC_FLUSH) || ("string" === this.options.to ? (i3 = p2.utf8border(h2.output, h2.next_out), s3 = h2.next_out - i3, a3 = p2.buf2string(h2.output, i3), h2.next_out = s3, h2.avail_out = u2 - s3, s3 && d2.arraySet(h2.output, h2.output, i3, s3, 0), this.onData(a3)) : this.onData(d2.shrinkBuf(h2.output, h2.next_out)))), 0 === h2.avail_in && 0 === h2.avail_out && (f2 = true);
        } while ((0 < h2.avail_in || 0 === h2.avail_out) && r3 !== m2.Z_STREAM_END);
        return r3 === m2.Z_STREAM_END && (n3 = m2.Z_FINISH), n3 === m2.Z_FINISH ? (r3 = c2.inflateEnd(this.strm), this.onEnd(r3), this.ended = true, r3 === m2.Z_OK) : n3 !== m2.Z_SYNC_FLUSH || (this.onEnd(m2.Z_OK), !(h2.avail_out = 0));
      }, a2.prototype.onData = function(e2) {
        this.chunks.push(e2);
      }, a2.prototype.onEnd = function(e2) {
        e2 === m2.Z_OK && ("string" === this.options.to ? this.result = this.chunks.join("") : this.result = d2.flattenChunks(this.chunks)), this.chunks = [], this.err = e2, this.msg = this.strm.msg;
      }, r2.Inflate = a2, r2.inflate = o2, r2.inflateRaw = function(e2, t4) {
        return (t4 = t4 || {}).raw = true, o2(e2, t4);
      }, r2.ungzip = o2;
    }, { "./utils/common": 41, "./utils/strings": 42, "./zlib/constants": 44, "./zlib/gzheader": 47, "./zlib/inflate": 49, "./zlib/messages": 51, "./zlib/zstream": 53 }], 41: [function(e, t3, r2) {
      "use strict";
      var n2 = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
      r2.assign = function(e2) {
        for (var t4 = Array.prototype.slice.call(arguments, 1); t4.length; ) {
          var r3 = t4.shift();
          if (r3) {
            if ("object" != typeof r3)
              throw new TypeError(r3 + "must be non-object");
            for (var n3 in r3)
              r3.hasOwnProperty(n3) && (e2[n3] = r3[n3]);
          }
        }
        return e2;
      }, r2.shrinkBuf = function(e2, t4) {
        return e2.length === t4 ? e2 : e2.subarray ? e2.subarray(0, t4) : (e2.length = t4, e2);
      };
      var i2 = { arraySet: function(e2, t4, r3, n3, i3) {
        if (t4.subarray && e2.subarray)
          e2.set(t4.subarray(r3, r3 + n3), i3);
        else
          for (var s3 = 0; s3 < n3; s3++)
            e2[i3 + s3] = t4[r3 + s3];
      }, flattenChunks: function(e2) {
        var t4, r3, n3, i3, s3, a2;
        for (t4 = n3 = 0, r3 = e2.length; t4 < r3; t4++)
          n3 += e2[t4].length;
        for (a2 = new Uint8Array(n3), t4 = i3 = 0, r3 = e2.length; t4 < r3; t4++)
          s3 = e2[t4], a2.set(s3, i3), i3 += s3.length;
        return a2;
      } }, s2 = { arraySet: function(e2, t4, r3, n3, i3) {
        for (var s3 = 0; s3 < n3; s3++)
          e2[i3 + s3] = t4[r3 + s3];
      }, flattenChunks: function(e2) {
        return [].concat.apply([], e2);
      } };
      r2.setTyped = function(e2) {
        e2 ? (r2.Buf8 = Uint8Array, r2.Buf16 = Uint16Array, r2.Buf32 = Int32Array, r2.assign(r2, i2)) : (r2.Buf8 = Array, r2.Buf16 = Array, r2.Buf32 = Array, r2.assign(r2, s2));
      }, r2.setTyped(n2);
    }, {}], 42: [function(e, t3, r2) {
      "use strict";
      var h2 = e("./common"), i2 = true, s2 = true;
      try {
        String.fromCharCode.apply(null, [0]);
      } catch (e2) {
        i2 = false;
      }
      try {
        String.fromCharCode.apply(null, new Uint8Array(1));
      } catch (e2) {
        s2 = false;
      }
      for (var u2 = new h2.Buf8(256), n2 = 0; n2 < 256; n2++)
        u2[n2] = 252 <= n2 ? 6 : 248 <= n2 ? 5 : 240 <= n2 ? 4 : 224 <= n2 ? 3 : 192 <= n2 ? 2 : 1;
      function l2(e2, t4) {
        if (t4 < 65537 && (e2.subarray && s2 || !e2.subarray && i2))
          return String.fromCharCode.apply(null, h2.shrinkBuf(e2, t4));
        for (var r3 = "", n3 = 0; n3 < t4; n3++)
          r3 += String.fromCharCode(e2[n3]);
        return r3;
      }
      u2[254] = u2[254] = 1, r2.string2buf = function(e2) {
        var t4, r3, n3, i3, s3, a2 = e2.length, o2 = 0;
        for (i3 = 0; i3 < a2; i3++)
          55296 == (64512 & (r3 = e2.charCodeAt(i3))) && i3 + 1 < a2 && 56320 == (64512 & (n3 = e2.charCodeAt(i3 + 1))) && (r3 = 65536 + (r3 - 55296 << 10) + (n3 - 56320), i3++), o2 += r3 < 128 ? 1 : r3 < 2048 ? 2 : r3 < 65536 ? 3 : 4;
        for (t4 = new h2.Buf8(o2), i3 = s3 = 0; s3 < o2; i3++)
          55296 == (64512 & (r3 = e2.charCodeAt(i3))) && i3 + 1 < a2 && 56320 == (64512 & (n3 = e2.charCodeAt(i3 + 1))) && (r3 = 65536 + (r3 - 55296 << 10) + (n3 - 56320), i3++), r3 < 128 ? t4[s3++] = r3 : (r3 < 2048 ? t4[s3++] = 192 | r3 >>> 6 : (r3 < 65536 ? t4[s3++] = 224 | r3 >>> 12 : (t4[s3++] = 240 | r3 >>> 18, t4[s3++] = 128 | r3 >>> 12 & 63), t4[s3++] = 128 | r3 >>> 6 & 63), t4[s3++] = 128 | 63 & r3);
        return t4;
      }, r2.buf2binstring = function(e2) {
        return l2(e2, e2.length);
      }, r2.binstring2buf = function(e2) {
        for (var t4 = new h2.Buf8(e2.length), r3 = 0, n3 = t4.length; r3 < n3; r3++)
          t4[r3] = e2.charCodeAt(r3);
        return t4;
      }, r2.buf2string = function(e2, t4) {
        var r3, n3, i3, s3, a2 = t4 || e2.length, o2 = new Array(2 * a2);
        for (r3 = n3 = 0; r3 < a2; )
          if ((i3 = e2[r3++]) < 128)
            o2[n3++] = i3;
          else if (4 < (s3 = u2[i3]))
            o2[n3++] = 65533, r3 += s3 - 1;
          else {
            for (i3 &= 2 === s3 ? 31 : 3 === s3 ? 15 : 7; 1 < s3 && r3 < a2; )
              i3 = i3 << 6 | 63 & e2[r3++], s3--;
            1 < s3 ? o2[n3++] = 65533 : i3 < 65536 ? o2[n3++] = i3 : (i3 -= 65536, o2[n3++] = 55296 | i3 >> 10 & 1023, o2[n3++] = 56320 | 1023 & i3);
          }
        return l2(o2, n3);
      }, r2.utf8border = function(e2, t4) {
        var r3;
        for ((t4 = t4 || e2.length) > e2.length && (t4 = e2.length), r3 = t4 - 1; 0 <= r3 && 128 == (192 & e2[r3]); )
          r3--;
        return r3 < 0 ? t4 : 0 === r3 ? t4 : r3 + u2[e2[r3]] > t4 ? r3 : t4;
      };
    }, { "./common": 41 }], 43: [function(e, t3, r2) {
      "use strict";
      t3.exports = function(e2, t4, r3, n2) {
        for (var i2 = 65535 & e2 | 0, s2 = e2 >>> 16 & 65535 | 0, a2 = 0; 0 !== r3; ) {
          for (r3 -= a2 = 2e3 < r3 ? 2e3 : r3; s2 = s2 + (i2 = i2 + t4[n2++] | 0) | 0, --a2; )
            ;
          i2 %= 65521, s2 %= 65521;
        }
        return i2 | s2 << 16 | 0;
      };
    }, {}], 44: [function(e, t3, r2) {
      "use strict";
      t3.exports = { Z_NO_FLUSH: 0, Z_PARTIAL_FLUSH: 1, Z_SYNC_FLUSH: 2, Z_FULL_FLUSH: 3, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_ERRNO: -1, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_BUF_ERROR: -5, Z_NO_COMPRESSION: 0, Z_BEST_SPEED: 1, Z_BEST_COMPRESSION: 9, Z_DEFAULT_COMPRESSION: -1, Z_FILTERED: 1, Z_HUFFMAN_ONLY: 2, Z_RLE: 3, Z_FIXED: 4, Z_DEFAULT_STRATEGY: 0, Z_BINARY: 0, Z_TEXT: 1, Z_UNKNOWN: 2, Z_DEFLATED: 8 };
    }, {}], 45: [function(e, t3, r2) {
      "use strict";
      var o2 = function() {
        for (var e2, t4 = [], r3 = 0; r3 < 256; r3++) {
          e2 = r3;
          for (var n2 = 0; n2 < 8; n2++)
            e2 = 1 & e2 ? 3988292384 ^ e2 >>> 1 : e2 >>> 1;
          t4[r3] = e2;
        }
        return t4;
      }();
      t3.exports = function(e2, t4, r3, n2) {
        var i2 = o2, s2 = n2 + r3;
        e2 ^= -1;
        for (var a2 = n2; a2 < s2; a2++)
          e2 = e2 >>> 8 ^ i2[255 & (e2 ^ t4[a2])];
        return -1 ^ e2;
      };
    }, {}], 46: [function(e, t3, r2) {
      "use strict";
      var h2, c2 = e("../utils/common"), u2 = e("./trees"), d2 = e("./adler32"), p2 = e("./crc32"), n2 = e("./messages"), l2 = 0, f2 = 4, m2 = 0, _2 = -2, g2 = -1, b3 = 4, i2 = 2, v2 = 8, y2 = 9, s2 = 286, a2 = 30, o2 = 19, w2 = 2 * s2 + 1, k3 = 15, x2 = 3, S2 = 258, z2 = S2 + x2 + 1, C2 = 42, E2 = 113, A2 = 1, I2 = 2, O2 = 3, B2 = 4;
      function R2(e2, t4) {
        return e2.msg = n2[t4], t4;
      }
      function T2(e2) {
        return (e2 << 1) - (4 < e2 ? 9 : 0);
      }
      function D2(e2) {
        for (var t4 = e2.length; 0 <= --t4; )
          e2[t4] = 0;
      }
      function F2(e2) {
        var t4 = e2.state, r3 = t4.pending;
        r3 > e2.avail_out && (r3 = e2.avail_out), 0 !== r3 && (c2.arraySet(e2.output, t4.pending_buf, t4.pending_out, r3, e2.next_out), e2.next_out += r3, t4.pending_out += r3, e2.total_out += r3, e2.avail_out -= r3, t4.pending -= r3, 0 === t4.pending && (t4.pending_out = 0));
      }
      function N2(e2, t4) {
        u2._tr_flush_block(e2, 0 <= e2.block_start ? e2.block_start : -1, e2.strstart - e2.block_start, t4), e2.block_start = e2.strstart, F2(e2.strm);
      }
      function U2(e2, t4) {
        e2.pending_buf[e2.pending++] = t4;
      }
      function P2(e2, t4) {
        e2.pending_buf[e2.pending++] = t4 >>> 8 & 255, e2.pending_buf[e2.pending++] = 255 & t4;
      }
      function L2(e2, t4) {
        var r3, n3, i3 = e2.max_chain_length, s3 = e2.strstart, a3 = e2.prev_length, o3 = e2.nice_match, h3 = e2.strstart > e2.w_size - z2 ? e2.strstart - (e2.w_size - z2) : 0, u3 = e2.window, l3 = e2.w_mask, f3 = e2.prev, c3 = e2.strstart + S2, d3 = u3[s3 + a3 - 1], p3 = u3[s3 + a3];
        e2.prev_length >= e2.good_match && (i3 >>= 2), o3 > e2.lookahead && (o3 = e2.lookahead);
        do {
          if (u3[(r3 = t4) + a3] === p3 && u3[r3 + a3 - 1] === d3 && u3[r3] === u3[s3] && u3[++r3] === u3[s3 + 1]) {
            s3 += 2, r3++;
            do {
            } while (u3[++s3] === u3[++r3] && u3[++s3] === u3[++r3] && u3[++s3] === u3[++r3] && u3[++s3] === u3[++r3] && u3[++s3] === u3[++r3] && u3[++s3] === u3[++r3] && u3[++s3] === u3[++r3] && u3[++s3] === u3[++r3] && s3 < c3);
            if (n3 = S2 - (c3 - s3), s3 = c3 - S2, a3 < n3) {
              if (e2.match_start = t4, o3 <= (a3 = n3))
                break;
              d3 = u3[s3 + a3 - 1], p3 = u3[s3 + a3];
            }
          }
        } while ((t4 = f3[t4 & l3]) > h3 && 0 != --i3);
        return a3 <= e2.lookahead ? a3 : e2.lookahead;
      }
      function j2(e2) {
        var t4, r3, n3, i3, s3, a3, o3, h3, u3, l3, f3 = e2.w_size;
        do {
          if (i3 = e2.window_size - e2.lookahead - e2.strstart, e2.strstart >= f3 + (f3 - z2)) {
            for (c2.arraySet(e2.window, e2.window, f3, f3, 0), e2.match_start -= f3, e2.strstart -= f3, e2.block_start -= f3, t4 = r3 = e2.hash_size; n3 = e2.head[--t4], e2.head[t4] = f3 <= n3 ? n3 - f3 : 0, --r3; )
              ;
            for (t4 = r3 = f3; n3 = e2.prev[--t4], e2.prev[t4] = f3 <= n3 ? n3 - f3 : 0, --r3; )
              ;
            i3 += f3;
          }
          if (0 === e2.strm.avail_in)
            break;
          if (a3 = e2.strm, o3 = e2.window, h3 = e2.strstart + e2.lookahead, u3 = i3, l3 = void 0, l3 = a3.avail_in, u3 < l3 && (l3 = u3), r3 = 0 === l3 ? 0 : (a3.avail_in -= l3, c2.arraySet(o3, a3.input, a3.next_in, l3, h3), 1 === a3.state.wrap ? a3.adler = d2(a3.adler, o3, l3, h3) : 2 === a3.state.wrap && (a3.adler = p2(a3.adler, o3, l3, h3)), a3.next_in += l3, a3.total_in += l3, l3), e2.lookahead += r3, e2.lookahead + e2.insert >= x2)
            for (s3 = e2.strstart - e2.insert, e2.ins_h = e2.window[s3], e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[s3 + 1]) & e2.hash_mask; e2.insert && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[s3 + x2 - 1]) & e2.hash_mask, e2.prev[s3 & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = s3, s3++, e2.insert--, !(e2.lookahead + e2.insert < x2)); )
              ;
        } while (e2.lookahead < z2 && 0 !== e2.strm.avail_in);
      }
      function Z2(e2, t4) {
        for (var r3, n3; ; ) {
          if (e2.lookahead < z2) {
            if (j2(e2), e2.lookahead < z2 && t4 === l2)
              return A2;
            if (0 === e2.lookahead)
              break;
          }
          if (r3 = 0, e2.lookahead >= x2 && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x2 - 1]) & e2.hash_mask, r3 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), 0 !== r3 && e2.strstart - r3 <= e2.w_size - z2 && (e2.match_length = L2(e2, r3)), e2.match_length >= x2)
            if (n3 = u2._tr_tally(e2, e2.strstart - e2.match_start, e2.match_length - x2), e2.lookahead -= e2.match_length, e2.match_length <= e2.max_lazy_match && e2.lookahead >= x2) {
              for (e2.match_length--; e2.strstart++, e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x2 - 1]) & e2.hash_mask, r3 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart, 0 != --e2.match_length; )
                ;
              e2.strstart++;
            } else
              e2.strstart += e2.match_length, e2.match_length = 0, e2.ins_h = e2.window[e2.strstart], e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + 1]) & e2.hash_mask;
          else
            n3 = u2._tr_tally(e2, 0, e2.window[e2.strstart]), e2.lookahead--, e2.strstart++;
          if (n3 && (N2(e2, false), 0 === e2.strm.avail_out))
            return A2;
        }
        return e2.insert = e2.strstart < x2 - 1 ? e2.strstart : x2 - 1, t4 === f2 ? (N2(e2, true), 0 === e2.strm.avail_out ? O2 : B2) : e2.last_lit && (N2(e2, false), 0 === e2.strm.avail_out) ? A2 : I2;
      }
      function W2(e2, t4) {
        for (var r3, n3, i3; ; ) {
          if (e2.lookahead < z2) {
            if (j2(e2), e2.lookahead < z2 && t4 === l2)
              return A2;
            if (0 === e2.lookahead)
              break;
          }
          if (r3 = 0, e2.lookahead >= x2 && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x2 - 1]) & e2.hash_mask, r3 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), e2.prev_length = e2.match_length, e2.prev_match = e2.match_start, e2.match_length = x2 - 1, 0 !== r3 && e2.prev_length < e2.max_lazy_match && e2.strstart - r3 <= e2.w_size - z2 && (e2.match_length = L2(e2, r3), e2.match_length <= 5 && (1 === e2.strategy || e2.match_length === x2 && 4096 < e2.strstart - e2.match_start) && (e2.match_length = x2 - 1)), e2.prev_length >= x2 && e2.match_length <= e2.prev_length) {
            for (i3 = e2.strstart + e2.lookahead - x2, n3 = u2._tr_tally(e2, e2.strstart - 1 - e2.prev_match, e2.prev_length - x2), e2.lookahead -= e2.prev_length - 1, e2.prev_length -= 2; ++e2.strstart <= i3 && (e2.ins_h = (e2.ins_h << e2.hash_shift ^ e2.window[e2.strstart + x2 - 1]) & e2.hash_mask, r3 = e2.prev[e2.strstart & e2.w_mask] = e2.head[e2.ins_h], e2.head[e2.ins_h] = e2.strstart), 0 != --e2.prev_length; )
              ;
            if (e2.match_available = 0, e2.match_length = x2 - 1, e2.strstart++, n3 && (N2(e2, false), 0 === e2.strm.avail_out))
              return A2;
          } else if (e2.match_available) {
            if ((n3 = u2._tr_tally(e2, 0, e2.window[e2.strstart - 1])) && N2(e2, false), e2.strstart++, e2.lookahead--, 0 === e2.strm.avail_out)
              return A2;
          } else
            e2.match_available = 1, e2.strstart++, e2.lookahead--;
        }
        return e2.match_available && (n3 = u2._tr_tally(e2, 0, e2.window[e2.strstart - 1]), e2.match_available = 0), e2.insert = e2.strstart < x2 - 1 ? e2.strstart : x2 - 1, t4 === f2 ? (N2(e2, true), 0 === e2.strm.avail_out ? O2 : B2) : e2.last_lit && (N2(e2, false), 0 === e2.strm.avail_out) ? A2 : I2;
      }
      function M2(e2, t4, r3, n3, i3) {
        this.good_length = e2, this.max_lazy = t4, this.nice_length = r3, this.max_chain = n3, this.func = i3;
      }
      function H2() {
        this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = v2, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new c2.Buf16(2 * w2), this.dyn_dtree = new c2.Buf16(2 * (2 * a2 + 1)), this.bl_tree = new c2.Buf16(2 * (2 * o2 + 1)), D2(this.dyn_ltree), D2(this.dyn_dtree), D2(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new c2.Buf16(k3 + 1), this.heap = new c2.Buf16(2 * s2 + 1), D2(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new c2.Buf16(2 * s2 + 1), D2(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
      }
      function G2(e2) {
        var t4;
        return e2 && e2.state ? (e2.total_in = e2.total_out = 0, e2.data_type = i2, (t4 = e2.state).pending = 0, t4.pending_out = 0, t4.wrap < 0 && (t4.wrap = -t4.wrap), t4.status = t4.wrap ? C2 : E2, e2.adler = 2 === t4.wrap ? 0 : 1, t4.last_flush = l2, u2._tr_init(t4), m2) : R2(e2, _2);
      }
      function K2(e2) {
        var t4 = G2(e2);
        return t4 === m2 && function(e3) {
          e3.window_size = 2 * e3.w_size, D2(e3.head), e3.max_lazy_match = h2[e3.level].max_lazy, e3.good_match = h2[e3.level].good_length, e3.nice_match = h2[e3.level].nice_length, e3.max_chain_length = h2[e3.level].max_chain, e3.strstart = 0, e3.block_start = 0, e3.lookahead = 0, e3.insert = 0, e3.match_length = e3.prev_length = x2 - 1, e3.match_available = 0, e3.ins_h = 0;
        }(e2.state), t4;
      }
      function Y2(e2, t4, r3, n3, i3, s3) {
        if (!e2)
          return _2;
        var a3 = 1;
        if (t4 === g2 && (t4 = 6), n3 < 0 ? (a3 = 0, n3 = -n3) : 15 < n3 && (a3 = 2, n3 -= 16), i3 < 1 || y2 < i3 || r3 !== v2 || n3 < 8 || 15 < n3 || t4 < 0 || 9 < t4 || s3 < 0 || b3 < s3)
          return R2(e2, _2);
        8 === n3 && (n3 = 9);
        var o3 = new H2();
        return (e2.state = o3).strm = e2, o3.wrap = a3, o3.gzhead = null, o3.w_bits = n3, o3.w_size = 1 << o3.w_bits, o3.w_mask = o3.w_size - 1, o3.hash_bits = i3 + 7, o3.hash_size = 1 << o3.hash_bits, o3.hash_mask = o3.hash_size - 1, o3.hash_shift = ~~((o3.hash_bits + x2 - 1) / x2), o3.window = new c2.Buf8(2 * o3.w_size), o3.head = new c2.Buf16(o3.hash_size), o3.prev = new c2.Buf16(o3.w_size), o3.lit_bufsize = 1 << i3 + 6, o3.pending_buf_size = 4 * o3.lit_bufsize, o3.pending_buf = new c2.Buf8(o3.pending_buf_size), o3.d_buf = 1 * o3.lit_bufsize, o3.l_buf = 3 * o3.lit_bufsize, o3.level = t4, o3.strategy = s3, o3.method = r3, K2(e2);
      }
      h2 = [new M2(0, 0, 0, 0, function(e2, t4) {
        var r3 = 65535;
        for (r3 > e2.pending_buf_size - 5 && (r3 = e2.pending_buf_size - 5); ; ) {
          if (e2.lookahead <= 1) {
            if (j2(e2), 0 === e2.lookahead && t4 === l2)
              return A2;
            if (0 === e2.lookahead)
              break;
          }
          e2.strstart += e2.lookahead, e2.lookahead = 0;
          var n3 = e2.block_start + r3;
          if ((0 === e2.strstart || e2.strstart >= n3) && (e2.lookahead = e2.strstart - n3, e2.strstart = n3, N2(e2, false), 0 === e2.strm.avail_out))
            return A2;
          if (e2.strstart - e2.block_start >= e2.w_size - z2 && (N2(e2, false), 0 === e2.strm.avail_out))
            return A2;
        }
        return e2.insert = 0, t4 === f2 ? (N2(e2, true), 0 === e2.strm.avail_out ? O2 : B2) : (e2.strstart > e2.block_start && (N2(e2, false), e2.strm.avail_out), A2);
      }), new M2(4, 4, 8, 4, Z2), new M2(4, 5, 16, 8, Z2), new M2(4, 6, 32, 32, Z2), new M2(4, 4, 16, 16, W2), new M2(8, 16, 32, 32, W2), new M2(8, 16, 128, 128, W2), new M2(8, 32, 128, 256, W2), new M2(32, 128, 258, 1024, W2), new M2(32, 258, 258, 4096, W2)], r2.deflateInit = function(e2, t4) {
        return Y2(e2, t4, v2, 15, 8, 0);
      }, r2.deflateInit2 = Y2, r2.deflateReset = K2, r2.deflateResetKeep = G2, r2.deflateSetHeader = function(e2, t4) {
        return e2 && e2.state ? 2 !== e2.state.wrap ? _2 : (e2.state.gzhead = t4, m2) : _2;
      }, r2.deflate = function(e2, t4) {
        var r3, n3, i3, s3;
        if (!e2 || !e2.state || 5 < t4 || t4 < 0)
          return e2 ? R2(e2, _2) : _2;
        if (n3 = e2.state, !e2.output || !e2.input && 0 !== e2.avail_in || 666 === n3.status && t4 !== f2)
          return R2(e2, 0 === e2.avail_out ? -5 : _2);
        if (n3.strm = e2, r3 = n3.last_flush, n3.last_flush = t4, n3.status === C2)
          if (2 === n3.wrap)
            e2.adler = 0, U2(n3, 31), U2(n3, 139), U2(n3, 8), n3.gzhead ? (U2(n3, (n3.gzhead.text ? 1 : 0) + (n3.gzhead.hcrc ? 2 : 0) + (n3.gzhead.extra ? 4 : 0) + (n3.gzhead.name ? 8 : 0) + (n3.gzhead.comment ? 16 : 0)), U2(n3, 255 & n3.gzhead.time), U2(n3, n3.gzhead.time >> 8 & 255), U2(n3, n3.gzhead.time >> 16 & 255), U2(n3, n3.gzhead.time >> 24 & 255), U2(n3, 9 === n3.level ? 2 : 2 <= n3.strategy || n3.level < 2 ? 4 : 0), U2(n3, 255 & n3.gzhead.os), n3.gzhead.extra && n3.gzhead.extra.length && (U2(n3, 255 & n3.gzhead.extra.length), U2(n3, n3.gzhead.extra.length >> 8 & 255)), n3.gzhead.hcrc && (e2.adler = p2(e2.adler, n3.pending_buf, n3.pending, 0)), n3.gzindex = 0, n3.status = 69) : (U2(n3, 0), U2(n3, 0), U2(n3, 0), U2(n3, 0), U2(n3, 0), U2(n3, 9 === n3.level ? 2 : 2 <= n3.strategy || n3.level < 2 ? 4 : 0), U2(n3, 3), n3.status = E2);
          else {
            var a3 = v2 + (n3.w_bits - 8 << 4) << 8;
            a3 |= (2 <= n3.strategy || n3.level < 2 ? 0 : n3.level < 6 ? 1 : 6 === n3.level ? 2 : 3) << 6, 0 !== n3.strstart && (a3 |= 32), a3 += 31 - a3 % 31, n3.status = E2, P2(n3, a3), 0 !== n3.strstart && (P2(n3, e2.adler >>> 16), P2(n3, 65535 & e2.adler)), e2.adler = 1;
          }
        if (69 === n3.status)
          if (n3.gzhead.extra) {
            for (i3 = n3.pending; n3.gzindex < (65535 & n3.gzhead.extra.length) && (n3.pending !== n3.pending_buf_size || (n3.gzhead.hcrc && n3.pending > i3 && (e2.adler = p2(e2.adler, n3.pending_buf, n3.pending - i3, i3)), F2(e2), i3 = n3.pending, n3.pending !== n3.pending_buf_size)); )
              U2(n3, 255 & n3.gzhead.extra[n3.gzindex]), n3.gzindex++;
            n3.gzhead.hcrc && n3.pending > i3 && (e2.adler = p2(e2.adler, n3.pending_buf, n3.pending - i3, i3)), n3.gzindex === n3.gzhead.extra.length && (n3.gzindex = 0, n3.status = 73);
          } else
            n3.status = 73;
        if (73 === n3.status)
          if (n3.gzhead.name) {
            i3 = n3.pending;
            do {
              if (n3.pending === n3.pending_buf_size && (n3.gzhead.hcrc && n3.pending > i3 && (e2.adler = p2(e2.adler, n3.pending_buf, n3.pending - i3, i3)), F2(e2), i3 = n3.pending, n3.pending === n3.pending_buf_size)) {
                s3 = 1;
                break;
              }
              s3 = n3.gzindex < n3.gzhead.name.length ? 255 & n3.gzhead.name.charCodeAt(n3.gzindex++) : 0, U2(n3, s3);
            } while (0 !== s3);
            n3.gzhead.hcrc && n3.pending > i3 && (e2.adler = p2(e2.adler, n3.pending_buf, n3.pending - i3, i3)), 0 === s3 && (n3.gzindex = 0, n3.status = 91);
          } else
            n3.status = 91;
        if (91 === n3.status)
          if (n3.gzhead.comment) {
            i3 = n3.pending;
            do {
              if (n3.pending === n3.pending_buf_size && (n3.gzhead.hcrc && n3.pending > i3 && (e2.adler = p2(e2.adler, n3.pending_buf, n3.pending - i3, i3)), F2(e2), i3 = n3.pending, n3.pending === n3.pending_buf_size)) {
                s3 = 1;
                break;
              }
              s3 = n3.gzindex < n3.gzhead.comment.length ? 255 & n3.gzhead.comment.charCodeAt(n3.gzindex++) : 0, U2(n3, s3);
            } while (0 !== s3);
            n3.gzhead.hcrc && n3.pending > i3 && (e2.adler = p2(e2.adler, n3.pending_buf, n3.pending - i3, i3)), 0 === s3 && (n3.status = 103);
          } else
            n3.status = 103;
        if (103 === n3.status && (n3.gzhead.hcrc ? (n3.pending + 2 > n3.pending_buf_size && F2(e2), n3.pending + 2 <= n3.pending_buf_size && (U2(n3, 255 & e2.adler), U2(n3, e2.adler >> 8 & 255), e2.adler = 0, n3.status = E2)) : n3.status = E2), 0 !== n3.pending) {
          if (F2(e2), 0 === e2.avail_out)
            return n3.last_flush = -1, m2;
        } else if (0 === e2.avail_in && T2(t4) <= T2(r3) && t4 !== f2)
          return R2(e2, -5);
        if (666 === n3.status && 0 !== e2.avail_in)
          return R2(e2, -5);
        if (0 !== e2.avail_in || 0 !== n3.lookahead || t4 !== l2 && 666 !== n3.status) {
          var o3 = 2 === n3.strategy ? function(e3, t5) {
            for (var r4; ; ) {
              if (0 === e3.lookahead && (j2(e3), 0 === e3.lookahead)) {
                if (t5 === l2)
                  return A2;
                break;
              }
              if (e3.match_length = 0, r4 = u2._tr_tally(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++, r4 && (N2(e3, false), 0 === e3.strm.avail_out))
                return A2;
            }
            return e3.insert = 0, t5 === f2 ? (N2(e3, true), 0 === e3.strm.avail_out ? O2 : B2) : e3.last_lit && (N2(e3, false), 0 === e3.strm.avail_out) ? A2 : I2;
          }(n3, t4) : 3 === n3.strategy ? function(e3, t5) {
            for (var r4, n4, i4, s4, a4 = e3.window; ; ) {
              if (e3.lookahead <= S2) {
                if (j2(e3), e3.lookahead <= S2 && t5 === l2)
                  return A2;
                if (0 === e3.lookahead)
                  break;
              }
              if (e3.match_length = 0, e3.lookahead >= x2 && 0 < e3.strstart && (n4 = a4[i4 = e3.strstart - 1]) === a4[++i4] && n4 === a4[++i4] && n4 === a4[++i4]) {
                s4 = e3.strstart + S2;
                do {
                } while (n4 === a4[++i4] && n4 === a4[++i4] && n4 === a4[++i4] && n4 === a4[++i4] && n4 === a4[++i4] && n4 === a4[++i4] && n4 === a4[++i4] && n4 === a4[++i4] && i4 < s4);
                e3.match_length = S2 - (s4 - i4), e3.match_length > e3.lookahead && (e3.match_length = e3.lookahead);
              }
              if (e3.match_length >= x2 ? (r4 = u2._tr_tally(e3, 1, e3.match_length - x2), e3.lookahead -= e3.match_length, e3.strstart += e3.match_length, e3.match_length = 0) : (r4 = u2._tr_tally(e3, 0, e3.window[e3.strstart]), e3.lookahead--, e3.strstart++), r4 && (N2(e3, false), 0 === e3.strm.avail_out))
                return A2;
            }
            return e3.insert = 0, t5 === f2 ? (N2(e3, true), 0 === e3.strm.avail_out ? O2 : B2) : e3.last_lit && (N2(e3, false), 0 === e3.strm.avail_out) ? A2 : I2;
          }(n3, t4) : h2[n3.level].func(n3, t4);
          if (o3 !== O2 && o3 !== B2 || (n3.status = 666), o3 === A2 || o3 === O2)
            return 0 === e2.avail_out && (n3.last_flush = -1), m2;
          if (o3 === I2 && (1 === t4 ? u2._tr_align(n3) : 5 !== t4 && (u2._tr_stored_block(n3, 0, 0, false), 3 === t4 && (D2(n3.head), 0 === n3.lookahead && (n3.strstart = 0, n3.block_start = 0, n3.insert = 0))), F2(e2), 0 === e2.avail_out))
            return n3.last_flush = -1, m2;
        }
        return t4 !== f2 ? m2 : n3.wrap <= 0 ? 1 : (2 === n3.wrap ? (U2(n3, 255 & e2.adler), U2(n3, e2.adler >> 8 & 255), U2(n3, e2.adler >> 16 & 255), U2(n3, e2.adler >> 24 & 255), U2(n3, 255 & e2.total_in), U2(n3, e2.total_in >> 8 & 255), U2(n3, e2.total_in >> 16 & 255), U2(n3, e2.total_in >> 24 & 255)) : (P2(n3, e2.adler >>> 16), P2(n3, 65535 & e2.adler)), F2(e2), 0 < n3.wrap && (n3.wrap = -n3.wrap), 0 !== n3.pending ? m2 : 1);
      }, r2.deflateEnd = function(e2) {
        var t4;
        return e2 && e2.state ? (t4 = e2.state.status) !== C2 && 69 !== t4 && 73 !== t4 && 91 !== t4 && 103 !== t4 && t4 !== E2 && 666 !== t4 ? R2(e2, _2) : (e2.state = null, t4 === E2 ? R2(e2, -3) : m2) : _2;
      }, r2.deflateSetDictionary = function(e2, t4) {
        var r3, n3, i3, s3, a3, o3, h3, u3, l3 = t4.length;
        if (!e2 || !e2.state)
          return _2;
        if (2 === (s3 = (r3 = e2.state).wrap) || 1 === s3 && r3.status !== C2 || r3.lookahead)
          return _2;
        for (1 === s3 && (e2.adler = d2(e2.adler, t4, l3, 0)), r3.wrap = 0, l3 >= r3.w_size && (0 === s3 && (D2(r3.head), r3.strstart = 0, r3.block_start = 0, r3.insert = 0), u3 = new c2.Buf8(r3.w_size), c2.arraySet(u3, t4, l3 - r3.w_size, r3.w_size, 0), t4 = u3, l3 = r3.w_size), a3 = e2.avail_in, o3 = e2.next_in, h3 = e2.input, e2.avail_in = l3, e2.next_in = 0, e2.input = t4, j2(r3); r3.lookahead >= x2; ) {
          for (n3 = r3.strstart, i3 = r3.lookahead - (x2 - 1); r3.ins_h = (r3.ins_h << r3.hash_shift ^ r3.window[n3 + x2 - 1]) & r3.hash_mask, r3.prev[n3 & r3.w_mask] = r3.head[r3.ins_h], r3.head[r3.ins_h] = n3, n3++, --i3; )
            ;
          r3.strstart = n3, r3.lookahead = x2 - 1, j2(r3);
        }
        return r3.strstart += r3.lookahead, r3.block_start = r3.strstart, r3.insert = r3.lookahead, r3.lookahead = 0, r3.match_length = r3.prev_length = x2 - 1, r3.match_available = 0, e2.next_in = o3, e2.input = h3, e2.avail_in = a3, r3.wrap = s3, m2;
      }, r2.deflateInfo = "pako deflate (from Nodeca project)";
    }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./messages": 51, "./trees": 52 }], 47: [function(e, t3, r2) {
      "use strict";
      t3.exports = function() {
        this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = false;
      };
    }, {}], 48: [function(e, t3, r2) {
      "use strict";
      t3.exports = function(e2, t4) {
        var r3, n2, i2, s2, a2, o2, h2, u2, l2, f2, c2, d2, p2, m2, _2, g2, b3, v2, y2, w2, k3, x2, S2, z2, C2;
        r3 = e2.state, n2 = e2.next_in, z2 = e2.input, i2 = n2 + (e2.avail_in - 5), s2 = e2.next_out, C2 = e2.output, a2 = s2 - (t4 - e2.avail_out), o2 = s2 + (e2.avail_out - 257), h2 = r3.dmax, u2 = r3.wsize, l2 = r3.whave, f2 = r3.wnext, c2 = r3.window, d2 = r3.hold, p2 = r3.bits, m2 = r3.lencode, _2 = r3.distcode, g2 = (1 << r3.lenbits) - 1, b3 = (1 << r3.distbits) - 1;
        e:
          do {
            p2 < 15 && (d2 += z2[n2++] << p2, p2 += 8, d2 += z2[n2++] << p2, p2 += 8), v2 = m2[d2 & g2];
            t:
              for (; ; ) {
                if (d2 >>>= y2 = v2 >>> 24, p2 -= y2, 0 === (y2 = v2 >>> 16 & 255))
                  C2[s2++] = 65535 & v2;
                else {
                  if (!(16 & y2)) {
                    if (0 == (64 & y2)) {
                      v2 = m2[(65535 & v2) + (d2 & (1 << y2) - 1)];
                      continue t;
                    }
                    if (32 & y2) {
                      r3.mode = 12;
                      break e;
                    }
                    e2.msg = "invalid literal/length code", r3.mode = 30;
                    break e;
                  }
                  w2 = 65535 & v2, (y2 &= 15) && (p2 < y2 && (d2 += z2[n2++] << p2, p2 += 8), w2 += d2 & (1 << y2) - 1, d2 >>>= y2, p2 -= y2), p2 < 15 && (d2 += z2[n2++] << p2, p2 += 8, d2 += z2[n2++] << p2, p2 += 8), v2 = _2[d2 & b3];
                  r:
                    for (; ; ) {
                      if (d2 >>>= y2 = v2 >>> 24, p2 -= y2, !(16 & (y2 = v2 >>> 16 & 255))) {
                        if (0 == (64 & y2)) {
                          v2 = _2[(65535 & v2) + (d2 & (1 << y2) - 1)];
                          continue r;
                        }
                        e2.msg = "invalid distance code", r3.mode = 30;
                        break e;
                      }
                      if (k3 = 65535 & v2, p2 < (y2 &= 15) && (d2 += z2[n2++] << p2, (p2 += 8) < y2 && (d2 += z2[n2++] << p2, p2 += 8)), h2 < (k3 += d2 & (1 << y2) - 1)) {
                        e2.msg = "invalid distance too far back", r3.mode = 30;
                        break e;
                      }
                      if (d2 >>>= y2, p2 -= y2, (y2 = s2 - a2) < k3) {
                        if (l2 < (y2 = k3 - y2) && r3.sane) {
                          e2.msg = "invalid distance too far back", r3.mode = 30;
                          break e;
                        }
                        if (S2 = c2, (x2 = 0) === f2) {
                          if (x2 += u2 - y2, y2 < w2) {
                            for (w2 -= y2; C2[s2++] = c2[x2++], --y2; )
                              ;
                            x2 = s2 - k3, S2 = C2;
                          }
                        } else if (f2 < y2) {
                          if (x2 += u2 + f2 - y2, (y2 -= f2) < w2) {
                            for (w2 -= y2; C2[s2++] = c2[x2++], --y2; )
                              ;
                            if (x2 = 0, f2 < w2) {
                              for (w2 -= y2 = f2; C2[s2++] = c2[x2++], --y2; )
                                ;
                              x2 = s2 - k3, S2 = C2;
                            }
                          }
                        } else if (x2 += f2 - y2, y2 < w2) {
                          for (w2 -= y2; C2[s2++] = c2[x2++], --y2; )
                            ;
                          x2 = s2 - k3, S2 = C2;
                        }
                        for (; 2 < w2; )
                          C2[s2++] = S2[x2++], C2[s2++] = S2[x2++], C2[s2++] = S2[x2++], w2 -= 3;
                        w2 && (C2[s2++] = S2[x2++], 1 < w2 && (C2[s2++] = S2[x2++]));
                      } else {
                        for (x2 = s2 - k3; C2[s2++] = C2[x2++], C2[s2++] = C2[x2++], C2[s2++] = C2[x2++], 2 < (w2 -= 3); )
                          ;
                        w2 && (C2[s2++] = C2[x2++], 1 < w2 && (C2[s2++] = C2[x2++]));
                      }
                      break;
                    }
                }
                break;
              }
          } while (n2 < i2 && s2 < o2);
        n2 -= w2 = p2 >> 3, d2 &= (1 << (p2 -= w2 << 3)) - 1, e2.next_in = n2, e2.next_out = s2, e2.avail_in = n2 < i2 ? i2 - n2 + 5 : 5 - (n2 - i2), e2.avail_out = s2 < o2 ? o2 - s2 + 257 : 257 - (s2 - o2), r3.hold = d2, r3.bits = p2;
      };
    }, {}], 49: [function(e, t3, r2) {
      "use strict";
      var I2 = e("../utils/common"), O2 = e("./adler32"), B2 = e("./crc32"), R2 = e("./inffast"), T2 = e("./inftrees"), D2 = 1, F2 = 2, N2 = 0, U2 = -2, P2 = 1, n2 = 852, i2 = 592;
      function L2(e2) {
        return (e2 >>> 24 & 255) + (e2 >>> 8 & 65280) + ((65280 & e2) << 8) + ((255 & e2) << 24);
      }
      function s2() {
        this.mode = 0, this.last = false, this.wrap = 0, this.havedict = false, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new I2.Buf16(320), this.work = new I2.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
      }
      function a2(e2) {
        var t4;
        return e2 && e2.state ? (t4 = e2.state, e2.total_in = e2.total_out = t4.total = 0, e2.msg = "", t4.wrap && (e2.adler = 1 & t4.wrap), t4.mode = P2, t4.last = 0, t4.havedict = 0, t4.dmax = 32768, t4.head = null, t4.hold = 0, t4.bits = 0, t4.lencode = t4.lendyn = new I2.Buf32(n2), t4.distcode = t4.distdyn = new I2.Buf32(i2), t4.sane = 1, t4.back = -1, N2) : U2;
      }
      function o2(e2) {
        var t4;
        return e2 && e2.state ? ((t4 = e2.state).wsize = 0, t4.whave = 0, t4.wnext = 0, a2(e2)) : U2;
      }
      function h2(e2, t4) {
        var r3, n3;
        return e2 && e2.state ? (n3 = e2.state, t4 < 0 ? (r3 = 0, t4 = -t4) : (r3 = 1 + (t4 >> 4), t4 < 48 && (t4 &= 15)), t4 && (t4 < 8 || 15 < t4) ? U2 : (null !== n3.window && n3.wbits !== t4 && (n3.window = null), n3.wrap = r3, n3.wbits = t4, o2(e2))) : U2;
      }
      function u2(e2, t4) {
        var r3, n3;
        return e2 ? (n3 = new s2(), (e2.state = n3).window = null, (r3 = h2(e2, t4)) !== N2 && (e2.state = null), r3) : U2;
      }
      var l2, f2, c2 = true;
      function j2(e2) {
        if (c2) {
          var t4;
          for (l2 = new I2.Buf32(512), f2 = new I2.Buf32(32), t4 = 0; t4 < 144; )
            e2.lens[t4++] = 8;
          for (; t4 < 256; )
            e2.lens[t4++] = 9;
          for (; t4 < 280; )
            e2.lens[t4++] = 7;
          for (; t4 < 288; )
            e2.lens[t4++] = 8;
          for (T2(D2, e2.lens, 0, 288, l2, 0, e2.work, { bits: 9 }), t4 = 0; t4 < 32; )
            e2.lens[t4++] = 5;
          T2(F2, e2.lens, 0, 32, f2, 0, e2.work, { bits: 5 }), c2 = false;
        }
        e2.lencode = l2, e2.lenbits = 9, e2.distcode = f2, e2.distbits = 5;
      }
      function Z2(e2, t4, r3, n3) {
        var i3, s3 = e2.state;
        return null === s3.window && (s3.wsize = 1 << s3.wbits, s3.wnext = 0, s3.whave = 0, s3.window = new I2.Buf8(s3.wsize)), n3 >= s3.wsize ? (I2.arraySet(s3.window, t4, r3 - s3.wsize, s3.wsize, 0), s3.wnext = 0, s3.whave = s3.wsize) : (n3 < (i3 = s3.wsize - s3.wnext) && (i3 = n3), I2.arraySet(s3.window, t4, r3 - n3, i3, s3.wnext), (n3 -= i3) ? (I2.arraySet(s3.window, t4, r3 - n3, n3, 0), s3.wnext = n3, s3.whave = s3.wsize) : (s3.wnext += i3, s3.wnext === s3.wsize && (s3.wnext = 0), s3.whave < s3.wsize && (s3.whave += i3))), 0;
      }
      r2.inflateReset = o2, r2.inflateReset2 = h2, r2.inflateResetKeep = a2, r2.inflateInit = function(e2) {
        return u2(e2, 15);
      }, r2.inflateInit2 = u2, r2.inflate = function(e2, t4) {
        var r3, n3, i3, s3, a3, o3, h3, u3, l3, f3, c3, d2, p2, m2, _2, g2, b3, v2, y2, w2, k3, x2, S2, z2, C2 = 0, E2 = new I2.Buf8(4), A2 = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
        if (!e2 || !e2.state || !e2.output || !e2.input && 0 !== e2.avail_in)
          return U2;
        12 === (r3 = e2.state).mode && (r3.mode = 13), a3 = e2.next_out, i3 = e2.output, h3 = e2.avail_out, s3 = e2.next_in, n3 = e2.input, o3 = e2.avail_in, u3 = r3.hold, l3 = r3.bits, f3 = o3, c3 = h3, x2 = N2;
        e:
          for (; ; )
            switch (r3.mode) {
              case P2:
                if (0 === r3.wrap) {
                  r3.mode = 13;
                  break;
                }
                for (; l3 < 16; ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                if (2 & r3.wrap && 35615 === u3) {
                  E2[r3.check = 0] = 255 & u3, E2[1] = u3 >>> 8 & 255, r3.check = B2(r3.check, E2, 2, 0), l3 = u3 = 0, r3.mode = 2;
                  break;
                }
                if (r3.flags = 0, r3.head && (r3.head.done = false), !(1 & r3.wrap) || (((255 & u3) << 8) + (u3 >> 8)) % 31) {
                  e2.msg = "incorrect header check", r3.mode = 30;
                  break;
                }
                if (8 != (15 & u3)) {
                  e2.msg = "unknown compression method", r3.mode = 30;
                  break;
                }
                if (l3 -= 4, k3 = 8 + (15 & (u3 >>>= 4)), 0 === r3.wbits)
                  r3.wbits = k3;
                else if (k3 > r3.wbits) {
                  e2.msg = "invalid window size", r3.mode = 30;
                  break;
                }
                r3.dmax = 1 << k3, e2.adler = r3.check = 1, r3.mode = 512 & u3 ? 10 : 12, l3 = u3 = 0;
                break;
              case 2:
                for (; l3 < 16; ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                if (r3.flags = u3, 8 != (255 & r3.flags)) {
                  e2.msg = "unknown compression method", r3.mode = 30;
                  break;
                }
                if (57344 & r3.flags) {
                  e2.msg = "unknown header flags set", r3.mode = 30;
                  break;
                }
                r3.head && (r3.head.text = u3 >> 8 & 1), 512 & r3.flags && (E2[0] = 255 & u3, E2[1] = u3 >>> 8 & 255, r3.check = B2(r3.check, E2, 2, 0)), l3 = u3 = 0, r3.mode = 3;
              case 3:
                for (; l3 < 32; ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                r3.head && (r3.head.time = u3), 512 & r3.flags && (E2[0] = 255 & u3, E2[1] = u3 >>> 8 & 255, E2[2] = u3 >>> 16 & 255, E2[3] = u3 >>> 24 & 255, r3.check = B2(r3.check, E2, 4, 0)), l3 = u3 = 0, r3.mode = 4;
              case 4:
                for (; l3 < 16; ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                r3.head && (r3.head.xflags = 255 & u3, r3.head.os = u3 >> 8), 512 & r3.flags && (E2[0] = 255 & u3, E2[1] = u3 >>> 8 & 255, r3.check = B2(r3.check, E2, 2, 0)), l3 = u3 = 0, r3.mode = 5;
              case 5:
                if (1024 & r3.flags) {
                  for (; l3 < 16; ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  r3.length = u3, r3.head && (r3.head.extra_len = u3), 512 & r3.flags && (E2[0] = 255 & u3, E2[1] = u3 >>> 8 & 255, r3.check = B2(r3.check, E2, 2, 0)), l3 = u3 = 0;
                } else
                  r3.head && (r3.head.extra = null);
                r3.mode = 6;
              case 6:
                if (1024 & r3.flags && (o3 < (d2 = r3.length) && (d2 = o3), d2 && (r3.head && (k3 = r3.head.extra_len - r3.length, r3.head.extra || (r3.head.extra = new Array(r3.head.extra_len)), I2.arraySet(r3.head.extra, n3, s3, d2, k3)), 512 & r3.flags && (r3.check = B2(r3.check, n3, d2, s3)), o3 -= d2, s3 += d2, r3.length -= d2), r3.length))
                  break e;
                r3.length = 0, r3.mode = 7;
              case 7:
                if (2048 & r3.flags) {
                  if (0 === o3)
                    break e;
                  for (d2 = 0; k3 = n3[s3 + d2++], r3.head && k3 && r3.length < 65536 && (r3.head.name += String.fromCharCode(k3)), k3 && d2 < o3; )
                    ;
                  if (512 & r3.flags && (r3.check = B2(r3.check, n3, d2, s3)), o3 -= d2, s3 += d2, k3)
                    break e;
                } else
                  r3.head && (r3.head.name = null);
                r3.length = 0, r3.mode = 8;
              case 8:
                if (4096 & r3.flags) {
                  if (0 === o3)
                    break e;
                  for (d2 = 0; k3 = n3[s3 + d2++], r3.head && k3 && r3.length < 65536 && (r3.head.comment += String.fromCharCode(k3)), k3 && d2 < o3; )
                    ;
                  if (512 & r3.flags && (r3.check = B2(r3.check, n3, d2, s3)), o3 -= d2, s3 += d2, k3)
                    break e;
                } else
                  r3.head && (r3.head.comment = null);
                r3.mode = 9;
              case 9:
                if (512 & r3.flags) {
                  for (; l3 < 16; ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  if (u3 !== (65535 & r3.check)) {
                    e2.msg = "header crc mismatch", r3.mode = 30;
                    break;
                  }
                  l3 = u3 = 0;
                }
                r3.head && (r3.head.hcrc = r3.flags >> 9 & 1, r3.head.done = true), e2.adler = r3.check = 0, r3.mode = 12;
                break;
              case 10:
                for (; l3 < 32; ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                e2.adler = r3.check = L2(u3), l3 = u3 = 0, r3.mode = 11;
              case 11:
                if (0 === r3.havedict)
                  return e2.next_out = a3, e2.avail_out = h3, e2.next_in = s3, e2.avail_in = o3, r3.hold = u3, r3.bits = l3, 2;
                e2.adler = r3.check = 1, r3.mode = 12;
              case 12:
                if (5 === t4 || 6 === t4)
                  break e;
              case 13:
                if (r3.last) {
                  u3 >>>= 7 & l3, l3 -= 7 & l3, r3.mode = 27;
                  break;
                }
                for (; l3 < 3; ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                switch (r3.last = 1 & u3, l3 -= 1, 3 & (u3 >>>= 1)) {
                  case 0:
                    r3.mode = 14;
                    break;
                  case 1:
                    if (j2(r3), r3.mode = 20, 6 !== t4)
                      break;
                    u3 >>>= 2, l3 -= 2;
                    break e;
                  case 2:
                    r3.mode = 17;
                    break;
                  case 3:
                    e2.msg = "invalid block type", r3.mode = 30;
                }
                u3 >>>= 2, l3 -= 2;
                break;
              case 14:
                for (u3 >>>= 7 & l3, l3 -= 7 & l3; l3 < 32; ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                if ((65535 & u3) != (u3 >>> 16 ^ 65535)) {
                  e2.msg = "invalid stored block lengths", r3.mode = 30;
                  break;
                }
                if (r3.length = 65535 & u3, l3 = u3 = 0, r3.mode = 15, 6 === t4)
                  break e;
              case 15:
                r3.mode = 16;
              case 16:
                if (d2 = r3.length) {
                  if (o3 < d2 && (d2 = o3), h3 < d2 && (d2 = h3), 0 === d2)
                    break e;
                  I2.arraySet(i3, n3, s3, d2, a3), o3 -= d2, s3 += d2, h3 -= d2, a3 += d2, r3.length -= d2;
                  break;
                }
                r3.mode = 12;
                break;
              case 17:
                for (; l3 < 14; ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                if (r3.nlen = 257 + (31 & u3), u3 >>>= 5, l3 -= 5, r3.ndist = 1 + (31 & u3), u3 >>>= 5, l3 -= 5, r3.ncode = 4 + (15 & u3), u3 >>>= 4, l3 -= 4, 286 < r3.nlen || 30 < r3.ndist) {
                  e2.msg = "too many length or distance symbols", r3.mode = 30;
                  break;
                }
                r3.have = 0, r3.mode = 18;
              case 18:
                for (; r3.have < r3.ncode; ) {
                  for (; l3 < 3; ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  r3.lens[A2[r3.have++]] = 7 & u3, u3 >>>= 3, l3 -= 3;
                }
                for (; r3.have < 19; )
                  r3.lens[A2[r3.have++]] = 0;
                if (r3.lencode = r3.lendyn, r3.lenbits = 7, S2 = { bits: r3.lenbits }, x2 = T2(0, r3.lens, 0, 19, r3.lencode, 0, r3.work, S2), r3.lenbits = S2.bits, x2) {
                  e2.msg = "invalid code lengths set", r3.mode = 30;
                  break;
                }
                r3.have = 0, r3.mode = 19;
              case 19:
                for (; r3.have < r3.nlen + r3.ndist; ) {
                  for (; g2 = (C2 = r3.lencode[u3 & (1 << r3.lenbits) - 1]) >>> 16 & 255, b3 = 65535 & C2, !((_2 = C2 >>> 24) <= l3); ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  if (b3 < 16)
                    u3 >>>= _2, l3 -= _2, r3.lens[r3.have++] = b3;
                  else {
                    if (16 === b3) {
                      for (z2 = _2 + 2; l3 < z2; ) {
                        if (0 === o3)
                          break e;
                        o3--, u3 += n3[s3++] << l3, l3 += 8;
                      }
                      if (u3 >>>= _2, l3 -= _2, 0 === r3.have) {
                        e2.msg = "invalid bit length repeat", r3.mode = 30;
                        break;
                      }
                      k3 = r3.lens[r3.have - 1], d2 = 3 + (3 & u3), u3 >>>= 2, l3 -= 2;
                    } else if (17 === b3) {
                      for (z2 = _2 + 3; l3 < z2; ) {
                        if (0 === o3)
                          break e;
                        o3--, u3 += n3[s3++] << l3, l3 += 8;
                      }
                      l3 -= _2, k3 = 0, d2 = 3 + (7 & (u3 >>>= _2)), u3 >>>= 3, l3 -= 3;
                    } else {
                      for (z2 = _2 + 7; l3 < z2; ) {
                        if (0 === o3)
                          break e;
                        o3--, u3 += n3[s3++] << l3, l3 += 8;
                      }
                      l3 -= _2, k3 = 0, d2 = 11 + (127 & (u3 >>>= _2)), u3 >>>= 7, l3 -= 7;
                    }
                    if (r3.have + d2 > r3.nlen + r3.ndist) {
                      e2.msg = "invalid bit length repeat", r3.mode = 30;
                      break;
                    }
                    for (; d2--; )
                      r3.lens[r3.have++] = k3;
                  }
                }
                if (30 === r3.mode)
                  break;
                if (0 === r3.lens[256]) {
                  e2.msg = "invalid code -- missing end-of-block", r3.mode = 30;
                  break;
                }
                if (r3.lenbits = 9, S2 = { bits: r3.lenbits }, x2 = T2(D2, r3.lens, 0, r3.nlen, r3.lencode, 0, r3.work, S2), r3.lenbits = S2.bits, x2) {
                  e2.msg = "invalid literal/lengths set", r3.mode = 30;
                  break;
                }
                if (r3.distbits = 6, r3.distcode = r3.distdyn, S2 = { bits: r3.distbits }, x2 = T2(F2, r3.lens, r3.nlen, r3.ndist, r3.distcode, 0, r3.work, S2), r3.distbits = S2.bits, x2) {
                  e2.msg = "invalid distances set", r3.mode = 30;
                  break;
                }
                if (r3.mode = 20, 6 === t4)
                  break e;
              case 20:
                r3.mode = 21;
              case 21:
                if (6 <= o3 && 258 <= h3) {
                  e2.next_out = a3, e2.avail_out = h3, e2.next_in = s3, e2.avail_in = o3, r3.hold = u3, r3.bits = l3, R2(e2, c3), a3 = e2.next_out, i3 = e2.output, h3 = e2.avail_out, s3 = e2.next_in, n3 = e2.input, o3 = e2.avail_in, u3 = r3.hold, l3 = r3.bits, 12 === r3.mode && (r3.back = -1);
                  break;
                }
                for (r3.back = 0; g2 = (C2 = r3.lencode[u3 & (1 << r3.lenbits) - 1]) >>> 16 & 255, b3 = 65535 & C2, !((_2 = C2 >>> 24) <= l3); ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                if (g2 && 0 == (240 & g2)) {
                  for (v2 = _2, y2 = g2, w2 = b3; g2 = (C2 = r3.lencode[w2 + ((u3 & (1 << v2 + y2) - 1) >> v2)]) >>> 16 & 255, b3 = 65535 & C2, !(v2 + (_2 = C2 >>> 24) <= l3); ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  u3 >>>= v2, l3 -= v2, r3.back += v2;
                }
                if (u3 >>>= _2, l3 -= _2, r3.back += _2, r3.length = b3, 0 === g2) {
                  r3.mode = 26;
                  break;
                }
                if (32 & g2) {
                  r3.back = -1, r3.mode = 12;
                  break;
                }
                if (64 & g2) {
                  e2.msg = "invalid literal/length code", r3.mode = 30;
                  break;
                }
                r3.extra = 15 & g2, r3.mode = 22;
              case 22:
                if (r3.extra) {
                  for (z2 = r3.extra; l3 < z2; ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  r3.length += u3 & (1 << r3.extra) - 1, u3 >>>= r3.extra, l3 -= r3.extra, r3.back += r3.extra;
                }
                r3.was = r3.length, r3.mode = 23;
              case 23:
                for (; g2 = (C2 = r3.distcode[u3 & (1 << r3.distbits) - 1]) >>> 16 & 255, b3 = 65535 & C2, !((_2 = C2 >>> 24) <= l3); ) {
                  if (0 === o3)
                    break e;
                  o3--, u3 += n3[s3++] << l3, l3 += 8;
                }
                if (0 == (240 & g2)) {
                  for (v2 = _2, y2 = g2, w2 = b3; g2 = (C2 = r3.distcode[w2 + ((u3 & (1 << v2 + y2) - 1) >> v2)]) >>> 16 & 255, b3 = 65535 & C2, !(v2 + (_2 = C2 >>> 24) <= l3); ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  u3 >>>= v2, l3 -= v2, r3.back += v2;
                }
                if (u3 >>>= _2, l3 -= _2, r3.back += _2, 64 & g2) {
                  e2.msg = "invalid distance code", r3.mode = 30;
                  break;
                }
                r3.offset = b3, r3.extra = 15 & g2, r3.mode = 24;
              case 24:
                if (r3.extra) {
                  for (z2 = r3.extra; l3 < z2; ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  r3.offset += u3 & (1 << r3.extra) - 1, u3 >>>= r3.extra, l3 -= r3.extra, r3.back += r3.extra;
                }
                if (r3.offset > r3.dmax) {
                  e2.msg = "invalid distance too far back", r3.mode = 30;
                  break;
                }
                r3.mode = 25;
              case 25:
                if (0 === h3)
                  break e;
                if (d2 = c3 - h3, r3.offset > d2) {
                  if ((d2 = r3.offset - d2) > r3.whave && r3.sane) {
                    e2.msg = "invalid distance too far back", r3.mode = 30;
                    break;
                  }
                  p2 = d2 > r3.wnext ? (d2 -= r3.wnext, r3.wsize - d2) : r3.wnext - d2, d2 > r3.length && (d2 = r3.length), m2 = r3.window;
                } else
                  m2 = i3, p2 = a3 - r3.offset, d2 = r3.length;
                for (h3 < d2 && (d2 = h3), h3 -= d2, r3.length -= d2; i3[a3++] = m2[p2++], --d2; )
                  ;
                0 === r3.length && (r3.mode = 21);
                break;
              case 26:
                if (0 === h3)
                  break e;
                i3[a3++] = r3.length, h3--, r3.mode = 21;
                break;
              case 27:
                if (r3.wrap) {
                  for (; l3 < 32; ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 |= n3[s3++] << l3, l3 += 8;
                  }
                  if (c3 -= h3, e2.total_out += c3, r3.total += c3, c3 && (e2.adler = r3.check = r3.flags ? B2(r3.check, i3, c3, a3 - c3) : O2(r3.check, i3, c3, a3 - c3)), c3 = h3, (r3.flags ? u3 : L2(u3)) !== r3.check) {
                    e2.msg = "incorrect data check", r3.mode = 30;
                    break;
                  }
                  l3 = u3 = 0;
                }
                r3.mode = 28;
              case 28:
                if (r3.wrap && r3.flags) {
                  for (; l3 < 32; ) {
                    if (0 === o3)
                      break e;
                    o3--, u3 += n3[s3++] << l3, l3 += 8;
                  }
                  if (u3 !== (4294967295 & r3.total)) {
                    e2.msg = "incorrect length check", r3.mode = 30;
                    break;
                  }
                  l3 = u3 = 0;
                }
                r3.mode = 29;
              case 29:
                x2 = 1;
                break e;
              case 30:
                x2 = -3;
                break e;
              case 31:
                return -4;
              case 32:
              default:
                return U2;
            }
        return e2.next_out = a3, e2.avail_out = h3, e2.next_in = s3, e2.avail_in = o3, r3.hold = u3, r3.bits = l3, (r3.wsize || c3 !== e2.avail_out && r3.mode < 30 && (r3.mode < 27 || 4 !== t4)) && Z2(e2, e2.output, e2.next_out, c3 - e2.avail_out) ? (r3.mode = 31, -4) : (f3 -= e2.avail_in, c3 -= e2.avail_out, e2.total_in += f3, e2.total_out += c3, r3.total += c3, r3.wrap && c3 && (e2.adler = r3.check = r3.flags ? B2(r3.check, i3, c3, e2.next_out - c3) : O2(r3.check, i3, c3, e2.next_out - c3)), e2.data_type = r3.bits + (r3.last ? 64 : 0) + (12 === r3.mode ? 128 : 0) + (20 === r3.mode || 15 === r3.mode ? 256 : 0), (0 == f3 && 0 === c3 || 4 === t4) && x2 === N2 && (x2 = -5), x2);
      }, r2.inflateEnd = function(e2) {
        if (!e2 || !e2.state)
          return U2;
        var t4 = e2.state;
        return t4.window && (t4.window = null), e2.state = null, N2;
      }, r2.inflateGetHeader = function(e2, t4) {
        var r3;
        return e2 && e2.state ? 0 == (2 & (r3 = e2.state).wrap) ? U2 : ((r3.head = t4).done = false, N2) : U2;
      }, r2.inflateSetDictionary = function(e2, t4) {
        var r3, n3 = t4.length;
        return e2 && e2.state ? 0 !== (r3 = e2.state).wrap && 11 !== r3.mode ? U2 : 11 === r3.mode && O2(1, t4, n3, 0) !== r3.check ? -3 : Z2(e2, t4, n3, n3) ? (r3.mode = 31, -4) : (r3.havedict = 1, N2) : U2;
      }, r2.inflateInfo = "pako inflate (from Nodeca project)";
    }, { "../utils/common": 41, "./adler32": 43, "./crc32": 45, "./inffast": 48, "./inftrees": 50 }], 50: [function(e, t3, r2) {
      "use strict";
      var D2 = e("../utils/common"), F2 = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0], N2 = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78], U2 = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0], P2 = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
      t3.exports = function(e2, t4, r3, n2, i2, s2, a2, o2) {
        var h2, u2, l2, f2, c2, d2, p2, m2, _2, g2 = o2.bits, b3 = 0, v2 = 0, y2 = 0, w2 = 0, k3 = 0, x2 = 0, S2 = 0, z2 = 0, C2 = 0, E2 = 0, A2 = null, I2 = 0, O2 = new D2.Buf16(16), B2 = new D2.Buf16(16), R2 = null, T2 = 0;
        for (b3 = 0; b3 <= 15; b3++)
          O2[b3] = 0;
        for (v2 = 0; v2 < n2; v2++)
          O2[t4[r3 + v2]]++;
        for (k3 = g2, w2 = 15; 1 <= w2 && 0 === O2[w2]; w2--)
          ;
        if (w2 < k3 && (k3 = w2), 0 === w2)
          return i2[s2++] = 20971520, i2[s2++] = 20971520, o2.bits = 1, 0;
        for (y2 = 1; y2 < w2 && 0 === O2[y2]; y2++)
          ;
        for (k3 < y2 && (k3 = y2), b3 = z2 = 1; b3 <= 15; b3++)
          if (z2 <<= 1, (z2 -= O2[b3]) < 0)
            return -1;
        if (0 < z2 && (0 === e2 || 1 !== w2))
          return -1;
        for (B2[1] = 0, b3 = 1; b3 < 15; b3++)
          B2[b3 + 1] = B2[b3] + O2[b3];
        for (v2 = 0; v2 < n2; v2++)
          0 !== t4[r3 + v2] && (a2[B2[t4[r3 + v2]]++] = v2);
        if (d2 = 0 === e2 ? (A2 = R2 = a2, 19) : 1 === e2 ? (A2 = F2, I2 -= 257, R2 = N2, T2 -= 257, 256) : (A2 = U2, R2 = P2, -1), b3 = y2, c2 = s2, S2 = v2 = E2 = 0, l2 = -1, f2 = (C2 = 1 << (x2 = k3)) - 1, 1 === e2 && 852 < C2 || 2 === e2 && 592 < C2)
          return 1;
        for (; ; ) {
          for (p2 = b3 - S2, _2 = a2[v2] < d2 ? (m2 = 0, a2[v2]) : a2[v2] > d2 ? (m2 = R2[T2 + a2[v2]], A2[I2 + a2[v2]]) : (m2 = 96, 0), h2 = 1 << b3 - S2, y2 = u2 = 1 << x2; i2[c2 + (E2 >> S2) + (u2 -= h2)] = p2 << 24 | m2 << 16 | _2 | 0, 0 !== u2; )
            ;
          for (h2 = 1 << b3 - 1; E2 & h2; )
            h2 >>= 1;
          if (0 !== h2 ? (E2 &= h2 - 1, E2 += h2) : E2 = 0, v2++, 0 == --O2[b3]) {
            if (b3 === w2)
              break;
            b3 = t4[r3 + a2[v2]];
          }
          if (k3 < b3 && (E2 & f2) !== l2) {
            for (0 === S2 && (S2 = k3), c2 += y2, z2 = 1 << (x2 = b3 - S2); x2 + S2 < w2 && !((z2 -= O2[x2 + S2]) <= 0); )
              x2++, z2 <<= 1;
            if (C2 += 1 << x2, 1 === e2 && 852 < C2 || 2 === e2 && 592 < C2)
              return 1;
            i2[l2 = E2 & f2] = k3 << 24 | x2 << 16 | c2 - s2 | 0;
          }
        }
        return 0 !== E2 && (i2[c2 + E2] = b3 - S2 << 24 | 64 << 16 | 0), o2.bits = k3, 0;
      };
    }, { "../utils/common": 41 }], 51: [function(e, t3, r2) {
      "use strict";
      t3.exports = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" };
    }, {}], 52: [function(e, t3, r2) {
      "use strict";
      var i2 = e("../utils/common"), o2 = 0, h2 = 1;
      function n2(e2) {
        for (var t4 = e2.length; 0 <= --t4; )
          e2[t4] = 0;
      }
      var s2 = 0, a2 = 29, u2 = 256, l2 = u2 + 1 + a2, f2 = 30, c2 = 19, _2 = 2 * l2 + 1, g2 = 15, d2 = 16, p2 = 7, m2 = 256, b3 = 16, v2 = 17, y2 = 18, w2 = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0], k3 = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13], x2 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7], S2 = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15], z2 = new Array(2 * (l2 + 2));
      n2(z2);
      var C2 = new Array(2 * f2);
      n2(C2);
      var E2 = new Array(512);
      n2(E2);
      var A2 = new Array(256);
      n2(A2);
      var I2 = new Array(a2);
      n2(I2);
      var O2, B2, R2, T2 = new Array(f2);
      function D2(e2, t4, r3, n3, i3) {
        this.static_tree = e2, this.extra_bits = t4, this.extra_base = r3, this.elems = n3, this.max_length = i3, this.has_stree = e2 && e2.length;
      }
      function F2(e2, t4) {
        this.dyn_tree = e2, this.max_code = 0, this.stat_desc = t4;
      }
      function N2(e2) {
        return e2 < 256 ? E2[e2] : E2[256 + (e2 >>> 7)];
      }
      function U2(e2, t4) {
        e2.pending_buf[e2.pending++] = 255 & t4, e2.pending_buf[e2.pending++] = t4 >>> 8 & 255;
      }
      function P2(e2, t4, r3) {
        e2.bi_valid > d2 - r3 ? (e2.bi_buf |= t4 << e2.bi_valid & 65535, U2(e2, e2.bi_buf), e2.bi_buf = t4 >> d2 - e2.bi_valid, e2.bi_valid += r3 - d2) : (e2.bi_buf |= t4 << e2.bi_valid & 65535, e2.bi_valid += r3);
      }
      function L2(e2, t4, r3) {
        P2(e2, r3[2 * t4], r3[2 * t4 + 1]);
      }
      function j2(e2, t4) {
        for (var r3 = 0; r3 |= 1 & e2, e2 >>>= 1, r3 <<= 1, 0 < --t4; )
          ;
        return r3 >>> 1;
      }
      function Z2(e2, t4, r3) {
        var n3, i3, s3 = new Array(g2 + 1), a3 = 0;
        for (n3 = 1; n3 <= g2; n3++)
          s3[n3] = a3 = a3 + r3[n3 - 1] << 1;
        for (i3 = 0; i3 <= t4; i3++) {
          var o3 = e2[2 * i3 + 1];
          0 !== o3 && (e2[2 * i3] = j2(s3[o3]++, o3));
        }
      }
      function W2(e2) {
        var t4;
        for (t4 = 0; t4 < l2; t4++)
          e2.dyn_ltree[2 * t4] = 0;
        for (t4 = 0; t4 < f2; t4++)
          e2.dyn_dtree[2 * t4] = 0;
        for (t4 = 0; t4 < c2; t4++)
          e2.bl_tree[2 * t4] = 0;
        e2.dyn_ltree[2 * m2] = 1, e2.opt_len = e2.static_len = 0, e2.last_lit = e2.matches = 0;
      }
      function M2(e2) {
        8 < e2.bi_valid ? U2(e2, e2.bi_buf) : 0 < e2.bi_valid && (e2.pending_buf[e2.pending++] = e2.bi_buf), e2.bi_buf = 0, e2.bi_valid = 0;
      }
      function H2(e2, t4, r3, n3) {
        var i3 = 2 * t4, s3 = 2 * r3;
        return e2[i3] < e2[s3] || e2[i3] === e2[s3] && n3[t4] <= n3[r3];
      }
      function G2(e2, t4, r3) {
        for (var n3 = e2.heap[r3], i3 = r3 << 1; i3 <= e2.heap_len && (i3 < e2.heap_len && H2(t4, e2.heap[i3 + 1], e2.heap[i3], e2.depth) && i3++, !H2(t4, n3, e2.heap[i3], e2.depth)); )
          e2.heap[r3] = e2.heap[i3], r3 = i3, i3 <<= 1;
        e2.heap[r3] = n3;
      }
      function K2(e2, t4, r3) {
        var n3, i3, s3, a3, o3 = 0;
        if (0 !== e2.last_lit)
          for (; n3 = e2.pending_buf[e2.d_buf + 2 * o3] << 8 | e2.pending_buf[e2.d_buf + 2 * o3 + 1], i3 = e2.pending_buf[e2.l_buf + o3], o3++, 0 === n3 ? L2(e2, i3, t4) : (L2(e2, (s3 = A2[i3]) + u2 + 1, t4), 0 !== (a3 = w2[s3]) && P2(e2, i3 -= I2[s3], a3), L2(e2, s3 = N2(--n3), r3), 0 !== (a3 = k3[s3]) && P2(e2, n3 -= T2[s3], a3)), o3 < e2.last_lit; )
            ;
        L2(e2, m2, t4);
      }
      function Y2(e2, t4) {
        var r3, n3, i3, s3 = t4.dyn_tree, a3 = t4.stat_desc.static_tree, o3 = t4.stat_desc.has_stree, h3 = t4.stat_desc.elems, u3 = -1;
        for (e2.heap_len = 0, e2.heap_max = _2, r3 = 0; r3 < h3; r3++)
          0 !== s3[2 * r3] ? (e2.heap[++e2.heap_len] = u3 = r3, e2.depth[r3] = 0) : s3[2 * r3 + 1] = 0;
        for (; e2.heap_len < 2; )
          s3[2 * (i3 = e2.heap[++e2.heap_len] = u3 < 2 ? ++u3 : 0)] = 1, e2.depth[i3] = 0, e2.opt_len--, o3 && (e2.static_len -= a3[2 * i3 + 1]);
        for (t4.max_code = u3, r3 = e2.heap_len >> 1; 1 <= r3; r3--)
          G2(e2, s3, r3);
        for (i3 = h3; r3 = e2.heap[1], e2.heap[1] = e2.heap[e2.heap_len--], G2(e2, s3, 1), n3 = e2.heap[1], e2.heap[--e2.heap_max] = r3, e2.heap[--e2.heap_max] = n3, s3[2 * i3] = s3[2 * r3] + s3[2 * n3], e2.depth[i3] = (e2.depth[r3] >= e2.depth[n3] ? e2.depth[r3] : e2.depth[n3]) + 1, s3[2 * r3 + 1] = s3[2 * n3 + 1] = i3, e2.heap[1] = i3++, G2(e2, s3, 1), 2 <= e2.heap_len; )
          ;
        e2.heap[--e2.heap_max] = e2.heap[1], function(e3, t5) {
          var r4, n4, i4, s4, a4, o4, h4 = t5.dyn_tree, u4 = t5.max_code, l3 = t5.stat_desc.static_tree, f3 = t5.stat_desc.has_stree, c3 = t5.stat_desc.extra_bits, d3 = t5.stat_desc.extra_base, p3 = t5.stat_desc.max_length, m3 = 0;
          for (s4 = 0; s4 <= g2; s4++)
            e3.bl_count[s4] = 0;
          for (h4[2 * e3.heap[e3.heap_max] + 1] = 0, r4 = e3.heap_max + 1; r4 < _2; r4++)
            p3 < (s4 = h4[2 * h4[2 * (n4 = e3.heap[r4]) + 1] + 1] + 1) && (s4 = p3, m3++), h4[2 * n4 + 1] = s4, u4 < n4 || (e3.bl_count[s4]++, a4 = 0, d3 <= n4 && (a4 = c3[n4 - d3]), o4 = h4[2 * n4], e3.opt_len += o4 * (s4 + a4), f3 && (e3.static_len += o4 * (l3[2 * n4 + 1] + a4)));
          if (0 !== m3) {
            do {
              for (s4 = p3 - 1; 0 === e3.bl_count[s4]; )
                s4--;
              e3.bl_count[s4]--, e3.bl_count[s4 + 1] += 2, e3.bl_count[p3]--, m3 -= 2;
            } while (0 < m3);
            for (s4 = p3; 0 !== s4; s4--)
              for (n4 = e3.bl_count[s4]; 0 !== n4; )
                u4 < (i4 = e3.heap[--r4]) || (h4[2 * i4 + 1] !== s4 && (e3.opt_len += (s4 - h4[2 * i4 + 1]) * h4[2 * i4], h4[2 * i4 + 1] = s4), n4--);
          }
        }(e2, t4), Z2(s3, u3, e2.bl_count);
      }
      function X2(e2, t4, r3) {
        var n3, i3, s3 = -1, a3 = t4[1], o3 = 0, h3 = 7, u3 = 4;
        for (0 === a3 && (h3 = 138, u3 = 3), t4[2 * (r3 + 1) + 1] = 65535, n3 = 0; n3 <= r3; n3++)
          i3 = a3, a3 = t4[2 * (n3 + 1) + 1], ++o3 < h3 && i3 === a3 || (o3 < u3 ? e2.bl_tree[2 * i3] += o3 : 0 !== i3 ? (i3 !== s3 && e2.bl_tree[2 * i3]++, e2.bl_tree[2 * b3]++) : o3 <= 10 ? e2.bl_tree[2 * v2]++ : e2.bl_tree[2 * y2]++, s3 = i3, u3 = (o3 = 0) === a3 ? (h3 = 138, 3) : i3 === a3 ? (h3 = 6, 3) : (h3 = 7, 4));
      }
      function V2(e2, t4, r3) {
        var n3, i3, s3 = -1, a3 = t4[1], o3 = 0, h3 = 7, u3 = 4;
        for (0 === a3 && (h3 = 138, u3 = 3), n3 = 0; n3 <= r3; n3++)
          if (i3 = a3, a3 = t4[2 * (n3 + 1) + 1], !(++o3 < h3 && i3 === a3)) {
            if (o3 < u3)
              for (; L2(e2, i3, e2.bl_tree), 0 != --o3; )
                ;
            else
              0 !== i3 ? (i3 !== s3 && (L2(e2, i3, e2.bl_tree), o3--), L2(e2, b3, e2.bl_tree), P2(e2, o3 - 3, 2)) : o3 <= 10 ? (L2(e2, v2, e2.bl_tree), P2(e2, o3 - 3, 3)) : (L2(e2, y2, e2.bl_tree), P2(e2, o3 - 11, 7));
            s3 = i3, u3 = (o3 = 0) === a3 ? (h3 = 138, 3) : i3 === a3 ? (h3 = 6, 3) : (h3 = 7, 4);
          }
      }
      n2(T2);
      var q2 = false;
      function J2(e2, t4, r3, n3) {
        P2(e2, (s2 << 1) + (n3 ? 1 : 0), 3), function(e3, t5, r4, n4) {
          M2(e3), n4 && (U2(e3, r4), U2(e3, ~r4)), i2.arraySet(e3.pending_buf, e3.window, t5, r4, e3.pending), e3.pending += r4;
        }(e2, t4, r3, true);
      }
      r2._tr_init = function(e2) {
        q2 || (function() {
          var e3, t4, r3, n3, i3, s3 = new Array(g2 + 1);
          for (n3 = r3 = 0; n3 < a2 - 1; n3++)
            for (I2[n3] = r3, e3 = 0; e3 < 1 << w2[n3]; e3++)
              A2[r3++] = n3;
          for (A2[r3 - 1] = n3, n3 = i3 = 0; n3 < 16; n3++)
            for (T2[n3] = i3, e3 = 0; e3 < 1 << k3[n3]; e3++)
              E2[i3++] = n3;
          for (i3 >>= 7; n3 < f2; n3++)
            for (T2[n3] = i3 << 7, e3 = 0; e3 < 1 << k3[n3] - 7; e3++)
              E2[256 + i3++] = n3;
          for (t4 = 0; t4 <= g2; t4++)
            s3[t4] = 0;
          for (e3 = 0; e3 <= 143; )
            z2[2 * e3 + 1] = 8, e3++, s3[8]++;
          for (; e3 <= 255; )
            z2[2 * e3 + 1] = 9, e3++, s3[9]++;
          for (; e3 <= 279; )
            z2[2 * e3 + 1] = 7, e3++, s3[7]++;
          for (; e3 <= 287; )
            z2[2 * e3 + 1] = 8, e3++, s3[8]++;
          for (Z2(z2, l2 + 1, s3), e3 = 0; e3 < f2; e3++)
            C2[2 * e3 + 1] = 5, C2[2 * e3] = j2(e3, 5);
          O2 = new D2(z2, w2, u2 + 1, l2, g2), B2 = new D2(C2, k3, 0, f2, g2), R2 = new D2(new Array(0), x2, 0, c2, p2);
        }(), q2 = true), e2.l_desc = new F2(e2.dyn_ltree, O2), e2.d_desc = new F2(e2.dyn_dtree, B2), e2.bl_desc = new F2(e2.bl_tree, R2), e2.bi_buf = 0, e2.bi_valid = 0, W2(e2);
      }, r2._tr_stored_block = J2, r2._tr_flush_block = function(e2, t4, r3, n3) {
        var i3, s3, a3 = 0;
        0 < e2.level ? (2 === e2.strm.data_type && (e2.strm.data_type = function(e3) {
          var t5, r4 = 4093624447;
          for (t5 = 0; t5 <= 31; t5++, r4 >>>= 1)
            if (1 & r4 && 0 !== e3.dyn_ltree[2 * t5])
              return o2;
          if (0 !== e3.dyn_ltree[18] || 0 !== e3.dyn_ltree[20] || 0 !== e3.dyn_ltree[26])
            return h2;
          for (t5 = 32; t5 < u2; t5++)
            if (0 !== e3.dyn_ltree[2 * t5])
              return h2;
          return o2;
        }(e2)), Y2(e2, e2.l_desc), Y2(e2, e2.d_desc), a3 = function(e3) {
          var t5;
          for (X2(e3, e3.dyn_ltree, e3.l_desc.max_code), X2(e3, e3.dyn_dtree, e3.d_desc.max_code), Y2(e3, e3.bl_desc), t5 = c2 - 1; 3 <= t5 && 0 === e3.bl_tree[2 * S2[t5] + 1]; t5--)
            ;
          return e3.opt_len += 3 * (t5 + 1) + 5 + 5 + 4, t5;
        }(e2), i3 = e2.opt_len + 3 + 7 >>> 3, (s3 = e2.static_len + 3 + 7 >>> 3) <= i3 && (i3 = s3)) : i3 = s3 = r3 + 5, r3 + 4 <= i3 && -1 !== t4 ? J2(e2, t4, r3, n3) : 4 === e2.strategy || s3 === i3 ? (P2(e2, 2 + (n3 ? 1 : 0), 3), K2(e2, z2, C2)) : (P2(e2, 4 + (n3 ? 1 : 0), 3), function(e3, t5, r4, n4) {
          var i4;
          for (P2(e3, t5 - 257, 5), P2(e3, r4 - 1, 5), P2(e3, n4 - 4, 4), i4 = 0; i4 < n4; i4++)
            P2(e3, e3.bl_tree[2 * S2[i4] + 1], 3);
          V2(e3, e3.dyn_ltree, t5 - 1), V2(e3, e3.dyn_dtree, r4 - 1);
        }(e2, e2.l_desc.max_code + 1, e2.d_desc.max_code + 1, a3 + 1), K2(e2, e2.dyn_ltree, e2.dyn_dtree)), W2(e2), n3 && M2(e2);
      }, r2._tr_tally = function(e2, t4, r3) {
        return e2.pending_buf[e2.d_buf + 2 * e2.last_lit] = t4 >>> 8 & 255, e2.pending_buf[e2.d_buf + 2 * e2.last_lit + 1] = 255 & t4, e2.pending_buf[e2.l_buf + e2.last_lit] = 255 & r3, e2.last_lit++, 0 === t4 ? e2.dyn_ltree[2 * r3]++ : (e2.matches++, t4--, e2.dyn_ltree[2 * (A2[r3] + u2 + 1)]++, e2.dyn_dtree[2 * N2(t4)]++), e2.last_lit === e2.lit_bufsize - 1;
      }, r2._tr_align = function(e2) {
        P2(e2, 2, 3), L2(e2, m2, z2), function(e3) {
          16 === e3.bi_valid ? (U2(e3, e3.bi_buf), e3.bi_buf = 0, e3.bi_valid = 0) : 8 <= e3.bi_valid && (e3.pending_buf[e3.pending++] = 255 & e3.bi_buf, e3.bi_buf >>= 8, e3.bi_valid -= 8);
        }(e2);
      };
    }, { "../utils/common": 41 }], 53: [function(e, t3, r2) {
      "use strict";
      t3.exports = function() {
        this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
      };
    }, {}], 54: [function(e, t3, r2) {
      (function(e2) {
        !function(r3, n2) {
          "use strict";
          if (!r3.setImmediate) {
            var i2, s2, t4, a2, o2 = 1, h2 = {}, u2 = false, l2 = r3.document, e3 = Object.getPrototypeOf && Object.getPrototypeOf(r3);
            e3 = e3 && e3.setTimeout ? e3 : r3, i2 = "[object process]" === {}.toString.call(r3.process) ? function(e4) {
              process.nextTick(function() {
                c2(e4);
              });
            } : function() {
              if (r3.postMessage && !r3.importScripts) {
                var e4 = true, t5 = r3.onmessage;
                return r3.onmessage = function() {
                  e4 = false;
                }, r3.postMessage("", "*"), r3.onmessage = t5, e4;
              }
            }() ? (a2 = "setImmediate$" + Math.random() + "$", r3.addEventListener ? r3.addEventListener("message", d2, false) : r3.attachEvent("onmessage", d2), function(e4) {
              r3.postMessage(a2 + e4, "*");
            }) : r3.MessageChannel ? ((t4 = new MessageChannel()).port1.onmessage = function(e4) {
              c2(e4.data);
            }, function(e4) {
              t4.port2.postMessage(e4);
            }) : l2 && "onreadystatechange" in l2.createElement("script") ? (s2 = l2.documentElement, function(e4) {
              var t5 = l2.createElement("script");
              t5.onreadystatechange = function() {
                c2(e4), t5.onreadystatechange = null, s2.removeChild(t5), t5 = null;
              }, s2.appendChild(t5);
            }) : function(e4) {
              setTimeout(c2, 0, e4);
            }, e3.setImmediate = function(e4) {
              "function" != typeof e4 && (e4 = new Function("" + e4));
              for (var t5 = new Array(arguments.length - 1), r4 = 0; r4 < t5.length; r4++)
                t5[r4] = arguments[r4 + 1];
              var n3 = { callback: e4, args: t5 };
              return h2[o2] = n3, i2(o2), o2++;
            }, e3.clearImmediate = f2;
          }
          function f2(e4) {
            delete h2[e4];
          }
          function c2(e4) {
            if (u2)
              setTimeout(c2, 0, e4);
            else {
              var t5 = h2[e4];
              if (t5) {
                u2 = true;
                try {
                  !function(e5) {
                    var t6 = e5.callback, r4 = e5.args;
                    switch (r4.length) {
                      case 0:
                        t6();
                        break;
                      case 1:
                        t6(r4[0]);
                        break;
                      case 2:
                        t6(r4[0], r4[1]);
                        break;
                      case 3:
                        t6(r4[0], r4[1], r4[2]);
                        break;
                      default:
                        t6.apply(n2, r4);
                    }
                  }(t5);
                } finally {
                  f2(e4), u2 = false;
                }
              }
            }
          }
          function d2(e4) {
            e4.source === r3 && "string" == typeof e4.data && 0 === e4.data.indexOf(a2) && c2(+e4.data.slice(a2.length));
          }
        }("undefined" == typeof self ? void 0 === e2 ? this : e2 : self);
      }).call(this, "undefined" != typeof commonjsGlobal ? commonjsGlobal : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
    }, {}] }, {}, [10])(10);
  });
})(jszip_min, jszip_min.exports);
var JSZip = jszip_min.exports;
function K2VerifyReportPdfButton({
  state,
  tableSummaryData,
  executionId,
  failedTables,
  t: t3,
  logoImage: logoImage3,
  logoImage2: logoImage22,
  className = "new-task-btn"
}) {
  const [exportLoading, setExportLoading] = react.exports.useState(false);
  const effectiveExecutionId = executionId || (state == null ? void 0 : state.execution_id) || (state == null ? void 0 : state.executionId) || "";
  const perf = {
    start(label) {
      try {
        performance.mark(`${label}-start`);
      } catch {
      }
    },
    end(label) {
      try {
        performance.mark(`${label}-end`);
        performance.measure(label, `${label}-start`, `${label}-end`);
      } catch {
      }
    },
    reportAndClear() {
      try {
        const measures = performance.getEntriesByType("measure");
        console.group("\u{1F4CA} Export Performance Report");
        measures.forEach((m2) => {
          console.log(`  ${m2.name}: ${m2.duration.toFixed(2)}ms`);
        });
        console.groupEnd();
        performance.clearMarks();
        performance.clearMeasures();
      } catch {
      }
    }
  };
  const escapeCsvValue = (v2) => {
    if (v2 == null)
      return "";
    const s2 = String(v2);
    if (/[",\n]/.test(s2))
      return `"${s2.replace(/"/g, '""')}"`;
    return s2;
  };
  const toCsv = (rows) => {
    if (!Array.isArray(rows) || rows.length === 0)
      return "";
    const keys = Object.keys(rows[0] || {});
    const header = keys.map(escapeCsvValue).join(",");
    const body = rows.map((r2) => keys.map((k3) => escapeCsvValue(r2 == null ? void 0 : r2[k3])).join(",")).join("\n");
    return `${header}
${body}`;
  };
  const downloadBlob = (blob, fileName) => {
    const url = window.URL.createObjectURL(blob);
    const a2 = document.createElement("a");
    a2.href = url;
    a2.download = fileName;
    document.body.appendChild(a2);
    a2.click();
    a2.remove();
    window.URL.revokeObjectURL(url);
  };
  const fetchData = async (cmd) => {
    const encoded = encodeURIComponent(cmd);
    const res = await fetch(`/api/fabric-command?command=${encoded}&allResultSets=false`);
    const body = await res.json();
    if (!res.ok) {
      const msg = typeof body === "string" ? body : "Fetch failed";
      throw new Error(msg);
    }
    return Array.isArray(body) ? body : [];
  };
  const fetchColumnLevelSummary = async () => {
    const cmd = `broadway K2Verify.bwDownloadColumnLevelSummary execution_id='${effectiveExecutionId}'`;
    return await fetchData(cmd);
  };
  const fetchRecordDetails = async () => {
    const cmd = `broadway K2Verify.bwK2VerifyDownloadRecordDetailsData execution_id='${effectiveExecutionId}'`;
    return await fetchData(cmd);
  };
  const splitColumnSummaryToTableFiles = (colSummaryResult) => {
    const first = colSummaryResult == null ? void 0 : colSummaryResult[0];
    const mapVal = first == null ? void 0 : first.map;
    if (!mapVal)
      return [];
    const files = [];
    if (!Array.isArray(mapVal) && typeof mapVal === "object") {
      for (const [tableName, rows] of Object.entries(mapVal)) {
        const safeTable = String(tableName || "UNKNOWN_TABLE").replace(/[^\w\-]+/g, "_");
        const csv = toCsv(Array.isArray(rows) ? rows : []);
        if (csv) {
          files.push({
            fileName: `ColumnDetails_${safeTable}.csv`,
            csv
          });
        }
      }
      return files;
    }
    if (Array.isArray(mapVal)) {
      for (const entry of mapVal) {
        if (!entry || typeof entry !== "object")
          continue;
        for (const [tableName, rows] of Object.entries(entry)) {
          const safeTable = String(tableName || "UNKNOWN_TABLE").replace(/[^\w\-]+/g, "_");
          const csv = toCsv(Array.isArray(rows) ? rows : []);
          if (csv) {
            files.push({
              fileName: `ColumnDetails_${safeTable}.csv`,
              csv
            });
          }
        }
      }
      return files;
    }
    return files;
  };
  const splitRecordDetailsToTableFiles = (recResult) => {
    const first = recResult == null ? void 0 : recResult[0];
    let mapVal = first == null ? void 0 : first.map;
    if (!mapVal && first && typeof first === "object") {
      mapVal = first.tables || first.data || first.result;
    }
    if (!mapVal)
      return [];
    const files = [];
    const pushFile = (tableName, rowsLike) => {
      const safeTable = String(tableName || "UNKNOWN_TABLE").replace(/[^\w\-]+/g, "_");
      let rows = rowsLike;
      if (rows && !Array.isArray(rows) && typeof rows === "object") {
        rows = rows.rows || rows.data || rows.records || rowsLike;
      }
      if (!Array.isArray(rows))
        return;
      const csv = toCsv(rows);
      if (!csv)
        return;
      files.push({
        fileName: `RecordDetails_${safeTable}.csv`,
        csv
      });
    };
    if (!Array.isArray(mapVal) && typeof mapVal === "object") {
      for (const [tableName, rowsLike] of Object.entries(mapVal)) {
        pushFile(tableName, rowsLike);
      }
      return files;
    }
    if (Array.isArray(mapVal)) {
      for (const entry of mapVal) {
        if (!entry || typeof entry !== "object")
          continue;
        const keys = Object.keys(entry);
        if (keys.length === 1) {
          const tableName2 = keys[0];
          pushFile(tableName2, entry[tableName2]);
          continue;
        }
        const tableName = entry.table_name || entry.source_table_name || entry.dataset || entry.name || entry.table || entry.class;
        const rowsLike = entry.rows || entry.data || entry.records || entry.details;
        if (tableName && rowsLike) {
          pushFile(tableName, rowsLike);
        }
      }
      return files;
    }
    return files;
  };
  const buildPdfBlob = () => {
    if (!(tableSummaryData == null ? void 0 : tableSummaryData.length)) {
      console.warn("No table summary data available for PDF");
      return null;
    }
    const doc = new E("l", "mm", "a4");
    const pageWidth = doc.internal.pageSize.getWidth();
    const pageHeight = doc.internal.pageSize.getHeight();
    const marginX = 20;
    let y2 = 20;
    doc.setFillColor(46, 46, 46);
    doc.rect(0, 0, pageWidth, 12, "F");
    if (logoImage3) {
      doc.setFillColor(255, 255, 255);
      doc.rect(14, 1, 22, 10, "F");
      doc.addImage(logoImage3, "PNG", 17, 2.5, 17, 8.5);
    }
    doc.setFontSize(18);
    doc.setTextColor(255, 255, 255);
    doc.text(`Task #${state.task_id} - ${state.task_name}`, pageWidth / 2, 8, {
      align: "center"
    });
    y2 = 20;
    doc.setFontSize(14);
    doc.setTextColor(46, 46, 46);
    doc.text("Execution Summary", marginX, y2);
    y2 += 2;
    doc.setDrawColor(46, 46, 46);
    doc.setLineWidth(0.5);
    doc.line(marginX, y2, marginX + 60, y2);
    y2 += 8;
    autoTable(doc, {
      startY: y2,
      head: [["Execution ID", "Status", "Total Tables", "Failed Tables", "Failed %"]],
      body: [[state.execution_id || "N/A", state.execution_status || "N/A", state.total_tables || "0", failedTables || "0", `${state.percent_records_failed || "0"}%`]],
      theme: "grid",
      styles: {
        fontSize: 10,
        cellPadding: 3,
        halign: "center",
        lineColor: [220, 220, 220],
        lineWidth: 0.1
      },
      headStyles: {
        fillColor: [46, 46, 46],
        textColor: [255, 255, 255],
        fontSize: 9
      },
      margin: {
        left: marginX,
        right: marginX
      }
    });
    y2 = doc.lastAutoTable.finalY + 5;
    autoTable(doc, {
      startY: y2,
      head: [["Start Time", "End Time"]],
      body: [[state.start_time || "N/A", state.end_time || "N/A"]],
      theme: "grid",
      styles: {
        fontSize: 10,
        cellPadding: 3,
        halign: "center",
        lineColor: [220, 220, 220],
        lineWidth: 0.1
      },
      headStyles: {
        fillColor: [46, 46, 46],
        textColor: [255, 255, 255],
        fontSize: 9
      },
      margin: {
        left: marginX,
        right: marginX
      }
    });
    y2 = doc.lastAutoTable.finalY + 12;
    doc.setFontSize(14);
    doc.setTextColor(46, 46, 46);
    doc.text("Table Level Summary", marginX, y2);
    y2 += 2;
    doc.setDrawColor(46, 46, 46);
    doc.line(marginX, y2, marginX + 60, y2);
    y2 += 8;
    const exportColumns = [{
      header: "Source Table",
      key: "source_table_name"
    }, {
      header: "Target Table",
      key: "target_table_name"
    }, {
      header: "Result",
      key: "result"
    }, {
      header: "Start Time",
      key: "start_time"
    }, {
      header: "End Time",
      key: "end_time"
    }, {
      header: "Total Records",
      key: "total_records"
    }, {
      header: "Records Passed %",
      key: "records_passed_pct"
    }, {
      header: "Records Only in Source",
      key: "records_only_in_source"
    }, {
      header: "Records Only in Target",
      key: "records_only_in_target"
    }, {
      header: "Failed Validation Records",
      key: "mismatched_records"
    }, {
      header: "Total Fields",
      key: "total_fields"
    }, {
      header: "Fields Passed %",
      key: "fields_passed_pct"
    }];
    const head = [exportColumns.map((c2) => c2.header)];
    const body = tableSummaryData.map((row) => exportColumns.map((c2) => {
      var _a2;
      return String((_a2 = row[c2.key]) != null ? _a2 : "");
    }));
    autoTable(doc, {
      startY: y2,
      head,
      body,
      theme: "grid",
      styles: {
        fontSize: 8,
        cellPadding: 2,
        lineColor: [220, 220, 220],
        lineWidth: 0.1
      },
      headStyles: {
        fillColor: [46, 46, 46],
        textColor: [255, 255, 255],
        halign: "center",
        fontSize: 8
      },
      margin: {
        left: marginX,
        right: marginX
      }
    });
    const pageCount = doc.internal.getNumberOfPages();
    for (let i2 = 1; i2 <= pageCount; i2++) {
      doc.setPage(i2);
      doc.setFontSize(8);
      doc.setTextColor(120, 120, 120);
      const footerY = pageHeight - 10;
      doc.text(`Generated on ${new Date().toLocaleString()}`, marginX, footerY);
      if (logoImage22) {
        const logoW = 18;
        const logoH = 5;
        const logoX = (pageWidth - logoW) / 2;
        const logoY = pageHeight - 10;
        doc.setFillColor(255, 255, 255);
        doc.rect(logoX - 2, logoY - 1, logoW + 4, logoH + 2, "F");
        doc.addImage(logoImage22, "PNG", logoX, logoY, logoW, logoH);
      }
      doc.text(`Page ${i2} of ${pageCount}`, pageWidth - marginX - 20, footerY);
    }
    return doc.output("blob");
  };
  const handleDownloadReport = async () => {
    if (!effectiveExecutionId) {
      console.error("No execution ID available");
      alert("No execution ID found. Cannot generate report.");
      return;
    }
    console.log(`
====== STARTING EXPORT FOR EXECUTION: ${effectiveExecutionId} ======`);
    setExportLoading(true);
    perf.start("Total Export Time");
    try {
      const base2 = `K2Verify_${effectiveExecutionId}`;
      const zip2 = new JSZip();
      console.log("\n--- Step 1: Generating PDF ---");
      perf.start("PDF Generation + Download");
      const pdfBlob = buildPdfBlob();
      if (pdfBlob) {
        const pdfFileName = `${base2}_Report.pdf`;
        downloadBlob(pdfBlob, pdfFileName);
        console.log(`\u2713 PDF downloaded: ${pdfFileName}`);
      } else {
        console.warn("\u2717 PDF generation skipped (no data)");
      }
      perf.end("PDF Generation + Download");
      console.log("\n--- Step 2: Fetching Broadway data ---");
      perf.start("API Fetching");
      const [colRes, recRes] = await Promise.allSettled([fetchColumnLevelSummary(), fetchRecordDetails()]);
      perf.end("API Fetching");
      console.log("\nFetch Results:");
      console.log(`  Column Summary: ${colRes.status}`);
      console.log(`  Record Details: ${recRes.status}`);
      console.log("\n--- Step 3: Processing Column Details ---");
      perf.start("Column Summary Processing");
      if (colRes.status === "fulfilled") {
        const colFiles = splitColumnSummaryToTableFiles(colRes.value);
        if (colFiles.length > 0) {
          console.log(`Adding ${colFiles.length} column detail files to ZIP:`);
          colFiles.forEach(({
            fileName,
            csv
          }) => {
            const zipFileName = `${base2}_${fileName}`;
            zip2.file(zipFileName, csv);
            console.log(`  \u2713 Added: ${zipFileName}`);
          });
        } else {
          console.warn("\u2717 No column detail files generated");
        }
      } else {
        console.error("\u2717 Column summary fetch failed:", colRes.reason);
      }
      perf.end("Column Summary Processing");
      console.log("\n--- Step 4: Processing Record Details ---");
      perf.start("Record Details Processing");
      if (recRes.status === "fulfilled") {
        const recFiles = splitRecordDetailsToTableFiles(recRes.value);
        if (recFiles.length > 0) {
          console.log(`Adding ${recFiles.length} record detail files to ZIP:`);
          recFiles.forEach(({
            fileName,
            csv
          }) => {
            const zipFileName = `${base2}_${fileName}`;
            zip2.file(zipFileName, csv);
            console.log(`  \u2713 Added: ${zipFileName}`);
          });
        } else {
          console.warn("\u2717 No record detail files generated");
        }
      } else {
        console.error("\u2717 Record details fetch failed:", recRes.reason);
      }
      perf.end("Record Details Processing");
      console.log("\n--- Step 5: Generating ZIP ---");
      perf.start("ZIP Generation");
      const files = Object.keys(zip2.files);
      console.log(`ZIP contains ${files.length} files:`, files);
      if (files.length > 0) {
        const zipBlob = await zip2.generateAsync({
          type: "blob"
        });
        const zipFileName = `${base2}_DetailsBundle.zip`;
        downloadBlob(zipBlob, zipFileName);
        console.log(`\u2713 ZIP downloaded: ${zipFileName}`);
      } else {
        console.warn("\u2717 ZIP is empty, skipping download");
        alert("Warning: No detail data was available to include in the ZIP file. Only the PDF report was generated.");
      }
      perf.end("ZIP Generation");
      console.log("\n====== EXPORT COMPLETED SUCCESSFULLY ======\n");
    } catch (err2) {
      console.error("\n====== EXPORT FAILED ======");
      console.error("Error:", err2);
      alert(`Export failed: ${err2.message}`);
    } finally {
      perf.end("Total Export Time");
      perf.reportAndClear();
      setExportLoading(false);
    }
  };
  return /* @__PURE__ */ jsxs("button", {
    type: "button",
    className,
    onClick: handleDownloadReport,
    style: {
      display: "inline-flex",
      alignItems: "center",
      gap: 8
    },
    disabled: exportLoading || !effectiveExecutionId,
    children: [/* @__PURE__ */ jsx("i", {
      className: exportLoading ? "fa fa-spinner fa-spin" : "fa fa-download",
      "aria-hidden": "true"
    }), exportLoading ? (t3 == null ? void 0 : t3("k2verifyResults.loadingDetails")) || "Preparing..." : (t3 == null ? void 0 : t3("k2verifyResults.downloadReport")) || "Download Report"]
  });
}
var logoImage = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAABXCAYAAAATSzdDAAAACXBIWXMAAAsSAAALEgHS3X78AAAMrUlEQVR4nO1d3XXbOBb+smff7W2A5FawSgVmKrDmlS9WKohSgTEVjFLBMC98XbuCoSqIXMGSrMCqIPuACwuiARIX/IMm+s7RcUKBAER+uBe4P8CHnz9/4oor5sA/lu7AFb8OrmS7YjZcyXbFbPjn0h24NERxlgBYA7ilS3lTF9ViHbogfLjkBUIUZymAFEBCnxWAG0PRGkAF4EB/y6YuDsy2EgACwIPh689NXeSMehL676Gpi1dOP5YCPWsAQFMXpU8d78gWxdkGwMa7V93IXV+KDVGcrSH7l8JMLOBErruOqmoAT9QnK/GiOLuFJNmXnq597KlnZ6jjuamLdU+9i4EIlgOI9etNXXzwqc+kRhN0v6QhKH1vpEEg0PrhGvYAdk1dPLXuSyCJ2b43hnz5X6I42wMQ7RFre9gWPEVxtuqQVCvDtfsozlJfSTEDBNx+uxNMZMsh1c0KJ9X0H8/6a0iCVfQpuRU4vnCrGqP5VB7F2ROAHcxq8A7AX0S6TVMXlUUSdSEGsIV8QRzkOKnVYEDP3Sh0ojhLfOapTnO2KM62AP5g1j1YRURxJgA89hT7vakLwajzgO7Bc4QcGKYyz5ADRqnLBFKl6y/l36YXEcXZK+xq/2tTF7uOPs2OKM4q2Af4Jx9p7LoazcEnm2CWP0MUZznMUkhHzSEaYQ3gfx3f3+CcaEdIibizqMhck745AJsatRENAEQUZ3koiwWasoymPhWcyNbUxWsUZy9gqFPuak+HI9EAD0KTinwGcO9Q/BlSrXaSgEZ5wu2LhhtIQm8G1DEKtAXR6OAYdWcZdTSqXIgGyNWkD1zvS3Gyp02NhyjOTIuIubFFv1TzeiZBeRBoVLnOXV4GqB1XsimJMwgMEi06b6Pnv3Uo6jUogiIb5A/tmtvo8FbTRNKjY/H7ESSOqyS4I8m+FHZwf/5shEg2V1QD2+KQldOvoRAkYWYF2SNdpy9eCIZs5BngjKpqYJMcFTynlV/Z6+bG5Co8GLKBPw+oBrbHkWw3um/QA9x7H0nSzAL6bS6rc4WLn7OlS3egB3OvFOdcLAhm+ctfjQaOuedR9wOlqRNo+jKVL/wMV7LNA1+i5mN2woLZJOiVbPPAVwXH5JeeBFS3j1sq8WnvSrbwMYkpZKBbystvGhLZgnBCd8DbiDwQo3gxDOAY0EdBSGQrZ26PKy2GkC0xXKsZ94/qNyWzikk978dqw4SQyMZ1qqcD2+O8vHpgUotJ7WzBI9yY0k3gvVRToVRO8FHtwZCNXubLjE1yHtYUauwVvJCiUfymHW6pHXhTGbakDYZsBM5LTQe25Rqbd8REJgiKg+OorjEWC7nhGkuq+SIoslEegevD957DMI2lYkgErYPbSTCqG+Q37cgrsEUhj4qgyEbYwC3854as3z5wvW8/Qm5A0vUlSbfvjPqG+E2F4VqNmQy7wZGN5m6uZJiSbC8D6udCMMuzyUHzPZNU0yV3xajy4udsAN5G+2/ol3BskwBlbPUZJV8ApHMloNAA40g3H7+pMFyr9RRI5or7clejbVCycYr+FeqT66SZRndfauC3pi66ko25MA4GQyrcFu7RwwBj0dIxwASjvcEIlmyENfpXjTGAqsssEMXZLT3wPzvq2UPmQ47ti3QaCERujnp08pt25BWcSbU5EOQuRqQac5yIdoRcOKgH1ybgDYA/iVAlzuceK3TvC/IMuRorh/V6FOzAcyO55Jva6hPMvrWRcG8IjmwkofTEi/b8Kde2rWrHYsXoj6M/QhLyCXI3o2qMfo8Bys/dolsC6+jMN6XnZJo2jCHVEu4NQZHNkJxsnKgTQXb0UZLwFnZDb6U+C5Ar5RRu6iJ3XMQoPERxtrMkhQvLPbbrgByMkzjogyGbJQu+NxsdOMu+L0fu1lIQcJdugBx0qX6BBqBJyvdJtQMmitwNYoFAI7n9YL4P2cLhksH0pABmv6ltsSE8ujQKFicbjUDTvKKcuStTwbQadSGSYLbz5jftcEuNuQJlS7/FyYYFR9pM8NrbzsNJr/tNc0uZJfJR37Ao2Wgk2vIV0xm7Eio2zPKPHYuLfXtXzrmxtGRLO757GOBo/1vAw40F2D0kYlBnRsDSZOvza/43ijMxVnZ4FGerKM5S+kyedDxSvwV4biwT9gyjtWs5zu5MAAIyfXTgEVI9qB3AS0s5ZWvT/99pL4riTP3zCLnkP1D95Ui+0WRoBdr+vn0+3S6Iof2wgOWMvwSyKcT0mcIGdEP13oE2babdKadyY3GJzHVj6eBItUmxtBoNGfeQO4iXE6hclv3Qw0mvQ3jeNzqWJlu5cPsuuAPwg1Z5XCRjdYI2quZkYwHTS7WEU3hRstGDGDr5nQuP5FLjIBm5D2Li8lwknMJLSzbAfxPmJfBAk/VFQNZ/13THYOZqCiGQTeBypBsgjx9KHcu6luPA1QsgJmi7DdZclkM21irQNVSbDJeLulE8kDuWs72MxLdhRzfW80xSLeUUdiKb56Z0ztZ/Ug9fPdpYCnFfdjoFQdpMFeuBBl/R873X4CUBsWHccsPZ0st6dhU1vKKPAN/GozLJn+AYtEjuqdyjrSXw7mwuMpEkkAPNNWJYGZJZgZ0dp+B8b+piw6gnxelAvDX8tsP6jtNvKG2FTOeNCgyzVneh91AzLUHD14g5J/5FodwpgL9GqtPpEDKSjKYzuIwHtbXuTTFef00wvucQFghnaOrilTqaAPgMOWrm3HCGg3SpholQ37RLe8ijMKtFOuQA23mj5UTtVa4FyWqeQ5uMk5rd4VzU7yFVdadV3nBwrfKlqqnCGnxJutLa/sS81waOd0EAePJYDIzZXxMq08Xgz4jXNq7b4JwMR8itA0azezmc1twGa370qyNYshHJBMyT4CNk1tXoOQo0ZyzhFmG7b+oiHbsPf1cEN2cD3hYpB8xMNOBNfacId554sQgqxMhBqkxKNAUtWXjKFdsvh2AkG03YK3Srr81c6X0eCSdX9CAIyaZJtK7V4BIJG0/odtN5EZ9+723IZooozlauA5vm1xvI1Xll25wnCLJBvtQ+s4OYoR9t9D3ss4hbWs1ubIWbuki1gZXQC62GdXF8UGTLlyjOPjvmmb5C2kXv0aENFlejHTsi6nhZIlzGoc2z7+nFlKAQc1qpKhfcneYPPUBOGcbIc5gCB5zyMnqh2UQ7EYJkEw5lgox5cxkA6kXQoErons2E3RoMGjT52PUuSjZaFLgYUMuJu+KDZ05hZY8jv2QKCnBo6uJAz2ENqYpKnM5IuIVMunkbbFpkhgoCKJUfUqtnpdWz7qhni5PL7QBJsFe9Dl2N0oBR9VUAtpwstKXVaOpYbhF10xOTlzPq2WphWhvIQId7nFLhVnTtAdIdp+Lg7iBzZxOqR63YtzgtXh61cCdVzz2kxkggn127HjVv3Gq/4wv1J8HJmP5WPoqzEnJnpQOVe+A8A2B5srkGWM5i7jDAFvxYu6yMKTOrhDZVMLm3WrsW7Zq6EBS+pCKYE/qrJMqK3HTP+veWejY4Jcqk6jtIE5No6iInqfuxqYuS1Lzpt91SGaH9Hqf3p7A02ZwwxRGIjrAFgArH+wV9Ss/2zwYZkWEFQO0R7BqWXdHfhP6q3/VWf2tAV9q/VSTOCqe9i5VpgxW9vfQCwVU9qjnI3DCRbe+67ZRaQERx9ooRpgI06HJINamCL32CHZWZyXkQE7lVjCFrvqqwtGQrF27fChrB7RepNpJmoamLw0j2tB0k0WrIAeg7vVDq2Sa5z0DzzUdIon2CZ8L00nmjB7gl3qYTd+UMkf2U4e1Q0rRyD3Q1qK6nWh/U9+tWmZi+S1rX++pR3ymyPNDGPbf0Wen3au3q/VSr5jbUPSvbtGfxECPHMPQXmjPMAkt8/7e+MxJMO523+x3FWYWTxDxCvqQU51JGQEpQvQ8fIV9yTvXX9O8N1fc7pKTT+2iq57O2SbT+3NXJfBXO9/P9Su0cqJ0jTguIB8gFyRbAD+2ed/kZQBhku8Xph3ShN7Z+pP5s8H7z5GCCJOl5JfqEPoqzxPfZKJOMY97Daki7i5MNeLMf/egpNvkLp7CiP1qXe5N0rnBDEGQDrBKljd+miPwgabHDubo5QoY0Bekqu0QEQzbgTcKVsEeAjB48SWokx/skmk2IERmXjKDIBryzJdnwOwae/kskEzg3TNYgq7pvvVfYERzZFCxk0KEy7nNGkF+K05lXuiS7kmwGBEs2BS2Vr02QNvaQVvo28VaQlvI2adUS/uk6L5sHwZNNR3Q6jW9FH86BFioYsIQMnSnH7d0VfbgosplABEy6ylyJFQYunmxXXA6WdsRf8QvhSrYrZsOVbFfMhv8DuIcBDRSarfMAAAAASUVORK5CYII=";
var logoImage2 = "/static/k2verify/assets/k2view-logo-dark.284b80b7.png";
function K2VerifyResultsDetailed() {
  var _a2;
  const {
    state
  } = useLocation();
  window.k2api = window.k2api || window.parent.k2api;
  const t3 = window.k2api.i18n.translate;
  if (!state)
    return /* @__PURE__ */ jsxs("div", {
      className: "k2vr-card",
      children: [/* @__PURE__ */ jsx("h2", {
        children: t3("k2verifyResults.noDataTitle")
      }), /* @__PURE__ */ jsx("p", {
        children: t3("k2verifyResults.noDataSubtitle")
      })]
    });
  const executionId = state.execution_id;
  const failedTables = state.total_tables_failed;
  const isFailed = ((_a2 = state.execution_status) == null ? void 0 : _a2.toLowerCase()) === "failed";
  const statusStyles = isFailed ? {
    bg: "#FDECEC",
    text: "#B42323",
    border: "#F2B8B8"
  } : {
    bg: "#E8F7EE",
    text: "#1F7A3E",
    border: "#BFE6CE"
  };
  const [selectedRow, setSelectedRow] = react.exports.useState({
    rowIndex: null,
    metricKeys: []
  });
  const [tableSummaryData, setTableSummaryData] = react.exports.useState([]);
  const {
    fetchData: fetchTableSummaryData,
    loading: tableSummaryLoading,
    error: tableSummaryError
  } = useFetchData(`/api/fabric-command?command=${encodeURIComponent(`broadway K2Verify.bwK2VerifyResultTables execution_id=${executionId} RESULT_STRUCTURE=CURSOR`)}`);
  const [isColumnModalOpen, setIsColumnModalOpen] = react.exports.useState(false);
  const [columnModalTableName, setColumnModalTableName] = react.exports.useState("");
  const [columnModalData, setColumnModalData] = react.exports.useState([]);
  const [columnModalLoading, setColumnModalLoading] = react.exports.useState(false);
  const [columnModalError, setColumnModalError] = react.exports.useState(null);
  const fetchColumnLevelDataForModal = async (sourceTableName) => {
    setColumnModalLoading(true);
    setColumnModalError(null);
    try {
      const command = `broadway K2Verify.bwK2VerifyResultColumns source_table_name=${sourceTableName} execution_id=${executionId} RESULT_STRUCTURE=CURSOR`;
      const res = await fetch(`/api/fabric-command?command=${encodeURIComponent(command)}`);
      if (!res.ok)
        throw new Error(`HTTP error! status: ${res.status}`);
      const data2 = await res.json();
      setColumnModalData(Array.isArray(data2) ? data2 : []);
    } catch (err2) {
      const msg = (err2 == null ? void 0 : err2.message) || t3("k2verifyResults.toasts.loadColumnFailed");
      setColumnModalError(msg);
      toast.error(msg);
      setColumnModalData([]);
    } finally {
      setColumnModalLoading(false);
    }
  };
  const handleOptionView = (row) => {
    const name = row == null ? void 0 : row.source_table_name;
    if (!name)
      return;
    setColumnModalTableName(name);
    setIsColumnModalOpen(true);
    fetchColumnLevelDataForModal(name);
  };
  const [recordDetailsLoading, setRecordDetailsLoading] = react.exports.useState(false);
  const [recordDetailsError, setRecordDetailsError] = react.exports.useState(null);
  const CHUNK_SIZE = 2e3;
  const [recordDetailsDataBuffer, setRecordDetailsDataBuffer] = react.exports.useState([]);
  const [recordDetailsBufferStart, setRecordDetailsBufferStart] = react.exports.useState(0);
  const [recordDetailsTotal, setRecordDetailsTotal] = react.exports.useState(0);
  const [recordDetailsPagination, setRecordDetailsPagination] = react.exports.useState({
    pageIndex: 0,
    pageSize: 5
  });
  const fetchRecordDetailsChunk = async (sourceTableName, metricKeys, {
    offset,
    limit = CHUNK_SIZE,
    isCountRequired = false
  }) => {
    var _a3, _b2;
    if (!sourceTableName || !(metricKeys == null ? void 0 : metricKeys.length)) {
      setRecordDetailsDataBuffer([]);
      setRecordDetailsTotal(0);
      setRecordDetailsBufferStart(0);
      return;
    }
    setRecordDetailsLoading(true);
    setRecordDetailsError(null);
    try {
      const metricsParam = metricKeys.join(",");
      const command = `
        broadway K2Verify.bwK2VerifyResultRecordDetails 
        source_table_name='${sourceTableName}' execution_id='${executionId}'
        selected_metrics='${metricsParam}' queryLimit=${limit} queryOffset=${offset}
        isCountRequired=${isCountRequired ? "true" : "false"} RESULT_STRUCTURE=CURSOR
      `.replace(/\s+/g, " ");
      const res = await fetch(`/api/fabric-command?command=${encodeURIComponent(command)}`);
      if (!res.ok)
        throw new Error(`HTTP error! status: ${res.status}`);
      const data2 = await res.json();
      let rows = [], total = null;
      if (Array.isArray(data2) && data2.length >= 2 && typeof ((_a3 = data2[0]) == null ? void 0 : _a3.map) === "number" && Array.isArray((_b2 = data2[1]) == null ? void 0 : _b2.map)) {
        rows = data2[1].map;
        if (isCountRequired)
          total = data2[0].map;
      } else if (data2 && Array.isArray(data2.rows)) {
        rows = data2.rows;
        if (typeof data2.count === "number")
          total = data2.count;
      } else if (Array.isArray(data2)) {
        rows = data2;
        if (isCountRequired)
          total = data2.length;
      }
      setRecordDetailsDataBuffer(rows);
      setRecordDetailsBufferStart(offset);
      if (typeof total === "number")
        setRecordDetailsTotal(total);
    } catch (err2) {
      const msg = (err2 == null ? void 0 : err2.message) || t3("k2verifyResults.toasts.loadRecordFailed");
      setRecordDetailsError(msg);
      toast.error(msg);
      setRecordDetailsDataBuffer([]);
      setRecordDetailsTotal(0);
      setRecordDetailsBufferStart(0);
    } finally {
      setRecordDetailsLoading(false);
    }
  };
  const currentRecordDetailsPageData = react.exports.useMemo(() => {
    const {
      pageIndex,
      pageSize
    } = recordDetailsPagination;
    const absStart = pageIndex * pageSize;
    const absEnd = absStart + pageSize;
    const localStart = absStart - recordDetailsBufferStart;
    const localEnd = absEnd - recordDetailsBufferStart;
    if (localStart < 0 || localStart >= recordDetailsDataBuffer.length)
      return [];
    return recordDetailsDataBuffer.slice(Math.max(0, localStart), Math.max(0, localEnd));
  }, [recordDetailsPagination, recordDetailsBufferStart, recordDetailsDataBuffer]);
  react.exports.useEffect(() => {
    if (selectedRow.rowIndex == null || !selectedRow.metricKeys.length)
      return;
    const rowData = tableSummaryData[selectedRow.rowIndex];
    if (!(rowData == null ? void 0 : rowData.source_table_name))
      return;
    fetchRecordDetailsChunk(rowData.source_table_name, selectedRow.metricKeys, {
      offset: 0,
      limit: CHUNK_SIZE,
      isCountRequired: true
    });
    setRecordDetailsPagination((p2) => ({
      ...p2,
      pageIndex: 0
    }));
  }, [selectedRow.rowIndex, selectedRow.metricKeys.join(","), tableSummaryData]);
  const handleCellClick = (rowIndex, metricKey) => {
    setSelectedRow((prev) => {
      const pageSize = recordDetailsPagination.pageSize;
      const rowData = tableSummaryData[rowIndex];
      let next;
      if (prev.rowIndex !== rowIndex) {
        next = {
          rowIndex,
          metricKeys: [metricKey]
        };
        setRecordDetailsPagination({
          pageIndex: 0,
          pageSize
        });
      } else {
        const has = prev.metricKeys.includes(metricKey);
        if (has) {
          const newMetrics = prev.metricKeys.filter((m2) => m2 !== metricKey);
          if (!newMetrics.length) {
            next = {
              rowIndex: null,
              metricKeys: []
            };
            setRecordDetailsDataBuffer([]);
            setRecordDetailsTotal(0);
            setRecordDetailsBufferStart(0);
          } else {
            next = {
              rowIndex,
              metricKeys: newMetrics
            };
            setRecordDetailsPagination({
              pageIndex: 0,
              pageSize
            });
          }
        } else {
          next = {
            rowIndex,
            metricKeys: [...prev.metricKeys, metricKey]
          };
          setRecordDetailsPagination({
            pageIndex: 0,
            pageSize
          });
        }
      }
      if ((rowData == null ? void 0 : rowData.source_table_name) && (next == null ? void 0 : next.rowIndex) === rowIndex) {
      }
      return next;
    });
  };
  react.exports.useEffect(() => {
    let alive = true;
    (async () => {
      try {
        const rows = await fetchTableSummaryData();
        if (alive)
          setTableSummaryData(Array.isArray(rows) ? rows : []);
      } catch (err2) {
        toast.error((err2 == null ? void 0 : err2.message) || t3("k2verifyResults.toasts.loadTableSummaryFailed"));
      }
    })();
    return () => {
      alive = false;
    };
  }, [fetchTableSummaryData]);
  react.exports.useEffect(() => {
    if (tableSummaryError)
      toast.error(tableSummaryError.message || t3("k2verifyResults.toasts.loadTableSummaryFailed"));
  }, [tableSummaryError]);
  const columnLevelColumns = [{
    header: "Column Name",
    accessorKey: "column_name",
    size: 200,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Total Failed",
    accessorKey: "total_failed",
    size: 150,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => /* @__PURE__ */ jsx("span", {
      className: value > 0 ? "k2vr-text-red" : "k2vr-text-green",
      children: value
    })
  }];
  const recordDetailsColumns = [{
    header: "Customized Key",
    accessorKey: "customized_key",
    enableSorting: false,
    enableColumnFilter: true
  }, {
    header: "Column Name",
    accessorKey: "column_name",
    enableSorting: false,
    enableColumnFilter: false
  }, {
    header: "Match Result",
    accessorKey: "match_result",
    enableSorting: false,
    enableColumnFilter: false,
    cell: ({
      value
    }) => /* @__PURE__ */ jsx("span", {
      className: (value == null ? void 0 : value.toLowerCase()) === "passed" ? "k2vr-text-green" : "k2vr-text-red",
      children: value
    })
  }, {
    header: "Source Column Value",
    accessorKey: "source_column_value",
    enableSorting: false,
    enableColumnFilter: false
  }, {
    header: "Target Column Value",
    accessorKey: "target_column_value",
    enableSorting: false,
    enableColumnFilter: false
  }];
  const tableColumns = [{
    header: "Source Table",
    accessorKey: "source_table_name",
    size: 150,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Target Table",
    accessorKey: "target_table_name",
    size: 150,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Result",
    accessorKey: "result",
    size: 150,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value
    }) => /* @__PURE__ */ jsx("span", {
      className: (value == null ? void 0 : value.toLowerCase()) === "passed" ? "k2vr-text-green" : "k2vr-text-red",
      children: value
    })
  }, {
    header: "Start Time",
    accessorKey: "start_time",
    size: 150,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "End Time",
    accessorKey: "end_time",
    size: 150,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Total Records",
    accessorKey: "total_records",
    size: 178,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Records Passed %",
    accessorKey: "records_passed_pct",
    size: 211,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Records Only in Source",
    accessorKey: "records_only_in_source",
    size: 219,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value,
      row
    }) => {
      const isSel = selectedRow.rowIndex === row.index && selectedRow.metricKeys.includes("records_only_in_source");
      return /* @__PURE__ */ jsx("button", {
        type: "button",
        onClick: () => handleCellClick(row.index, "records_only_in_source"),
        className: `k2vr-metric-btn ${isSel ? "selected" : ""}`,
        children: value
      });
    }
  }, {
    header: "Records Only in Target",
    accessorKey: "records_only_in_target",
    size: 212,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value,
      row
    }) => {
      const isSel = selectedRow.rowIndex === row.index && selectedRow.metricKeys.includes("records_only_in_target");
      return /* @__PURE__ */ jsx("button", {
        type: "button",
        onClick: () => handleCellClick(row.index, "records_only_in_target"),
        className: `k2vr-metric-btn ${isSel ? "selected" : ""}`,
        children: value
      });
    }
  }, {
    header: "Failed Validation Records",
    accessorKey: "mismatched_records",
    size: 220,
    enableSorting: true,
    enableColumnFilter: true,
    cell: ({
      value,
      row
    }) => {
      const isSel = selectedRow.rowIndex === row.index && selectedRow.metricKeys.includes("mismatched_records");
      return /* @__PURE__ */ jsx("button", {
        type: "button",
        onClick: () => handleCellClick(row.index, "mismatched_records"),
        className: `k2vr-metric-btn ${isSel ? "selected" : ""}`,
        children: value
      });
    }
  }, {
    header: "Total Fields",
    accessorKey: "total_fields",
    size: 138,
    enableSorting: true,
    enableColumnFilter: true
  }, {
    header: "Fields Passed %",
    accessorKey: "fields_passed_pct",
    size: 203,
    enableSorting: true,
    enableColumnFilter: true
  }];
  const pageCount = recordDetailsPagination.pageSize > 0 ? Math.max(1, Math.ceil(recordDetailsTotal / recordDetailsPagination.pageSize)) : 1;
  return /* @__PURE__ */ jsxs(Fragment, {
    children: [/* @__PURE__ */ jsx(ToastContainer, {
      position: "top-right",
      autoClose: 5e3,
      theme: "colored"
    }), /* @__PURE__ */ jsx(ResultsHeader, {
      executionResult: state.execution_status,
      statusStyles,
      taskId: state.task_id,
      taskName: state.task_name,
      executionId: state.execution_id,
      startTime: state.start_time,
      endTime: state.end_time,
      totalTables: state.total_tables,
      failedTables,
      percentFailed: state.percent_records_failed,
      pdfButton: /* @__PURE__ */ jsx(K2VerifyReportPdfButton, {
        state,
        tableSummaryData,
        executionId,
        failedTables,
        t: t3,
        logoImage,
        logoImage2,
        className: "new-task-btn"
      })
    }), /* @__PURE__ */ jsxs("div", {
      className: "k2vr-card k2vr-card-wide",
      children: [/* @__PURE__ */ jsx("div", {
        className: "k2vr-card-header",
        style: {
          display: "flex",
          justifyContent: "space-between",
          alignItems: "center"
        },
        children: /* @__PURE__ */ jsx("h2", {
          children: t3("k2verifyResults.tableLevelTitle")
        })
      }), /* @__PURE__ */ jsx("hr", {
        className: "k2vr-hr"
      }), /* @__PURE__ */ jsx(ReactTable, {
        data: tableSummaryData,
        columns: tableColumns,
        initialPageSize: 5,
        loading: tableSummaryLoading,
        isOptionsRequired: true,
        onOptionView: handleOptionView
      })]
    }), /* @__PURE__ */ jsxs("div", {
      className: "k2vr-card k2vr-card-wide",
      children: [/* @__PURE__ */ jsx("h2", {
        className: "k2vr-section-title",
        children: t3("k2verifyResults.recordDetailsTitle")
      }), selectedRow.rowIndex != null && selectedRow.metricKeys.length > 0 && tableSummaryData[selectedRow.rowIndex] ? /* @__PURE__ */ jsxs(Fragment, {
        children: [/* @__PURE__ */ jsxs("p", {
          className: "k2vr-subtle",
          children: [t3("k2verifyResults.tableLabel"), " ", /* @__PURE__ */ jsx("strong", {
            children: tableSummaryData[selectedRow.rowIndex].source_table_name
          })]
        }), /* @__PURE__ */ jsx("hr", {
          className: "k2vr-hr-thin"
        }), /* @__PURE__ */ jsx(ReactTablePaginate, {
          data: currentRecordDetailsPageData,
          columns: recordDetailsColumns,
          initialPageSize: recordDetailsPagination.pageSize,
          loading: recordDetailsLoading,
          serverSidePagination: true,
          totalRows: recordDetailsTotal,
          externalPageCount: pageCount,
          onPageChange: ({
            pageIndex,
            pageSize
          }) => {
            setRecordDetailsPagination({
              pageIndex,
              pageSize
            });
            const absStart = pageIndex * pageSize;
            const absEnd = absStart + pageSize;
            const bufEnd = recordDetailsBufferStart + recordDetailsDataBuffer.length;
            const rowData = tableSummaryData[selectedRow.rowIndex];
            if (!(rowData == null ? void 0 : rowData.source_table_name))
              return;
            if (absStart < recordDetailsBufferStart || absEnd > bufEnd) {
              const newOffset = Math.floor(absStart / CHUNK_SIZE) * CHUNK_SIZE;
              fetchRecordDetailsChunk(rowData.source_table_name, selectedRow.metricKeys, {
                offset: newOffset,
                limit: CHUNK_SIZE,
                isCountRequired: false
              });
            }
          }
        }), recordDetailsError && /* @__PURE__ */ jsx("p", {
          className: "k2vr-error",
          children: recordDetailsError
        })]
      }) : /* @__PURE__ */ jsx("p", {
        className: "k2vr-hint",
        children: t3("k2verifyResults.recordDetailsHint")
      })]
    }), isColumnModalOpen && /* @__PURE__ */ jsx("div", {
      className: "k2vr-modal-overlay",
      onClick: () => setIsColumnModalOpen(false),
      children: /* @__PURE__ */ jsxs("div", {
        className: "k2vr-modal",
        onClick: (e) => e.stopPropagation(),
        children: [/* @__PURE__ */ jsxs("div", {
          className: "k2vr-modal-header",
          children: [/* @__PURE__ */ jsxs("h3", {
            children: [t3("k2verifyResults.columnLevelTitle"), " \u2013", " ", /* @__PURE__ */ jsx("span", {
              children: columnModalTableName
            })]
          }), /* @__PURE__ */ jsx("button", {
            className: "k2vr-modal-close",
            onClick: () => setIsColumnModalOpen(false),
            "aria-label": "close",
            children: "\xD7"
          })]
        }), /* @__PURE__ */ jsx("hr", {
          className: "k2vr-hr-thin"
        }), /* @__PURE__ */ jsx(ReactTable, {
          data: columnModalData,
          columns: columnLevelColumns,
          initialPageSize: 10,
          loading: columnModalLoading,
          defaultMessage: "All columns Passed."
        }), columnModalError && /* @__PURE__ */ jsx("p", {
          className: "k2vr-error",
          children: columnModalError
        })]
      })
    })]
  });
}
function Breadcrumb({
  homeTo = "/tasks",
  homeLabel = "Home"
}) {
  const {
    pathname
  } = useLocation();
  const [searchParams] = useSearchParams();
  const segments = react.exports.useMemo(() => pathname.split("/").filter(Boolean), [pathname]);
  const crumbs = react.exports.useMemo(() => {
    const c2 = [];
    if (segments.length === 1 && segments[0] === "tasks") {
      c2.push({
        to: "/tasks",
        label: "Tasks"
      });
    } else if (segments.length === 2 && segments[0] === "history") {
      const taskId = decodeURIComponent(segments[1]);
      c2.push({
        to: "/tasks",
        label: "Tasks"
      });
      c2.push({
        to: `/history/${taskId}`,
        label: `Task Execution History: Task Id ${taskId}`
      });
    } else if (segments.length === 4 && segments[0] === "history" && segments[2] === "detailed") {
      const taskId = decodeURIComponent(segments[1]);
      const executionId = decodeURIComponent(segments[3]);
      c2.push({
        to: "/tasks",
        label: "Tasks"
      });
      c2.push({
        to: `/history/${taskId}`,
        label: `Task Execution History: Task Id ${taskId}`
      });
      c2.push({
        to: `/history/${taskId}/detailed/${executionId}`,
        label: `Task Execution History Detailed: Execution Id ${executionId}`
      });
    } else if (segments.length === 2 && segments[0] === "execution") {
      const taskId = decodeURIComponent(segments[1]);
      c2.push({
        to: "/tasks",
        label: "Tasks"
      });
      c2.push({
        to: `/execution/${taskId}`,
        label: `Active Task Execution: Task Id ${taskId}`
      });
    } else if (segments.length === 1 && segments[0] === "results") {
      c2.push({
        to: "/results",
        label: "Results"
      });
    } else if (segments.length === 2 && segments[0] === "results") {
      const executionId = decodeURIComponent(segments[1]);
      c2.push({
        to: "/results",
        label: "Results"
      });
      c2.push({
        to: `/results/${executionId}`,
        label: `Results for Task Execution Id ${executionId}`
      });
    } else {
      if (segments[0])
        c2.push({
          to: "/tasks",
          label: "Tasks"
        });
    }
    if (c2.length)
      c2[c2.length - 1].isLast = true;
    return c2;
  }, [segments]);
  const hasSearch = !searchParams.entries().next().done;
  return /* @__PURE__ */ jsx("div", {
    className: "breadcrumb-custom",
    style: {
      padding: "0 30px"
    },
    children: /* @__PURE__ */ jsxs("ul", {
      className: "k2-breadcrumb",
      children: [/* @__PURE__ */ jsx("li", {
        children: /* @__PURE__ */ jsx(Link, {
          to: homeTo,
          children: homeLabel
        })
      }, "home"), crumbs.map(({
        to,
        label,
        isLast
      }) => /* @__PURE__ */ jsx("li", {
        children: isLast ? /* @__PURE__ */ jsx("span", {
          "aria-current": "page",
          children: label
        }) : /* @__PURE__ */ jsx(Link, {
          to,
          children: label
        })
      }, `${to}-${label}`)), hasSearch && /* @__PURE__ */ jsx("li", {
        children: /* @__PURE__ */ jsx("span", {
          children: "Results"
        })
      }, "results")]
    })
  });
}
var App$1 = "";
var k2 = "";
function App() {
  const navigate = useNavigate();
  react.exports.useEffect(() => {
    window.k2api = window.k2api || window.parent.k2api;
    window.k2api.registerNavigateTo((path) => {
      navigate(path);
      return true;
    });
    window.k2api.setNavigationMenu([{
      name: "Tasks",
      path: "/tasks"
    }, {
      name: "Results",
      path: "/results"
    }]);
  }, [navigate]);
  return /* @__PURE__ */ jsxs("div", {
    className: "min-h-screen bg-[#cccccc] pt-[30px] px-[30px] pb-[45px]",
    children: [/* @__PURE__ */ jsx(Breadcrumb, {}), /* @__PURE__ */ jsxs(Routes, {
      children: [/* @__PURE__ */ jsx(Route, {
        path: "/",
        element: /* @__PURE__ */ jsx(Navigate, {
          to: "/tasks",
          replace: true
        })
      }), /* @__PURE__ */ jsx(Route, {
        path: "/tasks",
        element: /* @__PURE__ */ jsx(K2VerifyHomePage, {})
      }), /* @__PURE__ */ jsx(Route, {
        path: "/task",
        element: /* @__PURE__ */ jsx(K2VerifyTaskCreation, {})
      }), /* @__PURE__ */ jsx(Route, {
        path: "/history/:taskId",
        element: /* @__PURE__ */ jsx(K2VerifyTaskHistory, {})
      }), /* @__PURE__ */ jsx(Route, {
        path: "/execution/:taskId",
        element: /* @__PURE__ */ jsx(K2VerifyExecution, {})
      }), /* @__PURE__ */ jsx(Route, {
        path: "/results",
        element: /* @__PURE__ */ jsx(K2VerifyTaskResults, {})
      }), /* @__PURE__ */ jsx(Route, {
        path: "/results/:executionId",
        element: /* @__PURE__ */ jsx(K2VerifyResultsDetailed, {})
      }), /* @__PURE__ */ jsx(Route, {
        path: "/history/:taskId/detailed/:executionId",
        element: /* @__PURE__ */ jsx(K2VerifyTaskHistoryDetailed, {})
      }), /* @__PURE__ */ jsx(Route, {
        path: "*",
        element: /* @__PURE__ */ jsx(K2VerifyHomePage, {})
      })]
    })]
  });
}
client.createRoot(document.getElementById("root")).render(/* @__PURE__ */ jsx(React.StrictMode, {
  children: /* @__PURE__ */ jsx(BrowserRouter, {
    children: /* @__PURE__ */ jsx(App, {})
  })
}));
export { _typeof as _, commonjsGlobal as c };
