tags: d2d,d2dv2,D2D,k2verify
stages:
  Execution params:
    remark: This flow performs data verification between two record sets â€” one from
      the source and one from the target.
    actors:
      FETCH_SIZE:
        parent: GetLUVariable
        in:
          variableName:
            const: K2VERIFY_KEYS_FETCH_SIZE
          luName:
            external: schema
      SEPERATOR:
        parent: GetLUVariable
        in:
          variableName:
            const: K2VERIFY_CONF_SEPARATOR
          luName:
            external: schema
      RESULT_INTERFACE:
        parent: GetLUVariable
        in:
          variableName:
            const: K2VERIFY_OPERATIONAL_INTERFACE
          luName:
            external: schema
      LOAD_SCHEMA:
        parent: GetLUVariable
        in:
          variableName:
            const: K2VERIFY_OPERATIONAL_SCHEMA
          luName:
            external: schema
      K2VERIFY_LOG_PASS:
        parent: FabricSetRead
        in:
          key:
            const: K2VERIFY_LOG_PASS
  Table config:
    actors:
      IID:
        parent: Const
        in:
          value:
            const: null
            external: IID
        out:
          value:
            schema: string
      ExcludeCondition:
        parent: Const
        in:
          value:
            const: null
            external: excludeCondition
        out:
          value:
            schema: string
      CustomizedKey:
        parent: Const
        in:
          value:
            const: null
            external: customizedKeyComparison
            schema: string
        out:
          value:
            schema: string
      PIIColumns:
        parent: Const
        in:
          value:
            const: null
            external: Pii_Columns
            schema: string
        out:
          value:
            schema: string
      BucketRowsFlow:
        parent: Const
        in:
          value:
            const: null
            external: bucketMethod
            schema: string
        out:
          value:
            schema: string
  Tables details:
    actors:
      SRC DB Interface:
        parent: Const
        in:
          value:
            const: null
            external: sourceInterface
        out:
          value:
            schema: string
      SRC DB Schema:
        parent: Const
        in:
          value:
            const: null
            external: sourceSchema
        out:
          value:
            schema: string
      SRC DB Table:
        parent: Const
        in:
          value:
            const: null
            external: sourceTable
        out:
          value:
            schema: string
      TAR DB Interface:
        parent: Const
        in:
          value:
            const: null
            external: targetInterface
        out:
          value:
            schema: string
      TAR DB Schema:
        parent: Const
        in:
          value:
            const: null
            external: targetSchema
        out:
          value:
            schema: string
      TAR DB Table:
        parent: Const
        in:
          value:
            const: null
            external: targetTable
        out:
          value:
            schema: string
  Comparison keys:
    actors:
      CustomKeysArr:
        parent: Split
        in:
          delimiter:
            const: null
            link: SEPERATOR/variableValue
          string:
            link: CustomizedKey/value
  Prep Data Queries:
    actors:
      SourceEnvQuery:
        parent: InnerFlow
        in:
          flowName:
            const: bwGenerateSelectStmt
          interface:
            link: SRC DB Interface/value
            schema: string
            mandatory: false
            createdBy: flowName
          schema:
            link: SRC DB Schema/value
            schema: string
            mandatory: false
            createdBy: flowName
          table:
            link: SRC DB Table/value
            schema: string
            mandatory: false
            createdBy: flowName
          env_prefix:
            const: SRC
            schema: string
            mandatory: false
            createdBy: flowName
          excludedColumnsNames:
            external: excludedColumnsNames
            schema: string
            mandatory: false
            createdBy: flowName
          customizedKeyComparison:
            link: CustomizedKey/value
            schema: string
            mandatory: false
            createdBy: flowName
          delimiter:
            link: SEPERATOR/variableValue
            schema: string
            mandatory: false
            createdBy: flowName
          ColumnMapping:
            external: ColumnMapping
            schema: string
            mandatory: false
            createdBy: flowName
          pii_columns:
            link: PIIColumns/value
            schema: string
            mandatory: false
            createdBy: flowName
          excludeCondition:
            link: ExcludeCondition/value
            schema: string
            mandatory: false
            createdBy: flowName
        out:
          sql:
            schema: string
          columns:
            schema: '#ref'
      TargetEnvQuery:
        parent: InnerFlow
        in:
          flowName:
            const: bwGenerateSelectStmt
          interface:
            link: TAR DB Interface/value
            schema: string
            mandatory: false
            createdBy: flowName
          schema:
            link: TAR DB Schema/value
            schema: string
            mandatory: false
            createdBy: flowName
          table:
            link: TAR DB Table/value
            schema: string
            mandatory: false
            createdBy: flowName
          env_prefix:
            const: TAR
            schema: string
            mandatory: false
            createdBy: flowName
          excludedColumnsNames:
            external: excludedColumnsNames
            schema: string
            mandatory: false
            createdBy: flowName
          customizedKeyComparison:
            link: CustomizedKey/value
            schema: string
            mandatory: false
            createdBy: flowName
          delimiter:
            link: SEPERATOR/variableValue
            schema: string
            mandatory: false
            createdBy: flowName
          ColumnMapping:
            external: ColumnMapping
            schema: string
            mandatory: false
            createdBy: flowName
          pii_columns:
            link: PIIColumns/value
            schema: string
            mandatory: false
            createdBy: flowName
          excludeCondition:
            link: ExcludeCondition/value
            schema: string
            mandatory: false
            createdBy: flowName
        out:
          sql:
            schema: string
          columns:
            schema: '#ref'
      GetSummaryTables:
        parent: InnerFlow
        in:
          flowName:
            const: bwGetSummaryTableNames
          interface:
            link: RESULT_INTERFACE/variableValue
            schema: string
            mandatory: false
        out:
          field_summary:
            schema: string
          record_summary:
            schema: string
          table_summary:
            schema: string
          entity_summary:
            schema: string
          schema:
            schema: string
  Exctract comparison keys:
    transactional: false
    actors:
      GetBucketKeysList:
        parent: InnerFlow
        in:
          flowName:
            const: bwGetBucketKeysList
          schema:
            external: schema
            schema: string
            mandatory: false
            createdBy: flowName
          IID:
            link: IID/value
            schema: string
            mandatory: false
            createdBy: flowName
          customizedKeyComparison:
            link: CustomizedKey/value
            schema: string
            mandatory: false
            createdBy: flowName
          bucketMethod:
            link: BucketRowsFlow/value
            schema: string
            mandatory: false
            createdBy: flowName
          sourceInterface:
            link: SRC DB Interface/value
            schema: string
            mandatory: false
            createdBy: flowName
          sourceSchema:
            link: SRC DB Schema/value
            schema: string
            mandatory: false
            createdBy: flowName
          sourceTable:
            link: SRC DB Table/value
            schema: string
            mandatory: false
            createdBy: flowName
          targetInterface:
            link: TAR DB Interface/value
            schema: string
            mandatory: false
            createdBy: flowName
          targetSchema:
            link: TAR DB Schema/value
            schema: string
            mandatory: false
            createdBy: flowName
          targetTable:
            link: TAR DB Table/value
            schema: string
            mandatory: false
            createdBy: flowName
          bucketsNum:
            external: bucketsNum
            schema: string
            mandatory: false
            createdBy: flowName
          excludeCondition:
            link: ExcludeCondition/value
            schema: string
            mandatory: false
            createdBy: flowName
          columnMapping:
            external: ColumnMapping
            schema: string
            mandatory: false
            createdBy: flowName
          interfaceType:
            external: interfaceType
            schema: string
            mandatory: false
            createdBy: flowName
        out:
          keys_list:
            schema: '#ref'
  Num of records to compare:
    transactional: false
    actors:
      '# Records':
        parent: JavaScript
        in:
          script:
            const: arr.length
          arr:
            link: GetBucketKeysList/keys_list
            schema: '#ref'
            mandatory: false
        out:
          result:
            schema: integer
  'Update # records for report':
    transactional: false
    actors:
      UpdateRecordsNum:
        parent: DbCommand
        in:
          interface:
            const: null
            link: RESULT_INTERFACE/variableValue
          sql:
            const: update ${@schema}.task_execution_buckets set total_records = ${total_records}
              where task_id=${task_id} and execution_id=${execution_id} and table_name=${table_name}
              and bucket_id=${bucket_id}
          schema:
            link: LOAD_SCHEMA/variableValue
            schema: string
            mandatory: false
            createdBy: sql
          task_id:
            external: task_id
            schema: string
            mandatory: false
            createdBy: sql
          execution_id:
            external: execution_id
            schema: string
            mandatory: false
            createdBy: sql
          table_name:
            link: SRC DB Table/value
            schema: string
            mandatory: false
            createdBy: sql
          bucket_id:
            link: IID/value
            schema: string
            mandatory: false
            createdBy: sql
          total_records:
            link: '# Records/result'
            schema: integer
            mandatory: false
            createdBy: sql
  Prepare groups of keys:
    transactional: false
    actors:
      ArrayGrouper:
        parent: ArrayGrouper
        in:
          size:
            const: null
            link: FETCH_SIZE/variableValue
          input:
            link: GetBucketKeysList/keys_list
        out:
          result:
            schema: '#ref'
  For each group of keys:
    transactional: true
    actors:
      Const1:
        parent: Const
        in:
          value:
            const: null
            link:
              path: ArrayGrouper/result
              iterate: Iterate
        out:
          value:
            schema: '#ref'
  Keys formatted in arrays and maps:
    transactional: true
    actors:
      GetKeysMapsList:
        parent: InnerFlow
        in:
          flowName:
            const: bwGetKeysMapsList
          delim:
            link: SEPERATOR/variableValue
            schema: string
            mandatory: false
            createdBy: flowName
          keyValues:
            link: Const1/value
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          customizedKey:
            link: CustomizedKey/value
            schema: string
            mandatory: false
            createdBy: flowName
          columnMapping:
            external: ColumnMapping
            schema: string
            mandatory: false
            createdBy: flowName
        out:
          SrcKeysMapsList:
            schema: '#ref'
          SrcKeysCombinations:
            schema: '#ref'
          TarKeysMapsList:
            schema: '#ref'
          TarKeysCombinations:
            schema: '#ref'
  Execute Query - Source:
    transactional: true
    actors:
      SourceDbQuery:
        parent: SourceDbQuery
        in:
          interface:
            const: null
            link: SRC DB Interface/value
          sql:
            const: null
            link: SourceEnvQuery/sql
          size:
            const: null
            link: FETCH_SIZE/variableValue
          parent_rows:
            link: GetKeysMapsList/SrcKeysMapsList
        out:
          result:
            schema: '#ref'
      ApplySrcTransformation:
        parent: InnerFlow
        in:
          flowName:
            const: bwApplyTransformationBW
          records:
            link: SourceDbQuery/result
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          env:
            const: SRC
            schema: string
            mandatory: false
            createdBy: flowName
          transformationFunction:
            external: source_transformation_function
            schema: any
            mandatory: false
            createdBy: flowName
          delim:
            link: SEPERATOR/variableValue
            schema: string
            mandatory: false
            createdBy: flowName
        out:
          transformedRecords:
            schema: '#ref'
  Execute Query - Target:
    transactional: true
    actors:
      TargetDbQuery:
        parent: SourceDbQuery
        in:
          interface:
            const: null
            link: TAR DB Interface/value
          sql:
            const: null
            link: TargetEnvQuery/sql
          size:
            const: null
            link: FETCH_SIZE/variableValue
          parent_rows:
            link: GetKeysMapsList/TarKeysMapsList
        out:
          result:
            schema: '#ref'
      ApplyTarTransformation:
        parent: InnerFlow
        in:
          flowName:
            const: bwApplyTransformationBW
          records:
            link: TargetDbQuery/result
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          env:
            const: TAR
            schema: string
            mandatory: false
            createdBy: flowName
          transformationFunction:
            external: target_transformation_function
            schema: any
            mandatory: false
            createdBy: flowName
          delim:
            link: SEPERATOR/variableValue
            schema: string
            mandatory: false
            createdBy: flowName
        out:
          transformedRecords:
            schema: '#ref'
  Stage 2:
    transactional: true
    actors:
      FilterSrcRow:
        parent: LuFunction
        in:
          functionName:
            const: fnMergeValuesNdKeysArray
          targetList:
            link: GetKeysMapsList/SrcKeysMapsList
            schema: '#ref'
            mandatory: false
            createdBy: functionName
          sourceList:
            link: ApplySrcTransformation/transformedRecords
            schema: '#ref'
            mandatory: false
            createdBy: functionName
          joinKeys:
            link: CustomKeysArr/strings
            schema: '#ref'
            mandatory: false
            createdBy: functionName
          env_prefix:
            const: SRC
            schema: string
            mandatory: false
            createdBy: functionName
        out:
          result:
            schema: '#ref'
      FilterTarRow:
        parent: LuFunction
        in:
          functionName:
            const: fnMergeValuesNdKeysArray
          targetList:
            link: GetKeysMapsList/TarKeysMapsList
            schema: '#ref'
            mandatory: false
            createdBy: functionName
          sourceList:
            link: ApplyTarTransformation/transformedRecords
            schema: '#ref'
            mandatory: false
            createdBy: functionName
          joinKeys:
            link: CustomKeysArr/strings
            schema: '#ref'
            mandatory: false
            createdBy: functionName
          env_prefix:
            const: TAR
            schema: string
            mandatory: false
            createdBy: functionName
        out:
          result:
            schema: '#ref'
  Keys arrays and maps:
    transactional: true
    actors:
      Const4:
        parent: Const
        in:
          value:
            const: null
            link: GetKeysMapsList/SrcKeysMapsList
        out:
          value:
            schema: '#ref'
      SrcKeysValsCombos:
        parent: Const
        in:
          value:
            const: null
            link: GetKeysMapsList/SrcKeysCombinations
        out:
          value:
            schema: '#ref'
      TarKeysValsCombos:
        parent: Const
        in:
          value:
            const: null
            link: GetKeysMapsList/TarKeysCombinations
        out:
          value:
            schema: '#ref'
      ResetActors1:
        parent: ResetActors
        in:
          actorId:
            const:
            - SourceDbQuery
      ResetActors2:
        parent: ResetActors
        in:
          actorId:
            const:
            - TargetDbQuery
  Primary key formats:
    transactional: true
    actors:
      PrimaryKeyMap:
        parent: Const
        in:
          value:
            const: null
            link:
              path: Const4/value
              iterate: Iterate
        out:
          value:
            schema: '#ref'
      PrimaryKeySrcValue:
        parent: Const
        in:
          value:
            const: null
            link:
              path: SrcKeysValsCombos/value
              iterate: Iterate
        out:
          value:
            schema: '#ref'
      PrimaryKeyTarValue:
        parent: Const
        in:
          value:
            const: null
            link:
              path: TarKeysValsCombos/value
              iterate: Iterate
        out:
          value:
            schema: '#ref'
  Record for key:
    transactional: true
    actors:
      ToString1:
        parent: ToString
        in:
          value:
            link: PrimaryKeyMap/value
  Deep copy record:
    transactional: true
    actors:
      JavaScript1:
        parent: JavaScript
        in:
          script:
            const: map.get(key)
          map:
            link: FilterSrcRow/result
            schema: '#ref'
            mandatory: false
          key:
            link: ToString1/string
            schema: string
            mandatory: false
        out:
          result:
            schema: '#ref'
      JavaScript2:
        parent: JavaScript
        in:
          script:
            const: map.get(key)
          map:
            link: FilterTarRow/result
            schema: '#ref'
            mandatory: false
          key:
            link: ToString1/string
            schema: string
            mandatory: false
        out:
          result:
            schema: '#ref'
  Verify record exists:
    transactional: true
    actors:
      VerifyKeysExists:
        parent: InnerFlow
        in:
          flowName:
            const: bwVerifyKeysExists
          execution_id:
            external: execution_id
            schema: string
            mandatory: false
            createdBy: flowName
          schema:
            external: schema
            schema: string
            editor:
              id: com.k2view.dbtable
            mandatory: false
            createdBy: flowName
          table:
            external: table
            schema: string
            editor:
              id: com.k2view.dbtable
            mandatory: false
            createdBy: flowName
          src_row:
            link: JavaScript1/result
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          tar_row:
            link: JavaScript2/result
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          customized_key:
            link: ToString1/string
            schema: string
            mandatory: false
            createdBy: flowName
          target_column_value:
            link:
              path: PrimaryKeyTarValue/value
              iterate: First
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          source_column_value:
            link:
              path: PrimaryKeySrcValue/value
              iterate: First
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          operational_interface:
            link: RESULT_INTERFACE/variableValue
            schema: string
            editor:
              id: com.k2view.interface
              interfaceType:
              - database
              - CassandraLoader
              interfaces:
              - fabric
            mandatory: false
            createdBy: flowName
          operational_schema:
            link: LOAD_SCHEMA/variableValue
            schema: string
            editor:
              id: com.k2view.dbtable
            mandatory: false
            createdBy: flowName
          source_table_name:
            link: SRC DB Table/value
            schema: string
            mandatory: false
            createdBy: flowName
          target_table_name:
            link: TAR DB Table/value
            schema: string
            mandatory: false
            createdBy: flowName
          key_columns:
            link: CustomizedKey/value
            schema: string
            mandatory: false
            createdBy: flowName
          field_summary_table_name:
            link: GetSummaryTables/field_summary
            schema: string
            editor:
              id: com.k2view.dbtable
            mandatory: false
            createdBy: flowName
        out:
          keyNotFound:
            schema: boolean
  Record exists->verify data:
    transactional: true
    actors:
      RecordExists:
        parent: Equals
        condition: result
        in:
          b:
            const: false
            schema: boolean
          a:
            link: VerifyKeysExists/keyNotFound
      VerifyRecordData:
        parent: InnerFlow
        in:
          flowName:
            const: bwVerifyRecordData
          source_columns_to_Ignore_null:
            external: source_columns_to_Ignore_null
            schema: any
            mandatory: false
            createdBy: flowName
          target_columns_to_Ignore_null:
            external: target_columns_to_Ignore_null
            schema: any
            mandatory: false
            createdBy: flowName
          task_id:
            external: task_id
            schema: string
            mandatory: false
            createdBy: flowName
          execution_id:
            external: execution_id
            schema: string
            mandatory: false
            createdBy: flowName
          schema:
            external: schema
            schema: string
            editor:
              id: com.k2view.dbtable
            mandatory: false
            createdBy: flowName
          table:
            external: table
            schema: string
            editor:
              id: com.k2view.dbtable
            mandatory: false
            createdBy: flowName
          operational_interface:
            link: RESULT_INTERFACE/variableValue
            schema: string
            editor:
              id: com.k2view.interface
              interfaceType:
              - database
              - CassandraLoader
              interfaces:
              - fabric
            mandatory: false
            createdBy: flowName
          source_table_name:
            link: SRC DB Table/value
            schema: string
            mandatory: false
            createdBy: flowName
          bucket_id:
            link: IID/value
            schema: string
            mandatory: false
            createdBy: flowName
          target_table_name:
            link: TAR DB Table/value
            schema: string
            mandatory: false
            createdBy: flowName
          operational_schema:
            link: LOAD_SCHEMA/variableValue
            schema: string
            editor:
              id: com.k2view.dbtable
            mandatory: false
            createdBy: flowName
          customized_key:
            link: CustomizedKey/value
            schema: string
            mandatory: false
            createdBy: flowName
          log_pass:
            link: K2VERIFY_LOG_PASS/result
            schema: string
            mandatory: false
            createdBy: flowName
          field_summary_table_name:
            link: GetSummaryTables/field_summary
            schema: string
            editor:
              id: com.k2view.dbtable
            mandatory: false
            createdBy: flowName
          src_row:
            link: JavaScript1/result
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          tar_row:
            link: JavaScript2/result
            schema: '#ref'
            mandatory: false
            createdBy: flowName
          columns:
            link: PIIColumns/value
            schema: string
            mandatory: false
            createdBy: flowName
          customized_key_values:
            link: ToString1/string
            schema: string
            mandatory: false
            createdBy: flowName
  '# processed records':
    transactional: true
    actors:
      '# ProcessedRecords':
        parent: Count
        out:
          value:
            schema: integer
      MathDivMod:
        parent: MathDivMod
        in:
          b:
            const: 50
            schema: integer
          a:
            link: '# ProcessedRecords/value'
  Write each 1000:
    transactional: true
    dependsOn: '# processed records'
    actors:
      1000 processed:
        parent: Equals
        condition: result
        in:
          b:
            const: 1000
            schema: integer
          a:
            link: MathDivMod/mod
      'Update #Processed':
        parent: DbCommand
        in:
          interface:
            const: null
            link: RESULT_INTERFACE/variableValue
          sql:
            const: update ${@schema}.task_execution_buckets set processed_records
              = ${processed_records} where task_id=${task_id} and execution_id=${execution_id}
              and table_name=${table_name} and bucket_id=${bucket_id}
          schema:
            link: LOAD_SCHEMA/variableValue
            schema: string
            mandatory: false
            createdBy: sql
          task_id:
            external: task_id
            schema: string
            mandatory: false
            createdBy: sql
          execution_id:
            external: execution_id
            schema: string
            mandatory: false
            createdBy: sql
          table_name:
            link: SRC DB Table/value
            schema: string
            mandatory: false
            createdBy: sql
          bucket_id:
            link: IID/value
            schema: string
            mandatory: false
            createdBy: sql
          processed_records:
            link: '# ProcessedRecords/value'
            schema: integer
            mandatory: false
            createdBy: sql
    split: '--------------------'
  Stage 39:
    else: true
    transactional: true
    dependsOn: '# processed records'
  Merge:
    last: 1
    transactional: true
  Close loop:
    last: 1
    transactional: false
  Bucket verify end_time:
    transactional: false
    actors:
      Now1:
        parent: Now
      END_TIME:
        parent: ToString
        in:
          value:
            link: Now1/date
  Bucket Verify Completed:
    transactional: false
    actors:
      UpdateBucketVerifyCompleted:
        parent: DbCommand
        in:
          interface:
            const: null
            link: RESULT_INTERFACE/variableValue
          sql:
            const: update ${@schema}.task_execution_buckets set processed_records
              = ${processed_records}, end_time=${end_time}, status='Completed' where
              task_id=${task_id} and execution_id=${execution_id} and table_name=${table_name}
              and bucket_id=${bucket_id}
          schema:
            link: LOAD_SCHEMA/variableValue
            schema: string
            mandatory: false
            createdBy: sql
          task_id:
            external: task_id
            schema: string
            mandatory: false
            createdBy: sql
          execution_id:
            external: execution_id
            schema: string
            mandatory: false
            createdBy: sql
          table_name:
            link: SRC DB Table/value
            schema: string
            mandatory: false
            createdBy: sql
          bucket_id:
            link: IID/value
            schema: string
            mandatory: false
            createdBy: sql
          processed_records:
            link: '# Records/result'
            schema: integer
            mandatory: false
            createdBy: sql
          end_time:
            link: END_TIME/string
            schema: string
            mandatory: false
            createdBy: sql
schemas:
  SourceEnvQuery.out.columns:
    type: array
    items:
      type: string
  TargetEnvQuery.out.columns:
    type: array
    items:
      type: string
  GetBucketKeysList.out.keys_list:
    type: array
    items:
      type: object
      properties:
        ACTIVITY_ID:
          type: integer
        CUSTOMER_ID:
          type: integer
  '# Records.in.arr':
    type: array
    items:
      type: string
  ArrayGrouper.out.result:
    type: array
    items:
      type: array
      items:
        type: object
        properties:
          org_key:
            type: string
  Const1.out.value:
    type: array
    items:
      type: object
      properties:
        org_key:
          type: string
  GetKeysMapsList.in.keyValues:
    type: array
    items:
      type: string
  GetKeysMapsList.out.SrcKeysMapsList:
    type: array
    items:
      type: object
      properties:
        CUSTOMER_ID:
          type: string
        SSN:
          type: string
  GetKeysMapsList.out.SrcKeysCombinations:
    type: array
    items:
      type: string
  GetKeysMapsList.out.TarKeysMapsList:
    type: array
    items:
      type: object
      properties:
        CUST_ID:
          type: string
  GetKeysMapsList.out.TarKeysCombinations:
    type: array
    items:
      type: string
  SourceDbQuery.out.result:
    type: array
    items:
      type: object
      properties:
        CUSTOMER_ID:
          type: string
        SSN:
          type: string
        FIRST_NAME:
          type: string
        LAST_NAME:
          type: string
  ApplySrcTransformation.in.records:
    type: array
    items:
      type: object
      properties:
        SRC_FIRST_NAME:
          type: string
        SRC_CUSTOMER_ID:
          type: string
        SRC_SSN:
          type: string
  ApplySrcTransformation.out.transformedRecords:
    type: array
    items:
      type: object
      properties:
        SRC_CUSTOMER_ID:
          type: string
        SRC_SSN:
          type: string
        SRC_FIRST_NAME:
          type: string
        SRC_LAST_NAME:
          type: string
  TargetDbQuery.out.result:
    type: array
    items:
      type: object
      properties:
        CUSTOMER_ID:
          type: string
        SSN:
          type: string
        FIRST_NAME:
          type: string
        LAST_NAME:
          type: string
  ApplyTarTransformation.in.records:
    type: array
    items:
      type: object
      properties:
        SRC_FIRST_NAME:
          type: string
        SRC_CUSTOMER_ID:
          type: string
        SRC_SSN:
          type: string
  ApplyTarTransformation.out.transformedRecords:
    type: array
    items:
      type: object
      properties:
        SRC_FIRST_NAME:
          type: string
        SRC_CUSTOMER_ID:
          type: string
        SRC_SSN:
          type: string
  FilterSrcRow.in.targetList:
    type: array
    items:
      type: object
      properties:
        CUSTOMER_ID:
          type: string
        SSN:
          type: string
  FilterSrcRow.in.sourceList:
    type: array
    items:
      type: object
      properties:
        SRC_CUSTOMER_ID:
          type: string
        SRC_SSN:
          type: string
        SRC_FIRST_NAME:
          type: string
        SRC_LAST_NAME:
          type: string
  FilterSrcRow.in.joinKeys:
    type: array
    items:
      type: string
  FilterSrcRow.out.result:
    type: object
    properties:
      '["CUSTOMER_ID":"2","SSN":"111"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"3","SSN":"948374937"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"4","SSN":"4591444199"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"5","SSN":"1301890237"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"6","SSN":"8018278983"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"7","SSN":"9197473043"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"8","SSN":"504595173"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"9","SSN":"2388942964"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"10","SSN":"6212711780"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"1","SSN":"8125440566"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
  FilterTarRow.in.targetList:
    type: array
    items:
      type: object
      properties:
        CUSTOMER_ID:
          type: string
        SSN:
          type: string
  FilterTarRow.in.sourceList:
    type: array
    items:
      type: object
      properties:
        SRC_CUSTOMER_ID:
          type: string
        SRC_SSN:
          type: string
        SRC_FIRST_NAME:
          type: string
        SRC_LAST_NAME:
          type: string
  FilterTarRow.in.joinKeys:
    type: array
    items:
      type: string
  FilterTarRow.out.result:
    type: object
    properties:
      '["CUSTOMER_ID":"2","SSN":"111"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"3","SSN":"948374937"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"4","SSN":"4591444199"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"5","SSN":"1301890237"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"6","SSN":"8018278983"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"7","SSN":"9197473043"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"8","SSN":"504595173"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"9","SSN":"2388942964"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"10","SSN":"6212711780"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '["CUSTOMER_ID":"1","SSN":"8125440566"]':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
  Const4.out.value:
    type: array
    items:
      type: object
      properties:
        CUSTOMER_ID:
          type: string
        SSN:
          type: string
  SrcKeysValsCombos.out.value:
    type: array
    items:
      type: string
  TarKeysValsCombos.out.value:
    type: array
    items:
      type: string
  PrimaryKeyMap.out.value:
    type: object
    properties:
      CUSTOMER_ID:
        type: string
      SSN:
        type: string
  PrimaryKeySrcValue.out.value:
    type: object
    properties:
      CUSTOMER_ID:
        type: string
      SSN:
        type: string
  PrimaryKeyTarValue.out.value:
    type: object
    properties:
      CUSTOMER_ID:
        type: string
      SSN:
        type: string
  JavaScript1.in.map:
    type: object
    properties:
      '{"CUSTOMER_ID":"2","SSN":"111"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"3","SSN":"948374937"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"4","SSN":"4591444199"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"5","SSN":"1301890237"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"6","SSN":"8018278983"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"7","SSN":"9197473043"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"8","SSN":"504595173"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"9","SSN":"2388942964"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"10","SSN":"6212711780"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"1","SSN":"8125440566"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
  JavaScript1.out.result:
    type: object
    properties:
      SRC_CUSTOMER_ID:
        type: string
      SRC_SSN:
        type: string
      SRC_FIRST_NAME:
        type: string
      SRC_LAST_NAME:
        type: string
  JavaScript2.in.map:
    type: object
    properties:
      '{"CUSTOMER_ID":"2","SSN":"111"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"3","SSN":"948374937"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"4","SSN":"4591444199"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"5","SSN":"1301890237"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"6","SSN":"8018278983"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"7","SSN":"9197473043"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"8","SSN":"504595173"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"9","SSN":"2388942964"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"10","SSN":"6212711780"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
      '{"CUSTOMER_ID":"1","SSN":"8125440566"}':
        type: object
        properties:
          SRC_CUSTOMER_ID:
            type: string
          SRC_SSN:
            type: string
          SRC_FIRST_NAME:
            type: string
          SRC_LAST_NAME:
            type: string
  JavaScript2.out.result:
    type: object
    properties:
      SRC_CUSTOMER_ID:
        type: string
      SRC_SSN:
        type: string
      SRC_FIRST_NAME:
        type: string
      SRC_LAST_NAME:
        type: string
  VerifyKeysExists.in.src_row:
    type: array
    items:
      type: object
      properties:
        SRC_FIRST_NAME:
          type: string
        SRC_LAST_NAME:
          type: string
        SRC_CUSTOMER_ID:
          type: string
        SRC_SSN:
          type: string
  VerifyKeysExists.in.tar_row:
    type: array
    items:
      type: object
      properties:
        TAR_FIRST_NAME:
          type: string
        TAR_LAST_NAME:
          type: string
        TAR_CUSTOMER_ID:
          type: string
        TAR_SSN:
          type: string
  VerifyKeysExists.in.target_column_value:
    type: array
    items: {
      }
  VerifyKeysExists.in.source_column_value:
    type: array
    items: {
      }
  VerifyRecordData.in.src_row:
    type: object
    properties:
      SRC_FIRST_NAME:
        type: string
      SRC_LAST_NAME:
        type: string
      SRC_CUSTOMER_ID:
        type: string
      SRC_SSN:
        type: string
  VerifyRecordData.in.tar_row:
    type: object
    properties:
      TAR_FIRST_NAME:
        type: string
      TAR_LAST_NAME:
        type: string
      TAR_CUSTOMER_ID:
        type: string
      TAR_SSN:
        type: string
